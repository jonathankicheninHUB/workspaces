var pn=Object.defineProperty;var mn=(o,e,a)=>e in o?pn(o,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):o[e]=a;var Br=(o,e,a)=>mn(o,typeof e!="symbol"?e+"":e,a);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const b of document.querySelectorAll('link[rel="modulepreload"]'))_(b);new MutationObserver(b=>{for(const _e of b)if(_e.type==="childList")for(const et of _e.addedNodes)et.tagName==="LINK"&&et.rel==="modulepreload"&&_(et)}).observe(document,{childList:!0,subtree:!0});function a(b){const _e={};return b.integrity&&(_e.integrity=b.integrity),b.referrerPolicy&&(_e.referrerPolicy=b.referrerPolicy),b.crossOrigin==="use-credentials"?_e.credentials="include":b.crossOrigin==="anonymous"?_e.credentials="omit":_e.credentials="same-origin",_e}function _(b){if(b.ep)return;b.ep=!0;const _e=a(b);fetch(b.href,_e)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs$1(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}function getAugmentedNamespace(o){if(o.__esModule)return o;var e=o.default;if(typeof e=="function"){var a=function _(){return this instanceof _?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};a.prototype=e.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(o).forEach(function(_){var b=Object.getOwnPropertyDescriptor(o,_);Object.defineProperty(a,_,b.get?b:{enumerable:!0,get:function(){return o[_]}})}),a}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$2=Symbol.for("react.element"),n$3=Symbol.for("react.portal"),p$4=Symbol.for("react.fragment"),q$2=Symbol.for("react.strict_mode"),r$1=Symbol.for("react.profiler"),t$1=Symbol.for("react.provider"),u$3=Symbol.for("react.context"),v$2=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),x$2=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),z$3=Symbol.iterator;function A$3(o){return o===null||typeof o!="object"?null:(o=z$3&&o[z$3]||o["@@iterator"],typeof o=="function"?o:null)}var B$3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$3=Object.assign,D$4={};function E$3(o,e,a){this.props=o,this.context=e,this.refs=D$4,this.updater=a||B$3}E$3.prototype.isReactComponent={};E$3.prototype.setState=function(o,e){if(typeof o!="object"&&typeof o!="function"&&o!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,o,e,"setState")};E$3.prototype.forceUpdate=function(o){this.updater.enqueueForceUpdate(this,o,"forceUpdate")};function F$2(){}F$2.prototype=E$3.prototype;function G$3(o,e,a){this.props=o,this.context=e,this.refs=D$4,this.updater=a||B$3}var H$3=G$3.prototype=new F$2;H$3.constructor=G$3;C$3(H$3,E$3.prototype);H$3.isPureReactComponent=!0;var I$1=Array.isArray,J$1=Object.prototype.hasOwnProperty,K$3={current:null},L$2={key:!0,ref:!0,__self:!0,__source:!0};function M$2(o,e,a){var _,b={},_e=null,et=null;if(e!=null)for(_ in e.ref!==void 0&&(et=e.ref),e.key!==void 0&&(_e=""+e.key),e)J$1.call(e,_)&&!L$2.hasOwnProperty(_)&&(b[_]=e[_]);var tt=arguments.length-2;if(tt===1)b.children=a;else if(1<tt){for(var nt=Array(tt),it=0;it<tt;it++)nt[it]=arguments[it+2];b.children=nt}if(o&&o.defaultProps)for(_ in tt=o.defaultProps,tt)b[_]===void 0&&(b[_]=tt[_]);return{$$typeof:l$2,type:o,key:_e,ref:et,props:b,_owner:K$3.current}}function N$3(o,e){return{$$typeof:l$2,type:o.type,key:e,ref:o.ref,props:o.props,_owner:o._owner}}function O$3(o){return typeof o=="object"&&o!==null&&o.$$typeof===l$2}function escape$1(o){var e={"=":"=0",":":"=2"};return"$"+o.replace(/[=:]/g,function(a){return e[a]})}var P$2=/\/+/g;function Q$2(o,e){return typeof o=="object"&&o!==null&&o.key!=null?escape$1(""+o.key):e.toString(36)}function R$2(o,e,a,_,b){var _e=typeof o;(_e==="undefined"||_e==="boolean")&&(o=null);var et=!1;if(o===null)et=!0;else switch(_e){case"string":case"number":et=!0;break;case"object":switch(o.$$typeof){case l$2:case n$3:et=!0}}if(et)return et=o,b=b(et),o=_===""?"."+Q$2(et,0):_,I$1(b)?(a="",o!=null&&(a=o.replace(P$2,"$&/")+"/"),R$2(b,e,a,"",function(it){return it})):b!=null&&(O$3(b)&&(b=N$3(b,a+(!b.key||et&&et.key===b.key?"":(""+b.key).replace(P$2,"$&/")+"/")+o)),e.push(b)),1;if(et=0,_=_===""?".":_+":",I$1(o))for(var tt=0;tt<o.length;tt++){_e=o[tt];var nt=_+Q$2(_e,tt);et+=R$2(_e,e,a,nt,b)}else if(nt=A$3(o),typeof nt=="function")for(o=nt.call(o),tt=0;!(_e=o.next()).done;)_e=_e.value,nt=_+Q$2(_e,tt++),et+=R$2(_e,e,a,nt,b);else if(_e==="object")throw e=String(o),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return et}function S$3(o,e,a){if(o==null)return o;var _=[],b=0;return R$2(o,_,"","",function(_e){return e.call(a,_e,b++)}),_}function T$3(o){if(o._status===-1){var e=o._result;e=e(),e.then(function(a){(o._status===0||o._status===-1)&&(o._status=1,o._result=a)},function(a){(o._status===0||o._status===-1)&&(o._status=2,o._result=a)}),o._status===-1&&(o._status=0,o._result=e)}if(o._status===1)return o._result.default;throw o._result}var U$2={current:null},V$3={transition:null},W$3={ReactCurrentDispatcher:U$2,ReactCurrentBatchConfig:V$3,ReactCurrentOwner:K$3};function X$2(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$3,forEach:function(o,e,a){S$3(o,function(){e.apply(this,arguments)},a)},count:function(o){var e=0;return S$3(o,function(){e++}),e},toArray:function(o){return S$3(o,function(e){return e})||[]},only:function(o){if(!O$3(o))throw Error("React.Children.only expected to receive a single React element child.");return o}};react_production_min.Component=E$3;react_production_min.Fragment=p$4;react_production_min.Profiler=r$1;react_production_min.PureComponent=G$3;react_production_min.StrictMode=q$2;react_production_min.Suspense=w;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$3;react_production_min.act=X$2;react_production_min.cloneElement=function(o,e,a){if(o==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+o+".");var _=C$3({},o.props),b=o.key,_e=o.ref,et=o._owner;if(e!=null){if(e.ref!==void 0&&(_e=e.ref,et=K$3.current),e.key!==void 0&&(b=""+e.key),o.type&&o.type.defaultProps)var tt=o.type.defaultProps;for(nt in e)J$1.call(e,nt)&&!L$2.hasOwnProperty(nt)&&(_[nt]=e[nt]===void 0&&tt!==void 0?tt[nt]:e[nt])}var nt=arguments.length-2;if(nt===1)_.children=a;else if(1<nt){tt=Array(nt);for(var it=0;it<nt;it++)tt[it]=arguments[it+2];_.children=tt}return{$$typeof:l$2,type:o.type,key:b,ref:_e,props:_,_owner:et}};react_production_min.createContext=function(o){return o={$$typeof:u$3,_currentValue:o,_currentValue2:o,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},o.Provider={$$typeof:t$1,_context:o},o.Consumer=o};react_production_min.createElement=M$2;react_production_min.createFactory=function(o){var e=M$2.bind(null,o);return e.type=o,e};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(o){return{$$typeof:v$2,render:o}};react_production_min.isValidElement=O$3;react_production_min.lazy=function(o){return{$$typeof:y,_payload:{_status:-1,_result:o},_init:T$3}};react_production_min.memo=function(o,e){return{$$typeof:x$2,type:o,compare:e===void 0?null:e}};react_production_min.startTransition=function(o){var e=V$3.transition;V$3.transition={};try{o()}finally{V$3.transition=e}};react_production_min.unstable_act=X$2;react_production_min.useCallback=function(o,e){return U$2.current.useCallback(o,e)};react_production_min.useContext=function(o){return U$2.current.useContext(o)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(o){return U$2.current.useDeferredValue(o)};react_production_min.useEffect=function(o,e){return U$2.current.useEffect(o,e)};react_production_min.useId=function(){return U$2.current.useId()};react_production_min.useImperativeHandle=function(o,e,a){return U$2.current.useImperativeHandle(o,e,a)};react_production_min.useInsertionEffect=function(o,e){return U$2.current.useInsertionEffect(o,e)};react_production_min.useLayoutEffect=function(o,e){return U$2.current.useLayoutEffect(o,e)};react_production_min.useMemo=function(o,e){return U$2.current.useMemo(o,e)};react_production_min.useReducer=function(o,e,a){return U$2.current.useReducer(o,e,a)};react_production_min.useRef=function(o){return U$2.current.useRef(o)};react_production_min.useState=function(o){return U$2.current.useState(o)};react_production_min.useSyncExternalStore=function(o,e,a){return U$2.current.useSyncExternalStore(o,e,a)};react_production_min.useTransition=function(){return U$2.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React=getDefaultExportFromCjs$1(reactExports);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$2=reactExports,k=Symbol.for("react.element"),l$1=Symbol.for("react.fragment"),m$2=Object.prototype.hasOwnProperty,n$2=f$2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$3={key:!0,ref:!0,__self:!0,__source:!0};function q$1(o,e,a){var _,b={},_e=null,et=null;a!==void 0&&(_e=""+a),e.key!==void 0&&(_e=""+e.key),e.ref!==void 0&&(et=e.ref);for(_ in e)m$2.call(e,_)&&!p$3.hasOwnProperty(_)&&(b[_]=e[_]);if(o&&o.defaultProps)for(_ in e=o.defaultProps,e)b[_]===void 0&&(b[_]=e[_]);return{$$typeof:k,type:o,key:_e,ref:et,props:b,_owner:n$2.current}}reactJsxRuntime_production_min.Fragment=l$1;reactJsxRuntime_production_min.jsx=q$1;reactJsxRuntime_production_min.jsxs=q$1;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(o){function e(bt,xt){var yt=bt.length;bt.push(xt);e:for(;0<yt;){var St=yt-1>>>1,pt=bt[St];if(0<b(pt,xt))bt[St]=xt,bt[yt]=pt,yt=St;else break e}}function a(bt){return bt.length===0?null:bt[0]}function _(bt){if(bt.length===0)return null;var xt=bt[0],yt=bt.pop();if(yt!==xt){bt[0]=yt;e:for(var St=0,pt=bt.length,Tt=pt>>>1;St<Tt;){var Ht=2*(St+1)-1,Wt=bt[Ht],Ut=Ht+1,Rt=bt[Ut];if(0>b(Wt,yt))Ut<pt&&0>b(Rt,Wt)?(bt[St]=Rt,bt[Ut]=yt,St=Ut):(bt[St]=Wt,bt[Ht]=yt,St=Ht);else if(Ut<pt&&0>b(Rt,yt))bt[St]=Rt,bt[Ut]=yt,St=Ut;else break e}}return xt}function b(bt,xt){var yt=bt.sortIndex-xt.sortIndex;return yt!==0?yt:bt.id-xt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var _e=performance;o.unstable_now=function(){return _e.now()}}else{var et=Date,tt=et.now();o.unstable_now=function(){return et.now()-tt}}var nt=[],it=[],ot=1,st=null,at=3,lt=!1,ut=!1,ft=!1,mt=typeof setTimeout=="function"?setTimeout:null,ht=typeof clearTimeout=="function"?clearTimeout:null,vt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Et(bt){for(var xt=a(it);xt!==null;){if(xt.callback===null)_(it);else if(xt.startTime<=bt)_(it),xt.sortIndex=xt.expirationTime,e(nt,xt);else break;xt=a(it)}}function At(bt){if(ft=!1,Et(bt),!ut)if(a(nt)!==null)ut=!0,wt(Ct);else{var xt=a(it);xt!==null&&gt(At,xt.startTime-bt)}}function Ct(bt,xt){ut=!1,ft&&(ft=!1,ht(Lt),Lt=-1),lt=!0;var yt=at;try{for(Et(xt),st=a(nt);st!==null&&(!(st.expirationTime>xt)||bt&&!Nt());){var St=st.callback;if(typeof St=="function"){st.callback=null,at=st.priorityLevel;var pt=St(st.expirationTime<=xt);xt=o.unstable_now(),typeof pt=="function"?st.callback=pt:st===a(nt)&&_(nt),Et(xt)}else _(nt);st=a(nt)}if(st!==null)var Tt=!0;else{var Ht=a(it);Ht!==null&&gt(At,Ht.startTime-xt),Tt=!1}return Tt}finally{st=null,at=yt,lt=!1}}var Mt=!1,Bt=null,Lt=-1,jt=5,Vt=-1;function Nt(){return!(o.unstable_now()-Vt<jt)}function kt(){if(Bt!==null){var bt=o.unstable_now();Vt=bt;var xt=!0;try{xt=Bt(!0,bt)}finally{xt?_t():(Mt=!1,Bt=null)}}else Mt=!1}var _t;if(typeof vt=="function")_t=function(){vt(kt)};else if(typeof MessageChannel<"u"){var ct=new MessageChannel,dt=ct.port2;ct.port1.onmessage=kt,_t=function(){dt.postMessage(null)}}else _t=function(){mt(kt,0)};function wt(bt){Bt=bt,Mt||(Mt=!0,_t())}function gt(bt,xt){Lt=mt(function(){bt(o.unstable_now())},xt)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(bt){bt.callback=null},o.unstable_continueExecution=function(){ut||lt||(ut=!0,wt(Ct))},o.unstable_forceFrameRate=function(bt){0>bt||125<bt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):jt=0<bt?Math.floor(1e3/bt):5},o.unstable_getCurrentPriorityLevel=function(){return at},o.unstable_getFirstCallbackNode=function(){return a(nt)},o.unstable_next=function(bt){switch(at){case 1:case 2:case 3:var xt=3;break;default:xt=at}var yt=at;at=xt;try{return bt()}finally{at=yt}},o.unstable_pauseExecution=function(){},o.unstable_requestPaint=function(){},o.unstable_runWithPriority=function(bt,xt){switch(bt){case 1:case 2:case 3:case 4:case 5:break;default:bt=3}var yt=at;at=bt;try{return xt()}finally{at=yt}},o.unstable_scheduleCallback=function(bt,xt,yt){var St=o.unstable_now();switch(typeof yt=="object"&&yt!==null?(yt=yt.delay,yt=typeof yt=="number"&&0<yt?St+yt:St):yt=St,bt){case 1:var pt=-1;break;case 2:pt=250;break;case 5:pt=1073741823;break;case 4:pt=1e4;break;default:pt=5e3}return pt=yt+pt,bt={id:ot++,callback:xt,priorityLevel:bt,startTime:yt,expirationTime:pt,sortIndex:-1},yt>St?(bt.sortIndex=yt,e(it,bt),a(nt)===null&&bt===a(it)&&(ft?(ht(Lt),Lt=-1):ft=!0,gt(At,yt-St))):(bt.sortIndex=pt,e(nt,bt),ut||lt||(ut=!0,wt(Ct))),bt},o.unstable_shouldYield=Nt,o.unstable_wrapCallback=function(bt){var xt=at;return function(){var yt=at;at=xt;try{return bt.apply(this,arguments)}finally{at=yt}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$2(o){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+o,a=1;a<arguments.length;a++)e+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+o+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(o,e){ha(o,e),ha(o+"Capture",e)}function ha(o,e){for(ea[o]=e,o=0;o<e.length;o++)da.add(e[o])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(o){return ja.call(ma,o)?!0:ja.call(la,o)?!1:ka.test(o)?ma[o]=!0:(la[o]=!0,!1)}function pa(o,e,a,_){if(a!==null&&a.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return _?!1:a!==null?!a.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function qa(o,e,a,_){if(e===null||typeof e>"u"||pa(o,e,a,_))return!0;if(_)return!1;if(a!==null)switch(a.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function v$1(o,e,a,_,b,_e,et){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=_,this.attributeNamespace=b,this.mustUseProperty=a,this.propertyName=o,this.type=e,this.sanitizeURL=_e,this.removeEmptyString=et}var z$2={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){z$2[o]=new v$1(o,0,!1,o,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var e=o[0];z$2[e]=new v$1(e,1,!1,o[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(o){z$2[o]=new v$1(o,2,!1,o.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){z$2[o]=new v$1(o,2,!1,o,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){z$2[o]=new v$1(o,3,!1,o.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(o){z$2[o]=new v$1(o,3,!0,o,null,!1,!1)});["capture","download"].forEach(function(o){z$2[o]=new v$1(o,4,!1,o,null,!1,!1)});["cols","rows","size","span"].forEach(function(o){z$2[o]=new v$1(o,6,!1,o,null,!1,!1)});["rowSpan","start"].forEach(function(o){z$2[o]=new v$1(o,5,!1,o.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var e=o.replace(ra,sa);z$2[e]=new v$1(e,1,!1,o,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var e=o.replace(ra,sa);z$2[e]=new v$1(e,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(o){var e=o.replace(ra,sa);z$2[e]=new v$1(e,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(o){z$2[o]=new v$1(o,1,!1,o.toLowerCase(),null,!1,!1)});z$2.xlinkHref=new v$1("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(o){z$2[o]=new v$1(o,1,!1,o.toLowerCase(),null,!0,!0)});function ta(o,e,a,_){var b=z$2.hasOwnProperty(e)?z$2[e]:null;(b!==null?b.type!==0:_||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(qa(e,a,b,_)&&(a=null),_||b===null?oa(e)&&(a===null?o.removeAttribute(e):o.setAttribute(e,""+a)):b.mustUseProperty?o[b.propertyName]=a===null?b.type===3?!1:"":a:(e=b.attributeName,_=b.attributeNamespace,a===null?o.removeAttribute(e):(b=b.type,a=b===3||b===4&&a===!0?"":""+a,_?o.setAttributeNS(_,e,a):o.setAttribute(e,a))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(o){return o===null||typeof o!="object"?null:(o=Ja&&o[Ja]||o["@@iterator"],typeof o=="function"?o:null)}var A$2=Object.assign,La;function Ma(o){if(La===void 0)try{throw Error()}catch(a){var e=a.stack.trim().match(/\n( *(at )?)/);La=e&&e[1]||""}return`
`+La+o}var Na=!1;function Oa(o,e){if(!o||Na)return"";Na=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(it){var _=it}Reflect.construct(o,[],e)}else{try{e.call()}catch(it){_=it}o.call(e.prototype)}else{try{throw Error()}catch(it){_=it}o()}}catch(it){if(it&&_&&typeof it.stack=="string"){for(var b=it.stack.split(`
`),_e=_.stack.split(`
`),et=b.length-1,tt=_e.length-1;1<=et&&0<=tt&&b[et]!==_e[tt];)tt--;for(;1<=et&&0<=tt;et--,tt--)if(b[et]!==_e[tt]){if(et!==1||tt!==1)do if(et--,tt--,0>tt||b[et]!==_e[tt]){var nt=`
`+b[et].replace(" at new "," at ");return o.displayName&&nt.includes("<anonymous>")&&(nt=nt.replace("<anonymous>",o.displayName)),nt}while(1<=et&&0<=tt);break}}}finally{Na=!1,Error.prepareStackTrace=a}return(o=o?o.displayName||o.name:"")?Ma(o):""}function Pa(o){switch(o.tag){case 5:return Ma(o.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return o=Oa(o.type,!1),o;case 11:return o=Oa(o.type.render,!1),o;case 1:return o=Oa(o.type,!0),o;default:return""}}function Qa(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case Ca:return(o.displayName||"Context")+".Consumer";case Ba:return(o._context.displayName||"Context")+".Provider";case Da:var e=o.render;return o=o.displayName,o||(o=e.displayName||e.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case Ga:return e=o.displayName||null,e!==null?e:Qa(o.type)||"Memo";case Ha:e=o._payload,o=o._init;try{return Qa(o(e))}catch{}}return null}function Ra(o){var e=o.type;switch(o.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=e.render,o=o.displayName||o.name||"",e.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(e);case 8:return e===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Sa(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Ta(o){var e=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Ua(o){var e=Ta(o)?"checked":"value",a=Object.getOwnPropertyDescriptor(o.constructor.prototype,e),_=""+o[e];if(!o.hasOwnProperty(e)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var b=a.get,_e=a.set;return Object.defineProperty(o,e,{configurable:!0,get:function(){return b.call(this)},set:function(et){_=""+et,_e.call(this,et)}}),Object.defineProperty(o,e,{enumerable:a.enumerable}),{getValue:function(){return _},setValue:function(et){_=""+et},stopTracking:function(){o._valueTracker=null,delete o[e]}}}}function Va(o){o._valueTracker||(o._valueTracker=Ua(o))}function Wa(o){if(!o)return!1;var e=o._valueTracker;if(!e)return!0;var a=e.getValue(),_="";return o&&(_=Ta(o)?o.checked?"true":"false":o.value),o=_,o!==a?(e.setValue(o),!0):!1}function Xa(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function Ya(o,e){var a=e.checked;return A$2({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??o._wrapperState.initialChecked})}function Za(o,e){var a=e.defaultValue==null?"":e.defaultValue,_=e.checked!=null?e.checked:e.defaultChecked;a=Sa(e.value!=null?e.value:a),o._wrapperState={initialChecked:_,initialValue:a,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ab(o,e){e=e.checked,e!=null&&ta(o,"checked",e,!1)}function bb(o,e){ab(o,e);var a=Sa(e.value),_=e.type;if(a!=null)_==="number"?(a===0&&o.value===""||o.value!=a)&&(o.value=""+a):o.value!==""+a&&(o.value=""+a);else if(_==="submit"||_==="reset"){o.removeAttribute("value");return}e.hasOwnProperty("value")?cb(o,e.type,a):e.hasOwnProperty("defaultValue")&&cb(o,e.type,Sa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(o.defaultChecked=!!e.defaultChecked)}function db(o,e,a){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var _=e.type;if(!(_!=="submit"&&_!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+o._wrapperState.initialValue,a||e===o.value||(o.value=e),o.defaultValue=e}a=o.name,a!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,a!==""&&(o.name=a)}function cb(o,e,a){(e!=="number"||Xa(o.ownerDocument)!==o)&&(a==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+a&&(o.defaultValue=""+a))}var eb=Array.isArray;function fb(o,e,a,_){if(o=o.options,e){e={};for(var b=0;b<a.length;b++)e["$"+a[b]]=!0;for(a=0;a<o.length;a++)b=e.hasOwnProperty("$"+o[a].value),o[a].selected!==b&&(o[a].selected=b),b&&_&&(o[a].defaultSelected=!0)}else{for(a=""+Sa(a),e=null,b=0;b<o.length;b++){if(o[b].value===a){o[b].selected=!0,_&&(o[b].defaultSelected=!0);return}e!==null||o[b].disabled||(e=o[b])}e!==null&&(e.selected=!0)}}function gb(o,e){if(e.dangerouslySetInnerHTML!=null)throw Error(p$2(91));return A$2({},e,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function hb(o,e){var a=e.value;if(a==null){if(a=e.children,e=e.defaultValue,a!=null){if(e!=null)throw Error(p$2(92));if(eb(a)){if(1<a.length)throw Error(p$2(93));a=a[0]}e=a}e==null&&(e=""),a=e}o._wrapperState={initialValue:Sa(a)}}function ib(o,e){var a=Sa(e.value),_=Sa(e.defaultValue);a!=null&&(a=""+a,a!==o.value&&(o.value=a),e.defaultValue==null&&o.defaultValue!==a&&(o.defaultValue=a)),_!=null&&(o.defaultValue=""+_)}function jb(o){var e=o.textContent;e===o._wrapperState.initialValue&&e!==""&&e!==null&&(o.value=e)}function kb(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(o,e){return o==null||o==="http://www.w3.org/1999/xhtml"?kb(e):o==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var mb,nb=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,a,_,b){MSApp.execUnsafeLocalFunction(function(){return o(e,a,_,b)})}:o}(function(o,e){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=e;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=mb.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;e.firstChild;)o.appendChild(e.firstChild)}});function ob(o,e){if(e){var a=o.firstChild;if(a&&a===o.lastChild&&a.nodeType===3){a.nodeValue=e;return}}o.textContent=e}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(o){qb.forEach(function(e){e=e+o.charAt(0).toUpperCase()+o.substring(1),pb[e]=pb[o]})});function rb(o,e,a){return e==null||typeof e=="boolean"||e===""?"":a||typeof e!="number"||e===0||pb.hasOwnProperty(o)&&pb[o]?(""+e).trim():e+"px"}function sb(o,e){o=o.style;for(var a in e)if(e.hasOwnProperty(a)){var _=a.indexOf("--")===0,b=rb(a,e[a],_);a==="float"&&(a="cssFloat"),_?o.setProperty(a,b):o[a]=b}}var tb=A$2({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(o,e){if(e){if(tb[o]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(p$2(137,o));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(p$2(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(p$2(61))}if(e.style!=null&&typeof e.style!="object")throw Error(p$2(62))}}function vb(o,e){if(o.indexOf("-")===-1)return typeof e.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var yb=null,zb=null,Ab=null;function Bb(o){if(o=Cb(o)){if(typeof yb!="function")throw Error(p$2(280));var e=o.stateNode;e&&(e=Db(e),yb(o.stateNode,o.type,e))}}function Eb(o){zb?Ab?Ab.push(o):Ab=[o]:zb=o}function Fb(){if(zb){var o=zb,e=Ab;if(Ab=zb=null,Bb(o),e)for(o=0;o<e.length;o++)Bb(e[o])}}function Gb(o,e){return o(e)}function Hb(){}var Ib=!1;function Jb(o,e,a){if(Ib)return o(e,a);Ib=!0;try{return Gb(o,e,a)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(o,e){var a=o.stateNode;if(a===null)return null;var _=Db(a);if(_===null)return null;a=_[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(_=!_.disabled)||(o=o.type,_=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!_;break e;default:o=!1}if(o)return null;if(a&&typeof a!="function")throw Error(p$2(231,e,typeof a));return a}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(o,e,a,_,b,_e,et,tt,nt){var it=Array.prototype.slice.call(arguments,3);try{e.apply(a,it)}catch(ot){this.onError(ot)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(o){Ob=!0,Pb=o}};function Tb(o,e,a,_,b,_e,et,tt,nt){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(o,e,a,_,b,_e,et,tt,nt){if(Tb.apply(this,arguments),Ob){if(Ob){var it=Pb;Ob=!1,Pb=null}else throw Error(p$2(198));Qb||(Qb=!0,Rb=it)}}function Vb(o){var e=o,a=o;if(o.alternate)for(;e.return;)e=e.return;else{o=e;do e=o,e.flags&4098&&(a=e.return),o=e.return;while(o)}return e.tag===3?a:null}function Wb(o){if(o.tag===13){var e=o.memoizedState;if(e===null&&(o=o.alternate,o!==null&&(e=o.memoizedState)),e!==null)return e.dehydrated}return null}function Xb(o){if(Vb(o)!==o)throw Error(p$2(188))}function Yb(o){var e=o.alternate;if(!e){if(e=Vb(o),e===null)throw Error(p$2(188));return e!==o?null:o}for(var a=o,_=e;;){var b=a.return;if(b===null)break;var _e=b.alternate;if(_e===null){if(_=b.return,_!==null){a=_;continue}break}if(b.child===_e.child){for(_e=b.child;_e;){if(_e===a)return Xb(b),o;if(_e===_)return Xb(b),e;_e=_e.sibling}throw Error(p$2(188))}if(a.return!==_.return)a=b,_=_e;else{for(var et=!1,tt=b.child;tt;){if(tt===a){et=!0,a=b,_=_e;break}if(tt===_){et=!0,_=b,a=_e;break}tt=tt.sibling}if(!et){for(tt=_e.child;tt;){if(tt===a){et=!0,a=_e,_=b;break}if(tt===_){et=!0,_=_e,a=b;break}tt=tt.sibling}if(!et)throw Error(p$2(189))}}if(a.alternate!==_)throw Error(p$2(190))}if(a.tag!==3)throw Error(p$2(188));return a.stateNode.current===a?o:e}function Zb(o){return o=Yb(o),o!==null?$b(o):null}function $b(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var e=$b(o);if(e!==null)return e;o=o.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B$2=ca.unstable_now,ec$1=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(o){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,o,void 0,(o.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(o){return o>>>=0,o===0?32:31-(pc(o)/qc|0)|0}var rc=64,sc=4194304;function tc(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function uc(o,e){var a=o.pendingLanes;if(a===0)return 0;var _=0,b=o.suspendedLanes,_e=o.pingedLanes,et=a&268435455;if(et!==0){var tt=et&~b;tt!==0?_=tc(tt):(_e&=et,_e!==0&&(_=tc(_e)))}else et=a&~b,et!==0?_=tc(et):_e!==0&&(_=tc(_e));if(_===0)return 0;if(e!==0&&e!==_&&!(e&b)&&(b=_&-_,_e=e&-e,b>=_e||b===16&&(_e&4194240)!==0))return e;if(_&4&&(_|=a&16),e=o.entangledLanes,e!==0)for(o=o.entanglements,e&=_;0<e;)a=31-oc(e),b=1<<a,_|=o[a],e&=~b;return _}function vc(o,e){switch(o){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(o,e){for(var a=o.suspendedLanes,_=o.pingedLanes,b=o.expirationTimes,_e=o.pendingLanes;0<_e;){var et=31-oc(_e),tt=1<<et,nt=b[et];nt===-1?(!(tt&a)||tt&_)&&(b[et]=vc(tt,e)):nt<=e&&(o.expiredLanes|=tt),_e&=~tt}}function xc(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function yc(){var o=rc;return rc<<=1,!(rc&4194240)&&(rc=64),o}function zc(o){for(var e=[],a=0;31>a;a++)e.push(o);return e}function Ac(o,e,a){o.pendingLanes|=e,e!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,e=31-oc(e),o[e]=a}function Bc(o,e){var a=o.pendingLanes&~e;o.pendingLanes=e,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=e,o.mutableReadLanes&=e,o.entangledLanes&=e,e=o.entanglements;var _=o.eventTimes;for(o=o.expirationTimes;0<a;){var b=31-oc(a),_e=1<<b;e[b]=0,_[b]=-1,o[b]=-1,a&=~_e}}function Cc(o,e){var a=o.entangledLanes|=e;for(o=o.entanglements;a;){var _=31-oc(a),b=1<<_;b&e|o[_]&e&&(o[_]|=e),a&=~b}}var C$2=0;function Dc(o){return o&=-o,1<o?4<o?o&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(o,e){switch(o){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(e.pointerId)}}function Tc(o,e,a,_,b,_e){return o===null||o.nativeEvent!==_e?(o={blockedOn:e,domEventName:a,eventSystemFlags:_,nativeEvent:_e,targetContainers:[b]},e!==null&&(e=Cb(e),e!==null&&Fc(e)),o):(o.eventSystemFlags|=_,e=o.targetContainers,b!==null&&e.indexOf(b)===-1&&e.push(b),o)}function Uc(o,e,a,_,b){switch(e){case"focusin":return Lc=Tc(Lc,o,e,a,_,b),!0;case"dragenter":return Mc=Tc(Mc,o,e,a,_,b),!0;case"mouseover":return Nc=Tc(Nc,o,e,a,_,b),!0;case"pointerover":var _e=b.pointerId;return Oc.set(_e,Tc(Oc.get(_e)||null,o,e,a,_,b)),!0;case"gotpointercapture":return _e=b.pointerId,Pc.set(_e,Tc(Pc.get(_e)||null,o,e,a,_,b)),!0}return!1}function Vc(o){var e=Wc(o.target);if(e!==null){var a=Vb(e);if(a!==null){if(e=a.tag,e===13){if(e=Wb(a),e!==null){o.blockedOn=e,Ic(o.priority,function(){Gc(a)});return}}else if(e===3&&a.stateNode.current.memoizedState.isDehydrated){o.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Xc(o){if(o.blockedOn!==null)return!1;for(var e=o.targetContainers;0<e.length;){var a=Yc(o.domEventName,o.eventSystemFlags,e[0],o.nativeEvent);if(a===null){a=o.nativeEvent;var _=new a.constructor(a.type,a);wb=_,a.target.dispatchEvent(_),wb=null}else return e=Cb(a),e!==null&&Fc(e),o.blockedOn=a,!1;e.shift()}return!0}function Zc(o,e,a){Xc(o)&&a.delete(e)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(o,e){o.blockedOn===e&&(o.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(o){function e(b){return ad(b,o)}if(0<Kc.length){ad(Kc[0],o);for(var a=1;a<Kc.length;a++){var _=Kc[a];_.blockedOn===o&&(_.blockedOn=null)}}for(Lc!==null&&ad(Lc,o),Mc!==null&&ad(Mc,o),Nc!==null&&ad(Nc,o),Oc.forEach(e),Pc.forEach(e),a=0;a<Qc.length;a++)_=Qc[a],_.blockedOn===o&&(_.blockedOn=null);for(;0<Qc.length&&(a=Qc[0],a.blockedOn===null);)Vc(a),a.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(o,e,a,_){var b=C$2,_e=cd.transition;cd.transition=null;try{C$2=1,fd(o,e,a,_)}finally{C$2=b,cd.transition=_e}}function gd(o,e,a,_){var b=C$2,_e=cd.transition;cd.transition=null;try{C$2=4,fd(o,e,a,_)}finally{C$2=b,cd.transition=_e}}function fd(o,e,a,_){if(dd){var b=Yc(o,e,a,_);if(b===null)hd(o,e,_,id,a),Sc(o,_);else if(Uc(b,o,e,a,_))_.stopPropagation();else if(Sc(o,_),e&4&&-1<Rc.indexOf(o)){for(;b!==null;){var _e=Cb(b);if(_e!==null&&Ec(_e),_e=Yc(o,e,a,_),_e===null&&hd(o,e,_,id,a),_e===b)break;b=_e}b!==null&&_.stopPropagation()}else hd(o,e,_,null,a)}}var id=null;function Yc(o,e,a,_){if(id=null,o=xb(_),o=Wc(o),o!==null)if(e=Vb(o),e===null)o=null;else if(a=e.tag,a===13){if(o=Wb(e),o!==null)return o;o=null}else if(a===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;o=null}else e!==o&&(o=null);return id=o,null}function jd(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec$1()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var o,e=ld,a=e.length,_,b="value"in kd?kd.value:kd.textContent,_e=b.length;for(o=0;o<a&&e[o]===b[o];o++);var et=a-o;for(_=1;_<=et&&e[a-_]===b[_e-_];_++);return md=b.slice(o,1<_?1-_:void 0)}function od(o){var e=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&e===13&&(o=13)):o=e,o===10&&(o=13),32<=o||o===13?o:0}function pd(){return!0}function qd(){return!1}function rd(o){function e(a,_,b,_e,et){this._reactName=a,this._targetInst=b,this.type=_,this.nativeEvent=_e,this.target=et,this.currentTarget=null;for(var tt in o)o.hasOwnProperty(tt)&&(a=o[tt],this[tt]=a?a(_e):_e[tt]);return this.isDefaultPrevented=(_e.defaultPrevented!=null?_e.defaultPrevented:_e.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$2(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),e}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$2({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$2({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==yd&&(yd&&o.type==="mousemove"?(wd=o.screenX-yd.screenX,xd=o.screenY-yd.screenY):xd=wd=0,yd=o),wd)},movementY:function(o){return"movementY"in o?o.movementY:xd}}),Bd=rd(Ad),Cd=A$2({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$2({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$2({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$2({},sd,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$2({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(o){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(o):(o=Od[o])?!!e[o]:!1}function zd(){return Pd}var Qd=A$2({},ud,{key:function(o){if(o.key){var e=Md[o.key]||o.key;if(e!=="Unidentified")return e}return o.type==="keypress"?(o=od(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Nd[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(o){return o.type==="keypress"?od(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?od(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Rd=rd(Qd),Sd=A$2({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$2({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$2({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$2({},Ad,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=" ",fe=!1;function ge(o,e){switch(o){case"keyup":return $d.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var ie=!1;function je(o,e){switch(o){case"compositionend":return he(e);case"keypress":return e.which!==32?null:(fe=!0,ee);case"textInput":return o=e.data,o===ee&&fe?null:o;default:return null}}function ke(o,e){if(ie)return o==="compositionend"||!ae&&ge(o,e)?(o=nd(),md=ld=kd=null,ie=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return de&&e.locale!=="ko"?null:e.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(o){var e=o&&o.nodeName&&o.nodeName.toLowerCase();return e==="input"?!!le[o.type]:e==="textarea"}function ne(o,e,a,_){Eb(_),e=oe(e,"onChange"),0<e.length&&(a=new td("onChange","change",null,a,_),o.push({event:a,listeners:e}))}var pe=null,qe=null;function re(o){se(o,0)}function te(o){var e=ue(o);if(Wa(e))return o}function ve(o,e){if(o==="change")return e}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(o){if(o.propertyName==="value"&&te(qe)){var e=[];ne(e,qe,o,xb(o)),Jb(re,e)}}function Ce(o,e,a){o==="focusin"?(Ae(),pe=e,qe=a,pe.attachEvent("onpropertychange",Be)):o==="focusout"&&Ae()}function De(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return te(qe)}function Ee(o,e){if(o==="click")return te(e)}function Fe(o,e){if(o==="input"||o==="change")return te(e)}function Ge(o,e){return o===e&&(o!==0||1/o===1/e)||o!==o&&e!==e}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(o,e){if(He(o,e))return!0;if(typeof o!="object"||o===null||typeof e!="object"||e===null)return!1;var a=Object.keys(o),_=Object.keys(e);if(a.length!==_.length)return!1;for(_=0;_<a.length;_++){var b=a[_];if(!ja.call(e,b)||!He(o[b],e[b]))return!1}return!0}function Je(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Ke(o,e){var a=Je(o);o=0;for(var _;a;){if(a.nodeType===3){if(_=o+a.textContent.length,o<=e&&_>=e)return{node:a,offset:e-o};o=_}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Je(a)}}function Le(o,e){return o&&e?o===e?!0:o&&o.nodeType===3?!1:e&&e.nodeType===3?Le(o,e.parentNode):"contains"in o?o.contains(e):o.compareDocumentPosition?!!(o.compareDocumentPosition(e)&16):!1:!1}function Me(){for(var o=window,e=Xa();e instanceof o.HTMLIFrameElement;){try{var a=typeof e.contentWindow.location.href=="string"}catch{a=!1}if(a)o=e.contentWindow;else break;e=Xa(o.document)}return e}function Ne(o){var e=o&&o.nodeName&&o.nodeName.toLowerCase();return e&&(e==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||e==="textarea"||o.contentEditable==="true")}function Oe(o){var e=Me(),a=o.focusedElem,_=o.selectionRange;if(e!==a&&a&&a.ownerDocument&&Le(a.ownerDocument.documentElement,a)){if(_!==null&&Ne(a)){if(e=_.start,o=_.end,o===void 0&&(o=e),"selectionStart"in a)a.selectionStart=e,a.selectionEnd=Math.min(o,a.value.length);else if(o=(e=a.ownerDocument||document)&&e.defaultView||window,o.getSelection){o=o.getSelection();var b=a.textContent.length,_e=Math.min(_.start,b);_=_.end===void 0?_e:Math.min(_.end,b),!o.extend&&_e>_&&(b=_,_=_e,_e=b),b=Ke(a,_e);var et=Ke(a,_);b&&et&&(o.rangeCount!==1||o.anchorNode!==b.node||o.anchorOffset!==b.offset||o.focusNode!==et.node||o.focusOffset!==et.offset)&&(e=e.createRange(),e.setStart(b.node,b.offset),o.removeAllRanges(),_e>_?(o.addRange(e),o.extend(et.node,et.offset)):(e.setEnd(et.node,et.offset),o.addRange(e)))}}for(e=[],o=a;o=o.parentNode;)o.nodeType===1&&e.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<e.length;a++)o=e[a],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(o,e,a){var _=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Te||Qe==null||Qe!==Xa(_)||(_=Qe,"selectionStart"in _&&Ne(_)?_={start:_.selectionStart,end:_.selectionEnd}:(_=(_.ownerDocument&&_.ownerDocument.defaultView||window).getSelection(),_={anchorNode:_.anchorNode,anchorOffset:_.anchorOffset,focusNode:_.focusNode,focusOffset:_.focusOffset}),Se&&Ie(Se,_)||(Se=_,_=oe(Re,"onSelect"),0<_.length&&(e=new td("onSelect","select",null,e,a),o.push({event:e,listeners:_}),e.target=Qe)))}function Ve(o,e){var a={};return a[o.toLowerCase()]=e.toLowerCase(),a["Webkit"+o]="webkit"+e,a["Moz"+o]="moz"+e,a}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(o){if(Xe[o])return Xe[o];if(!We[o])return o;var e=We[o],a;for(a in e)if(e.hasOwnProperty(a)&&a in Ye)return Xe[o]=e[a];return o}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(o,e){df.set(o,e),fa(e,[o])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(o,e,a){var _=o.type||"unknown-event";o.currentTarget=a,Ub(_,e,void 0,o),o.currentTarget=null}function se(o,e){e=(e&4)!==0;for(var a=0;a<o.length;a++){var _=o[a],b=_.event;_=_.listeners;e:{var _e=void 0;if(e)for(var et=_.length-1;0<=et;et--){var tt=_[et],nt=tt.instance,it=tt.currentTarget;if(tt=tt.listener,nt!==_e&&b.isPropagationStopped())break e;nf(b,tt,it),_e=nt}else for(et=0;et<_.length;et++){if(tt=_[et],nt=tt.instance,it=tt.currentTarget,tt=tt.listener,nt!==_e&&b.isPropagationStopped())break e;nf(b,tt,it),_e=nt}}}if(Qb)throw o=Rb,Qb=!1,Rb=null,o}function D$3(o,e){var a=e[of];a===void 0&&(a=e[of]=new Set);var _=o+"__bubble";a.has(_)||(pf(e,o,2,!1),a.add(_))}function qf(o,e,a){var _=0;e&&(_|=4),pf(a,o,_,e)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(o){if(!o[rf]){o[rf]=!0,da.forEach(function(a){a!=="selectionchange"&&(mf.has(a)||qf(a,!1,o),qf(a,!0,o))});var e=o.nodeType===9?o:o.ownerDocument;e===null||e[rf]||(e[rf]=!0,qf("selectionchange",!1,e))}}function pf(o,e,a,_){switch(jd(e)){case 1:var b=ed;break;case 4:b=gd;break;default:b=fd}a=b.bind(null,e,a,o),b=void 0,!Lb||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(b=!0),_?b!==void 0?o.addEventListener(e,a,{capture:!0,passive:b}):o.addEventListener(e,a,!0):b!==void 0?o.addEventListener(e,a,{passive:b}):o.addEventListener(e,a,!1)}function hd(o,e,a,_,b){var _e=_;if(!(e&1)&&!(e&2)&&_!==null)e:for(;;){if(_===null)return;var et=_.tag;if(et===3||et===4){var tt=_.stateNode.containerInfo;if(tt===b||tt.nodeType===8&&tt.parentNode===b)break;if(et===4)for(et=_.return;et!==null;){var nt=et.tag;if((nt===3||nt===4)&&(nt=et.stateNode.containerInfo,nt===b||nt.nodeType===8&&nt.parentNode===b))return;et=et.return}for(;tt!==null;){if(et=Wc(tt),et===null)return;if(nt=et.tag,nt===5||nt===6){_=_e=et;continue e}tt=tt.parentNode}}_=_.return}Jb(function(){var it=_e,ot=xb(a),st=[];e:{var at=df.get(o);if(at!==void 0){var lt=td,ut=o;switch(o){case"keypress":if(od(a)===0)break e;case"keydown":case"keyup":lt=Rd;break;case"focusin":ut="focus",lt=Fd;break;case"focusout":ut="blur",lt=Fd;break;case"beforeblur":case"afterblur":lt=Fd;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":lt=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":lt=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":lt=Vd;break;case $e:case af:case bf:lt=Hd;break;case cf:lt=Xd;break;case"scroll":lt=vd;break;case"wheel":lt=Zd;break;case"copy":case"cut":case"paste":lt=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":lt=Td}var ft=(e&4)!==0,mt=!ft&&o==="scroll",ht=ft?at!==null?at+"Capture":null:at;ft=[];for(var vt=it,Et;vt!==null;){Et=vt;var At=Et.stateNode;if(Et.tag===5&&At!==null&&(Et=At,ht!==null&&(At=Kb(vt,ht),At!=null&&ft.push(tf(vt,At,Et)))),mt)break;vt=vt.return}0<ft.length&&(at=new lt(at,ut,null,a,ot),st.push({event:at,listeners:ft}))}}if(!(e&7)){e:{if(at=o==="mouseover"||o==="pointerover",lt=o==="mouseout"||o==="pointerout",at&&a!==wb&&(ut=a.relatedTarget||a.fromElement)&&(Wc(ut)||ut[uf]))break e;if((lt||at)&&(at=ot.window===ot?ot:(at=ot.ownerDocument)?at.defaultView||at.parentWindow:window,lt?(ut=a.relatedTarget||a.toElement,lt=it,ut=ut?Wc(ut):null,ut!==null&&(mt=Vb(ut),ut!==mt||ut.tag!==5&&ut.tag!==6)&&(ut=null)):(lt=null,ut=it),lt!==ut)){if(ft=Bd,At="onMouseLeave",ht="onMouseEnter",vt="mouse",(o==="pointerout"||o==="pointerover")&&(ft=Td,At="onPointerLeave",ht="onPointerEnter",vt="pointer"),mt=lt==null?at:ue(lt),Et=ut==null?at:ue(ut),at=new ft(At,vt+"leave",lt,a,ot),at.target=mt,at.relatedTarget=Et,At=null,Wc(ot)===it&&(ft=new ft(ht,vt+"enter",ut,a,ot),ft.target=Et,ft.relatedTarget=mt,At=ft),mt=At,lt&&ut)t:{for(ft=lt,ht=ut,vt=0,Et=ft;Et;Et=vf(Et))vt++;for(Et=0,At=ht;At;At=vf(At))Et++;for(;0<vt-Et;)ft=vf(ft),vt--;for(;0<Et-vt;)ht=vf(ht),Et--;for(;vt--;){if(ft===ht||ht!==null&&ft===ht.alternate)break t;ft=vf(ft),ht=vf(ht)}ft=null}else ft=null;lt!==null&&wf(st,at,lt,ft,!1),ut!==null&&mt!==null&&wf(st,mt,ut,ft,!0)}}e:{if(at=it?ue(it):window,lt=at.nodeName&&at.nodeName.toLowerCase(),lt==="select"||lt==="input"&&at.type==="file")var Ct=ve;else if(me(at))if(we)Ct=Fe;else{Ct=De;var Mt=Ce}else(lt=at.nodeName)&&lt.toLowerCase()==="input"&&(at.type==="checkbox"||at.type==="radio")&&(Ct=Ee);if(Ct&&(Ct=Ct(o,it))){ne(st,Ct,a,ot);break e}Mt&&Mt(o,at,it),o==="focusout"&&(Mt=at._wrapperState)&&Mt.controlled&&at.type==="number"&&cb(at,"number",at.value)}switch(Mt=it?ue(it):window,o){case"focusin":(me(Mt)||Mt.contentEditable==="true")&&(Qe=Mt,Re=it,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(st,a,ot);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(st,a,ot)}var Bt;if(ae)e:{switch(o){case"compositionstart":var Lt="onCompositionStart";break e;case"compositionend":Lt="onCompositionEnd";break e;case"compositionupdate":Lt="onCompositionUpdate";break e}Lt=void 0}else ie?ge(o,a)&&(Lt="onCompositionEnd"):o==="keydown"&&a.keyCode===229&&(Lt="onCompositionStart");Lt&&(de&&a.locale!=="ko"&&(ie||Lt!=="onCompositionStart"?Lt==="onCompositionEnd"&&ie&&(Bt=nd()):(kd=ot,ld="value"in kd?kd.value:kd.textContent,ie=!0)),Mt=oe(it,Lt),0<Mt.length&&(Lt=new Ld(Lt,o,null,a,ot),st.push({event:Lt,listeners:Mt}),Bt?Lt.data=Bt:(Bt=he(a),Bt!==null&&(Lt.data=Bt)))),(Bt=ce?je(o,a):ke(o,a))&&(it=oe(it,"onBeforeInput"),0<it.length&&(ot=new Ld("onBeforeInput","beforeinput",null,a,ot),st.push({event:ot,listeners:it}),ot.data=Bt))}se(st,e)})}function tf(o,e,a){return{instance:o,listener:e,currentTarget:a}}function oe(o,e){for(var a=e+"Capture",_=[];o!==null;){var b=o,_e=b.stateNode;b.tag===5&&_e!==null&&(b=_e,_e=Kb(o,a),_e!=null&&_.unshift(tf(o,_e,b)),_e=Kb(o,e),_e!=null&&_.push(tf(o,_e,b))),o=o.return}return _}function vf(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function wf(o,e,a,_,b){for(var _e=e._reactName,et=[];a!==null&&a!==_;){var tt=a,nt=tt.alternate,it=tt.stateNode;if(nt!==null&&nt===_)break;tt.tag===5&&it!==null&&(tt=it,b?(nt=Kb(a,_e),nt!=null&&et.unshift(tf(a,nt,tt))):b||(nt=Kb(a,_e),nt!=null&&et.push(tf(a,nt,tt)))),a=a.return}et.length!==0&&o.push({event:e,listeners:et})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(o){return(typeof o=="string"?o:""+o).replace(xf,`
`).replace(yf,"")}function Af(o,e,a){if(e=zf(e),zf(o)!==e&&a)throw Error(p$2(425))}function Bf(){}var Cf=null,Df=null;function Ef(o,e){return o==="textarea"||o==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(o){return Hf.resolve(null).then(o).catch(If)}:Ff;function If(o){setTimeout(function(){throw o})}function Kf(o,e){var a=e,_=0;do{var b=a.nextSibling;if(o.removeChild(a),b&&b.nodeType===8)if(a=b.data,a==="/$"){if(_===0){o.removeChild(b),bd(e);return}_--}else a!=="$"&&a!=="$?"&&a!=="$!"||_++;a=b}while(a);bd(e)}function Lf(o){for(;o!=null;o=o.nextSibling){var e=o.nodeType;if(e===1||e===3)break;if(e===8){if(e=o.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return o}function Mf(o){o=o.previousSibling;for(var e=0;o;){if(o.nodeType===8){var a=o.data;if(a==="$"||a==="$!"||a==="$?"){if(e===0)return o;e--}else a==="/$"&&e++}o=o.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(o){var e=o[Of];if(e)return e;for(var a=o.parentNode;a;){if(e=a[uf]||a[Of]){if(a=e.alternate,e.child!==null||a!==null&&a.child!==null)for(o=Mf(o);o!==null;){if(a=o[Of])return a;o=Mf(o)}return e}o=a,a=o.parentNode}return null}function Cb(o){return o=o[Of]||o[uf],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function ue(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(p$2(33))}function Db(o){return o[Pf]||null}var Sf=[],Tf=-1;function Uf(o){return{current:o}}function E$2(o){0>Tf||(o.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$2(o,e){Tf++,Sf[Tf]=o.current,o.current=e}var Vf={},H$2=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(o,e){var a=o.type.contextTypes;if(!a)return Vf;var _=o.stateNode;if(_&&_.__reactInternalMemoizedUnmaskedChildContext===e)return _.__reactInternalMemoizedMaskedChildContext;var b={},_e;for(_e in a)b[_e]=e[_e];return _&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=e,o.__reactInternalMemoizedMaskedChildContext=b),b}function Zf(o){return o=o.childContextTypes,o!=null}function $f(){E$2(Wf),E$2(H$2)}function ag(o,e,a){if(H$2.current!==Vf)throw Error(p$2(168));G$2(H$2,e),G$2(Wf,a)}function bg(o,e,a){var _=o.stateNode;if(e=e.childContextTypes,typeof _.getChildContext!="function")return a;_=_.getChildContext();for(var b in _)if(!(b in e))throw Error(p$2(108,Ra(o)||"Unknown",b));return A$2({},a,_)}function cg(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$2.current,G$2(H$2,o),G$2(Wf,Wf.current),!0}function dg(o,e,a){var _=o.stateNode;if(!_)throw Error(p$2(169));a?(o=bg(o,e,Xf),_.__reactInternalMemoizedMergedChildContext=o,E$2(Wf),E$2(H$2),G$2(H$2,o)):E$2(Wf),G$2(Wf,a)}var eg=null,fg=!1,gg=!1;function hg(o){eg===null?eg=[o]:eg.push(o)}function ig(o){fg=!0,hg(o)}function jg(){if(!gg&&eg!==null){gg=!0;var o=0,e=C$2;try{var a=eg;for(C$2=1;o<a.length;o++){var _=a[o];do _=_(!0);while(_!==null)}eg=null,fg=!1}catch(b){throw eg!==null&&(eg=eg.slice(o+1)),ac(fc,jg),b}finally{C$2=e,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(o,e){kg[lg++]=ng,kg[lg++]=mg,mg=o,ng=e}function ug(o,e,a){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=o;var _=rg;o=sg;var b=32-oc(_)-1;_&=~(1<<b),a+=1;var _e=32-oc(e)+b;if(30<_e){var et=b-b%5;_e=(_&(1<<et)-1).toString(32),_>>=et,b-=et,rg=1<<32-oc(e)+b|a<<b|_,sg=_e+o}else rg=1<<_e|a<<b|_,sg=o}function vg(o){o.return!==null&&(tg(o,1),ug(o,1,0))}function wg(o){for(;o===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;o===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(o,e){var a=Bg(5,null,null,0);a.elementType="DELETED",a.stateNode=e,a.return=o,e=o.deletions,e===null?(o.deletions=[a],o.flags|=16):e.push(a)}function Cg(o,e){switch(o.tag){case 5:var a=o.type;return e=e.nodeType!==1||a.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(o.stateNode=e,xg=o,yg=Lf(e.firstChild),!0):!1;case 6:return e=o.pendingProps===""||e.nodeType!==3?null:e,e!==null?(o.stateNode=e,xg=o,yg=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(a=qg!==null?{id:rg,overflow:sg}:null,o.memoizedState={dehydrated:e,treeContext:a,retryLane:1073741824},a=Bg(18,null,null,0),a.stateNode=e,a.return=o,o.child=a,xg=o,yg=null,!0):!1;default:return!1}}function Dg(o){return(o.mode&1)!==0&&(o.flags&128)===0}function Eg(o){if(I){var e=yg;if(e){var a=e;if(!Cg(o,e)){if(Dg(o))throw Error(p$2(418));e=Lf(a.nextSibling);var _=xg;e&&Cg(o,e)?Ag(_,a):(o.flags=o.flags&-4097|2,I=!1,xg=o)}}else{if(Dg(o))throw Error(p$2(418));o.flags=o.flags&-4097|2,I=!1,xg=o}}}function Fg(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;xg=o}function Gg(o){if(o!==xg)return!1;if(!I)return Fg(o),I=!0,!1;var e;if((e=o.tag!==3)&&!(e=o.tag!==5)&&(e=o.type,e=e!=="head"&&e!=="body"&&!Ef(o.type,o.memoizedProps)),e&&(e=yg)){if(Dg(o))throw Hg(),Error(p$2(418));for(;e;)Ag(o,e),e=Lf(e.nextSibling)}if(Fg(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(p$2(317));e:{for(o=o.nextSibling,e=0;o;){if(o.nodeType===8){var a=o.data;if(a==="/$"){if(e===0){yg=Lf(o.nextSibling);break e}e--}else a!=="$"&&a!=="$!"&&a!=="$?"||e++}o=o.nextSibling}yg=null}}else yg=xg?Lf(o.stateNode.nextSibling):null;return!0}function Hg(){for(var o=yg;o;)o=Lf(o.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(o){zg===null?zg=[o]:zg.push(o)}var Kg=ua.ReactCurrentBatchConfig;function Lg(o,e,a){if(o=a.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(p$2(309));var _=a.stateNode}if(!_)throw Error(p$2(147,o));var b=_,_e=""+o;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===_e?e.ref:(e=function(et){var tt=b.refs;et===null?delete tt[_e]:tt[_e]=et},e._stringRef=_e,e)}if(typeof o!="string")throw Error(p$2(284));if(!a._owner)throw Error(p$2(290,o))}return o}function Mg(o,e){throw o=Object.prototype.toString.call(e),Error(p$2(31,o==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":o))}function Ng(o){var e=o._init;return e(o._payload)}function Og(o){function e(ht,vt){if(o){var Et=ht.deletions;Et===null?(ht.deletions=[vt],ht.flags|=16):Et.push(vt)}}function a(ht,vt){if(!o)return null;for(;vt!==null;)e(ht,vt),vt=vt.sibling;return null}function _(ht,vt){for(ht=new Map;vt!==null;)vt.key!==null?ht.set(vt.key,vt):ht.set(vt.index,vt),vt=vt.sibling;return ht}function b(ht,vt){return ht=Pg(ht,vt),ht.index=0,ht.sibling=null,ht}function _e(ht,vt,Et){return ht.index=Et,o?(Et=ht.alternate,Et!==null?(Et=Et.index,Et<vt?(ht.flags|=2,vt):Et):(ht.flags|=2,vt)):(ht.flags|=1048576,vt)}function et(ht){return o&&ht.alternate===null&&(ht.flags|=2),ht}function tt(ht,vt,Et,At){return vt===null||vt.tag!==6?(vt=Qg(Et,ht.mode,At),vt.return=ht,vt):(vt=b(vt,Et),vt.return=ht,vt)}function nt(ht,vt,Et,At){var Ct=Et.type;return Ct===ya?ot(ht,vt,Et.props.children,At,Et.key):vt!==null&&(vt.elementType===Ct||typeof Ct=="object"&&Ct!==null&&Ct.$$typeof===Ha&&Ng(Ct)===vt.type)?(At=b(vt,Et.props),At.ref=Lg(ht,vt,Et),At.return=ht,At):(At=Rg(Et.type,Et.key,Et.props,null,ht.mode,At),At.ref=Lg(ht,vt,Et),At.return=ht,At)}function it(ht,vt,Et,At){return vt===null||vt.tag!==4||vt.stateNode.containerInfo!==Et.containerInfo||vt.stateNode.implementation!==Et.implementation?(vt=Sg(Et,ht.mode,At),vt.return=ht,vt):(vt=b(vt,Et.children||[]),vt.return=ht,vt)}function ot(ht,vt,Et,At,Ct){return vt===null||vt.tag!==7?(vt=Tg(Et,ht.mode,At,Ct),vt.return=ht,vt):(vt=b(vt,Et),vt.return=ht,vt)}function st(ht,vt,Et){if(typeof vt=="string"&&vt!==""||typeof vt=="number")return vt=Qg(""+vt,ht.mode,Et),vt.return=ht,vt;if(typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case va:return Et=Rg(vt.type,vt.key,vt.props,null,ht.mode,Et),Et.ref=Lg(ht,null,vt),Et.return=ht,Et;case wa:return vt=Sg(vt,ht.mode,Et),vt.return=ht,vt;case Ha:var At=vt._init;return st(ht,At(vt._payload),Et)}if(eb(vt)||Ka(vt))return vt=Tg(vt,ht.mode,Et,null),vt.return=ht,vt;Mg(ht,vt)}return null}function at(ht,vt,Et,At){var Ct=vt!==null?vt.key:null;if(typeof Et=="string"&&Et!==""||typeof Et=="number")return Ct!==null?null:tt(ht,vt,""+Et,At);if(typeof Et=="object"&&Et!==null){switch(Et.$$typeof){case va:return Et.key===Ct?nt(ht,vt,Et,At):null;case wa:return Et.key===Ct?it(ht,vt,Et,At):null;case Ha:return Ct=Et._init,at(ht,vt,Ct(Et._payload),At)}if(eb(Et)||Ka(Et))return Ct!==null?null:ot(ht,vt,Et,At,null);Mg(ht,Et)}return null}function lt(ht,vt,Et,At,Ct){if(typeof At=="string"&&At!==""||typeof At=="number")return ht=ht.get(Et)||null,tt(vt,ht,""+At,Ct);if(typeof At=="object"&&At!==null){switch(At.$$typeof){case va:return ht=ht.get(At.key===null?Et:At.key)||null,nt(vt,ht,At,Ct);case wa:return ht=ht.get(At.key===null?Et:At.key)||null,it(vt,ht,At,Ct);case Ha:var Mt=At._init;return lt(ht,vt,Et,Mt(At._payload),Ct)}if(eb(At)||Ka(At))return ht=ht.get(Et)||null,ot(vt,ht,At,Ct,null);Mg(vt,At)}return null}function ut(ht,vt,Et,At){for(var Ct=null,Mt=null,Bt=vt,Lt=vt=0,jt=null;Bt!==null&&Lt<Et.length;Lt++){Bt.index>Lt?(jt=Bt,Bt=null):jt=Bt.sibling;var Vt=at(ht,Bt,Et[Lt],At);if(Vt===null){Bt===null&&(Bt=jt);break}o&&Bt&&Vt.alternate===null&&e(ht,Bt),vt=_e(Vt,vt,Lt),Mt===null?Ct=Vt:Mt.sibling=Vt,Mt=Vt,Bt=jt}if(Lt===Et.length)return a(ht,Bt),I&&tg(ht,Lt),Ct;if(Bt===null){for(;Lt<Et.length;Lt++)Bt=st(ht,Et[Lt],At),Bt!==null&&(vt=_e(Bt,vt,Lt),Mt===null?Ct=Bt:Mt.sibling=Bt,Mt=Bt);return I&&tg(ht,Lt),Ct}for(Bt=_(ht,Bt);Lt<Et.length;Lt++)jt=lt(Bt,ht,Lt,Et[Lt],At),jt!==null&&(o&&jt.alternate!==null&&Bt.delete(jt.key===null?Lt:jt.key),vt=_e(jt,vt,Lt),Mt===null?Ct=jt:Mt.sibling=jt,Mt=jt);return o&&Bt.forEach(function(Nt){return e(ht,Nt)}),I&&tg(ht,Lt),Ct}function ft(ht,vt,Et,At){var Ct=Ka(Et);if(typeof Ct!="function")throw Error(p$2(150));if(Et=Ct.call(Et),Et==null)throw Error(p$2(151));for(var Mt=Ct=null,Bt=vt,Lt=vt=0,jt=null,Vt=Et.next();Bt!==null&&!Vt.done;Lt++,Vt=Et.next()){Bt.index>Lt?(jt=Bt,Bt=null):jt=Bt.sibling;var Nt=at(ht,Bt,Vt.value,At);if(Nt===null){Bt===null&&(Bt=jt);break}o&&Bt&&Nt.alternate===null&&e(ht,Bt),vt=_e(Nt,vt,Lt),Mt===null?Ct=Nt:Mt.sibling=Nt,Mt=Nt,Bt=jt}if(Vt.done)return a(ht,Bt),I&&tg(ht,Lt),Ct;if(Bt===null){for(;!Vt.done;Lt++,Vt=Et.next())Vt=st(ht,Vt.value,At),Vt!==null&&(vt=_e(Vt,vt,Lt),Mt===null?Ct=Vt:Mt.sibling=Vt,Mt=Vt);return I&&tg(ht,Lt),Ct}for(Bt=_(ht,Bt);!Vt.done;Lt++,Vt=Et.next())Vt=lt(Bt,ht,Lt,Vt.value,At),Vt!==null&&(o&&Vt.alternate!==null&&Bt.delete(Vt.key===null?Lt:Vt.key),vt=_e(Vt,vt,Lt),Mt===null?Ct=Vt:Mt.sibling=Vt,Mt=Vt);return o&&Bt.forEach(function(kt){return e(ht,kt)}),I&&tg(ht,Lt),Ct}function mt(ht,vt,Et,At){if(typeof Et=="object"&&Et!==null&&Et.type===ya&&Et.key===null&&(Et=Et.props.children),typeof Et=="object"&&Et!==null){switch(Et.$$typeof){case va:e:{for(var Ct=Et.key,Mt=vt;Mt!==null;){if(Mt.key===Ct){if(Ct=Et.type,Ct===ya){if(Mt.tag===7){a(ht,Mt.sibling),vt=b(Mt,Et.props.children),vt.return=ht,ht=vt;break e}}else if(Mt.elementType===Ct||typeof Ct=="object"&&Ct!==null&&Ct.$$typeof===Ha&&Ng(Ct)===Mt.type){a(ht,Mt.sibling),vt=b(Mt,Et.props),vt.ref=Lg(ht,Mt,Et),vt.return=ht,ht=vt;break e}a(ht,Mt);break}else e(ht,Mt);Mt=Mt.sibling}Et.type===ya?(vt=Tg(Et.props.children,ht.mode,At,Et.key),vt.return=ht,ht=vt):(At=Rg(Et.type,Et.key,Et.props,null,ht.mode,At),At.ref=Lg(ht,vt,Et),At.return=ht,ht=At)}return et(ht);case wa:e:{for(Mt=Et.key;vt!==null;){if(vt.key===Mt)if(vt.tag===4&&vt.stateNode.containerInfo===Et.containerInfo&&vt.stateNode.implementation===Et.implementation){a(ht,vt.sibling),vt=b(vt,Et.children||[]),vt.return=ht,ht=vt;break e}else{a(ht,vt);break}else e(ht,vt);vt=vt.sibling}vt=Sg(Et,ht.mode,At),vt.return=ht,ht=vt}return et(ht);case Ha:return Mt=Et._init,mt(ht,vt,Mt(Et._payload),At)}if(eb(Et))return ut(ht,vt,Et,At);if(Ka(Et))return ft(ht,vt,Et,At);Mg(ht,Et)}return typeof Et=="string"&&Et!==""||typeof Et=="number"?(Et=""+Et,vt!==null&&vt.tag===6?(a(ht,vt.sibling),vt=b(vt,Et),vt.return=ht,ht=vt):(a(ht,vt),vt=Qg(Et,ht.mode,At),vt.return=ht,ht=vt),et(ht)):a(ht,vt)}return mt}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(o){var e=Wg.current;E$2(Wg),o._currentValue=e}function bh(o,e,a){for(;o!==null;){var _=o.alternate;if((o.childLanes&e)!==e?(o.childLanes|=e,_!==null&&(_.childLanes|=e)):_!==null&&(_.childLanes&e)!==e&&(_.childLanes|=e),o===a)break;o=o.return}}function ch(o,e){Xg=o,Zg=Yg=null,o=o.dependencies,o!==null&&o.firstContext!==null&&(o.lanes&e&&(dh$1=!0),o.firstContext=null)}function eh(o){var e=o._currentValue;if(Zg!==o)if(o={context:o,memoizedValue:e,next:null},Yg===null){if(Xg===null)throw Error(p$2(308));Yg=o,Xg.dependencies={lanes:0,firstContext:o}}else Yg=Yg.next=o;return e}var fh=null;function gh(o){fh===null?fh=[o]:fh.push(o)}function hh(o,e,a,_){var b=e.interleaved;return b===null?(a.next=a,gh(e)):(a.next=b.next,b.next=a),e.interleaved=a,ih(o,_)}function ih(o,e){o.lanes|=e;var a=o.alternate;for(a!==null&&(a.lanes|=e),a=o,o=o.return;o!==null;)o.childLanes|=e,a=o.alternate,a!==null&&(a.childLanes|=e),a=o,o=o.return;return a.tag===3?a.stateNode:null}var jh=!1;function kh(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(o,e){o=o.updateQueue,e.updateQueue===o&&(e.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function mh(o,e){return{eventTime:o,lane:e,tag:0,payload:null,callback:null,next:null}}function nh(o,e,a){var _=o.updateQueue;if(_===null)return null;if(_=_.shared,K$2&2){var b=_.pending;return b===null?e.next=e:(e.next=b.next,b.next=e),_.pending=e,ih(o,a)}return b=_.interleaved,b===null?(e.next=e,gh(_)):(e.next=b.next,b.next=e),_.interleaved=e,ih(o,a)}function oh(o,e,a){if(e=e.updateQueue,e!==null&&(e=e.shared,(a&4194240)!==0)){var _=e.lanes;_&=o.pendingLanes,a|=_,e.lanes=a,Cc(o,a)}}function ph(o,e){var a=o.updateQueue,_=o.alternate;if(_!==null&&(_=_.updateQueue,a===_)){var b=null,_e=null;if(a=a.firstBaseUpdate,a!==null){do{var et={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};_e===null?b=_e=et:_e=_e.next=et,a=a.next}while(a!==null);_e===null?b=_e=e:_e=_e.next=e}else b=_e=e;a={baseState:_.baseState,firstBaseUpdate:b,lastBaseUpdate:_e,shared:_.shared,effects:_.effects},o.updateQueue=a;return}o=a.lastBaseUpdate,o===null?a.firstBaseUpdate=e:o.next=e,a.lastBaseUpdate=e}function qh(o,e,a,_){var b=o.updateQueue;jh=!1;var _e=b.firstBaseUpdate,et=b.lastBaseUpdate,tt=b.shared.pending;if(tt!==null){b.shared.pending=null;var nt=tt,it=nt.next;nt.next=null,et===null?_e=it:et.next=it,et=nt;var ot=o.alternate;ot!==null&&(ot=ot.updateQueue,tt=ot.lastBaseUpdate,tt!==et&&(tt===null?ot.firstBaseUpdate=it:tt.next=it,ot.lastBaseUpdate=nt))}if(_e!==null){var st=b.baseState;et=0,ot=it=nt=null,tt=_e;do{var at=tt.lane,lt=tt.eventTime;if((_&at)===at){ot!==null&&(ot=ot.next={eventTime:lt,lane:0,tag:tt.tag,payload:tt.payload,callback:tt.callback,next:null});e:{var ut=o,ft=tt;switch(at=e,lt=a,ft.tag){case 1:if(ut=ft.payload,typeof ut=="function"){st=ut.call(lt,st,at);break e}st=ut;break e;case 3:ut.flags=ut.flags&-65537|128;case 0:if(ut=ft.payload,at=typeof ut=="function"?ut.call(lt,st,at):ut,at==null)break e;st=A$2({},st,at);break e;case 2:jh=!0}}tt.callback!==null&&tt.lane!==0&&(o.flags|=64,at=b.effects,at===null?b.effects=[tt]:at.push(tt))}else lt={eventTime:lt,lane:at,tag:tt.tag,payload:tt.payload,callback:tt.callback,next:null},ot===null?(it=ot=lt,nt=st):ot=ot.next=lt,et|=at;if(tt=tt.next,tt===null){if(tt=b.shared.pending,tt===null)break;at=tt,tt=at.next,at.next=null,b.lastBaseUpdate=at,b.shared.pending=null}}while(!0);if(ot===null&&(nt=st),b.baseState=nt,b.firstBaseUpdate=it,b.lastBaseUpdate=ot,e=b.shared.interleaved,e!==null){b=e;do et|=b.lane,b=b.next;while(b!==e)}else _e===null&&(b.shared.lanes=0);rh$1|=et,o.lanes=et,o.memoizedState=st}}function sh$1(o,e,a){if(o=e.effects,e.effects=null,o!==null)for(e=0;e<o.length;e++){var _=o[e],b=_.callback;if(b!==null){if(_.callback=null,_=a,typeof b!="function")throw Error(p$2(191,b));b.call(_)}}}var th={},uh=Uf(th),vh=Uf(th),wh=Uf(th);function xh(o){if(o===th)throw Error(p$2(174));return o}function yh(o,e){switch(G$2(wh,e),G$2(vh,o),G$2(uh,th),o=e.nodeType,o){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lb(null,"");break;default:o=o===8?e.parentNode:e,e=o.namespaceURI||null,o=o.tagName,e=lb(e,o)}E$2(uh),G$2(uh,e)}function zh$1(){E$2(uh),E$2(vh),E$2(wh)}function Ah(o){xh(wh.current);var e=xh(uh.current),a=lb(e,o.type);e!==a&&(G$2(vh,o),G$2(uh,a))}function Bh(o){vh.current===o&&(E$2(uh),E$2(vh))}var L$1=Uf(0);function Ch(o){for(var e=o;e!==null;){if(e.tag===13){var a=e.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===o)break;for(;e.sibling===null;){if(e.return===null||e.return===o)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Dh=[];function Eh(){for(var o=0;o<Dh.length;o++)Dh[o]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M$1=null,N$2=null,O$2=null,Ih=!1,Jh=!1,Kh$1=0,Lh=0;function P$1(){throw Error(p$2(321))}function Mh(o,e){if(e===null)return!1;for(var a=0;a<e.length&&a<o.length;a++)if(!He(o[a],e[a]))return!1;return!0}function Nh(o,e,a,_,b,_e){if(Hh=_e,M$1=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Fh.current=o===null||o.memoizedState===null?Oh:Ph,o=a(_,b),Jh){_e=0;do{if(Jh=!1,Kh$1=0,25<=_e)throw Error(p$2(301));_e+=1,O$2=N$2=null,e.updateQueue=null,Fh.current=Qh,o=a(_,b)}while(Jh)}if(Fh.current=Rh,e=N$2!==null&&N$2.next!==null,Hh=0,O$2=N$2=M$1=null,Ih=!1,e)throw Error(p$2(300));return o}function Sh(){var o=Kh$1!==0;return Kh$1=0,o}function Th(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O$2===null?M$1.memoizedState=O$2=o:O$2=O$2.next=o,O$2}function Uh(){if(N$2===null){var o=M$1.alternate;o=o!==null?o.memoizedState:null}else o=N$2.next;var e=O$2===null?M$1.memoizedState:O$2.next;if(e!==null)O$2=e,N$2=o;else{if(o===null)throw Error(p$2(310));N$2=o,o={memoizedState:N$2.memoizedState,baseState:N$2.baseState,baseQueue:N$2.baseQueue,queue:N$2.queue,next:null},O$2===null?M$1.memoizedState=O$2=o:O$2=O$2.next=o}return O$2}function Vh(o,e){return typeof e=="function"?e(o):e}function Wh(o){var e=Uh(),a=e.queue;if(a===null)throw Error(p$2(311));a.lastRenderedReducer=o;var _=N$2,b=_.baseQueue,_e=a.pending;if(_e!==null){if(b!==null){var et=b.next;b.next=_e.next,_e.next=et}_.baseQueue=b=_e,a.pending=null}if(b!==null){_e=b.next,_=_.baseState;var tt=et=null,nt=null,it=_e;do{var ot=it.lane;if((Hh&ot)===ot)nt!==null&&(nt=nt.next={lane:0,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null}),_=it.hasEagerState?it.eagerState:o(_,it.action);else{var st={lane:ot,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null};nt===null?(tt=nt=st,et=_):nt=nt.next=st,M$1.lanes|=ot,rh$1|=ot}it=it.next}while(it!==null&&it!==_e);nt===null?et=_:nt.next=tt,He(_,e.memoizedState)||(dh$1=!0),e.memoizedState=_,e.baseState=et,e.baseQueue=nt,a.lastRenderedState=_}if(o=a.interleaved,o!==null){b=o;do _e=b.lane,M$1.lanes|=_e,rh$1|=_e,b=b.next;while(b!==o)}else b===null&&(a.lanes=0);return[e.memoizedState,a.dispatch]}function Xh(o){var e=Uh(),a=e.queue;if(a===null)throw Error(p$2(311));a.lastRenderedReducer=o;var _=a.dispatch,b=a.pending,_e=e.memoizedState;if(b!==null){a.pending=null;var et=b=b.next;do _e=o(_e,et.action),et=et.next;while(et!==b);He(_e,e.memoizedState)||(dh$1=!0),e.memoizedState=_e,e.baseQueue===null&&(e.baseState=_e),a.lastRenderedState=_e}return[_e,_]}function Yh(){}function Zh(o,e){var a=M$1,_=Uh(),b=e(),_e=!He(_.memoizedState,b);if(_e&&(_.memoizedState=b,dh$1=!0),_=_.queue,$h(ai.bind(null,a,_,o),[o]),_.getSnapshot!==e||_e||O$2!==null&&O$2.memoizedState.tag&1){if(a.flags|=2048,bi(9,ci.bind(null,a,_,b,e),void 0,null),Q$1===null)throw Error(p$2(349));Hh&30||di(a,e,b)}return b}function di(o,e,a){o.flags|=16384,o={getSnapshot:e,value:a},e=M$1.updateQueue,e===null?(e={lastEffect:null,stores:null},M$1.updateQueue=e,e.stores=[o]):(a=e.stores,a===null?e.stores=[o]:a.push(o))}function ci(o,e,a,_){e.value=a,e.getSnapshot=_,ei(e)&&fi(o)}function ai(o,e,a){return a(function(){ei(e)&&fi(o)})}function ei(o){var e=o.getSnapshot;o=o.value;try{var a=e();return!He(o,a)}catch{return!0}}function fi(o){var e=ih(o,1);e!==null&&gi(e,o,1,-1)}function hi(o){var e=Th();return typeof o=="function"&&(o=o()),e.memoizedState=e.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:o},e.queue=o,o=o.dispatch=ii.bind(null,M$1,o),[e.memoizedState,o]}function bi(o,e,a,_){return o={tag:o,create:e,destroy:a,deps:_,next:null},e=M$1.updateQueue,e===null?(e={lastEffect:null,stores:null},M$1.updateQueue=e,e.lastEffect=o.next=o):(a=e.lastEffect,a===null?e.lastEffect=o.next=o:(_=a.next,a.next=o,o.next=_,e.lastEffect=o)),o}function ji(){return Uh().memoizedState}function ki(o,e,a,_){var b=Th();M$1.flags|=o,b.memoizedState=bi(1|e,a,void 0,_===void 0?null:_)}function li(o,e,a,_){var b=Uh();_=_===void 0?null:_;var _e=void 0;if(N$2!==null){var et=N$2.memoizedState;if(_e=et.destroy,_!==null&&Mh(_,et.deps)){b.memoizedState=bi(e,a,_e,_);return}}M$1.flags|=o,b.memoizedState=bi(1|e,a,_e,_)}function mi(o,e){return ki(8390656,8,o,e)}function $h(o,e){return li(2048,8,o,e)}function ni(o,e){return li(4,2,o,e)}function oi(o,e){return li(4,4,o,e)}function pi(o,e){if(typeof e=="function")return o=o(),e(o),function(){e(null)};if(e!=null)return o=o(),e.current=o,function(){e.current=null}}function qi(o,e,a){return a=a!=null?a.concat([o]):null,li(4,4,pi.bind(null,e,o),a)}function ri(){}function si(o,e){var a=Uh();e=e===void 0?null:e;var _=a.memoizedState;return _!==null&&e!==null&&Mh(e,_[1])?_[0]:(a.memoizedState=[o,e],o)}function ti(o,e){var a=Uh();e=e===void 0?null:e;var _=a.memoizedState;return _!==null&&e!==null&&Mh(e,_[1])?_[0]:(o=o(),a.memoizedState=[o,e],o)}function ui(o,e,a){return Hh&21?(He(a,e)||(a=yc(),M$1.lanes|=a,rh$1|=a,o.baseState=!0),e):(o.baseState&&(o.baseState=!1,dh$1=!0),o.memoizedState=a)}function vi(o,e){var a=C$2;C$2=a!==0&&4>a?a:4,o(!0);var _=Gh.transition;Gh.transition={};try{o(!1),e()}finally{C$2=a,Gh.transition=_}}function wi(){return Uh().memoizedState}function xi(o,e,a){var _=yi(o);if(a={lane:_,action:a,hasEagerState:!1,eagerState:null,next:null},zi(o))Ai(e,a);else if(a=hh(o,e,a,_),a!==null){var b=R$1();gi(a,o,_,b),Bi(a,e,_)}}function ii(o,e,a){var _=yi(o),b={lane:_,action:a,hasEagerState:!1,eagerState:null,next:null};if(zi(o))Ai(e,b);else{var _e=o.alternate;if(o.lanes===0&&(_e===null||_e.lanes===0)&&(_e=e.lastRenderedReducer,_e!==null))try{var et=e.lastRenderedState,tt=_e(et,a);if(b.hasEagerState=!0,b.eagerState=tt,He(tt,et)){var nt=e.interleaved;nt===null?(b.next=b,gh(e)):(b.next=nt.next,nt.next=b),e.interleaved=b;return}}catch{}finally{}a=hh(o,e,b,_),a!==null&&(b=R$1(),gi(a,o,_,b),Bi(a,e,_))}}function zi(o){var e=o.alternate;return o===M$1||e!==null&&e===M$1}function Ai(o,e){Jh=Ih=!0;var a=o.pending;a===null?e.next=e:(e.next=a.next,a.next=e),o.pending=e}function Bi(o,e,a){if(a&4194240){var _=e.lanes;_&=o.pendingLanes,a|=_,e.lanes=a,Cc(o,a)}}var Rh={readContext:eh,useCallback:P$1,useContext:P$1,useEffect:P$1,useImperativeHandle:P$1,useInsertionEffect:P$1,useLayoutEffect:P$1,useMemo:P$1,useReducer:P$1,useRef:P$1,useState:P$1,useDebugValue:P$1,useDeferredValue:P$1,useTransition:P$1,useMutableSource:P$1,useSyncExternalStore:P$1,useId:P$1,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(o,e){return Th().memoizedState=[o,e===void 0?null:e],o},useContext:eh,useEffect:mi,useImperativeHandle:function(o,e,a){return a=a!=null?a.concat([o]):null,ki(4194308,4,pi.bind(null,e,o),a)},useLayoutEffect:function(o,e){return ki(4194308,4,o,e)},useInsertionEffect:function(o,e){return ki(4,2,o,e)},useMemo:function(o,e){var a=Th();return e=e===void 0?null:e,o=o(),a.memoizedState=[o,e],o},useReducer:function(o,e,a){var _=Th();return e=a!==void 0?a(e):e,_.memoizedState=_.baseState=e,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:e},_.queue=o,o=o.dispatch=xi.bind(null,M$1,o),[_.memoizedState,o]},useRef:function(o){var e=Th();return o={current:o},e.memoizedState=o},useState:hi,useDebugValue:ri,useDeferredValue:function(o){return Th().memoizedState=o},useTransition:function(){var o=hi(!1),e=o[0];return o=vi.bind(null,o[1]),Th().memoizedState=o,[e,o]},useMutableSource:function(){},useSyncExternalStore:function(o,e,a){var _=M$1,b=Th();if(I){if(a===void 0)throw Error(p$2(407));a=a()}else{if(a=e(),Q$1===null)throw Error(p$2(349));Hh&30||di(_,e,a)}b.memoizedState=a;var _e={value:a,getSnapshot:e};return b.queue=_e,mi(ai.bind(null,_,_e,o),[o]),_.flags|=2048,bi(9,ci.bind(null,_,_e,a,e),void 0,null),a},useId:function(){var o=Th(),e=Q$1.identifierPrefix;if(I){var a=sg,_=rg;a=(_&~(1<<32-oc(_)-1)).toString(32)+a,e=":"+e+"R"+a,a=Kh$1++,0<a&&(e+="H"+a.toString(32)),e+=":"}else a=Lh++,e=":"+e+"r"+a.toString(32)+":";return o.memoizedState=e},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(o){var e=Uh();return ui(e,N$2.memoizedState,o)},useTransition:function(){var o=Wh(Vh)[0],e=Uh().memoizedState;return[o,e]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(o){var e=Uh();return N$2===null?e.memoizedState=o:ui(e,N$2.memoizedState,o)},useTransition:function(){var o=Xh(Vh)[0],e=Uh().memoizedState;return[o,e]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(o,e){if(o&&o.defaultProps){e=A$2({},e),o=o.defaultProps;for(var a in o)e[a]===void 0&&(e[a]=o[a]);return e}return e}function Di(o,e,a,_){e=o.memoizedState,a=a(_,e),a=a==null?e:A$2({},e,a),o.memoizedState=a,o.lanes===0&&(o.updateQueue.baseState=a)}var Ei={isMounted:function(o){return(o=o._reactInternals)?Vb(o)===o:!1},enqueueSetState:function(o,e,a){o=o._reactInternals;var _=R$1(),b=yi(o),_e=mh(_,b);_e.payload=e,a!=null&&(_e.callback=a),e=nh(o,_e,b),e!==null&&(gi(e,o,b,_),oh(e,o,b))},enqueueReplaceState:function(o,e,a){o=o._reactInternals;var _=R$1(),b=yi(o),_e=mh(_,b);_e.tag=1,_e.payload=e,a!=null&&(_e.callback=a),e=nh(o,_e,b),e!==null&&(gi(e,o,b,_),oh(e,o,b))},enqueueForceUpdate:function(o,e){o=o._reactInternals;var a=R$1(),_=yi(o),b=mh(a,_);b.tag=2,e!=null&&(b.callback=e),e=nh(o,b,_),e!==null&&(gi(e,o,_,a),oh(e,o,_))}};function Fi(o,e,a,_,b,_e,et){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(_,_e,et):e.prototype&&e.prototype.isPureReactComponent?!Ie(a,_)||!Ie(b,_e):!0}function Gi(o,e,a){var _=!1,b=Vf,_e=e.contextType;return typeof _e=="object"&&_e!==null?_e=eh(_e):(b=Zf(e)?Xf:H$2.current,_=e.contextTypes,_e=(_=_!=null)?Yf(o,b):Vf),e=new e(a,_e),o.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ei,o.stateNode=e,e._reactInternals=o,_&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=b,o.__reactInternalMemoizedMaskedChildContext=_e),e}function Hi(o,e,a,_){o=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(a,_),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(a,_),e.state!==o&&Ei.enqueueReplaceState(e,e.state,null)}function Ii(o,e,a,_){var b=o.stateNode;b.props=a,b.state=o.memoizedState,b.refs={},kh(o);var _e=e.contextType;typeof _e=="object"&&_e!==null?b.context=eh(_e):(_e=Zf(e)?Xf:H$2.current,b.context=Yf(o,_e)),b.state=o.memoizedState,_e=e.getDerivedStateFromProps,typeof _e=="function"&&(Di(o,e,_e,a),b.state=o.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(e=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),e!==b.state&&Ei.enqueueReplaceState(b,b.state,null),qh(o,a,b,_),b.state=o.memoizedState),typeof b.componentDidMount=="function"&&(o.flags|=4194308)}function Ji(o,e){try{var a="",_=e;do a+=Pa(_),_=_.return;while(_);var b=a}catch(_e){b=`
Error generating stack: `+_e.message+`
`+_e.stack}return{value:o,source:e,stack:b,digest:null}}function Ki(o,e,a){return{value:o,source:null,stack:a??null,digest:e??null}}function Li(o,e){try{console.error(e.value)}catch(a){setTimeout(function(){throw a})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(o,e,a){a=mh(-1,a),a.tag=3,a.payload={element:null};var _=e.value;return a.callback=function(){Oi||(Oi=!0,Pi=_),Li(o,e)},a}function Qi(o,e,a){a=mh(-1,a),a.tag=3;var _=o.type.getDerivedStateFromError;if(typeof _=="function"){var b=e.value;a.payload=function(){return _(b)},a.callback=function(){Li(o,e)}}var _e=o.stateNode;return _e!==null&&typeof _e.componentDidCatch=="function"&&(a.callback=function(){Li(o,e),typeof _!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var et=e.stack;this.componentDidCatch(e.value,{componentStack:et!==null?et:""})}),a}function Si(o,e,a){var _=o.pingCache;if(_===null){_=o.pingCache=new Mi;var b=new Set;_.set(e,b)}else b=_.get(e),b===void 0&&(b=new Set,_.set(e,b));b.has(a)||(b.add(a),o=Ti.bind(null,o,e,a),e.then(o,o))}function Ui(o){do{var e;if((e=o.tag===13)&&(e=o.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return o;o=o.return}while(o!==null);return null}function Vi(o,e,a,_,b){return o.mode&1?(o.flags|=65536,o.lanes=b,o):(o===e?o.flags|=65536:(o.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(e=mh(-1,1),e.tag=2,nh(a,e,1))),a.lanes|=1),o)}var Wi=ua.ReactCurrentOwner,dh$1=!1;function Xi(o,e,a,_){e.child=o===null?Vg(e,null,a,_):Ug(e,o.child,a,_)}function Yi(o,e,a,_,b){a=a.render;var _e=e.ref;return ch(e,b),_=Nh(o,e,a,_,_e,b),a=Sh(),o!==null&&!dh$1?(e.updateQueue=o.updateQueue,e.flags&=-2053,o.lanes&=~b,Zi(o,e,b)):(I&&a&&vg(e),e.flags|=1,Xi(o,e,_,b),e.child)}function $i(o,e,a,_,b){if(o===null){var _e=a.type;return typeof _e=="function"&&!aj(_e)&&_e.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(e.tag=15,e.type=_e,bj(o,e,_e,_,b)):(o=Rg(a.type,null,_,e,e.mode,b),o.ref=e.ref,o.return=e,e.child=o)}if(_e=o.child,!(o.lanes&b)){var et=_e.memoizedProps;if(a=a.compare,a=a!==null?a:Ie,a(et,_)&&o.ref===e.ref)return Zi(o,e,b)}return e.flags|=1,o=Pg(_e,_),o.ref=e.ref,o.return=e,e.child=o}function bj(o,e,a,_,b){if(o!==null){var _e=o.memoizedProps;if(Ie(_e,_)&&o.ref===e.ref)if(dh$1=!1,e.pendingProps=_=_e,(o.lanes&b)!==0)o.flags&131072&&(dh$1=!0);else return e.lanes=o.lanes,Zi(o,e,b)}return cj(o,e,a,_,b)}function dj(o,e,a){var _=e.pendingProps,b=_.children,_e=o!==null?o.memoizedState:null;if(_.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$2(ej,fj),fj|=a;else{if(!(a&1073741824))return o=_e!==null?_e.baseLanes|a:a,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:o,cachePool:null,transitions:null},e.updateQueue=null,G$2(ej,fj),fj|=o,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},_=_e!==null?_e.baseLanes:a,G$2(ej,fj),fj|=_}else _e!==null?(_=_e.baseLanes|a,e.memoizedState=null):_=a,G$2(ej,fj),fj|=_;return Xi(o,e,b,a),e.child}function gj(o,e){var a=e.ref;(o===null&&a!==null||o!==null&&o.ref!==a)&&(e.flags|=512,e.flags|=2097152)}function cj(o,e,a,_,b){var _e=Zf(a)?Xf:H$2.current;return _e=Yf(e,_e),ch(e,b),a=Nh(o,e,a,_,_e,b),_=Sh(),o!==null&&!dh$1?(e.updateQueue=o.updateQueue,e.flags&=-2053,o.lanes&=~b,Zi(o,e,b)):(I&&_&&vg(e),e.flags|=1,Xi(o,e,a,b),e.child)}function hj(o,e,a,_,b){if(Zf(a)){var _e=!0;cg(e)}else _e=!1;if(ch(e,b),e.stateNode===null)ij(o,e),Gi(e,a,_),Ii(e,a,_,b),_=!0;else if(o===null){var et=e.stateNode,tt=e.memoizedProps;et.props=tt;var nt=et.context,it=a.contextType;typeof it=="object"&&it!==null?it=eh(it):(it=Zf(a)?Xf:H$2.current,it=Yf(e,it));var ot=a.getDerivedStateFromProps,st=typeof ot=="function"||typeof et.getSnapshotBeforeUpdate=="function";st||typeof et.UNSAFE_componentWillReceiveProps!="function"&&typeof et.componentWillReceiveProps!="function"||(tt!==_||nt!==it)&&Hi(e,et,_,it),jh=!1;var at=e.memoizedState;et.state=at,qh(e,_,et,b),nt=e.memoizedState,tt!==_||at!==nt||Wf.current||jh?(typeof ot=="function"&&(Di(e,a,ot,_),nt=e.memoizedState),(tt=jh||Fi(e,a,tt,_,at,nt,it))?(st||typeof et.UNSAFE_componentWillMount!="function"&&typeof et.componentWillMount!="function"||(typeof et.componentWillMount=="function"&&et.componentWillMount(),typeof et.UNSAFE_componentWillMount=="function"&&et.UNSAFE_componentWillMount()),typeof et.componentDidMount=="function"&&(e.flags|=4194308)):(typeof et.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=_,e.memoizedState=nt),et.props=_,et.state=nt,et.context=it,_=tt):(typeof et.componentDidMount=="function"&&(e.flags|=4194308),_=!1)}else{et=e.stateNode,lh(o,e),tt=e.memoizedProps,it=e.type===e.elementType?tt:Ci(e.type,tt),et.props=it,st=e.pendingProps,at=et.context,nt=a.contextType,typeof nt=="object"&&nt!==null?nt=eh(nt):(nt=Zf(a)?Xf:H$2.current,nt=Yf(e,nt));var lt=a.getDerivedStateFromProps;(ot=typeof lt=="function"||typeof et.getSnapshotBeforeUpdate=="function")||typeof et.UNSAFE_componentWillReceiveProps!="function"&&typeof et.componentWillReceiveProps!="function"||(tt!==st||at!==nt)&&Hi(e,et,_,nt),jh=!1,at=e.memoizedState,et.state=at,qh(e,_,et,b);var ut=e.memoizedState;tt!==st||at!==ut||Wf.current||jh?(typeof lt=="function"&&(Di(e,a,lt,_),ut=e.memoizedState),(it=jh||Fi(e,a,it,_,at,ut,nt)||!1)?(ot||typeof et.UNSAFE_componentWillUpdate!="function"&&typeof et.componentWillUpdate!="function"||(typeof et.componentWillUpdate=="function"&&et.componentWillUpdate(_,ut,nt),typeof et.UNSAFE_componentWillUpdate=="function"&&et.UNSAFE_componentWillUpdate(_,ut,nt)),typeof et.componentDidUpdate=="function"&&(e.flags|=4),typeof et.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof et.componentDidUpdate!="function"||tt===o.memoizedProps&&at===o.memoizedState||(e.flags|=4),typeof et.getSnapshotBeforeUpdate!="function"||tt===o.memoizedProps&&at===o.memoizedState||(e.flags|=1024),e.memoizedProps=_,e.memoizedState=ut),et.props=_,et.state=ut,et.context=nt,_=it):(typeof et.componentDidUpdate!="function"||tt===o.memoizedProps&&at===o.memoizedState||(e.flags|=4),typeof et.getSnapshotBeforeUpdate!="function"||tt===o.memoizedProps&&at===o.memoizedState||(e.flags|=1024),_=!1)}return jj(o,e,a,_,_e,b)}function jj(o,e,a,_,b,_e){gj(o,e);var et=(e.flags&128)!==0;if(!_&&!et)return b&&dg(e,a,!1),Zi(o,e,_e);_=e.stateNode,Wi.current=e;var tt=et&&typeof a.getDerivedStateFromError!="function"?null:_.render();return e.flags|=1,o!==null&&et?(e.child=Ug(e,o.child,null,_e),e.child=Ug(e,null,tt,_e)):Xi(o,e,tt,_e),e.memoizedState=_.state,b&&dg(e,a,!0),e.child}function kj(o){var e=o.stateNode;e.pendingContext?ag(o,e.pendingContext,e.pendingContext!==e.context):e.context&&ag(o,e.context,!1),yh(o,e.containerInfo)}function lj(o,e,a,_,b){return Ig(),Jg(b),e.flags|=256,Xi(o,e,a,_),e.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(o){return{baseLanes:o,cachePool:null,transitions:null}}function oj(o,e,a){var _=e.pendingProps,b=L$1.current,_e=!1,et=(e.flags&128)!==0,tt;if((tt=et)||(tt=o!==null&&o.memoizedState===null?!1:(b&2)!==0),tt?(_e=!0,e.flags&=-129):(o===null||o.memoizedState!==null)&&(b|=1),G$2(L$1,b&1),o===null)return Eg(e),o=e.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?(e.mode&1?o.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(et=_.children,o=_.fallback,_e?(_=e.mode,_e=e.child,et={mode:"hidden",children:et},!(_&1)&&_e!==null?(_e.childLanes=0,_e.pendingProps=et):_e=pj(et,_,0,null),o=Tg(o,_,a,null),_e.return=e,o.return=e,_e.sibling=o,e.child=_e,e.child.memoizedState=nj(a),e.memoizedState=mj,o):qj(e,et));if(b=o.memoizedState,b!==null&&(tt=b.dehydrated,tt!==null))return rj(o,e,et,_,tt,b,a);if(_e){_e=_.fallback,et=e.mode,b=o.child,tt=b.sibling;var nt={mode:"hidden",children:_.children};return!(et&1)&&e.child!==b?(_=e.child,_.childLanes=0,_.pendingProps=nt,e.deletions=null):(_=Pg(b,nt),_.subtreeFlags=b.subtreeFlags&14680064),tt!==null?_e=Pg(tt,_e):(_e=Tg(_e,et,a,null),_e.flags|=2),_e.return=e,_.return=e,_.sibling=_e,e.child=_,_=_e,_e=e.child,et=o.child.memoizedState,et=et===null?nj(a):{baseLanes:et.baseLanes|a,cachePool:null,transitions:et.transitions},_e.memoizedState=et,_e.childLanes=o.childLanes&~a,e.memoizedState=mj,_}return _e=o.child,o=_e.sibling,_=Pg(_e,{mode:"visible",children:_.children}),!(e.mode&1)&&(_.lanes=a),_.return=e,_.sibling=null,o!==null&&(a=e.deletions,a===null?(e.deletions=[o],e.flags|=16):a.push(o)),e.child=_,e.memoizedState=null,_}function qj(o,e){return e=pj({mode:"visible",children:e},o.mode,0,null),e.return=o,o.child=e}function sj(o,e,a,_){return _!==null&&Jg(_),Ug(e,o.child,null,a),o=qj(e,e.pendingProps.children),o.flags|=2,e.memoizedState=null,o}function rj(o,e,a,_,b,_e,et){if(a)return e.flags&256?(e.flags&=-257,_=Ki(Error(p$2(422))),sj(o,e,et,_)):e.memoizedState!==null?(e.child=o.child,e.flags|=128,null):(_e=_.fallback,b=e.mode,_=pj({mode:"visible",children:_.children},b,0,null),_e=Tg(_e,b,et,null),_e.flags|=2,_.return=e,_e.return=e,_.sibling=_e,e.child=_,e.mode&1&&Ug(e,o.child,null,et),e.child.memoizedState=nj(et),e.memoizedState=mj,_e);if(!(e.mode&1))return sj(o,e,et,null);if(b.data==="$!"){if(_=b.nextSibling&&b.nextSibling.dataset,_)var tt=_.dgst;return _=tt,_e=Error(p$2(419)),_=Ki(_e,_,void 0),sj(o,e,et,_)}if(tt=(et&o.childLanes)!==0,dh$1||tt){if(_=Q$1,_!==null){switch(et&-et){case 4:b=2;break;case 16:b=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:b=32;break;case 536870912:b=268435456;break;default:b=0}b=b&(_.suspendedLanes|et)?0:b,b!==0&&b!==_e.retryLane&&(_e.retryLane=b,ih(o,b),gi(_,o,b,-1))}return tj(),_=Ki(Error(p$2(421))),sj(o,e,et,_)}return b.data==="$?"?(e.flags|=128,e.child=o.child,e=uj.bind(null,o),b._reactRetry=e,null):(o=_e.treeContext,yg=Lf(b.nextSibling),xg=e,I=!0,zg=null,o!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=o.id,sg=o.overflow,qg=e),e=qj(e,_.children),e.flags|=4096,e)}function vj(o,e,a){o.lanes|=e;var _=o.alternate;_!==null&&(_.lanes|=e),bh(o.return,e,a)}function wj(o,e,a,_,b){var _e=o.memoizedState;_e===null?o.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:_,tail:a,tailMode:b}:(_e.isBackwards=e,_e.rendering=null,_e.renderingStartTime=0,_e.last=_,_e.tail=a,_e.tailMode=b)}function xj(o,e,a){var _=e.pendingProps,b=_.revealOrder,_e=_.tail;if(Xi(o,e,_.children,a),_=L$1.current,_&2)_=_&1|2,e.flags|=128;else{if(o!==null&&o.flags&128)e:for(o=e.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&vj(o,a,e);else if(o.tag===19)vj(o,a,e);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===e)break e;for(;o.sibling===null;){if(o.return===null||o.return===e)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}_&=1}if(G$2(L$1,_),!(e.mode&1))e.memoizedState=null;else switch(b){case"forwards":for(a=e.child,b=null;a!==null;)o=a.alternate,o!==null&&Ch(o)===null&&(b=a),a=a.sibling;a=b,a===null?(b=e.child,e.child=null):(b=a.sibling,a.sibling=null),wj(e,!1,b,a,_e);break;case"backwards":for(a=null,b=e.child,e.child=null;b!==null;){if(o=b.alternate,o!==null&&Ch(o)===null){e.child=b;break}o=b.sibling,b.sibling=a,a=b,b=o}wj(e,!0,a,null,_e);break;case"together":wj(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ij(o,e){!(e.mode&1)&&o!==null&&(o.alternate=null,e.alternate=null,e.flags|=2)}function Zi(o,e,a){if(o!==null&&(e.dependencies=o.dependencies),rh$1|=e.lanes,!(a&e.childLanes))return null;if(o!==null&&e.child!==o.child)throw Error(p$2(153));if(e.child!==null){for(o=e.child,a=Pg(o,o.pendingProps),e.child=a,a.return=e;o.sibling!==null;)o=o.sibling,a=a.sibling=Pg(o,o.pendingProps),a.return=e;a.sibling=null}return e.child}function yj(o,e,a){switch(e.tag){case 3:kj(e),Ig();break;case 5:Ah(e);break;case 1:Zf(e.type)&&cg(e);break;case 4:yh(e,e.stateNode.containerInfo);break;case 10:var _=e.type._context,b=e.memoizedProps.value;G$2(Wg,_._currentValue),_._currentValue=b;break;case 13:if(_=e.memoizedState,_!==null)return _.dehydrated!==null?(G$2(L$1,L$1.current&1),e.flags|=128,null):a&e.child.childLanes?oj(o,e,a):(G$2(L$1,L$1.current&1),o=Zi(o,e,a),o!==null?o.sibling:null);G$2(L$1,L$1.current&1);break;case 19:if(_=(a&e.childLanes)!==0,o.flags&128){if(_)return xj(o,e,a);e.flags|=128}if(b=e.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),G$2(L$1,L$1.current),_)break;return null;case 22:case 23:return e.lanes=0,dj(o,e,a)}return Zi(o,e,a)}var zj,Aj,Bj,Cj;zj=function(o,e){for(var a=e.child;a!==null;){if(a.tag===5||a.tag===6)o.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break;for(;a.sibling===null;){if(a.return===null||a.return===e)return;a=a.return}a.sibling.return=a.return,a=a.sibling}};Aj=function(){};Bj=function(o,e,a,_){var b=o.memoizedProps;if(b!==_){o=e.stateNode,xh(uh.current);var _e=null;switch(a){case"input":b=Ya(o,b),_=Ya(o,_),_e=[];break;case"select":b=A$2({},b,{value:void 0}),_=A$2({},_,{value:void 0}),_e=[];break;case"textarea":b=gb(o,b),_=gb(o,_),_e=[];break;default:typeof b.onClick!="function"&&typeof _.onClick=="function"&&(o.onclick=Bf)}ub(a,_);var et;a=null;for(it in b)if(!_.hasOwnProperty(it)&&b.hasOwnProperty(it)&&b[it]!=null)if(it==="style"){var tt=b[it];for(et in tt)tt.hasOwnProperty(et)&&(a||(a={}),a[et]="")}else it!=="dangerouslySetInnerHTML"&&it!=="children"&&it!=="suppressContentEditableWarning"&&it!=="suppressHydrationWarning"&&it!=="autoFocus"&&(ea.hasOwnProperty(it)?_e||(_e=[]):(_e=_e||[]).push(it,null));for(it in _){var nt=_[it];if(tt=b!=null?b[it]:void 0,_.hasOwnProperty(it)&&nt!==tt&&(nt!=null||tt!=null))if(it==="style")if(tt){for(et in tt)!tt.hasOwnProperty(et)||nt&&nt.hasOwnProperty(et)||(a||(a={}),a[et]="");for(et in nt)nt.hasOwnProperty(et)&&tt[et]!==nt[et]&&(a||(a={}),a[et]=nt[et])}else a||(_e||(_e=[]),_e.push(it,a)),a=nt;else it==="dangerouslySetInnerHTML"?(nt=nt?nt.__html:void 0,tt=tt?tt.__html:void 0,nt!=null&&tt!==nt&&(_e=_e||[]).push(it,nt)):it==="children"?typeof nt!="string"&&typeof nt!="number"||(_e=_e||[]).push(it,""+nt):it!=="suppressContentEditableWarning"&&it!=="suppressHydrationWarning"&&(ea.hasOwnProperty(it)?(nt!=null&&it==="onScroll"&&D$3("scroll",o),_e||tt===nt||(_e=[])):(_e=_e||[]).push(it,nt))}a&&(_e=_e||[]).push("style",a);var it=_e;(e.updateQueue=it)&&(e.flags|=4)}};Cj=function(o,e,a,_){a!==_&&(e.flags|=4)};function Dj(o,e){if(!I)switch(o.tailMode){case"hidden":e=o.tail;for(var a=null;e!==null;)e.alternate!==null&&(a=e),e=e.sibling;a===null?o.tail=null:a.sibling=null;break;case"collapsed":a=o.tail;for(var _=null;a!==null;)a.alternate!==null&&(_=a),a=a.sibling;_===null?e||o.tail===null?o.tail=null:o.tail.sibling=null:_.sibling=null}}function S$2(o){var e=o.alternate!==null&&o.alternate.child===o.child,a=0,_=0;if(e)for(var b=o.child;b!==null;)a|=b.lanes|b.childLanes,_|=b.subtreeFlags&14680064,_|=b.flags&14680064,b.return=o,b=b.sibling;else for(b=o.child;b!==null;)a|=b.lanes|b.childLanes,_|=b.subtreeFlags,_|=b.flags,b.return=o,b=b.sibling;return o.subtreeFlags|=_,o.childLanes=a,e}function Ej(o,e,a){var _=e.pendingProps;switch(wg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$2(e),null;case 1:return Zf(e.type)&&$f(),S$2(e),null;case 3:return _=e.stateNode,zh$1(),E$2(Wf),E$2(H$2),Eh(),_.pendingContext&&(_.context=_.pendingContext,_.pendingContext=null),(o===null||o.child===null)&&(Gg(e)?e.flags|=4:o===null||o.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(o,e),S$2(e),null;case 5:Bh(e);var b=xh(wh.current);if(a=e.type,o!==null&&e.stateNode!=null)Bj(o,e,a,_,b),o.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!_){if(e.stateNode===null)throw Error(p$2(166));return S$2(e),null}if(o=xh(uh.current),Gg(e)){_=e.stateNode,a=e.type;var _e=e.memoizedProps;switch(_[Of]=e,_[Pf]=_e,o=(e.mode&1)!==0,a){case"dialog":D$3("cancel",_),D$3("close",_);break;case"iframe":case"object":case"embed":D$3("load",_);break;case"video":case"audio":for(b=0;b<lf.length;b++)D$3(lf[b],_);break;case"source":D$3("error",_);break;case"img":case"image":case"link":D$3("error",_),D$3("load",_);break;case"details":D$3("toggle",_);break;case"input":Za(_,_e),D$3("invalid",_);break;case"select":_._wrapperState={wasMultiple:!!_e.multiple},D$3("invalid",_);break;case"textarea":hb(_,_e),D$3("invalid",_)}ub(a,_e),b=null;for(var et in _e)if(_e.hasOwnProperty(et)){var tt=_e[et];et==="children"?typeof tt=="string"?_.textContent!==tt&&(_e.suppressHydrationWarning!==!0&&Af(_.textContent,tt,o),b=["children",tt]):typeof tt=="number"&&_.textContent!==""+tt&&(_e.suppressHydrationWarning!==!0&&Af(_.textContent,tt,o),b=["children",""+tt]):ea.hasOwnProperty(et)&&tt!=null&&et==="onScroll"&&D$3("scroll",_)}switch(a){case"input":Va(_),db(_,_e,!0);break;case"textarea":Va(_),jb(_);break;case"select":case"option":break;default:typeof _e.onClick=="function"&&(_.onclick=Bf)}_=b,e.updateQueue=_,_!==null&&(e.flags|=4)}else{et=b.nodeType===9?b:b.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=kb(a)),o==="http://www.w3.org/1999/xhtml"?a==="script"?(o=et.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof _.is=="string"?o=et.createElement(a,{is:_.is}):(o=et.createElement(a),a==="select"&&(et=o,_.multiple?et.multiple=!0:_.size&&(et.size=_.size))):o=et.createElementNS(o,a),o[Of]=e,o[Pf]=_,zj(o,e,!1,!1),e.stateNode=o;e:{switch(et=vb(a,_),a){case"dialog":D$3("cancel",o),D$3("close",o),b=_;break;case"iframe":case"object":case"embed":D$3("load",o),b=_;break;case"video":case"audio":for(b=0;b<lf.length;b++)D$3(lf[b],o);b=_;break;case"source":D$3("error",o),b=_;break;case"img":case"image":case"link":D$3("error",o),D$3("load",o),b=_;break;case"details":D$3("toggle",o),b=_;break;case"input":Za(o,_),b=Ya(o,_),D$3("invalid",o);break;case"option":b=_;break;case"select":o._wrapperState={wasMultiple:!!_.multiple},b=A$2({},_,{value:void 0}),D$3("invalid",o);break;case"textarea":hb(o,_),b=gb(o,_),D$3("invalid",o);break;default:b=_}ub(a,b),tt=b;for(_e in tt)if(tt.hasOwnProperty(_e)){var nt=tt[_e];_e==="style"?sb(o,nt):_e==="dangerouslySetInnerHTML"?(nt=nt?nt.__html:void 0,nt!=null&&nb(o,nt)):_e==="children"?typeof nt=="string"?(a!=="textarea"||nt!=="")&&ob(o,nt):typeof nt=="number"&&ob(o,""+nt):_e!=="suppressContentEditableWarning"&&_e!=="suppressHydrationWarning"&&_e!=="autoFocus"&&(ea.hasOwnProperty(_e)?nt!=null&&_e==="onScroll"&&D$3("scroll",o):nt!=null&&ta(o,_e,nt,et))}switch(a){case"input":Va(o),db(o,_,!1);break;case"textarea":Va(o),jb(o);break;case"option":_.value!=null&&o.setAttribute("value",""+Sa(_.value));break;case"select":o.multiple=!!_.multiple,_e=_.value,_e!=null?fb(o,!!_.multiple,_e,!1):_.defaultValue!=null&&fb(o,!!_.multiple,_.defaultValue,!0);break;default:typeof b.onClick=="function"&&(o.onclick=Bf)}switch(a){case"button":case"input":case"select":case"textarea":_=!!_.autoFocus;break e;case"img":_=!0;break e;default:_=!1}}_&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return S$2(e),null;case 6:if(o&&e.stateNode!=null)Cj(o,e,o.memoizedProps,_);else{if(typeof _!="string"&&e.stateNode===null)throw Error(p$2(166));if(a=xh(wh.current),xh(uh.current),Gg(e)){if(_=e.stateNode,a=e.memoizedProps,_[Of]=e,(_e=_.nodeValue!==a)&&(o=xg,o!==null))switch(o.tag){case 3:Af(_.nodeValue,a,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&Af(_.nodeValue,a,(o.mode&1)!==0)}_e&&(e.flags|=4)}else _=(a.nodeType===9?a:a.ownerDocument).createTextNode(_),_[Of]=e,e.stateNode=_}return S$2(e),null;case 13:if(E$2(L$1),_=e.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(I&&yg!==null&&e.mode&1&&!(e.flags&128))Hg(),Ig(),e.flags|=98560,_e=!1;else if(_e=Gg(e),_!==null&&_.dehydrated!==null){if(o===null){if(!_e)throw Error(p$2(318));if(_e=e.memoizedState,_e=_e!==null?_e.dehydrated:null,!_e)throw Error(p$2(317));_e[Of]=e}else Ig(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;S$2(e),_e=!1}else zg!==null&&(Fj(zg),zg=null),_e=!0;if(!_e)return e.flags&65536?e:null}return e.flags&128?(e.lanes=a,e):(_=_!==null,_!==(o!==null&&o.memoizedState!==null)&&_&&(e.child.flags|=8192,e.mode&1&&(o===null||L$1.current&1?T$2===0&&(T$2=3):tj())),e.updateQueue!==null&&(e.flags|=4),S$2(e),null);case 4:return zh$1(),Aj(o,e),o===null&&sf(e.stateNode.containerInfo),S$2(e),null;case 10:return ah(e.type._context),S$2(e),null;case 17:return Zf(e.type)&&$f(),S$2(e),null;case 19:if(E$2(L$1),_e=e.memoizedState,_e===null)return S$2(e),null;if(_=(e.flags&128)!==0,et=_e.rendering,et===null)if(_)Dj(_e,!1);else{if(T$2!==0||o!==null&&o.flags&128)for(o=e.child;o!==null;){if(et=Ch(o),et!==null){for(e.flags|=128,Dj(_e,!1),_=et.updateQueue,_!==null&&(e.updateQueue=_,e.flags|=4),e.subtreeFlags=0,_=a,a=e.child;a!==null;)_e=a,o=_,_e.flags&=14680066,et=_e.alternate,et===null?(_e.childLanes=0,_e.lanes=o,_e.child=null,_e.subtreeFlags=0,_e.memoizedProps=null,_e.memoizedState=null,_e.updateQueue=null,_e.dependencies=null,_e.stateNode=null):(_e.childLanes=et.childLanes,_e.lanes=et.lanes,_e.child=et.child,_e.subtreeFlags=0,_e.deletions=null,_e.memoizedProps=et.memoizedProps,_e.memoizedState=et.memoizedState,_e.updateQueue=et.updateQueue,_e.type=et.type,o=et.dependencies,_e.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a=a.sibling;return G$2(L$1,L$1.current&1|2),e.child}o=o.sibling}_e.tail!==null&&B$2()>Gj&&(e.flags|=128,_=!0,Dj(_e,!1),e.lanes=4194304)}else{if(!_)if(o=Ch(et),o!==null){if(e.flags|=128,_=!0,a=o.updateQueue,a!==null&&(e.updateQueue=a,e.flags|=4),Dj(_e,!0),_e.tail===null&&_e.tailMode==="hidden"&&!et.alternate&&!I)return S$2(e),null}else 2*B$2()-_e.renderingStartTime>Gj&&a!==1073741824&&(e.flags|=128,_=!0,Dj(_e,!1),e.lanes=4194304);_e.isBackwards?(et.sibling=e.child,e.child=et):(a=_e.last,a!==null?a.sibling=et:e.child=et,_e.last=et)}return _e.tail!==null?(e=_e.tail,_e.rendering=e,_e.tail=e.sibling,_e.renderingStartTime=B$2(),e.sibling=null,a=L$1.current,G$2(L$1,_?a&1|2:a&1),e):(S$2(e),null);case 22:case 23:return Hj(),_=e.memoizedState!==null,o!==null&&o.memoizedState!==null!==_&&(e.flags|=8192),_&&e.mode&1?fj&1073741824&&(S$2(e),e.subtreeFlags&6&&(e.flags|=8192)):S$2(e),null;case 24:return null;case 25:return null}throw Error(p$2(156,e.tag))}function Ij(o,e){switch(wg(e),e.tag){case 1:return Zf(e.type)&&$f(),o=e.flags,o&65536?(e.flags=o&-65537|128,e):null;case 3:return zh$1(),E$2(Wf),E$2(H$2),Eh(),o=e.flags,o&65536&&!(o&128)?(e.flags=o&-65537|128,e):null;case 5:return Bh(e),null;case 13:if(E$2(L$1),o=e.memoizedState,o!==null&&o.dehydrated!==null){if(e.alternate===null)throw Error(p$2(340));Ig()}return o=e.flags,o&65536?(e.flags=o&-65537|128,e):null;case 19:return E$2(L$1),null;case 4:return zh$1(),null;case 10:return ah(e.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U$1=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V$2=null;function Lj(o,e){var a=o.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(_){W$2(o,e,_)}else a.current=null}function Mj(o,e,a){try{a()}catch(_){W$2(o,e,_)}}var Nj=!1;function Oj(o,e){if(Cf=dd,o=Me(),Ne(o)){if("selectionStart"in o)var a={start:o.selectionStart,end:o.selectionEnd};else e:{a=(a=o.ownerDocument)&&a.defaultView||window;var _=a.getSelection&&a.getSelection();if(_&&_.rangeCount!==0){a=_.anchorNode;var b=_.anchorOffset,_e=_.focusNode;_=_.focusOffset;try{a.nodeType,_e.nodeType}catch{a=null;break e}var et=0,tt=-1,nt=-1,it=0,ot=0,st=o,at=null;t:for(;;){for(var lt;st!==a||b!==0&&st.nodeType!==3||(tt=et+b),st!==_e||_!==0&&st.nodeType!==3||(nt=et+_),st.nodeType===3&&(et+=st.nodeValue.length),(lt=st.firstChild)!==null;)at=st,st=lt;for(;;){if(st===o)break t;if(at===a&&++it===b&&(tt=et),at===_e&&++ot===_&&(nt=et),(lt=st.nextSibling)!==null)break;st=at,at=st.parentNode}st=lt}a=tt===-1||nt===-1?null:{start:tt,end:nt}}else a=null}a=a||{start:0,end:0}}else a=null;for(Df={focusedElem:o,selectionRange:a},dd=!1,V$2=e;V$2!==null;)if(e=V$2,o=e.child,(e.subtreeFlags&1028)!==0&&o!==null)o.return=e,V$2=o;else for(;V$2!==null;){e=V$2;try{var ut=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(ut!==null){var ft=ut.memoizedProps,mt=ut.memoizedState,ht=e.stateNode,vt=ht.getSnapshotBeforeUpdate(e.elementType===e.type?ft:Ci(e.type,ft),mt);ht.__reactInternalSnapshotBeforeUpdate=vt}break;case 3:var Et=e.stateNode.containerInfo;Et.nodeType===1?Et.textContent="":Et.nodeType===9&&Et.documentElement&&Et.removeChild(Et.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$2(163))}}catch(At){W$2(e,e.return,At)}if(o=e.sibling,o!==null){o.return=e.return,V$2=o;break}V$2=e.return}return ut=Nj,Nj=!1,ut}function Pj(o,e,a){var _=e.updateQueue;if(_=_!==null?_.lastEffect:null,_!==null){var b=_=_.next;do{if((b.tag&o)===o){var _e=b.destroy;b.destroy=void 0,_e!==void 0&&Mj(e,a,_e)}b=b.next}while(b!==_)}}function Qj(o,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var a=e=e.next;do{if((a.tag&o)===o){var _=a.create;a.destroy=_()}a=a.next}while(a!==e)}}function Rj(o){var e=o.ref;if(e!==null){var a=o.stateNode;switch(o.tag){case 5:o=a;break;default:o=a}typeof e=="function"?e(o):e.current=o}}function Sj(o){var e=o.alternate;e!==null&&(o.alternate=null,Sj(e)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(e=o.stateNode,e!==null&&(delete e[Of],delete e[Pf],delete e[of],delete e[Qf],delete e[Rf])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function Tj(o){return o.tag===5||o.tag===3||o.tag===4}function Uj(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||Tj(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Vj(o,e,a){var _=o.tag;if(_===5||_===6)o=o.stateNode,e?a.nodeType===8?a.parentNode.insertBefore(o,e):a.insertBefore(o,e):(a.nodeType===8?(e=a.parentNode,e.insertBefore(o,a)):(e=a,e.appendChild(o)),a=a._reactRootContainer,a!=null||e.onclick!==null||(e.onclick=Bf));else if(_!==4&&(o=o.child,o!==null))for(Vj(o,e,a),o=o.sibling;o!==null;)Vj(o,e,a),o=o.sibling}function Wj(o,e,a){var _=o.tag;if(_===5||_===6)o=o.stateNode,e?a.insertBefore(o,e):a.appendChild(o);else if(_!==4&&(o=o.child,o!==null))for(Wj(o,e,a),o=o.sibling;o!==null;)Wj(o,e,a),o=o.sibling}var X$1=null,Xj=!1;function Yj(o,e,a){for(a=a.child;a!==null;)Zj(o,e,a),a=a.sibling}function Zj(o,e,a){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,a)}catch{}switch(a.tag){case 5:U$1||Lj(a,e);case 6:var _=X$1,b=Xj;X$1=null,Yj(o,e,a),X$1=_,Xj=b,X$1!==null&&(Xj?(o=X$1,a=a.stateNode,o.nodeType===8?o.parentNode.removeChild(a):o.removeChild(a)):X$1.removeChild(a.stateNode));break;case 18:X$1!==null&&(Xj?(o=X$1,a=a.stateNode,o.nodeType===8?Kf(o.parentNode,a):o.nodeType===1&&Kf(o,a),bd(o)):Kf(X$1,a.stateNode));break;case 4:_=X$1,b=Xj,X$1=a.stateNode.containerInfo,Xj=!0,Yj(o,e,a),X$1=_,Xj=b;break;case 0:case 11:case 14:case 15:if(!U$1&&(_=a.updateQueue,_!==null&&(_=_.lastEffect,_!==null))){b=_=_.next;do{var _e=b,et=_e.destroy;_e=_e.tag,et!==void 0&&(_e&2||_e&4)&&Mj(a,e,et),b=b.next}while(b!==_)}Yj(o,e,a);break;case 1:if(!U$1&&(Lj(a,e),_=a.stateNode,typeof _.componentWillUnmount=="function"))try{_.props=a.memoizedProps,_.state=a.memoizedState,_.componentWillUnmount()}catch(tt){W$2(a,e,tt)}Yj(o,e,a);break;case 21:Yj(o,e,a);break;case 22:a.mode&1?(U$1=(_=U$1)||a.memoizedState!==null,Yj(o,e,a),U$1=_):Yj(o,e,a);break;default:Yj(o,e,a)}}function ak(o){var e=o.updateQueue;if(e!==null){o.updateQueue=null;var a=o.stateNode;a===null&&(a=o.stateNode=new Kj),e.forEach(function(_){var b=bk.bind(null,o,_);a.has(_)||(a.add(_),_.then(b,b))})}}function ck(o,e){var a=e.deletions;if(a!==null)for(var _=0;_<a.length;_++){var b=a[_];try{var _e=o,et=e,tt=et;e:for(;tt!==null;){switch(tt.tag){case 5:X$1=tt.stateNode,Xj=!1;break e;case 3:X$1=tt.stateNode.containerInfo,Xj=!0;break e;case 4:X$1=tt.stateNode.containerInfo,Xj=!0;break e}tt=tt.return}if(X$1===null)throw Error(p$2(160));Zj(_e,et,b),X$1=null,Xj=!1;var nt=b.alternate;nt!==null&&(nt.return=null),b.return=null}catch(it){W$2(b,e,it)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)dk(e,o),e=e.sibling}function dk(o,e){var a=o.alternate,_=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(ck(e,o),ek(o),_&4){try{Pj(3,o,o.return),Qj(3,o)}catch(ft){W$2(o,o.return,ft)}try{Pj(5,o,o.return)}catch(ft){W$2(o,o.return,ft)}}break;case 1:ck(e,o),ek(o),_&512&&a!==null&&Lj(a,a.return);break;case 5:if(ck(e,o),ek(o),_&512&&a!==null&&Lj(a,a.return),o.flags&32){var b=o.stateNode;try{ob(b,"")}catch(ft){W$2(o,o.return,ft)}}if(_&4&&(b=o.stateNode,b!=null)){var _e=o.memoizedProps,et=a!==null?a.memoizedProps:_e,tt=o.type,nt=o.updateQueue;if(o.updateQueue=null,nt!==null)try{tt==="input"&&_e.type==="radio"&&_e.name!=null&&ab(b,_e),vb(tt,et);var it=vb(tt,_e);for(et=0;et<nt.length;et+=2){var ot=nt[et],st=nt[et+1];ot==="style"?sb(b,st):ot==="dangerouslySetInnerHTML"?nb(b,st):ot==="children"?ob(b,st):ta(b,ot,st,it)}switch(tt){case"input":bb(b,_e);break;case"textarea":ib(b,_e);break;case"select":var at=b._wrapperState.wasMultiple;b._wrapperState.wasMultiple=!!_e.multiple;var lt=_e.value;lt!=null?fb(b,!!_e.multiple,lt,!1):at!==!!_e.multiple&&(_e.defaultValue!=null?fb(b,!!_e.multiple,_e.defaultValue,!0):fb(b,!!_e.multiple,_e.multiple?[]:"",!1))}b[Pf]=_e}catch(ft){W$2(o,o.return,ft)}}break;case 6:if(ck(e,o),ek(o),_&4){if(o.stateNode===null)throw Error(p$2(162));b=o.stateNode,_e=o.memoizedProps;try{b.nodeValue=_e}catch(ft){W$2(o,o.return,ft)}}break;case 3:if(ck(e,o),ek(o),_&4&&a!==null&&a.memoizedState.isDehydrated)try{bd(e.containerInfo)}catch(ft){W$2(o,o.return,ft)}break;case 4:ck(e,o),ek(o);break;case 13:ck(e,o),ek(o),b=o.child,b.flags&8192&&(_e=b.memoizedState!==null,b.stateNode.isHidden=_e,!_e||b.alternate!==null&&b.alternate.memoizedState!==null||(fk=B$2())),_&4&&ak(o);break;case 22:if(ot=a!==null&&a.memoizedState!==null,o.mode&1?(U$1=(it=U$1)||ot,ck(e,o),U$1=it):ck(e,o),ek(o),_&8192){if(it=o.memoizedState!==null,(o.stateNode.isHidden=it)&&!ot&&o.mode&1)for(V$2=o,ot=o.child;ot!==null;){for(st=V$2=ot;V$2!==null;){switch(at=V$2,lt=at.child,at.tag){case 0:case 11:case 14:case 15:Pj(4,at,at.return);break;case 1:Lj(at,at.return);var ut=at.stateNode;if(typeof ut.componentWillUnmount=="function"){_=at,a=at.return;try{e=_,ut.props=e.memoizedProps,ut.state=e.memoizedState,ut.componentWillUnmount()}catch(ft){W$2(_,a,ft)}}break;case 5:Lj(at,at.return);break;case 22:if(at.memoizedState!==null){gk(st);continue}}lt!==null?(lt.return=at,V$2=lt):gk(st)}ot=ot.sibling}e:for(ot=null,st=o;;){if(st.tag===5){if(ot===null){ot=st;try{b=st.stateNode,it?(_e=b.style,typeof _e.setProperty=="function"?_e.setProperty("display","none","important"):_e.display="none"):(tt=st.stateNode,nt=st.memoizedProps.style,et=nt!=null&&nt.hasOwnProperty("display")?nt.display:null,tt.style.display=rb("display",et))}catch(ft){W$2(o,o.return,ft)}}}else if(st.tag===6){if(ot===null)try{st.stateNode.nodeValue=it?"":st.memoizedProps}catch(ft){W$2(o,o.return,ft)}}else if((st.tag!==22&&st.tag!==23||st.memoizedState===null||st===o)&&st.child!==null){st.child.return=st,st=st.child;continue}if(st===o)break e;for(;st.sibling===null;){if(st.return===null||st.return===o)break e;ot===st&&(ot=null),st=st.return}ot===st&&(ot=null),st.sibling.return=st.return,st=st.sibling}}break;case 19:ck(e,o),ek(o),_&4&&ak(o);break;case 21:break;default:ck(e,o),ek(o)}}function ek(o){var e=o.flags;if(e&2){try{e:{for(var a=o.return;a!==null;){if(Tj(a)){var _=a;break e}a=a.return}throw Error(p$2(160))}switch(_.tag){case 5:var b=_.stateNode;_.flags&32&&(ob(b,""),_.flags&=-33);var _e=Uj(o);Wj(o,_e,b);break;case 3:case 4:var et=_.stateNode.containerInfo,tt=Uj(o);Vj(o,tt,et);break;default:throw Error(p$2(161))}}catch(nt){W$2(o,o.return,nt)}o.flags&=-3}e&4096&&(o.flags&=-4097)}function hk(o,e,a){V$2=o,ik(o)}function ik(o,e,a){for(var _=(o.mode&1)!==0;V$2!==null;){var b=V$2,_e=b.child;if(b.tag===22&&_){var et=b.memoizedState!==null||Jj;if(!et){var tt=b.alternate,nt=tt!==null&&tt.memoizedState!==null||U$1;tt=Jj;var it=U$1;if(Jj=et,(U$1=nt)&&!it)for(V$2=b;V$2!==null;)et=V$2,nt=et.child,et.tag===22&&et.memoizedState!==null?jk(b):nt!==null?(nt.return=et,V$2=nt):jk(b);for(;_e!==null;)V$2=_e,ik(_e),_e=_e.sibling;V$2=b,Jj=tt,U$1=it}kk(o)}else b.subtreeFlags&8772&&_e!==null?(_e.return=b,V$2=_e):kk(o)}}function kk(o){for(;V$2!==null;){var e=V$2;if(e.flags&8772){var a=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:U$1||Qj(5,e);break;case 1:var _=e.stateNode;if(e.flags&4&&!U$1)if(a===null)_.componentDidMount();else{var b=e.elementType===e.type?a.memoizedProps:Ci(e.type,a.memoizedProps);_.componentDidUpdate(b,a.memoizedState,_.__reactInternalSnapshotBeforeUpdate)}var _e=e.updateQueue;_e!==null&&sh$1(e,_e,_);break;case 3:var et=e.updateQueue;if(et!==null){if(a=null,e.child!==null)switch(e.child.tag){case 5:a=e.child.stateNode;break;case 1:a=e.child.stateNode}sh$1(e,et,a)}break;case 5:var tt=e.stateNode;if(a===null&&e.flags&4){a=tt;var nt=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":nt.autoFocus&&a.focus();break;case"img":nt.src&&(a.src=nt.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var it=e.alternate;if(it!==null){var ot=it.memoizedState;if(ot!==null){var st=ot.dehydrated;st!==null&&bd(st)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$2(163))}U$1||e.flags&512&&Rj(e)}catch(at){W$2(e,e.return,at)}}if(e===o){V$2=null;break}if(a=e.sibling,a!==null){a.return=e.return,V$2=a;break}V$2=e.return}}function gk(o){for(;V$2!==null;){var e=V$2;if(e===o){V$2=null;break}var a=e.sibling;if(a!==null){a.return=e.return,V$2=a;break}V$2=e.return}}function jk(o){for(;V$2!==null;){var e=V$2;try{switch(e.tag){case 0:case 11:case 15:var a=e.return;try{Qj(4,e)}catch(nt){W$2(e,a,nt)}break;case 1:var _=e.stateNode;if(typeof _.componentDidMount=="function"){var b=e.return;try{_.componentDidMount()}catch(nt){W$2(e,b,nt)}}var _e=e.return;try{Rj(e)}catch(nt){W$2(e,_e,nt)}break;case 5:var et=e.return;try{Rj(e)}catch(nt){W$2(e,et,nt)}}}catch(nt){W$2(e,e.return,nt)}if(e===o){V$2=null;break}var tt=e.sibling;if(tt!==null){tt.return=e.return,V$2=tt;break}V$2=e.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K$2=0,Q$1=null,Y$1=null,Z$1=0,fj=0,ej=Uf(0),T$2=0,pk=null,rh$1=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R$1(){return K$2&6?B$2():Ak!==-1?Ak:Ak=B$2()}function yi(o){return o.mode&1?K$2&2&&Z$1!==0?Z$1&-Z$1:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(o=C$2,o!==0||(o=window.event,o=o===void 0?16:jd(o.type)),o):1}function gi(o,e,a,_){if(50<yk)throw yk=0,zk=null,Error(p$2(185));Ac(o,a,_),(!(K$2&2)||o!==Q$1)&&(o===Q$1&&(!(K$2&2)&&(qk|=a),T$2===4&&Ck(o,Z$1)),Dk(o,_),a===1&&K$2===0&&!(e.mode&1)&&(Gj=B$2()+500,fg&&jg()))}function Dk(o,e){var a=o.callbackNode;wc(o,e);var _=uc(o,o===Q$1?Z$1:0);if(_===0)a!==null&&bc(a),o.callbackNode=null,o.callbackPriority=0;else if(e=_&-_,o.callbackPriority!==e){if(a!=null&&bc(a),e===1)o.tag===0?ig(Ek.bind(null,o)):hg(Ek.bind(null,o)),Jf(function(){!(K$2&6)&&jg()}),a=null;else{switch(Dc(_)){case 1:a=fc;break;case 4:a=gc;break;case 16:a=hc;break;case 536870912:a=jc;break;default:a=hc}a=Fk(a,Gk.bind(null,o))}o.callbackPriority=e,o.callbackNode=a}}function Gk(o,e){if(Ak=-1,Bk=0,K$2&6)throw Error(p$2(327));var a=o.callbackNode;if(Hk()&&o.callbackNode!==a)return null;var _=uc(o,o===Q$1?Z$1:0);if(_===0)return null;if(_&30||_&o.expiredLanes||e)e=Ik(o,_);else{e=_;var b=K$2;K$2|=2;var _e=Jk();(Q$1!==o||Z$1!==e)&&(uk=null,Gj=B$2()+500,Kk(o,e));do try{Lk();break}catch(tt){Mk(o,tt)}while(!0);$g(),mk.current=_e,K$2=b,Y$1!==null?e=0:(Q$1=null,Z$1=0,e=T$2)}if(e!==0){if(e===2&&(b=xc(o),b!==0&&(_=b,e=Nk(o,b))),e===1)throw a=pk,Kk(o,0),Ck(o,_),Dk(o,B$2()),a;if(e===6)Ck(o,_);else{if(b=o.current.alternate,!(_&30)&&!Ok(b)&&(e=Ik(o,_),e===2&&(_e=xc(o),_e!==0&&(_=_e,e=Nk(o,_e))),e===1))throw a=pk,Kk(o,0),Ck(o,_),Dk(o,B$2()),a;switch(o.finishedWork=b,o.finishedLanes=_,e){case 0:case 1:throw Error(p$2(345));case 2:Pk(o,tk,uk);break;case 3:if(Ck(o,_),(_&130023424)===_&&(e=fk+500-B$2(),10<e)){if(uc(o,0)!==0)break;if(b=o.suspendedLanes,(b&_)!==_){R$1(),o.pingedLanes|=o.suspendedLanes&b;break}o.timeoutHandle=Ff(Pk.bind(null,o,tk,uk),e);break}Pk(o,tk,uk);break;case 4:if(Ck(o,_),(_&4194240)===_)break;for(e=o.eventTimes,b=-1;0<_;){var et=31-oc(_);_e=1<<et,et=e[et],et>b&&(b=et),_&=~_e}if(_=b,_=B$2()-_,_=(120>_?120:480>_?480:1080>_?1080:1920>_?1920:3e3>_?3e3:4320>_?4320:1960*lk(_/1960))-_,10<_){o.timeoutHandle=Ff(Pk.bind(null,o,tk,uk),_);break}Pk(o,tk,uk);break;case 5:Pk(o,tk,uk);break;default:throw Error(p$2(329))}}}return Dk(o,B$2()),o.callbackNode===a?Gk.bind(null,o):null}function Nk(o,e){var a=sk;return o.current.memoizedState.isDehydrated&&(Kk(o,e).flags|=256),o=Ik(o,e),o!==2&&(e=tk,tk=a,e!==null&&Fj(e)),o}function Fj(o){tk===null?tk=o:tk.push.apply(tk,o)}function Ok(o){for(var e=o;;){if(e.flags&16384){var a=e.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var _=0;_<a.length;_++){var b=a[_],_e=b.getSnapshot;b=b.value;try{if(!He(_e(),b))return!1}catch{return!1}}}if(a=e.child,e.subtreeFlags&16384&&a!==null)a.return=e,e=a;else{if(e===o)break;for(;e.sibling===null;){if(e.return===null||e.return===o)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ck(o,e){for(e&=~rk,e&=~qk,o.suspendedLanes|=e,o.pingedLanes&=~e,o=o.expirationTimes;0<e;){var a=31-oc(e),_=1<<a;o[a]=-1,e&=~_}}function Ek(o){if(K$2&6)throw Error(p$2(327));Hk();var e=uc(o,0);if(!(e&1))return Dk(o,B$2()),null;var a=Ik(o,e);if(o.tag!==0&&a===2){var _=xc(o);_!==0&&(e=_,a=Nk(o,_))}if(a===1)throw a=pk,Kk(o,0),Ck(o,e),Dk(o,B$2()),a;if(a===6)throw Error(p$2(345));return o.finishedWork=o.current.alternate,o.finishedLanes=e,Pk(o,tk,uk),Dk(o,B$2()),null}function Qk(o,e){var a=K$2;K$2|=1;try{return o(e)}finally{K$2=a,K$2===0&&(Gj=B$2()+500,fg&&jg())}}function Rk(o){wk!==null&&wk.tag===0&&!(K$2&6)&&Hk();var e=K$2;K$2|=1;var a=ok.transition,_=C$2;try{if(ok.transition=null,C$2=1,o)return o()}finally{C$2=_,ok.transition=a,K$2=e,!(K$2&6)&&jg()}}function Hj(){fj=ej.current,E$2(ej)}function Kk(o,e){o.finishedWork=null,o.finishedLanes=0;var a=o.timeoutHandle;if(a!==-1&&(o.timeoutHandle=-1,Gf(a)),Y$1!==null)for(a=Y$1.return;a!==null;){var _=a;switch(wg(_),_.tag){case 1:_=_.type.childContextTypes,_!=null&&$f();break;case 3:zh$1(),E$2(Wf),E$2(H$2),Eh();break;case 5:Bh(_);break;case 4:zh$1();break;case 13:E$2(L$1);break;case 19:E$2(L$1);break;case 10:ah(_.type._context);break;case 22:case 23:Hj()}a=a.return}if(Q$1=o,Y$1=o=Pg(o.current,null),Z$1=fj=e,T$2=0,pk=null,rk=qk=rh$1=0,tk=sk=null,fh!==null){for(e=0;e<fh.length;e++)if(a=fh[e],_=a.interleaved,_!==null){a.interleaved=null;var b=_.next,_e=a.pending;if(_e!==null){var et=_e.next;_e.next=b,_.next=et}a.pending=_}fh=null}return o}function Mk(o,e){do{var a=Y$1;try{if($g(),Fh.current=Rh,Ih){for(var _=M$1.memoizedState;_!==null;){var b=_.queue;b!==null&&(b.pending=null),_=_.next}Ih=!1}if(Hh=0,O$2=N$2=M$1=null,Jh=!1,Kh$1=0,nk.current=null,a===null||a.return===null){T$2=1,pk=e,Y$1=null;break}e:{var _e=o,et=a.return,tt=a,nt=e;if(e=Z$1,tt.flags|=32768,nt!==null&&typeof nt=="object"&&typeof nt.then=="function"){var it=nt,ot=tt,st=ot.tag;if(!(ot.mode&1)&&(st===0||st===11||st===15)){var at=ot.alternate;at?(ot.updateQueue=at.updateQueue,ot.memoizedState=at.memoizedState,ot.lanes=at.lanes):(ot.updateQueue=null,ot.memoizedState=null)}var lt=Ui(et);if(lt!==null){lt.flags&=-257,Vi(lt,et,tt,_e,e),lt.mode&1&&Si(_e,it,e),e=lt,nt=it;var ut=e.updateQueue;if(ut===null){var ft=new Set;ft.add(nt),e.updateQueue=ft}else ut.add(nt);break e}else{if(!(e&1)){Si(_e,it,e),tj();break e}nt=Error(p$2(426))}}else if(I&&tt.mode&1){var mt=Ui(et);if(mt!==null){!(mt.flags&65536)&&(mt.flags|=256),Vi(mt,et,tt,_e,e),Jg(Ji(nt,tt));break e}}_e=nt=Ji(nt,tt),T$2!==4&&(T$2=2),sk===null?sk=[_e]:sk.push(_e),_e=et;do{switch(_e.tag){case 3:_e.flags|=65536,e&=-e,_e.lanes|=e;var ht=Ni(_e,nt,e);ph(_e,ht);break e;case 1:tt=nt;var vt=_e.type,Et=_e.stateNode;if(!(_e.flags&128)&&(typeof vt.getDerivedStateFromError=="function"||Et!==null&&typeof Et.componentDidCatch=="function"&&(Ri===null||!Ri.has(Et)))){_e.flags|=65536,e&=-e,_e.lanes|=e;var At=Qi(_e,tt,e);ph(_e,At);break e}}_e=_e.return}while(_e!==null)}Sk(a)}catch(Ct){e=Ct,Y$1===a&&a!==null&&(Y$1=a=a.return);continue}break}while(!0)}function Jk(){var o=mk.current;return mk.current=Rh,o===null?Rh:o}function tj(){(T$2===0||T$2===3||T$2===2)&&(T$2=4),Q$1===null||!(rh$1&268435455)&&!(qk&268435455)||Ck(Q$1,Z$1)}function Ik(o,e){var a=K$2;K$2|=2;var _=Jk();(Q$1!==o||Z$1!==e)&&(uk=null,Kk(o,e));do try{Tk();break}catch(b){Mk(o,b)}while(!0);if($g(),K$2=a,mk.current=_,Y$1!==null)throw Error(p$2(261));return Q$1=null,Z$1=0,T$2}function Tk(){for(;Y$1!==null;)Uk(Y$1)}function Lk(){for(;Y$1!==null&&!cc();)Uk(Y$1)}function Uk(o){var e=Vk(o.alternate,o,fj);o.memoizedProps=o.pendingProps,e===null?Sk(o):Y$1=e,nk.current=null}function Sk(o){var e=o;do{var a=e.alternate;if(o=e.return,e.flags&32768){if(a=Ij(a,e),a!==null){a.flags&=32767,Y$1=a;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{T$2=6,Y$1=null;return}}else if(a=Ej(a,e,fj),a!==null){Y$1=a;return}if(e=e.sibling,e!==null){Y$1=e;return}Y$1=e=o}while(e!==null);T$2===0&&(T$2=5)}function Pk(o,e,a){var _=C$2,b=ok.transition;try{ok.transition=null,C$2=1,Wk(o,e,a,_)}finally{ok.transition=b,C$2=_}return null}function Wk(o,e,a,_){do Hk();while(wk!==null);if(K$2&6)throw Error(p$2(327));a=o.finishedWork;var b=o.finishedLanes;if(a===null)return null;if(o.finishedWork=null,o.finishedLanes=0,a===o.current)throw Error(p$2(177));o.callbackNode=null,o.callbackPriority=0;var _e=a.lanes|a.childLanes;if(Bc(o,_e),o===Q$1&&(Y$1=Q$1=null,Z$1=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),_e=(a.flags&15990)!==0,a.subtreeFlags&15990||_e){_e=ok.transition,ok.transition=null;var et=C$2;C$2=1;var tt=K$2;K$2|=4,nk.current=null,Oj(o,a),dk(a,o),Oe(Df),dd=!!Cf,Df=Cf=null,o.current=a,hk(a),dc(),K$2=tt,C$2=et,ok.transition=_e}else o.current=a;if(vk&&(vk=!1,wk=o,xk=b),_e=o.pendingLanes,_e===0&&(Ri=null),mc(a.stateNode),Dk(o,B$2()),e!==null)for(_=o.onRecoverableError,a=0;a<e.length;a++)b=e[a],_(b.value,{componentStack:b.stack,digest:b.digest});if(Oi)throw Oi=!1,o=Pi,Pi=null,o;return xk&1&&o.tag!==0&&Hk(),_e=o.pendingLanes,_e&1?o===zk?yk++:(yk=0,zk=o):yk=0,jg(),null}function Hk(){if(wk!==null){var o=Dc(xk),e=ok.transition,a=C$2;try{if(ok.transition=null,C$2=16>o?16:o,wk===null)var _=!1;else{if(o=wk,wk=null,xk=0,K$2&6)throw Error(p$2(331));var b=K$2;for(K$2|=4,V$2=o.current;V$2!==null;){var _e=V$2,et=_e.child;if(V$2.flags&16){var tt=_e.deletions;if(tt!==null){for(var nt=0;nt<tt.length;nt++){var it=tt[nt];for(V$2=it;V$2!==null;){var ot=V$2;switch(ot.tag){case 0:case 11:case 15:Pj(8,ot,_e)}var st=ot.child;if(st!==null)st.return=ot,V$2=st;else for(;V$2!==null;){ot=V$2;var at=ot.sibling,lt=ot.return;if(Sj(ot),ot===it){V$2=null;break}if(at!==null){at.return=lt,V$2=at;break}V$2=lt}}}var ut=_e.alternate;if(ut!==null){var ft=ut.child;if(ft!==null){ut.child=null;do{var mt=ft.sibling;ft.sibling=null,ft=mt}while(ft!==null)}}V$2=_e}}if(_e.subtreeFlags&2064&&et!==null)et.return=_e,V$2=et;else e:for(;V$2!==null;){if(_e=V$2,_e.flags&2048)switch(_e.tag){case 0:case 11:case 15:Pj(9,_e,_e.return)}var ht=_e.sibling;if(ht!==null){ht.return=_e.return,V$2=ht;break e}V$2=_e.return}}var vt=o.current;for(V$2=vt;V$2!==null;){et=V$2;var Et=et.child;if(et.subtreeFlags&2064&&Et!==null)Et.return=et,V$2=Et;else e:for(et=vt;V$2!==null;){if(tt=V$2,tt.flags&2048)try{switch(tt.tag){case 0:case 11:case 15:Qj(9,tt)}}catch(Ct){W$2(tt,tt.return,Ct)}if(tt===et){V$2=null;break e}var At=tt.sibling;if(At!==null){At.return=tt.return,V$2=At;break e}V$2=tt.return}}if(K$2=b,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,o)}catch{}_=!0}return _}finally{C$2=a,ok.transition=e}}return!1}function Xk(o,e,a){e=Ji(a,e),e=Ni(o,e,1),o=nh(o,e,1),e=R$1(),o!==null&&(Ac(o,1,e),Dk(o,e))}function W$2(o,e,a){if(o.tag===3)Xk(o,o,a);else for(;e!==null;){if(e.tag===3){Xk(e,o,a);break}else if(e.tag===1){var _=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof _.componentDidCatch=="function"&&(Ri===null||!Ri.has(_))){o=Ji(a,o),o=Qi(e,o,1),e=nh(e,o,1),o=R$1(),e!==null&&(Ac(e,1,o),Dk(e,o));break}}e=e.return}}function Ti(o,e,a){var _=o.pingCache;_!==null&&_.delete(e),e=R$1(),o.pingedLanes|=o.suspendedLanes&a,Q$1===o&&(Z$1&a)===a&&(T$2===4||T$2===3&&(Z$1&130023424)===Z$1&&500>B$2()-fk?Kk(o,0):rk|=a),Dk(o,e)}function Yk(o,e){e===0&&(o.mode&1?(e=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):e=1);var a=R$1();o=ih(o,e),o!==null&&(Ac(o,e,a),Dk(o,a))}function uj(o){var e=o.memoizedState,a=0;e!==null&&(a=e.retryLane),Yk(o,a)}function bk(o,e){var a=0;switch(o.tag){case 13:var _=o.stateNode,b=o.memoizedState;b!==null&&(a=b.retryLane);break;case 19:_=o.stateNode;break;default:throw Error(p$2(314))}_!==null&&_.delete(e),Yk(o,a)}var Vk;Vk=function(o,e,a){if(o!==null)if(o.memoizedProps!==e.pendingProps||Wf.current)dh$1=!0;else{if(!(o.lanes&a)&&!(e.flags&128))return dh$1=!1,yj(o,e,a);dh$1=!!(o.flags&131072)}else dh$1=!1,I&&e.flags&1048576&&ug(e,ng,e.index);switch(e.lanes=0,e.tag){case 2:var _=e.type;ij(o,e),o=e.pendingProps;var b=Yf(e,H$2.current);ch(e,a),b=Nh(null,e,_,o,b,a);var _e=Sh();return e.flags|=1,typeof b=="object"&&b!==null&&typeof b.render=="function"&&b.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Zf(_)?(_e=!0,cg(e)):_e=!1,e.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,kh(e),b.updater=Ei,e.stateNode=b,b._reactInternals=e,Ii(e,_,o,a),e=jj(null,e,_,!0,_e,a)):(e.tag=0,I&&_e&&vg(e),Xi(null,e,b,a),e=e.child),e;case 16:_=e.elementType;e:{switch(ij(o,e),o=e.pendingProps,b=_._init,_=b(_._payload),e.type=_,b=e.tag=Zk(_),o=Ci(_,o),b){case 0:e=cj(null,e,_,o,a);break e;case 1:e=hj(null,e,_,o,a);break e;case 11:e=Yi(null,e,_,o,a);break e;case 14:e=$i(null,e,_,Ci(_.type,o),a);break e}throw Error(p$2(306,_,""))}return e;case 0:return _=e.type,b=e.pendingProps,b=e.elementType===_?b:Ci(_,b),cj(o,e,_,b,a);case 1:return _=e.type,b=e.pendingProps,b=e.elementType===_?b:Ci(_,b),hj(o,e,_,b,a);case 3:e:{if(kj(e),o===null)throw Error(p$2(387));_=e.pendingProps,_e=e.memoizedState,b=_e.element,lh(o,e),qh(e,_,null,a);var et=e.memoizedState;if(_=et.element,_e.isDehydrated)if(_e={element:_,isDehydrated:!1,cache:et.cache,pendingSuspenseBoundaries:et.pendingSuspenseBoundaries,transitions:et.transitions},e.updateQueue.baseState=_e,e.memoizedState=_e,e.flags&256){b=Ji(Error(p$2(423)),e),e=lj(o,e,_,a,b);break e}else if(_!==b){b=Ji(Error(p$2(424)),e),e=lj(o,e,_,a,b);break e}else for(yg=Lf(e.stateNode.containerInfo.firstChild),xg=e,I=!0,zg=null,a=Vg(e,null,_,a),e.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ig(),_===b){e=Zi(o,e,a);break e}Xi(o,e,_,a)}e=e.child}return e;case 5:return Ah(e),o===null&&Eg(e),_=e.type,b=e.pendingProps,_e=o!==null?o.memoizedProps:null,et=b.children,Ef(_,b)?et=null:_e!==null&&Ef(_,_e)&&(e.flags|=32),gj(o,e),Xi(o,e,et,a),e.child;case 6:return o===null&&Eg(e),null;case 13:return oj(o,e,a);case 4:return yh(e,e.stateNode.containerInfo),_=e.pendingProps,o===null?e.child=Ug(e,null,_,a):Xi(o,e,_,a),e.child;case 11:return _=e.type,b=e.pendingProps,b=e.elementType===_?b:Ci(_,b),Yi(o,e,_,b,a);case 7:return Xi(o,e,e.pendingProps,a),e.child;case 8:return Xi(o,e,e.pendingProps.children,a),e.child;case 12:return Xi(o,e,e.pendingProps.children,a),e.child;case 10:e:{if(_=e.type._context,b=e.pendingProps,_e=e.memoizedProps,et=b.value,G$2(Wg,_._currentValue),_._currentValue=et,_e!==null)if(He(_e.value,et)){if(_e.children===b.children&&!Wf.current){e=Zi(o,e,a);break e}}else for(_e=e.child,_e!==null&&(_e.return=e);_e!==null;){var tt=_e.dependencies;if(tt!==null){et=_e.child;for(var nt=tt.firstContext;nt!==null;){if(nt.context===_){if(_e.tag===1){nt=mh(-1,a&-a),nt.tag=2;var it=_e.updateQueue;if(it!==null){it=it.shared;var ot=it.pending;ot===null?nt.next=nt:(nt.next=ot.next,ot.next=nt),it.pending=nt}}_e.lanes|=a,nt=_e.alternate,nt!==null&&(nt.lanes|=a),bh(_e.return,a,e),tt.lanes|=a;break}nt=nt.next}}else if(_e.tag===10)et=_e.type===e.type?null:_e.child;else if(_e.tag===18){if(et=_e.return,et===null)throw Error(p$2(341));et.lanes|=a,tt=et.alternate,tt!==null&&(tt.lanes|=a),bh(et,a,e),et=_e.sibling}else et=_e.child;if(et!==null)et.return=_e;else for(et=_e;et!==null;){if(et===e){et=null;break}if(_e=et.sibling,_e!==null){_e.return=et.return,et=_e;break}et=et.return}_e=et}Xi(o,e,b.children,a),e=e.child}return e;case 9:return b=e.type,_=e.pendingProps.children,ch(e,a),b=eh(b),_=_(b),e.flags|=1,Xi(o,e,_,a),e.child;case 14:return _=e.type,b=Ci(_,e.pendingProps),b=Ci(_.type,b),$i(o,e,_,b,a);case 15:return bj(o,e,e.type,e.pendingProps,a);case 17:return _=e.type,b=e.pendingProps,b=e.elementType===_?b:Ci(_,b),ij(o,e),e.tag=1,Zf(_)?(o=!0,cg(e)):o=!1,ch(e,a),Gi(e,_,b),Ii(e,_,b,a),jj(null,e,_,!0,o,a);case 19:return xj(o,e,a);case 22:return dj(o,e,a)}throw Error(p$2(156,e.tag))};function Fk(o,e){return ac(o,e)}function $k(o,e,a,_){this.tag=o,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=_,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(o,e,a,_){return new $k(o,e,a,_)}function aj(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Zk(o){if(typeof o=="function")return aj(o)?1:0;if(o!=null){if(o=o.$$typeof,o===Da)return 11;if(o===Ga)return 14}return 2}function Pg(o,e){var a=o.alternate;return a===null?(a=Bg(o.tag,e,o.key,o.mode),a.elementType=o.elementType,a.type=o.type,a.stateNode=o.stateNode,a.alternate=o,o.alternate=a):(a.pendingProps=e,a.type=o.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=o.flags&14680064,a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},a.sibling=o.sibling,a.index=o.index,a.ref=o.ref,a}function Rg(o,e,a,_,b,_e){var et=2;if(_=o,typeof o=="function")aj(o)&&(et=1);else if(typeof o=="string")et=5;else e:switch(o){case ya:return Tg(a.children,b,_e,e);case za:et=8,b|=8;break;case Aa:return o=Bg(12,a,e,b|2),o.elementType=Aa,o.lanes=_e,o;case Ea:return o=Bg(13,a,e,b),o.elementType=Ea,o.lanes=_e,o;case Fa:return o=Bg(19,a,e,b),o.elementType=Fa,o.lanes=_e,o;case Ia:return pj(a,b,_e,e);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case Ba:et=10;break e;case Ca:et=9;break e;case Da:et=11;break e;case Ga:et=14;break e;case Ha:et=16,_=null;break e}throw Error(p$2(130,o==null?o:typeof o,""))}return e=Bg(et,a,e,b),e.elementType=o,e.type=_,e.lanes=_e,e}function Tg(o,e,a,_){return o=Bg(7,o,_,e),o.lanes=a,o}function pj(o,e,a,_){return o=Bg(22,o,_,e),o.elementType=Ia,o.lanes=a,o.stateNode={isHidden:!1},o}function Qg(o,e,a){return o=Bg(6,o,null,e),o.lanes=a,o}function Sg(o,e,a){return e=Bg(4,o.children!==null?o.children:[],o.key,e),e.lanes=a,e.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},e}function al(o,e,a,_,b){this.tag=e,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=_,this.onRecoverableError=b,this.mutableSourceEagerHydrationData=null}function bl(o,e,a,_,b,_e,et,tt,nt){return o=new al(o,e,a,tt,nt),e===1?(e=1,_e===!0&&(e|=8)):e=0,_e=Bg(3,null,null,e),o.current=_e,_e.stateNode=o,_e.memoizedState={element:_,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(_e),o}function cl(o,e,a){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:_==null?null:""+_,children:o,containerInfo:e,implementation:a}}function dl(o){if(!o)return Vf;o=o._reactInternals;e:{if(Vb(o)!==o||o.tag!==1)throw Error(p$2(170));var e=o;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Zf(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(p$2(171))}if(o.tag===1){var a=o.type;if(Zf(a))return bg(o,a,e)}return e}function el(o,e,a,_,b,_e,et,tt,nt){return o=bl(a,_,!0,o,b,_e,et,tt,nt),o.context=dl(null),a=o.current,_=R$1(),b=yi(a),_e=mh(_,b),_e.callback=e??null,nh(a,_e,b),o.current.lanes=b,Ac(o,b,_),Dk(o,_),o}function fl(o,e,a,_){var b=e.current,_e=R$1(),et=yi(b);return a=dl(a),e.context===null?e.context=a:e.pendingContext=a,e=mh(_e,et),e.payload={element:o},_=_===void 0?null:_,_!==null&&(e.callback=_),o=nh(b,e,et),o!==null&&(gi(o,b,et,_e),oh(o,b,et)),et}function gl(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function hl(o,e){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var a=o.retryLane;o.retryLane=a!==0&&a<e?a:e}}function il(o,e){hl(o,e),(o=o.alternate)&&hl(o,e)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(o){console.error(o)};function ll(o){this._internalRoot=o}ml.prototype.render=ll.prototype.render=function(o){var e=this._internalRoot;if(e===null)throw Error(p$2(409));fl(o,e,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var e=o.containerInfo;Rk(function(){fl(null,o,null,null)}),e[uf]=null}};function ml(o){this._internalRoot=o}ml.prototype.unstable_scheduleHydration=function(o){if(o){var e=Hc();o={blockedOn:null,target:o,priority:e};for(var a=0;a<Qc.length&&e!==0&&e<Qc[a].priority;a++);Qc.splice(a,0,o),a===0&&Vc(o)}};function nl(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function ol(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(o,e,a,_,b){if(b){if(typeof _=="function"){var _e=_;_=function(){var it=gl(et);_e.call(it)}}var et=el(e,_,o,0,null,!1,!1,"",pl);return o._reactRootContainer=et,o[uf]=et.current,sf(o.nodeType===8?o.parentNode:o),Rk(),et}for(;b=o.lastChild;)o.removeChild(b);if(typeof _=="function"){var tt=_;_=function(){var it=gl(nt);tt.call(it)}}var nt=bl(o,0,!1,null,null,!1,!1,"",pl);return o._reactRootContainer=nt,o[uf]=nt.current,sf(o.nodeType===8?o.parentNode:o),Rk(function(){fl(e,nt,a,_)}),nt}function rl(o,e,a,_,b){var _e=a._reactRootContainer;if(_e){var et=_e;if(typeof b=="function"){var tt=b;b=function(){var nt=gl(et);tt.call(nt)}}fl(e,et,o,b)}else et=ql(a,e,o,b,_);return gl(et)}Ec=function(o){switch(o.tag){case 3:var e=o.stateNode;if(e.current.memoizedState.isDehydrated){var a=tc(e.pendingLanes);a!==0&&(Cc(e,a|1),Dk(e,B$2()),!(K$2&6)&&(Gj=B$2()+500,jg()))}break;case 13:Rk(function(){var _=ih(o,1);if(_!==null){var b=R$1();gi(_,o,1,b)}}),il(o,1)}};Fc=function(o){if(o.tag===13){var e=ih(o,134217728);if(e!==null){var a=R$1();gi(e,o,134217728,a)}il(o,134217728)}};Gc=function(o){if(o.tag===13){var e=yi(o),a=ih(o,e);if(a!==null){var _=R$1();gi(a,o,e,_)}il(o,e)}};Hc=function(){return C$2};Ic=function(o,e){var a=C$2;try{return C$2=o,e()}finally{C$2=a}};yb=function(o,e,a){switch(e){case"input":if(bb(o,a),e=a.name,a.type==="radio"&&e!=null){for(a=o;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<a.length;e++){var _=a[e];if(_!==o&&_.form===o.form){var b=Db(_);if(!b)throw Error(p$2(90));Wa(_),bb(_,b)}}}break;case"textarea":ib(o,a);break;case"select":e=a.value,e!=null&&fb(o,!!a.multiple,e,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Zb(o),o===null?null:o.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(o,e){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(e))throw Error(p$2(200));return cl(o,e,null,a)};reactDom_production_min.createRoot=function(o,e){if(!nl(o))throw Error(p$2(299));var a=!1,_="",b=kl;return e!=null&&(e.unstable_strictMode===!0&&(a=!0),e.identifierPrefix!==void 0&&(_=e.identifierPrefix),e.onRecoverableError!==void 0&&(b=e.onRecoverableError)),e=bl(o,1,!1,null,null,a,!1,_,b),o[uf]=e.current,sf(o.nodeType===8?o.parentNode:o),new ll(e)};reactDom_production_min.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var e=o._reactInternals;if(e===void 0)throw typeof o.render=="function"?Error(p$2(188)):(o=Object.keys(o).join(","),Error(p$2(268,o)));return o=Zb(e),o=o===null?null:o.stateNode,o};reactDom_production_min.flushSync=function(o){return Rk(o)};reactDom_production_min.hydrate=function(o,e,a){if(!ol(e))throw Error(p$2(200));return rl(null,o,e,!0,a)};reactDom_production_min.hydrateRoot=function(o,e,a){if(!nl(o))throw Error(p$2(405));var _=a!=null&&a.hydratedSources||null,b=!1,_e="",et=kl;if(a!=null&&(a.unstable_strictMode===!0&&(b=!0),a.identifierPrefix!==void 0&&(_e=a.identifierPrefix),a.onRecoverableError!==void 0&&(et=a.onRecoverableError)),e=el(e,null,o,1,a??null,b,!1,_e,et),o[uf]=e.current,sf(o),_)for(o=0;o<_.length;o++)a=_[o],b=a._getVersion,b=b(a._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[a,b]:e.mutableSourceEagerHydrationData.push(a,b);return new ml(e)};reactDom_production_min.render=function(o,e,a){if(!ol(e))throw Error(p$2(200));return rl(null,o,e,!1,a)};reactDom_production_min.unmountComponentAtNode=function(o){if(!ol(o))throw Error(p$2(40));return o._reactRootContainer?(Rk(function(){rl(null,null,o,!1,function(){o._reactRootContainer=null,o[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(o,e,a,_){if(!ol(a))throw Error(p$2(200));if(o==null||o._reactInternals===void 0)throw Error(p$2(38));return rl(o,e,a,!1,_)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(o){console.error(o)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,m$1=reactDomExports;client.createRoot=m$1.createRoot,client.hydrateRoot=m$1.hydrateRoot;const global$1=globalThis||void 0||self;var buffer$1={},base64Js={};base64Js.byteLength=byteLength;base64Js.toByteArray=toByteArray;base64Js.fromByteArray=fromByteArray;var lookup$1=[],revLookup=[],Arr=typeof Uint8Array<"u"?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i$1=0,len=code.length;i$1<len;++i$1)lookup$1[i$1]=code[i$1],revLookup[code.charCodeAt(i$1)]=i$1;revLookup[45]=62;revLookup[95]=63;function getLens(o){var e=o.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var a=o.indexOf("=");a===-1&&(a=e);var _=a===e?0:4-a%4;return[a,_]}function byteLength(o){var e=getLens(o),a=e[0],_=e[1];return(a+_)*3/4-_}function _byteLength(o,e,a){return(e+a)*3/4-a}function toByteArray(o){var e,a=getLens(o),_=a[0],b=a[1],_e=new Arr(_byteLength(o,_,b)),et=0,tt=b>0?_-4:_,nt;for(nt=0;nt<tt;nt+=4)e=revLookup[o.charCodeAt(nt)]<<18|revLookup[o.charCodeAt(nt+1)]<<12|revLookup[o.charCodeAt(nt+2)]<<6|revLookup[o.charCodeAt(nt+3)],_e[et++]=e>>16&255,_e[et++]=e>>8&255,_e[et++]=e&255;return b===2&&(e=revLookup[o.charCodeAt(nt)]<<2|revLookup[o.charCodeAt(nt+1)]>>4,_e[et++]=e&255),b===1&&(e=revLookup[o.charCodeAt(nt)]<<10|revLookup[o.charCodeAt(nt+1)]<<4|revLookup[o.charCodeAt(nt+2)]>>2,_e[et++]=e>>8&255,_e[et++]=e&255),_e}function tripletToBase64(o){return lookup$1[o>>18&63]+lookup$1[o>>12&63]+lookup$1[o>>6&63]+lookup$1[o&63]}function encodeChunk(o,e,a){for(var _,b=[],_e=e;_e<a;_e+=3)_=(o[_e]<<16&16711680)+(o[_e+1]<<8&65280)+(o[_e+2]&255),b.push(tripletToBase64(_));return b.join("")}function fromByteArray(o){for(var e,a=o.length,_=a%3,b=[],_e=16383,et=0,tt=a-_;et<tt;et+=_e)b.push(encodeChunk(o,et,et+_e>tt?tt:et+_e));return _===1?(e=o[a-1],b.push(lookup$1[e>>2]+lookup$1[e<<4&63]+"==")):_===2&&(e=(o[a-2]<<8)+o[a-1],b.push(lookup$1[e>>10]+lookup$1[e>>4&63]+lookup$1[e<<2&63]+"=")),b.join("")}var ieee754={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ieee754.read=function(o,e,a,_,b){var _e,et,tt=b*8-_-1,nt=(1<<tt)-1,it=nt>>1,ot=-7,st=a?b-1:0,at=a?-1:1,lt=o[e+st];for(st+=at,_e=lt&(1<<-ot)-1,lt>>=-ot,ot+=tt;ot>0;_e=_e*256+o[e+st],st+=at,ot-=8);for(et=_e&(1<<-ot)-1,_e>>=-ot,ot+=_;ot>0;et=et*256+o[e+st],st+=at,ot-=8);if(_e===0)_e=1-it;else{if(_e===nt)return et?NaN:(lt?-1:1)*(1/0);et=et+Math.pow(2,_),_e=_e-it}return(lt?-1:1)*et*Math.pow(2,_e-_)};ieee754.write=function(o,e,a,_,b,_e){var et,tt,nt,it=_e*8-b-1,ot=(1<<it)-1,st=ot>>1,at=b===23?Math.pow(2,-24)-Math.pow(2,-77):0,lt=_?0:_e-1,ut=_?1:-1,ft=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(tt=isNaN(e)?1:0,et=ot):(et=Math.floor(Math.log(e)/Math.LN2),e*(nt=Math.pow(2,-et))<1&&(et--,nt*=2),et+st>=1?e+=at/nt:e+=at*Math.pow(2,1-st),e*nt>=2&&(et++,nt/=2),et+st>=ot?(tt=0,et=ot):et+st>=1?(tt=(e*nt-1)*Math.pow(2,b),et=et+st):(tt=e*Math.pow(2,st-1)*Math.pow(2,b),et=0));b>=8;o[a+lt]=tt&255,lt+=ut,tt/=256,b-=8);for(et=et<<b|tt,it+=b;it>0;o[a+lt]=et&255,lt+=ut,et/=256,it-=8);o[a+lt-ut]|=ft*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(o){const e=base64Js,a=ieee754,_=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;o.Buffer=ot,o.SlowBuffer=Ct,o.INSPECT_MAX_BYTES=50;const b=2147483647;o.kMaxLength=b;const{Uint8Array:_e,ArrayBuffer:et,SharedArrayBuffer:tt}=globalThis;ot.TYPED_ARRAY_SUPPORT=nt(),!ot.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function nt(){try{const qt=new _e(1),It={foo:function(){return 42}};return Object.setPrototypeOf(It,_e.prototype),Object.setPrototypeOf(qt,It),qt.foo()===42}catch{return!1}}Object.defineProperty(ot.prototype,"parent",{enumerable:!0,get:function(){if(ot.isBuffer(this))return this.buffer}}),Object.defineProperty(ot.prototype,"offset",{enumerable:!0,get:function(){if(ot.isBuffer(this))return this.byteOffset}});function it(qt){if(qt>b)throw new RangeError('The value "'+qt+'" is invalid for option "size"');const It=new _e(qt);return Object.setPrototypeOf(It,ot.prototype),It}function ot(qt,It,Pt){if(typeof qt=="number"){if(typeof It=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return ut(qt)}return st(qt,It,Pt)}ot.poolSize=8192;function st(qt,It,Pt){if(typeof qt=="string")return ft(qt,It);if(et.isView(qt))return ht(qt);if(qt==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof qt);if(Er(qt,et)||qt&&Er(qt.buffer,et)||typeof tt<"u"&&(Er(qt,tt)||qt&&Er(qt.buffer,tt)))return vt(qt,It,Pt);if(typeof qt=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const zt=qt.valueOf&&qt.valueOf();if(zt!=null&&zt!==qt)return ot.from(zt,It,Pt);const Zt=Et(qt);if(Zt)return Zt;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof qt[Symbol.toPrimitive]=="function")return ot.from(qt[Symbol.toPrimitive]("string"),It,Pt);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof qt)}ot.from=function(qt,It,Pt){return st(qt,It,Pt)},Object.setPrototypeOf(ot.prototype,_e.prototype),Object.setPrototypeOf(ot,_e);function at(qt){if(typeof qt!="number")throw new TypeError('"size" argument must be of type number');if(qt<0)throw new RangeError('The value "'+qt+'" is invalid for option "size"')}function lt(qt,It,Pt){return at(qt),qt<=0?it(qt):It!==void 0?typeof Pt=="string"?it(qt).fill(It,Pt):it(qt).fill(It):it(qt)}ot.alloc=function(qt,It,Pt){return lt(qt,It,Pt)};function ut(qt){return at(qt),it(qt<0?0:At(qt)|0)}ot.allocUnsafe=function(qt){return ut(qt)},ot.allocUnsafeSlow=function(qt){return ut(qt)};function ft(qt,It){if((typeof It!="string"||It==="")&&(It="utf8"),!ot.isEncoding(It))throw new TypeError("Unknown encoding: "+It);const Pt=Mt(qt,It)|0;let zt=it(Pt);const Zt=zt.write(qt,It);return Zt!==Pt&&(zt=zt.slice(0,Zt)),zt}function mt(qt){const It=qt.length<0?0:At(qt.length)|0,Pt=it(It);for(let zt=0;zt<It;zt+=1)Pt[zt]=qt[zt]&255;return Pt}function ht(qt){if(Er(qt,_e)){const It=new _e(qt);return vt(It.buffer,It.byteOffset,It.byteLength)}return mt(qt)}function vt(qt,It,Pt){if(It<0||qt.byteLength<It)throw new RangeError('"offset" is outside of buffer bounds');if(qt.byteLength<It+(Pt||0))throw new RangeError('"length" is outside of buffer bounds');let zt;return It===void 0&&Pt===void 0?zt=new _e(qt):Pt===void 0?zt=new _e(qt,It):zt=new _e(qt,It,Pt),Object.setPrototypeOf(zt,ot.prototype),zt}function Et(qt){if(ot.isBuffer(qt)){const It=At(qt.length)|0,Pt=it(It);return Pt.length===0||qt.copy(Pt,0,0,It),Pt}if(qt.length!==void 0)return typeof qt.length!="number"||xr(qt.length)?it(0):mt(qt);if(qt.type==="Buffer"&&Array.isArray(qt.data))return mt(qt.data)}function At(qt){if(qt>=b)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+b.toString(16)+" bytes");return qt|0}function Ct(qt){return+qt!=qt&&(qt=0),ot.alloc(+qt)}ot.isBuffer=function(It){return It!=null&&It._isBuffer===!0&&It!==ot.prototype},ot.compare=function(It,Pt){if(Er(It,_e)&&(It=ot.from(It,It.offset,It.byteLength)),Er(Pt,_e)&&(Pt=ot.from(Pt,Pt.offset,Pt.byteLength)),!ot.isBuffer(It)||!ot.isBuffer(Pt))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(It===Pt)return 0;let zt=It.length,Zt=Pt.length;for(let Yt=0,Xt=Math.min(zt,Zt);Yt<Xt;++Yt)if(It[Yt]!==Pt[Yt]){zt=It[Yt],Zt=Pt[Yt];break}return zt<Zt?-1:Zt<zt?1:0},ot.isEncoding=function(It){switch(String(It).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},ot.concat=function(It,Pt){if(!Array.isArray(It))throw new TypeError('"list" argument must be an Array of Buffers');if(It.length===0)return ot.alloc(0);let zt;if(Pt===void 0)for(Pt=0,zt=0;zt<It.length;++zt)Pt+=It[zt].length;const Zt=ot.allocUnsafe(Pt);let Yt=0;for(zt=0;zt<It.length;++zt){let Xt=It[zt];if(Er(Xt,_e))Yt+Xt.length>Zt.length?(ot.isBuffer(Xt)||(Xt=ot.from(Xt)),Xt.copy(Zt,Yt)):_e.prototype.set.call(Zt,Xt,Yt);else if(ot.isBuffer(Xt))Xt.copy(Zt,Yt);else throw new TypeError('"list" argument must be an Array of Buffers');Yt+=Xt.length}return Zt};function Mt(qt,It){if(ot.isBuffer(qt))return qt.length;if(et.isView(qt)||Er(qt,et))return qt.byteLength;if(typeof qt!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof qt);const Pt=qt.length,zt=arguments.length>2&&arguments[2]===!0;if(!zt&&Pt===0)return 0;let Zt=!1;for(;;)switch(It){case"ascii":case"latin1":case"binary":return Pt;case"utf8":case"utf-8":return fr(qt).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Pt*2;case"hex":return Pt>>>1;case"base64":return cr(qt).length;default:if(Zt)return zt?-1:fr(qt).length;It=(""+It).toLowerCase(),Zt=!0}}ot.byteLength=Mt;function Bt(qt,It,Pt){let zt=!1;if((It===void 0||It<0)&&(It=0),It>this.length||((Pt===void 0||Pt>this.length)&&(Pt=this.length),Pt<=0)||(Pt>>>=0,It>>>=0,Pt<=It))return"";for(qt||(qt="utf8");;)switch(qt){case"hex":return pt(this,It,Pt);case"utf8":case"utf-8":return gt(this,It,Pt);case"ascii":return yt(this,It,Pt);case"latin1":case"binary":return St(this,It,Pt);case"base64":return wt(this,It,Pt);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Tt(this,It,Pt);default:if(zt)throw new TypeError("Unknown encoding: "+qt);qt=(qt+"").toLowerCase(),zt=!0}}ot.prototype._isBuffer=!0;function Lt(qt,It,Pt){const zt=qt[It];qt[It]=qt[Pt],qt[Pt]=zt}ot.prototype.swap16=function(){const It=this.length;if(It%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let Pt=0;Pt<It;Pt+=2)Lt(this,Pt,Pt+1);return this},ot.prototype.swap32=function(){const It=this.length;if(It%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let Pt=0;Pt<It;Pt+=4)Lt(this,Pt,Pt+3),Lt(this,Pt+1,Pt+2);return this},ot.prototype.swap64=function(){const It=this.length;if(It%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let Pt=0;Pt<It;Pt+=8)Lt(this,Pt,Pt+7),Lt(this,Pt+1,Pt+6),Lt(this,Pt+2,Pt+5),Lt(this,Pt+3,Pt+4);return this},ot.prototype.toString=function(){const It=this.length;return It===0?"":arguments.length===0?gt(this,0,It):Bt.apply(this,arguments)},ot.prototype.toLocaleString=ot.prototype.toString,ot.prototype.equals=function(It){if(!ot.isBuffer(It))throw new TypeError("Argument must be a Buffer");return this===It?!0:ot.compare(this,It)===0},ot.prototype.inspect=function(){let It="";const Pt=o.INSPECT_MAX_BYTES;return It=this.toString("hex",0,Pt).replace(/(.{2})/g,"$1 ").trim(),this.length>Pt&&(It+=" ... "),"<Buffer "+It+">"},_&&(ot.prototype[_]=ot.prototype.inspect),ot.prototype.compare=function(It,Pt,zt,Zt,Yt){if(Er(It,_e)&&(It=ot.from(It,It.offset,It.byteLength)),!ot.isBuffer(It))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof It);if(Pt===void 0&&(Pt=0),zt===void 0&&(zt=It?It.length:0),Zt===void 0&&(Zt=0),Yt===void 0&&(Yt=this.length),Pt<0||zt>It.length||Zt<0||Yt>this.length)throw new RangeError("out of range index");if(Zt>=Yt&&Pt>=zt)return 0;if(Zt>=Yt)return-1;if(Pt>=zt)return 1;if(Pt>>>=0,zt>>>=0,Zt>>>=0,Yt>>>=0,this===It)return 0;let Xt=Yt-Zt,hr=zt-Pt;const dr=Math.min(Xt,hr),ar=this.slice(Zt,Yt),Ar=It.slice(Pt,zt);for(let lr=0;lr<dr;++lr)if(ar[lr]!==Ar[lr]){Xt=ar[lr],hr=Ar[lr];break}return Xt<hr?-1:hr<Xt?1:0};function jt(qt,It,Pt,zt,Zt){if(qt.length===0)return-1;if(typeof Pt=="string"?(zt=Pt,Pt=0):Pt>2147483647?Pt=2147483647:Pt<-2147483648&&(Pt=-2147483648),Pt=+Pt,xr(Pt)&&(Pt=Zt?0:qt.length-1),Pt<0&&(Pt=qt.length+Pt),Pt>=qt.length){if(Zt)return-1;Pt=qt.length-1}else if(Pt<0)if(Zt)Pt=0;else return-1;if(typeof It=="string"&&(It=ot.from(It,zt)),ot.isBuffer(It))return It.length===0?-1:Vt(qt,It,Pt,zt,Zt);if(typeof It=="number")return It=It&255,typeof _e.prototype.indexOf=="function"?Zt?_e.prototype.indexOf.call(qt,It,Pt):_e.prototype.lastIndexOf.call(qt,It,Pt):Vt(qt,[It],Pt,zt,Zt);throw new TypeError("val must be string, number or Buffer")}function Vt(qt,It,Pt,zt,Zt){let Yt=1,Xt=qt.length,hr=It.length;if(zt!==void 0&&(zt=String(zt).toLowerCase(),zt==="ucs2"||zt==="ucs-2"||zt==="utf16le"||zt==="utf-16le")){if(qt.length<2||It.length<2)return-1;Yt=2,Xt/=2,hr/=2,Pt/=2}function dr(Ar,lr){return Yt===1?Ar[lr]:Ar.readUInt16BE(lr*Yt)}let ar;if(Zt){let Ar=-1;for(ar=Pt;ar<Xt;ar++)if(dr(qt,ar)===dr(It,Ar===-1?0:ar-Ar)){if(Ar===-1&&(Ar=ar),ar-Ar+1===hr)return Ar*Yt}else Ar!==-1&&(ar-=ar-Ar),Ar=-1}else for(Pt+hr>Xt&&(Pt=Xt-hr),ar=Pt;ar>=0;ar--){let Ar=!0;for(let lr=0;lr<hr;lr++)if(dr(qt,ar+lr)!==dr(It,lr)){Ar=!1;break}if(Ar)return ar}return-1}ot.prototype.includes=function(It,Pt,zt){return this.indexOf(It,Pt,zt)!==-1},ot.prototype.indexOf=function(It,Pt,zt){return jt(this,It,Pt,zt,!0)},ot.prototype.lastIndexOf=function(It,Pt,zt){return jt(this,It,Pt,zt,!1)};function Nt(qt,It,Pt,zt){Pt=Number(Pt)||0;const Zt=qt.length-Pt;zt?(zt=Number(zt),zt>Zt&&(zt=Zt)):zt=Zt;const Yt=It.length;zt>Yt/2&&(zt=Yt/2);let Xt;for(Xt=0;Xt<zt;++Xt){const hr=parseInt(It.substr(Xt*2,2),16);if(xr(hr))return Xt;qt[Pt+Xt]=hr}return Xt}function kt(qt,It,Pt,zt){return ir(fr(It,qt.length-Pt),qt,Pt,zt)}function _t(qt,It,Pt,zt){return ir(rr(It),qt,Pt,zt)}function ct(qt,It,Pt,zt){return ir(cr(It),qt,Pt,zt)}function dt(qt,It,Pt,zt){return ir(Sr(It,qt.length-Pt),qt,Pt,zt)}ot.prototype.write=function(It,Pt,zt,Zt){if(Pt===void 0)Zt="utf8",zt=this.length,Pt=0;else if(zt===void 0&&typeof Pt=="string")Zt=Pt,zt=this.length,Pt=0;else if(isFinite(Pt))Pt=Pt>>>0,isFinite(zt)?(zt=zt>>>0,Zt===void 0&&(Zt="utf8")):(Zt=zt,zt=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Yt=this.length-Pt;if((zt===void 0||zt>Yt)&&(zt=Yt),It.length>0&&(zt<0||Pt<0)||Pt>this.length)throw new RangeError("Attempt to write outside buffer bounds");Zt||(Zt="utf8");let Xt=!1;for(;;)switch(Zt){case"hex":return Nt(this,It,Pt,zt);case"utf8":case"utf-8":return kt(this,It,Pt,zt);case"ascii":case"latin1":case"binary":return _t(this,It,Pt,zt);case"base64":return ct(this,It,Pt,zt);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return dt(this,It,Pt,zt);default:if(Xt)throw new TypeError("Unknown encoding: "+Zt);Zt=(""+Zt).toLowerCase(),Xt=!0}},ot.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function wt(qt,It,Pt){return It===0&&Pt===qt.length?e.fromByteArray(qt):e.fromByteArray(qt.slice(It,Pt))}function gt(qt,It,Pt){Pt=Math.min(qt.length,Pt);const zt=[];let Zt=It;for(;Zt<Pt;){const Yt=qt[Zt];let Xt=null,hr=Yt>239?4:Yt>223?3:Yt>191?2:1;if(Zt+hr<=Pt){let dr,ar,Ar,lr;switch(hr){case 1:Yt<128&&(Xt=Yt);break;case 2:dr=qt[Zt+1],(dr&192)===128&&(lr=(Yt&31)<<6|dr&63,lr>127&&(Xt=lr));break;case 3:dr=qt[Zt+1],ar=qt[Zt+2],(dr&192)===128&&(ar&192)===128&&(lr=(Yt&15)<<12|(dr&63)<<6|ar&63,lr>2047&&(lr<55296||lr>57343)&&(Xt=lr));break;case 4:dr=qt[Zt+1],ar=qt[Zt+2],Ar=qt[Zt+3],(dr&192)===128&&(ar&192)===128&&(Ar&192)===128&&(lr=(Yt&15)<<18|(dr&63)<<12|(ar&63)<<6|Ar&63,lr>65535&&lr<1114112&&(Xt=lr))}}Xt===null?(Xt=65533,hr=1):Xt>65535&&(Xt-=65536,zt.push(Xt>>>10&1023|55296),Xt=56320|Xt&1023),zt.push(Xt),Zt+=hr}return xt(zt)}const bt=4096;function xt(qt){const It=qt.length;if(It<=bt)return String.fromCharCode.apply(String,qt);let Pt="",zt=0;for(;zt<It;)Pt+=String.fromCharCode.apply(String,qt.slice(zt,zt+=bt));return Pt}function yt(qt,It,Pt){let zt="";Pt=Math.min(qt.length,Pt);for(let Zt=It;Zt<Pt;++Zt)zt+=String.fromCharCode(qt[Zt]&127);return zt}function St(qt,It,Pt){let zt="";Pt=Math.min(qt.length,Pt);for(let Zt=It;Zt<Pt;++Zt)zt+=String.fromCharCode(qt[Zt]);return zt}function pt(qt,It,Pt){const zt=qt.length;(!It||It<0)&&(It=0),(!Pt||Pt<0||Pt>zt)&&(Pt=zt);let Zt="";for(let Yt=It;Yt<Pt;++Yt)Zt+=ur[qt[Yt]];return Zt}function Tt(qt,It,Pt){const zt=qt.slice(It,Pt);let Zt="";for(let Yt=0;Yt<zt.length-1;Yt+=2)Zt+=String.fromCharCode(zt[Yt]+zt[Yt+1]*256);return Zt}ot.prototype.slice=function(It,Pt){const zt=this.length;It=~~It,Pt=Pt===void 0?zt:~~Pt,It<0?(It+=zt,It<0&&(It=0)):It>zt&&(It=zt),Pt<0?(Pt+=zt,Pt<0&&(Pt=0)):Pt>zt&&(Pt=zt),Pt<It&&(Pt=It);const Zt=this.subarray(It,Pt);return Object.setPrototypeOf(Zt,ot.prototype),Zt};function Ht(qt,It,Pt){if(qt%1!==0||qt<0)throw new RangeError("offset is not uint");if(qt+It>Pt)throw new RangeError("Trying to access beyond buffer length")}ot.prototype.readUintLE=ot.prototype.readUIntLE=function(It,Pt,zt){It=It>>>0,Pt=Pt>>>0,zt||Ht(It,Pt,this.length);let Zt=this[It],Yt=1,Xt=0;for(;++Xt<Pt&&(Yt*=256);)Zt+=this[It+Xt]*Yt;return Zt},ot.prototype.readUintBE=ot.prototype.readUIntBE=function(It,Pt,zt){It=It>>>0,Pt=Pt>>>0,zt||Ht(It,Pt,this.length);let Zt=this[It+--Pt],Yt=1;for(;Pt>0&&(Yt*=256);)Zt+=this[It+--Pt]*Yt;return Zt},ot.prototype.readUint8=ot.prototype.readUInt8=function(It,Pt){return It=It>>>0,Pt||Ht(It,1,this.length),this[It]},ot.prototype.readUint16LE=ot.prototype.readUInt16LE=function(It,Pt){return It=It>>>0,Pt||Ht(It,2,this.length),this[It]|this[It+1]<<8},ot.prototype.readUint16BE=ot.prototype.readUInt16BE=function(It,Pt){return It=It>>>0,Pt||Ht(It,2,this.length),this[It]<<8|this[It+1]},ot.prototype.readUint32LE=ot.prototype.readUInt32LE=function(It,Pt){return It=It>>>0,Pt||Ht(It,4,this.length),(this[It]|this[It+1]<<8|this[It+2]<<16)+this[It+3]*16777216},ot.prototype.readUint32BE=ot.prototype.readUInt32BE=function(It,Pt){return It=It>>>0,Pt||Ht(It,4,this.length),this[It]*16777216+(this[It+1]<<16|this[It+2]<<8|this[It+3])},ot.prototype.readBigUInt64LE=Or(function(It){It=It>>>0,nr(It,"offset");const Pt=this[It],zt=this[It+7];(Pt===void 0||zt===void 0)&&or(It,this.length-8);const Zt=Pt+this[++It]*2**8+this[++It]*2**16+this[++It]*2**24,Yt=this[++It]+this[++It]*2**8+this[++It]*2**16+zt*2**24;return BigInt(Zt)+(BigInt(Yt)<<BigInt(32))}),ot.prototype.readBigUInt64BE=Or(function(It){It=It>>>0,nr(It,"offset");const Pt=this[It],zt=this[It+7];(Pt===void 0||zt===void 0)&&or(It,this.length-8);const Zt=Pt*2**24+this[++It]*2**16+this[++It]*2**8+this[++It],Yt=this[++It]*2**24+this[++It]*2**16+this[++It]*2**8+zt;return(BigInt(Zt)<<BigInt(32))+BigInt(Yt)}),ot.prototype.readIntLE=function(It,Pt,zt){It=It>>>0,Pt=Pt>>>0,zt||Ht(It,Pt,this.length);let Zt=this[It],Yt=1,Xt=0;for(;++Xt<Pt&&(Yt*=256);)Zt+=this[It+Xt]*Yt;return Yt*=128,Zt>=Yt&&(Zt-=Math.pow(2,8*Pt)),Zt},ot.prototype.readIntBE=function(It,Pt,zt){It=It>>>0,Pt=Pt>>>0,zt||Ht(It,Pt,this.length);let Zt=Pt,Yt=1,Xt=this[It+--Zt];for(;Zt>0&&(Yt*=256);)Xt+=this[It+--Zt]*Yt;return Yt*=128,Xt>=Yt&&(Xt-=Math.pow(2,8*Pt)),Xt},ot.prototype.readInt8=function(It,Pt){return It=It>>>0,Pt||Ht(It,1,this.length),this[It]&128?(255-this[It]+1)*-1:this[It]},ot.prototype.readInt16LE=function(It,Pt){It=It>>>0,Pt||Ht(It,2,this.length);const zt=this[It]|this[It+1]<<8;return zt&32768?zt|4294901760:zt},ot.prototype.readInt16BE=function(It,Pt){It=It>>>0,Pt||Ht(It,2,this.length);const zt=this[It+1]|this[It]<<8;return zt&32768?zt|4294901760:zt},ot.prototype.readInt32LE=function(It,Pt){return It=It>>>0,Pt||Ht(It,4,this.length),this[It]|this[It+1]<<8|this[It+2]<<16|this[It+3]<<24},ot.prototype.readInt32BE=function(It,Pt){return It=It>>>0,Pt||Ht(It,4,this.length),this[It]<<24|this[It+1]<<16|this[It+2]<<8|this[It+3]},ot.prototype.readBigInt64LE=Or(function(It){It=It>>>0,nr(It,"offset");const Pt=this[It],zt=this[It+7];(Pt===void 0||zt===void 0)&&or(It,this.length-8);const Zt=this[It+4]+this[It+5]*2**8+this[It+6]*2**16+(zt<<24);return(BigInt(Zt)<<BigInt(32))+BigInt(Pt+this[++It]*2**8+this[++It]*2**16+this[++It]*2**24)}),ot.prototype.readBigInt64BE=Or(function(It){It=It>>>0,nr(It,"offset");const Pt=this[It],zt=this[It+7];(Pt===void 0||zt===void 0)&&or(It,this.length-8);const Zt=(Pt<<24)+this[++It]*2**16+this[++It]*2**8+this[++It];return(BigInt(Zt)<<BigInt(32))+BigInt(this[++It]*2**24+this[++It]*2**16+this[++It]*2**8+zt)}),ot.prototype.readFloatLE=function(It,Pt){return It=It>>>0,Pt||Ht(It,4,this.length),a.read(this,It,!0,23,4)},ot.prototype.readFloatBE=function(It,Pt){return It=It>>>0,Pt||Ht(It,4,this.length),a.read(this,It,!1,23,4)},ot.prototype.readDoubleLE=function(It,Pt){return It=It>>>0,Pt||Ht(It,8,this.length),a.read(this,It,!0,52,8)},ot.prototype.readDoubleBE=function(It,Pt){return It=It>>>0,Pt||Ht(It,8,this.length),a.read(this,It,!1,52,8)};function Wt(qt,It,Pt,zt,Zt,Yt){if(!ot.isBuffer(qt))throw new TypeError('"buffer" argument must be a Buffer instance');if(It>Zt||It<Yt)throw new RangeError('"value" argument is out of bounds');if(Pt+zt>qt.length)throw new RangeError("Index out of range")}ot.prototype.writeUintLE=ot.prototype.writeUIntLE=function(It,Pt,zt,Zt){if(It=+It,Pt=Pt>>>0,zt=zt>>>0,!Zt){const hr=Math.pow(2,8*zt)-1;Wt(this,It,Pt,zt,hr,0)}let Yt=1,Xt=0;for(this[Pt]=It&255;++Xt<zt&&(Yt*=256);)this[Pt+Xt]=It/Yt&255;return Pt+zt},ot.prototype.writeUintBE=ot.prototype.writeUIntBE=function(It,Pt,zt,Zt){if(It=+It,Pt=Pt>>>0,zt=zt>>>0,!Zt){const hr=Math.pow(2,8*zt)-1;Wt(this,It,Pt,zt,hr,0)}let Yt=zt-1,Xt=1;for(this[Pt+Yt]=It&255;--Yt>=0&&(Xt*=256);)this[Pt+Yt]=It/Xt&255;return Pt+zt},ot.prototype.writeUint8=ot.prototype.writeUInt8=function(It,Pt,zt){return It=+It,Pt=Pt>>>0,zt||Wt(this,It,Pt,1,255,0),this[Pt]=It&255,Pt+1},ot.prototype.writeUint16LE=ot.prototype.writeUInt16LE=function(It,Pt,zt){return It=+It,Pt=Pt>>>0,zt||Wt(this,It,Pt,2,65535,0),this[Pt]=It&255,this[Pt+1]=It>>>8,Pt+2},ot.prototype.writeUint16BE=ot.prototype.writeUInt16BE=function(It,Pt,zt){return It=+It,Pt=Pt>>>0,zt||Wt(this,It,Pt,2,65535,0),this[Pt]=It>>>8,this[Pt+1]=It&255,Pt+2},ot.prototype.writeUint32LE=ot.prototype.writeUInt32LE=function(It,Pt,zt){return It=+It,Pt=Pt>>>0,zt||Wt(this,It,Pt,4,4294967295,0),this[Pt+3]=It>>>24,this[Pt+2]=It>>>16,this[Pt+1]=It>>>8,this[Pt]=It&255,Pt+4},ot.prototype.writeUint32BE=ot.prototype.writeUInt32BE=function(It,Pt,zt){return It=+It,Pt=Pt>>>0,zt||Wt(this,It,Pt,4,4294967295,0),this[Pt]=It>>>24,this[Pt+1]=It>>>16,this[Pt+2]=It>>>8,this[Pt+3]=It&255,Pt+4};function Ut(qt,It,Pt,zt,Zt){er(It,zt,Zt,qt,Pt,7);let Yt=Number(It&BigInt(4294967295));qt[Pt++]=Yt,Yt=Yt>>8,qt[Pt++]=Yt,Yt=Yt>>8,qt[Pt++]=Yt,Yt=Yt>>8,qt[Pt++]=Yt;let Xt=Number(It>>BigInt(32)&BigInt(4294967295));return qt[Pt++]=Xt,Xt=Xt>>8,qt[Pt++]=Xt,Xt=Xt>>8,qt[Pt++]=Xt,Xt=Xt>>8,qt[Pt++]=Xt,Pt}function Rt(qt,It,Pt,zt,Zt){er(It,zt,Zt,qt,Pt,7);let Yt=Number(It&BigInt(4294967295));qt[Pt+7]=Yt,Yt=Yt>>8,qt[Pt+6]=Yt,Yt=Yt>>8,qt[Pt+5]=Yt,Yt=Yt>>8,qt[Pt+4]=Yt;let Xt=Number(It>>BigInt(32)&BigInt(4294967295));return qt[Pt+3]=Xt,Xt=Xt>>8,qt[Pt+2]=Xt,Xt=Xt>>8,qt[Pt+1]=Xt,Xt=Xt>>8,qt[Pt]=Xt,Pt+8}ot.prototype.writeBigUInt64LE=Or(function(It,Pt=0){return Ut(this,It,Pt,BigInt(0),BigInt("0xffffffffffffffff"))}),ot.prototype.writeBigUInt64BE=Or(function(It,Pt=0){return Rt(this,It,Pt,BigInt(0),BigInt("0xffffffffffffffff"))}),ot.prototype.writeIntLE=function(It,Pt,zt,Zt){if(It=+It,Pt=Pt>>>0,!Zt){const dr=Math.pow(2,8*zt-1);Wt(this,It,Pt,zt,dr-1,-dr)}let Yt=0,Xt=1,hr=0;for(this[Pt]=It&255;++Yt<zt&&(Xt*=256);)It<0&&hr===0&&this[Pt+Yt-1]!==0&&(hr=1),this[Pt+Yt]=(It/Xt>>0)-hr&255;return Pt+zt},ot.prototype.writeIntBE=function(It,Pt,zt,Zt){if(It=+It,Pt=Pt>>>0,!Zt){const dr=Math.pow(2,8*zt-1);Wt(this,It,Pt,zt,dr-1,-dr)}let Yt=zt-1,Xt=1,hr=0;for(this[Pt+Yt]=It&255;--Yt>=0&&(Xt*=256);)It<0&&hr===0&&this[Pt+Yt+1]!==0&&(hr=1),this[Pt+Yt]=(It/Xt>>0)-hr&255;return Pt+zt},ot.prototype.writeInt8=function(It,Pt,zt){return It=+It,Pt=Pt>>>0,zt||Wt(this,It,Pt,1,127,-128),It<0&&(It=255+It+1),this[Pt]=It&255,Pt+1},ot.prototype.writeInt16LE=function(It,Pt,zt){return It=+It,Pt=Pt>>>0,zt||Wt(this,It,Pt,2,32767,-32768),this[Pt]=It&255,this[Pt+1]=It>>>8,Pt+2},ot.prototype.writeInt16BE=function(It,Pt,zt){return It=+It,Pt=Pt>>>0,zt||Wt(this,It,Pt,2,32767,-32768),this[Pt]=It>>>8,this[Pt+1]=It&255,Pt+2},ot.prototype.writeInt32LE=function(It,Pt,zt){return It=+It,Pt=Pt>>>0,zt||Wt(this,It,Pt,4,2147483647,-2147483648),this[Pt]=It&255,this[Pt+1]=It>>>8,this[Pt+2]=It>>>16,this[Pt+3]=It>>>24,Pt+4},ot.prototype.writeInt32BE=function(It,Pt,zt){return It=+It,Pt=Pt>>>0,zt||Wt(this,It,Pt,4,2147483647,-2147483648),It<0&&(It=4294967295+It+1),this[Pt]=It>>>24,this[Pt+1]=It>>>16,this[Pt+2]=It>>>8,this[Pt+3]=It&255,Pt+4},ot.prototype.writeBigInt64LE=Or(function(It,Pt=0){return Ut(this,It,Pt,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),ot.prototype.writeBigInt64BE=Or(function(It,Pt=0){return Rt(this,It,Pt,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function $t(qt,It,Pt,zt,Zt,Yt){if(Pt+zt>qt.length)throw new RangeError("Index out of range");if(Pt<0)throw new RangeError("Index out of range")}function Ft(qt,It,Pt,zt,Zt){return It=+It,Pt=Pt>>>0,Zt||$t(qt,It,Pt,4),a.write(qt,It,Pt,zt,23,4),Pt+4}ot.prototype.writeFloatLE=function(It,Pt,zt){return Ft(this,It,Pt,!0,zt)},ot.prototype.writeFloatBE=function(It,Pt,zt){return Ft(this,It,Pt,!1,zt)};function Kt(qt,It,Pt,zt,Zt){return It=+It,Pt=Pt>>>0,Zt||$t(qt,It,Pt,8),a.write(qt,It,Pt,zt,52,8),Pt+8}ot.prototype.writeDoubleLE=function(It,Pt,zt){return Kt(this,It,Pt,!0,zt)},ot.prototype.writeDoubleBE=function(It,Pt,zt){return Kt(this,It,Pt,!1,zt)},ot.prototype.copy=function(It,Pt,zt,Zt){if(!ot.isBuffer(It))throw new TypeError("argument should be a Buffer");if(zt||(zt=0),!Zt&&Zt!==0&&(Zt=this.length),Pt>=It.length&&(Pt=It.length),Pt||(Pt=0),Zt>0&&Zt<zt&&(Zt=zt),Zt===zt||It.length===0||this.length===0)return 0;if(Pt<0)throw new RangeError("targetStart out of bounds");if(zt<0||zt>=this.length)throw new RangeError("Index out of range");if(Zt<0)throw new RangeError("sourceEnd out of bounds");Zt>this.length&&(Zt=this.length),It.length-Pt<Zt-zt&&(Zt=It.length-Pt+zt);const Yt=Zt-zt;return this===It&&typeof _e.prototype.copyWithin=="function"?this.copyWithin(Pt,zt,Zt):_e.prototype.set.call(It,this.subarray(zt,Zt),Pt),Yt},ot.prototype.fill=function(It,Pt,zt,Zt){if(typeof It=="string"){if(typeof Pt=="string"?(Zt=Pt,Pt=0,zt=this.length):typeof zt=="string"&&(Zt=zt,zt=this.length),Zt!==void 0&&typeof Zt!="string")throw new TypeError("encoding must be a string");if(typeof Zt=="string"&&!ot.isEncoding(Zt))throw new TypeError("Unknown encoding: "+Zt);if(It.length===1){const Xt=It.charCodeAt(0);(Zt==="utf8"&&Xt<128||Zt==="latin1")&&(It=Xt)}}else typeof It=="number"?It=It&255:typeof It=="boolean"&&(It=Number(It));if(Pt<0||this.length<Pt||this.length<zt)throw new RangeError("Out of range index");if(zt<=Pt)return this;Pt=Pt>>>0,zt=zt===void 0?this.length:zt>>>0,It||(It=0);let Yt;if(typeof It=="number")for(Yt=Pt;Yt<zt;++Yt)this[Yt]=It;else{const Xt=ot.isBuffer(It)?It:ot.from(It,Zt),hr=Xt.length;if(hr===0)throw new TypeError('The value "'+It+'" is invalid for argument "value"');for(Yt=0;Yt<zt-Pt;++Yt)this[Yt+Pt]=Xt[Yt%hr]}return this};const Dt={};function Ot(qt,It,Pt){Dt[qt]=class extends Pt{constructor(){super(),Object.defineProperty(this,"message",{value:It.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${qt}]`,this.stack,delete this.name}get code(){return qt}set code(Zt){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Zt,writable:!0})}toString(){return`${this.name} [${qt}]: ${this.message}`}}}Ot("ERR_BUFFER_OUT_OF_BOUNDS",function(qt){return qt?`${qt} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Ot("ERR_INVALID_ARG_TYPE",function(qt,It){return`The "${qt}" argument must be of type number. Received type ${typeof It}`},TypeError),Ot("ERR_OUT_OF_RANGE",function(qt,It,Pt){let zt=`The value of "${qt}" is out of range.`,Zt=Pt;return Number.isInteger(Pt)&&Math.abs(Pt)>2**32?Zt=Gt(String(Pt)):typeof Pt=="bigint"&&(Zt=String(Pt),(Pt>BigInt(2)**BigInt(32)||Pt<-(BigInt(2)**BigInt(32)))&&(Zt=Gt(Zt)),Zt+="n"),zt+=` It must be ${It}. Received ${Zt}`,zt},RangeError);function Gt(qt){let It="",Pt=qt.length;const zt=qt[0]==="-"?1:0;for(;Pt>=zt+4;Pt-=3)It=`_${qt.slice(Pt-3,Pt)}${It}`;return`${qt.slice(0,Pt)}${It}`}function Jt(qt,It,Pt){nr(It,"offset"),(qt[It]===void 0||qt[It+Pt]===void 0)&&or(It,qt.length-(Pt+1))}function er(qt,It,Pt,zt,Zt,Yt){if(qt>Pt||qt<It){const Xt=typeof It=="bigint"?"n":"";let hr;throw It===0||It===BigInt(0)?hr=`>= 0${Xt} and < 2${Xt} ** ${(Yt+1)*8}${Xt}`:hr=`>= -(2${Xt} ** ${(Yt+1)*8-1}${Xt}) and < 2 ** ${(Yt+1)*8-1}${Xt}`,new Dt.ERR_OUT_OF_RANGE("value",hr,qt)}Jt(zt,Zt,Yt)}function nr(qt,It){if(typeof qt!="number")throw new Dt.ERR_INVALID_ARG_TYPE(It,"number",qt)}function or(qt,It,Pt){throw Math.floor(qt)!==qt?(nr(qt,Pt),new Dt.ERR_OUT_OF_RANGE("offset","an integer",qt)):It<0?new Dt.ERR_BUFFER_OUT_OF_BOUNDS:new Dt.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${It}`,qt)}const sr=/[^+/0-9A-Za-z-_]/g;function Qt(qt){if(qt=qt.split("=")[0],qt=qt.trim().replace(sr,""),qt.length<2)return"";for(;qt.length%4!==0;)qt=qt+"=";return qt}function fr(qt,It){It=It||1/0;let Pt;const zt=qt.length;let Zt=null;const Yt=[];for(let Xt=0;Xt<zt;++Xt){if(Pt=qt.charCodeAt(Xt),Pt>55295&&Pt<57344){if(!Zt){if(Pt>56319){(It-=3)>-1&&Yt.push(239,191,189);continue}else if(Xt+1===zt){(It-=3)>-1&&Yt.push(239,191,189);continue}Zt=Pt;continue}if(Pt<56320){(It-=3)>-1&&Yt.push(239,191,189),Zt=Pt;continue}Pt=(Zt-55296<<10|Pt-56320)+65536}else Zt&&(It-=3)>-1&&Yt.push(239,191,189);if(Zt=null,Pt<128){if((It-=1)<0)break;Yt.push(Pt)}else if(Pt<2048){if((It-=2)<0)break;Yt.push(Pt>>6|192,Pt&63|128)}else if(Pt<65536){if((It-=3)<0)break;Yt.push(Pt>>12|224,Pt>>6&63|128,Pt&63|128)}else if(Pt<1114112){if((It-=4)<0)break;Yt.push(Pt>>18|240,Pt>>12&63|128,Pt>>6&63|128,Pt&63|128)}else throw new Error("Invalid code point")}return Yt}function rr(qt){const It=[];for(let Pt=0;Pt<qt.length;++Pt)It.push(qt.charCodeAt(Pt)&255);return It}function Sr(qt,It){let Pt,zt,Zt;const Yt=[];for(let Xt=0;Xt<qt.length&&!((It-=2)<0);++Xt)Pt=qt.charCodeAt(Xt),zt=Pt>>8,Zt=Pt%256,Yt.push(Zt),Yt.push(zt);return Yt}function cr(qt){return e.toByteArray(Qt(qt))}function ir(qt,It,Pt,zt){let Zt;for(Zt=0;Zt<zt&&!(Zt+Pt>=It.length||Zt>=qt.length);++Zt)It[Zt+Pt]=qt[Zt];return Zt}function Er(qt,It){return qt instanceof It||qt!=null&&qt.constructor!=null&&qt.constructor.name!=null&&qt.constructor.name===It.name}function xr(qt){return qt!==qt}const ur=function(){const qt="0123456789abcdef",It=new Array(256);for(let Pt=0;Pt<16;++Pt){const zt=Pt*16;for(let Zt=0;Zt<16;++Zt)It[zt+Zt]=qt[Pt]+qt[Zt]}return It}();function Or(qt){return typeof BigInt>"u"?kr:qt}function kr(){throw new Error("BigInt not supported")}})(buffer$1);const Buffer=buffer$1.Buffer,Blob$2=buffer$1.Blob,BlobOptions=buffer$1.BlobOptions,Buffer$1=buffer$1.Buffer,File=buffer$1.File,FileOptions=buffer$1.FileOptions,INSPECT_MAX_BYTES=buffer$1.INSPECT_MAX_BYTES,SlowBuffer=buffer$1.SlowBuffer,TranscodeEncoding=buffer$1.TranscodeEncoding,atob$1=buffer$1.atob,btoa$1=buffer$1.btoa,constants$1=buffer$1.constants,isAscii=buffer$1.isAscii,isUtf8=buffer$1.isUtf8,kMaxLength=buffer$1.kMaxLength,kStringMaxLength=buffer$1.kStringMaxLength,resolveObjectURL=buffer$1.resolveObjectURL,transcode=buffer$1.transcode,dist=Object.freeze(Object.defineProperty({__proto__:null,Blob:Blob$2,BlobOptions,Buffer:Buffer$1,File,FileOptions,INSPECT_MAX_BYTES,SlowBuffer,TranscodeEncoding,atob:atob$1,btoa:btoa$1,constants:constants$1,default:Buffer,isAscii,isUtf8,kMaxLength,kStringMaxLength,resolveObjectURL,transcode},Symbol.toStringTag,{value:"Module"}));var brorand={exports:{}},cryptoBrowserify={};function getDefaultExportFromCjs(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var browser$c={exports:{}},process$1=browser$c.exports={},cachedSetTimeout,cachedClearTimeout;function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?cachedSetTimeout=setTimeout:cachedSetTimeout=defaultSetTimout}catch{cachedSetTimeout=defaultSetTimout}try{typeof clearTimeout=="function"?cachedClearTimeout=clearTimeout:cachedClearTimeout=defaultClearTimeout}catch{cachedClearTimeout=defaultClearTimeout}})();function runTimeout(o){if(cachedSetTimeout===setTimeout)return setTimeout(o,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(o,0);try{return cachedSetTimeout(o,0)}catch{try{return cachedSetTimeout.call(null,o,0)}catch{return cachedSetTimeout.call(this,o,0)}}}function runClearTimeout(o){if(cachedClearTimeout===clearTimeout)return clearTimeout(o);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(o);try{return cachedClearTimeout(o)}catch{try{return cachedClearTimeout.call(null,o)}catch{return cachedClearTimeout.call(this,o)}}}var queue=[],draining=!1,currentQueue,queueIndex=-1;function cleanUpNextTick(){!draining||!currentQueue||(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var o=runTimeout(cleanUpNextTick);draining=!0;for(var e=queue.length;e;){for(currentQueue=queue,queue=[];++queueIndex<e;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,e=queue.length}currentQueue=null,draining=!1,runClearTimeout(o)}}process$1.nextTick=function(o){var e=new Array(arguments.length-1);if(arguments.length>1)for(var a=1;a<arguments.length;a++)e[a-1]=arguments[a];queue.push(new Item(o,e)),queue.length===1&&!draining&&runTimeout(drainQueue)};function Item(o,e){this.fun=o,this.array=e}Item.prototype.run=function(){this.fun.apply(null,this.array)};process$1.title="browser";process$1.browser=!0;process$1.env={};process$1.argv=[];process$1.version="";process$1.versions={};function noop$3(){}process$1.on=noop$3;process$1.addListener=noop$3;process$1.once=noop$3;process$1.off=noop$3;process$1.removeListener=noop$3;process$1.removeAllListeners=noop$3;process$1.emit=noop$3;process$1.prependListener=noop$3;process$1.prependOnceListener=noop$3;process$1.listeners=function(o){return[]};process$1.binding=function(o){throw new Error("process.binding is not supported")};process$1.cwd=function(){return"/"};process$1.chdir=function(o){throw new Error("process.chdir is not supported")};process$1.umask=function(){return 0};var browserExports=browser$c.exports;const process$1$1=getDefaultExportFromCjs(browserExports);var browser$b={exports:{}},safeBuffer$2={exports:{}};const require$$1$2=getAugmentedNamespace(dist);/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var hasRequiredSafeBuffer$2;function requireSafeBuffer$2(){return hasRequiredSafeBuffer$2||(hasRequiredSafeBuffer$2=1,function(o,e){var a=require$$1$2,_=a.Buffer;function b(et,tt){for(var nt in et)tt[nt]=et[nt]}_.from&&_.alloc&&_.allocUnsafe&&_.allocUnsafeSlow?o.exports=a:(b(a,e),e.Buffer=_e);function _e(et,tt,nt){return _(et,tt,nt)}_e.prototype=Object.create(_.prototype),b(_,_e),_e.from=function(et,tt,nt){if(typeof et=="number")throw new TypeError("Argument must not be a number");return _(et,tt,nt)},_e.alloc=function(et,tt,nt){if(typeof et!="number")throw new TypeError("Argument must be a number");var it=_(et);return tt!==void 0?typeof nt=="string"?it.fill(tt,nt):it.fill(tt):it.fill(0),it},_e.allocUnsafe=function(et){if(typeof et!="number")throw new TypeError("Argument must be a number");return _(et)},_e.allocUnsafeSlow=function(et){if(typeof et!="number")throw new TypeError("Argument must be a number");return a.SlowBuffer(et)}}(safeBuffer$2,safeBuffer$2.exports)),safeBuffer$2.exports}var hasRequiredBrowser$b;function requireBrowser$b(){if(hasRequiredBrowser$b)return browser$b.exports;hasRequiredBrowser$b=1;var o=65536,e=4294967295;function a(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var _=requireSafeBuffer$2().Buffer,b=commonjsGlobal.crypto||commonjsGlobal.msCrypto;b&&b.getRandomValues?browser$b.exports=_e:browser$b.exports=a;function _e(et,tt){if(et>e)throw new RangeError("requested too many random bytes");var nt=_.allocUnsafe(et);if(et>0)if(et>o)for(var it=0;it<et;it+=o)b.getRandomValues(nt.slice(it,it+o));else b.getRandomValues(nt);return typeof tt=="function"?process$1$1.nextTick(function(){tt(null,nt)}):nt}return browser$b.exports}var inherits_browser={exports:{}};typeof Object.create=="function"?inherits_browser.exports=function(e,a){a&&(e.super_=a,e.prototype=Object.create(a.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:inherits_browser.exports=function(e,a){if(a){e.super_=a;var _=function(){};_.prototype=a.prototype,e.prototype=new _,e.prototype.constructor=e}};var inherits_browserExports=inherits_browser.exports,events={exports:{}},hasRequiredEvents;function requireEvents(){if(hasRequiredEvents)return events.exports;hasRequiredEvents=1;var o=typeof Reflect=="object"?Reflect:null,e=o&&typeof o.apply=="function"?o.apply:function(Ct,Mt,Bt){return Function.prototype.apply.call(Ct,Mt,Bt)},a;o&&typeof o.ownKeys=="function"?a=o.ownKeys:Object.getOwnPropertySymbols?a=function(Ct){return Object.getOwnPropertyNames(Ct).concat(Object.getOwnPropertySymbols(Ct))}:a=function(Ct){return Object.getOwnPropertyNames(Ct)};function _(At){console&&console.warn&&console.warn(At)}var b=Number.isNaN||function(Ct){return Ct!==Ct};function _e(){_e.init.call(this)}events.exports=_e,events.exports.once=ht,_e.EventEmitter=_e,_e.prototype._events=void 0,_e.prototype._eventsCount=0,_e.prototype._maxListeners=void 0;var et=10;function tt(At){if(typeof At!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof At)}Object.defineProperty(_e,"defaultMaxListeners",{enumerable:!0,get:function(){return et},set:function(At){if(typeof At!="number"||At<0||b(At))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+At+".");et=At}}),_e.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},_e.prototype.setMaxListeners=function(Ct){if(typeof Ct!="number"||Ct<0||b(Ct))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+Ct+".");return this._maxListeners=Ct,this};function nt(At){return At._maxListeners===void 0?_e.defaultMaxListeners:At._maxListeners}_e.prototype.getMaxListeners=function(){return nt(this)},_e.prototype.emit=function(Ct){for(var Mt=[],Bt=1;Bt<arguments.length;Bt++)Mt.push(arguments[Bt]);var Lt=Ct==="error",jt=this._events;if(jt!==void 0)Lt=Lt&&jt.error===void 0;else if(!Lt)return!1;if(Lt){var Vt;if(Mt.length>0&&(Vt=Mt[0]),Vt instanceof Error)throw Vt;var Nt=new Error("Unhandled error."+(Vt?" ("+Vt.message+")":""));throw Nt.context=Vt,Nt}var kt=jt[Ct];if(kt===void 0)return!1;if(typeof kt=="function")e(kt,this,Mt);else for(var _t=kt.length,ct=ut(kt,_t),Bt=0;Bt<_t;++Bt)e(ct[Bt],this,Mt);return!0};function it(At,Ct,Mt,Bt){var Lt,jt,Vt;if(tt(Mt),jt=At._events,jt===void 0?(jt=At._events=Object.create(null),At._eventsCount=0):(jt.newListener!==void 0&&(At.emit("newListener",Ct,Mt.listener?Mt.listener:Mt),jt=At._events),Vt=jt[Ct]),Vt===void 0)Vt=jt[Ct]=Mt,++At._eventsCount;else if(typeof Vt=="function"?Vt=jt[Ct]=Bt?[Mt,Vt]:[Vt,Mt]:Bt?Vt.unshift(Mt):Vt.push(Mt),Lt=nt(At),Lt>0&&Vt.length>Lt&&!Vt.warned){Vt.warned=!0;var Nt=new Error("Possible EventEmitter memory leak detected. "+Vt.length+" "+String(Ct)+" listeners added. Use emitter.setMaxListeners() to increase limit");Nt.name="MaxListenersExceededWarning",Nt.emitter=At,Nt.type=Ct,Nt.count=Vt.length,_(Nt)}return At}_e.prototype.addListener=function(Ct,Mt){return it(this,Ct,Mt,!1)},_e.prototype.on=_e.prototype.addListener,_e.prototype.prependListener=function(Ct,Mt){return it(this,Ct,Mt,!0)};function ot(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function st(At,Ct,Mt){var Bt={fired:!1,wrapFn:void 0,target:At,type:Ct,listener:Mt},Lt=ot.bind(Bt);return Lt.listener=Mt,Bt.wrapFn=Lt,Lt}_e.prototype.once=function(Ct,Mt){return tt(Mt),this.on(Ct,st(this,Ct,Mt)),this},_e.prototype.prependOnceListener=function(Ct,Mt){return tt(Mt),this.prependListener(Ct,st(this,Ct,Mt)),this},_e.prototype.removeListener=function(Ct,Mt){var Bt,Lt,jt,Vt,Nt;if(tt(Mt),Lt=this._events,Lt===void 0)return this;if(Bt=Lt[Ct],Bt===void 0)return this;if(Bt===Mt||Bt.listener===Mt)--this._eventsCount===0?this._events=Object.create(null):(delete Lt[Ct],Lt.removeListener&&this.emit("removeListener",Ct,Bt.listener||Mt));else if(typeof Bt!="function"){for(jt=-1,Vt=Bt.length-1;Vt>=0;Vt--)if(Bt[Vt]===Mt||Bt[Vt].listener===Mt){Nt=Bt[Vt].listener,jt=Vt;break}if(jt<0)return this;jt===0?Bt.shift():ft(Bt,jt),Bt.length===1&&(Lt[Ct]=Bt[0]),Lt.removeListener!==void 0&&this.emit("removeListener",Ct,Nt||Mt)}return this},_e.prototype.off=_e.prototype.removeListener,_e.prototype.removeAllListeners=function(Ct){var Mt,Bt,Lt;if(Bt=this._events,Bt===void 0)return this;if(Bt.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):Bt[Ct]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete Bt[Ct]),this;if(arguments.length===0){var jt=Object.keys(Bt),Vt;for(Lt=0;Lt<jt.length;++Lt)Vt=jt[Lt],Vt!=="removeListener"&&this.removeAllListeners(Vt);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(Mt=Bt[Ct],typeof Mt=="function")this.removeListener(Ct,Mt);else if(Mt!==void 0)for(Lt=Mt.length-1;Lt>=0;Lt--)this.removeListener(Ct,Mt[Lt]);return this};function at(At,Ct,Mt){var Bt=At._events;if(Bt===void 0)return[];var Lt=Bt[Ct];return Lt===void 0?[]:typeof Lt=="function"?Mt?[Lt.listener||Lt]:[Lt]:Mt?mt(Lt):ut(Lt,Lt.length)}_e.prototype.listeners=function(Ct){return at(this,Ct,!0)},_e.prototype.rawListeners=function(Ct){return at(this,Ct,!1)},_e.listenerCount=function(At,Ct){return typeof At.listenerCount=="function"?At.listenerCount(Ct):lt.call(At,Ct)},_e.prototype.listenerCount=lt;function lt(At){var Ct=this._events;if(Ct!==void 0){var Mt=Ct[At];if(typeof Mt=="function")return 1;if(Mt!==void 0)return Mt.length}return 0}_e.prototype.eventNames=function(){return this._eventsCount>0?a(this._events):[]};function ut(At,Ct){for(var Mt=new Array(Ct),Bt=0;Bt<Ct;++Bt)Mt[Bt]=At[Bt];return Mt}function ft(At,Ct){for(;Ct+1<At.length;Ct++)At[Ct]=At[Ct+1];At.pop()}function mt(At){for(var Ct=new Array(At.length),Mt=0;Mt<Ct.length;++Mt)Ct[Mt]=At[Mt].listener||At[Mt];return Ct}function ht(At,Ct){return new Promise(function(Mt,Bt){function Lt(Vt){At.removeListener(Ct,jt),Bt(Vt)}function jt(){typeof At.removeListener=="function"&&At.removeListener("error",Lt),Mt([].slice.call(arguments))}Et(At,Ct,jt,{once:!0}),Ct!=="error"&&vt(At,Lt,{once:!0})})}function vt(At,Ct,Mt){typeof At.on=="function"&&Et(At,"error",Ct,Mt)}function Et(At,Ct,Mt,Bt){if(typeof At.on=="function")Bt.once?At.once(Ct,Mt):At.on(Ct,Mt);else if(typeof At.addEventListener=="function")At.addEventListener(Ct,function Lt(jt){Bt.once&&At.removeEventListener(Ct,Lt),Mt(jt)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof At)}return events.exports}var streamBrowser$2,hasRequiredStreamBrowser$2;function requireStreamBrowser$2(){return hasRequiredStreamBrowser$2||(hasRequiredStreamBrowser$2=1,streamBrowser$2=requireEvents().EventEmitter),streamBrowser$2}var util$1={},types={},shams$1,hasRequiredShams$1;function requireShams$1(){return hasRequiredShams$1||(hasRequiredShams$1=1,shams$1=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},a=Symbol("test"),_=Object(a);if(typeof a=="string"||Object.prototype.toString.call(a)!=="[object Symbol]"||Object.prototype.toString.call(_)!=="[object Symbol]")return!1;var b=42;e[a]=b;for(var _e in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var et=Object.getOwnPropertySymbols(e);if(et.length!==1||et[0]!==a||!Object.prototype.propertyIsEnumerable.call(e,a))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var tt=Object.getOwnPropertyDescriptor(e,a);if(tt.value!==b||tt.enumerable!==!0)return!1}return!0}),shams$1}var shams,hasRequiredShams;function requireShams(){if(hasRequiredShams)return shams;hasRequiredShams=1;var o=requireShams$1();return shams=function(){return o()&&!!Symbol.toStringTag},shams}var esObjectAtoms,hasRequiredEsObjectAtoms;function requireEsObjectAtoms(){return hasRequiredEsObjectAtoms||(hasRequiredEsObjectAtoms=1,esObjectAtoms=Object),esObjectAtoms}var esErrors,hasRequiredEsErrors;function requireEsErrors(){return hasRequiredEsErrors||(hasRequiredEsErrors=1,esErrors=Error),esErrors}var _eval,hasRequired_eval;function require_eval(){return hasRequired_eval||(hasRequired_eval=1,_eval=EvalError),_eval}var range,hasRequiredRange;function requireRange(){return hasRequiredRange||(hasRequiredRange=1,range=RangeError),range}var ref,hasRequiredRef;function requireRef(){return hasRequiredRef||(hasRequiredRef=1,ref=ReferenceError),ref}var syntax,hasRequiredSyntax;function requireSyntax(){return hasRequiredSyntax||(hasRequiredSyntax=1,syntax=SyntaxError),syntax}var type,hasRequiredType;function requireType(){return hasRequiredType||(hasRequiredType=1,type=TypeError),type}var uri,hasRequiredUri;function requireUri(){return hasRequiredUri||(hasRequiredUri=1,uri=URIError),uri}var abs,hasRequiredAbs;function requireAbs(){return hasRequiredAbs||(hasRequiredAbs=1,abs=Math.abs),abs}var floor,hasRequiredFloor;function requireFloor(){return hasRequiredFloor||(hasRequiredFloor=1,floor=Math.floor),floor}var max,hasRequiredMax;function requireMax(){return hasRequiredMax||(hasRequiredMax=1,max=Math.max),max}var min,hasRequiredMin;function requireMin(){return hasRequiredMin||(hasRequiredMin=1,min=Math.min),min}var pow,hasRequiredPow;function requirePow(){return hasRequiredPow||(hasRequiredPow=1,pow=Math.pow),pow}var round$1,hasRequiredRound;function requireRound(){return hasRequiredRound||(hasRequiredRound=1,round$1=Math.round),round$1}var _isNaN,hasRequired_isNaN;function require_isNaN(){return hasRequired_isNaN||(hasRequired_isNaN=1,_isNaN=Number.isNaN||function(e){return e!==e}),_isNaN}var sign$2,hasRequiredSign$1;function requireSign$1(){if(hasRequiredSign$1)return sign$2;hasRequiredSign$1=1;var o=require_isNaN();return sign$2=function(a){return o(a)||a===0?a:a<0?-1:1},sign$2}var gOPD,hasRequiredGOPD;function requireGOPD(){return hasRequiredGOPD||(hasRequiredGOPD=1,gOPD=Object.getOwnPropertyDescriptor),gOPD}var gopd,hasRequiredGopd;function requireGopd(){if(hasRequiredGopd)return gopd;hasRequiredGopd=1;var o=requireGOPD();if(o)try{o([],"length")}catch{o=null}return gopd=o,gopd}var esDefineProperty,hasRequiredEsDefineProperty;function requireEsDefineProperty(){if(hasRequiredEsDefineProperty)return esDefineProperty;hasRequiredEsDefineProperty=1;var o=Object.defineProperty||!1;if(o)try{o({},"a",{value:1})}catch{o=!1}return esDefineProperty=o,esDefineProperty}var hasSymbols,hasRequiredHasSymbols;function requireHasSymbols(){if(hasRequiredHasSymbols)return hasSymbols;hasRequiredHasSymbols=1;var o=typeof Symbol<"u"&&Symbol,e=requireShams$1();return hasSymbols=function(){return typeof o!="function"||typeof Symbol!="function"||typeof o("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},hasSymbols}var Reflect_getPrototypeOf,hasRequiredReflect_getPrototypeOf;function requireReflect_getPrototypeOf(){return hasRequiredReflect_getPrototypeOf||(hasRequiredReflect_getPrototypeOf=1,Reflect_getPrototypeOf=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),Reflect_getPrototypeOf}var Object_getPrototypeOf,hasRequiredObject_getPrototypeOf;function requireObject_getPrototypeOf(){if(hasRequiredObject_getPrototypeOf)return Object_getPrototypeOf;hasRequiredObject_getPrototypeOf=1;var o=requireEsObjectAtoms();return Object_getPrototypeOf=o.getPrototypeOf||null,Object_getPrototypeOf}var implementation,hasRequiredImplementation;function requireImplementation(){if(hasRequiredImplementation)return implementation;hasRequiredImplementation=1;var o="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,a=Math.max,_="[object Function]",b=function(nt,it){for(var ot=[],st=0;st<nt.length;st+=1)ot[st]=nt[st];for(var at=0;at<it.length;at+=1)ot[at+nt.length]=it[at];return ot},_e=function(nt,it){for(var ot=[],st=it,at=0;st<nt.length;st+=1,at+=1)ot[at]=nt[st];return ot},et=function(tt,nt){for(var it="",ot=0;ot<tt.length;ot+=1)it+=tt[ot],ot+1<tt.length&&(it+=nt);return it};return implementation=function(nt){var it=this;if(typeof it!="function"||e.apply(it)!==_)throw new TypeError(o+it);for(var ot=_e(arguments,1),st,at=function(){if(this instanceof st){var ht=it.apply(this,b(ot,arguments));return Object(ht)===ht?ht:this}return it.apply(nt,b(ot,arguments))},lt=a(0,it.length-ot.length),ut=[],ft=0;ft<lt;ft++)ut[ft]="$"+ft;if(st=Function("binder","return function ("+et(ut,",")+"){ return binder.apply(this,arguments); }")(at),it.prototype){var mt=function(){};mt.prototype=it.prototype,st.prototype=new mt,mt.prototype=null}return st},implementation}var functionBind,hasRequiredFunctionBind;function requireFunctionBind(){if(hasRequiredFunctionBind)return functionBind;hasRequiredFunctionBind=1;var o=requireImplementation();return functionBind=Function.prototype.bind||o,functionBind}var functionCall,hasRequiredFunctionCall;function requireFunctionCall(){return hasRequiredFunctionCall||(hasRequiredFunctionCall=1,functionCall=Function.prototype.call),functionCall}var functionApply,hasRequiredFunctionApply;function requireFunctionApply(){return hasRequiredFunctionApply||(hasRequiredFunctionApply=1,functionApply=Function.prototype.apply),functionApply}var reflectApply,hasRequiredReflectApply;function requireReflectApply(){return hasRequiredReflectApply||(hasRequiredReflectApply=1,reflectApply=typeof Reflect<"u"&&Reflect&&Reflect.apply),reflectApply}var actualApply,hasRequiredActualApply;function requireActualApply(){if(hasRequiredActualApply)return actualApply;hasRequiredActualApply=1;var o=requireFunctionBind(),e=requireFunctionApply(),a=requireFunctionCall(),_=requireReflectApply();return actualApply=_||o.call(a,e),actualApply}var callBindApplyHelpers,hasRequiredCallBindApplyHelpers;function requireCallBindApplyHelpers(){if(hasRequiredCallBindApplyHelpers)return callBindApplyHelpers;hasRequiredCallBindApplyHelpers=1;var o=requireFunctionBind(),e=requireType(),a=requireFunctionCall(),_=requireActualApply();return callBindApplyHelpers=function(_e){if(_e.length<1||typeof _e[0]!="function")throw new e("a function is required");return _(o,a,_e)},callBindApplyHelpers}var get,hasRequiredGet;function requireGet(){if(hasRequiredGet)return get;hasRequiredGet=1;var o=requireCallBindApplyHelpers(),e=requireGopd(),a;try{a=[].__proto__===Array.prototype}catch(et){if(!et||typeof et!="object"||!("code"in et)||et.code!=="ERR_PROTO_ACCESS")throw et}var _=!!a&&e&&e(Object.prototype,"__proto__"),b=Object,_e=b.getPrototypeOf;return get=_&&typeof _.get=="function"?o([_.get]):typeof _e=="function"?function(tt){return _e(tt==null?tt:b(tt))}:!1,get}var getProto,hasRequiredGetProto;function requireGetProto(){if(hasRequiredGetProto)return getProto;hasRequiredGetProto=1;var o=requireReflect_getPrototypeOf(),e=requireObject_getPrototypeOf(),a=requireGet();return getProto=o?function(b){return o(b)}:e?function(b){if(!b||typeof b!="object"&&typeof b!="function")throw new TypeError("getProto: not an object");return e(b)}:a?function(b){return a(b)}:null,getProto}var hasown,hasRequiredHasown;function requireHasown(){if(hasRequiredHasown)return hasown;hasRequiredHasown=1;var o=Function.prototype.call,e=Object.prototype.hasOwnProperty,a=requireFunctionBind();return hasown=a.call(o,e),hasown}var getIntrinsic,hasRequiredGetIntrinsic;function requireGetIntrinsic(){if(hasRequiredGetIntrinsic)return getIntrinsic;hasRequiredGetIntrinsic=1;var o,e=requireEsObjectAtoms(),a=requireEsErrors(),_=require_eval(),b=requireRange(),_e=requireRef(),et=requireSyntax(),tt=requireType(),nt=requireUri(),it=requireAbs(),ot=requireFloor(),st=requireMax(),at=requireMin(),lt=requirePow(),ut=requireRound(),ft=requireSign$1(),mt=Function,ht=function(Ft){try{return mt('"use strict"; return ('+Ft+").constructor;")()}catch{}},vt=requireGopd(),Et=requireEsDefineProperty(),At=function(){throw new tt},Ct=vt?function(){try{return arguments.callee,At}catch{try{return vt(arguments,"callee").get}catch{return At}}}():At,Mt=requireHasSymbols()(),Bt=requireGetProto(),Lt=requireObject_getPrototypeOf(),jt=requireReflect_getPrototypeOf(),Vt=requireFunctionApply(),Nt=requireFunctionCall(),kt={},_t=typeof Uint8Array>"u"||!Bt?o:Bt(Uint8Array),ct={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?o:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?o:ArrayBuffer,"%ArrayIteratorPrototype%":Mt&&Bt?Bt([][Symbol.iterator]()):o,"%AsyncFromSyncIteratorPrototype%":o,"%AsyncFunction%":kt,"%AsyncGenerator%":kt,"%AsyncGeneratorFunction%":kt,"%AsyncIteratorPrototype%":kt,"%Atomics%":typeof Atomics>"u"?o:Atomics,"%BigInt%":typeof BigInt>"u"?o:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?o:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?o:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?o:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":a,"%eval%":eval,"%EvalError%":_,"%Float16Array%":typeof Float16Array>"u"?o:Float16Array,"%Float32Array%":typeof Float32Array>"u"?o:Float32Array,"%Float64Array%":typeof Float64Array>"u"?o:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?o:FinalizationRegistry,"%Function%":mt,"%GeneratorFunction%":kt,"%Int8Array%":typeof Int8Array>"u"?o:Int8Array,"%Int16Array%":typeof Int16Array>"u"?o:Int16Array,"%Int32Array%":typeof Int32Array>"u"?o:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Mt&&Bt?Bt(Bt([][Symbol.iterator]())):o,"%JSON%":typeof JSON=="object"?JSON:o,"%Map%":typeof Map>"u"?o:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Mt||!Bt?o:Bt(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":e,"%Object.getOwnPropertyDescriptor%":vt,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?o:Promise,"%Proxy%":typeof Proxy>"u"?o:Proxy,"%RangeError%":b,"%ReferenceError%":_e,"%Reflect%":typeof Reflect>"u"?o:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?o:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Mt||!Bt?o:Bt(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?o:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Mt&&Bt?Bt(""[Symbol.iterator]()):o,"%Symbol%":Mt?Symbol:o,"%SyntaxError%":et,"%ThrowTypeError%":Ct,"%TypedArray%":_t,"%TypeError%":tt,"%Uint8Array%":typeof Uint8Array>"u"?o:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?o:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?o:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?o:Uint32Array,"%URIError%":nt,"%WeakMap%":typeof WeakMap>"u"?o:WeakMap,"%WeakRef%":typeof WeakRef>"u"?o:WeakRef,"%WeakSet%":typeof WeakSet>"u"?o:WeakSet,"%Function.prototype.call%":Nt,"%Function.prototype.apply%":Vt,"%Object.defineProperty%":Et,"%Object.getPrototypeOf%":Lt,"%Math.abs%":it,"%Math.floor%":ot,"%Math.max%":st,"%Math.min%":at,"%Math.pow%":lt,"%Math.round%":ut,"%Math.sign%":ft,"%Reflect.getPrototypeOf%":jt};if(Bt)try{null.error}catch(Ft){var dt=Bt(Bt(Ft));ct["%Error.prototype%"]=dt}var wt=function Ft(Kt){var Dt;if(Kt==="%AsyncFunction%")Dt=ht("async function () {}");else if(Kt==="%GeneratorFunction%")Dt=ht("function* () {}");else if(Kt==="%AsyncGeneratorFunction%")Dt=ht("async function* () {}");else if(Kt==="%AsyncGenerator%"){var Ot=Ft("%AsyncGeneratorFunction%");Ot&&(Dt=Ot.prototype)}else if(Kt==="%AsyncIteratorPrototype%"){var Gt=Ft("%AsyncGenerator%");Gt&&Bt&&(Dt=Bt(Gt.prototype))}return ct[Kt]=Dt,Dt},gt={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},bt=requireFunctionBind(),xt=requireHasown(),yt=bt.call(Nt,Array.prototype.concat),St=bt.call(Vt,Array.prototype.splice),pt=bt.call(Nt,String.prototype.replace),Tt=bt.call(Nt,String.prototype.slice),Ht=bt.call(Nt,RegExp.prototype.exec),Wt=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Ut=/\\(\\)?/g,Rt=function(Kt){var Dt=Tt(Kt,0,1),Ot=Tt(Kt,-1);if(Dt==="%"&&Ot!=="%")throw new et("invalid intrinsic syntax, expected closing `%`");if(Ot==="%"&&Dt!=="%")throw new et("invalid intrinsic syntax, expected opening `%`");var Gt=[];return pt(Kt,Wt,function(Jt,er,nr,or){Gt[Gt.length]=nr?pt(or,Ut,"$1"):er||Jt}),Gt},$t=function(Kt,Dt){var Ot=Kt,Gt;if(xt(gt,Ot)&&(Gt=gt[Ot],Ot="%"+Gt[0]+"%"),xt(ct,Ot)){var Jt=ct[Ot];if(Jt===kt&&(Jt=wt(Ot)),typeof Jt>"u"&&!Dt)throw new tt("intrinsic "+Kt+" exists, but is not available. Please file an issue!");return{alias:Gt,name:Ot,value:Jt}}throw new et("intrinsic "+Kt+" does not exist!")};return getIntrinsic=function(Kt,Dt){if(typeof Kt!="string"||Kt.length===0)throw new tt("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof Dt!="boolean")throw new tt('"allowMissing" argument must be a boolean');if(Ht(/^%?[^%]*%?$/,Kt)===null)throw new et("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var Ot=Rt(Kt),Gt=Ot.length>0?Ot[0]:"",Jt=$t("%"+Gt+"%",Dt),er=Jt.name,nr=Jt.value,or=!1,sr=Jt.alias;sr&&(Gt=sr[0],St(Ot,yt([0,1],sr)));for(var Qt=1,fr=!0;Qt<Ot.length;Qt+=1){var rr=Ot[Qt],Sr=Tt(rr,0,1),cr=Tt(rr,-1);if((Sr==='"'||Sr==="'"||Sr==="`"||cr==='"'||cr==="'"||cr==="`")&&Sr!==cr)throw new et("property names with quotes must have matching quotes");if((rr==="constructor"||!fr)&&(or=!0),Gt+="."+rr,er="%"+Gt+"%",xt(ct,er))nr=ct[er];else if(nr!=null){if(!(rr in nr)){if(!Dt)throw new tt("base intrinsic for "+Kt+" exists, but the property is not available.");return}if(vt&&Qt+1>=Ot.length){var ir=vt(nr,rr);fr=!!ir,fr&&"get"in ir&&!("originalValue"in ir.get)?nr=ir.get:nr=nr[rr]}else fr=xt(nr,rr),nr=nr[rr];fr&&!or&&(ct[er]=nr)}}return nr},getIntrinsic}var callBound,hasRequiredCallBound;function requireCallBound(){if(hasRequiredCallBound)return callBound;hasRequiredCallBound=1;var o=requireGetIntrinsic(),e=requireCallBindApplyHelpers(),a=e([o("%String.prototype.indexOf%")]);return callBound=function(b,_e){var et=o(b,!!_e);return typeof et=="function"&&a(b,".prototype.")>-1?e([et]):et},callBound}var isArguments,hasRequiredIsArguments;function requireIsArguments(){if(hasRequiredIsArguments)return isArguments;hasRequiredIsArguments=1;var o=requireShams()(),e=requireCallBound(),a=e("Object.prototype.toString"),_=function(tt){return o&&tt&&typeof tt=="object"&&Symbol.toStringTag in tt?!1:a(tt)==="[object Arguments]"},b=function(tt){return _(tt)?!0:tt!==null&&typeof tt=="object"&&"length"in tt&&typeof tt.length=="number"&&tt.length>=0&&a(tt)!=="[object Array]"&&"callee"in tt&&a(tt.callee)==="[object Function]"},_e=function(){return _(arguments)}();return _.isLegacyArguments=b,isArguments=_e?_:b,isArguments}var isRegex,hasRequiredIsRegex;function requireIsRegex(){if(hasRequiredIsRegex)return isRegex;hasRequiredIsRegex=1;var o=requireCallBound(),e=requireShams()(),a=requireHasown(),_=requireGopd(),b;if(e){var _e=o("RegExp.prototype.exec"),et={},tt=function(){throw et},nt={toString:tt,valueOf:tt};typeof Symbol.toPrimitive=="symbol"&&(nt[Symbol.toPrimitive]=tt),b=function(at){if(!at||typeof at!="object")return!1;var lt=_(at,"lastIndex"),ut=lt&&a(lt,"value");if(!ut)return!1;try{_e(at,nt)}catch(ft){return ft===et}}}else{var it=o("Object.prototype.toString"),ot="[object RegExp]";b=function(at){return!at||typeof at!="object"&&typeof at!="function"?!1:it(at)===ot}}return isRegex=b,isRegex}var safeRegexTest,hasRequiredSafeRegexTest;function requireSafeRegexTest(){if(hasRequiredSafeRegexTest)return safeRegexTest;hasRequiredSafeRegexTest=1;var o=requireCallBound(),e=requireIsRegex(),a=o("RegExp.prototype.exec"),_=requireType();return safeRegexTest=function(_e){if(!e(_e))throw new _("`regex` must be a RegExp");return function(tt){return a(_e,tt)!==null}},safeRegexTest}var generatorFunction,hasRequiredGeneratorFunction;function requireGeneratorFunction(){if(hasRequiredGeneratorFunction)return generatorFunction;hasRequiredGeneratorFunction=1;const o=(function*(){}).constructor;return generatorFunction=()=>o,generatorFunction}var isGeneratorFunction,hasRequiredIsGeneratorFunction;function requireIsGeneratorFunction(){if(hasRequiredIsGeneratorFunction)return isGeneratorFunction;hasRequiredIsGeneratorFunction=1;var o=requireCallBound(),e=requireSafeRegexTest(),a=e(/^\s*(?:function)?\*/),_=requireShams()(),b=requireGetProto(),_e=o("Object.prototype.toString"),et=o("Function.prototype.toString"),tt=requireGeneratorFunction();return isGeneratorFunction=function(it){if(typeof it!="function")return!1;if(a(et(it)))return!0;if(!_){var ot=_e(it);return ot==="[object GeneratorFunction]"}if(!b)return!1;var st=tt();return st&&b(it)===st.prototype},isGeneratorFunction}var isCallable,hasRequiredIsCallable;function requireIsCallable(){if(hasRequiredIsCallable)return isCallable;hasRequiredIsCallable=1;var o=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,a,_;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{a=Object.defineProperty({},"length",{get:function(){throw _}}),_={},e(function(){throw 42},null,a)}catch(vt){vt!==_&&(e=null)}else e=null;var b=/^\s*class\b/,_e=function(Et){try{var At=o.call(Et);return b.test(At)}catch{return!1}},et=function(Et){try{return _e(Et)?!1:(o.call(Et),!0)}catch{return!1}},tt=Object.prototype.toString,nt="[object Object]",it="[object Function]",ot="[object GeneratorFunction]",st="[object HTMLAllCollection]",at="[object HTML document.all class]",lt="[object HTMLCollection]",ut=typeof Symbol=="function"&&!!Symbol.toStringTag,ft=!(0 in[,]),mt=function(){return!1};if(typeof document=="object"){var ht=document.all;tt.call(ht)===tt.call(document.all)&&(mt=function(Et){if((ft||!Et)&&(typeof Et>"u"||typeof Et=="object"))try{var At=tt.call(Et);return(At===st||At===at||At===lt||At===nt)&&Et("")==null}catch{}return!1})}return isCallable=e?function(Et){if(mt(Et))return!0;if(!Et||typeof Et!="function"&&typeof Et!="object")return!1;try{e(Et,null,a)}catch(At){if(At!==_)return!1}return!_e(Et)&&et(Et)}:function(Et){if(mt(Et))return!0;if(!Et||typeof Et!="function"&&typeof Et!="object")return!1;if(ut)return et(Et);if(_e(Et))return!1;var At=tt.call(Et);return At!==it&&At!==ot&&!/^\[object HTML/.test(At)?!1:et(Et)},isCallable}var forEach,hasRequiredForEach;function requireForEach(){if(hasRequiredForEach)return forEach;hasRequiredForEach=1;var o=requireIsCallable(),e=Object.prototype.toString,a=Object.prototype.hasOwnProperty,_=function(nt,it,ot){for(var st=0,at=nt.length;st<at;st++)a.call(nt,st)&&(ot==null?it(nt[st],st,nt):it.call(ot,nt[st],st,nt))},b=function(nt,it,ot){for(var st=0,at=nt.length;st<at;st++)ot==null?it(nt.charAt(st),st,nt):it.call(ot,nt.charAt(st),st,nt)},_e=function(nt,it,ot){for(var st in nt)a.call(nt,st)&&(ot==null?it(nt[st],st,nt):it.call(ot,nt[st],st,nt))};function et(tt){return e.call(tt)==="[object Array]"}return forEach=function(nt,it,ot){if(!o(it))throw new TypeError("iterator must be a function");var st;arguments.length>=3&&(st=ot),et(nt)?_(nt,it,st):typeof nt=="string"?b(nt,it,st):_e(nt,it,st)},forEach}var possibleTypedArrayNames,hasRequiredPossibleTypedArrayNames;function requirePossibleTypedArrayNames(){return hasRequiredPossibleTypedArrayNames||(hasRequiredPossibleTypedArrayNames=1,possibleTypedArrayNames=["Float16Array","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),possibleTypedArrayNames}var availableTypedArrays,hasRequiredAvailableTypedArrays;function requireAvailableTypedArrays(){if(hasRequiredAvailableTypedArrays)return availableTypedArrays;hasRequiredAvailableTypedArrays=1;var o=requirePossibleTypedArrayNames(),e=typeof globalThis>"u"?commonjsGlobal:globalThis;return availableTypedArrays=function(){for(var _=[],b=0;b<o.length;b++)typeof e[o[b]]=="function"&&(_[_.length]=o[b]);return _},availableTypedArrays}var callBind={exports:{}},defineDataProperty,hasRequiredDefineDataProperty;function requireDefineDataProperty(){if(hasRequiredDefineDataProperty)return defineDataProperty;hasRequiredDefineDataProperty=1;var o=requireEsDefineProperty(),e=requireSyntax(),a=requireType(),_=requireGopd();return defineDataProperty=function(_e,et,tt){if(!_e||typeof _e!="object"&&typeof _e!="function")throw new a("`obj` must be an object or a function`");if(typeof et!="string"&&typeof et!="symbol")throw new a("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new a("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new a("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new a("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new a("`loose`, if provided, must be a boolean");var nt=arguments.length>3?arguments[3]:null,it=arguments.length>4?arguments[4]:null,ot=arguments.length>5?arguments[5]:null,st=arguments.length>6?arguments[6]:!1,at=!!_&&_(_e,et);if(o)o(_e,et,{configurable:ot===null&&at?at.configurable:!ot,enumerable:nt===null&&at?at.enumerable:!nt,value:tt,writable:it===null&&at?at.writable:!it});else if(st||!nt&&!it&&!ot)_e[et]=tt;else throw new e("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},defineDataProperty}var hasPropertyDescriptors_1,hasRequiredHasPropertyDescriptors;function requireHasPropertyDescriptors(){if(hasRequiredHasPropertyDescriptors)return hasPropertyDescriptors_1;hasRequiredHasPropertyDescriptors=1;var o=requireEsDefineProperty(),e=function(){return!!o};return e.hasArrayLengthDefineBug=function(){if(!o)return null;try{return o([],"length",{value:1}).length!==1}catch{return!0}},hasPropertyDescriptors_1=e,hasPropertyDescriptors_1}var setFunctionLength,hasRequiredSetFunctionLength;function requireSetFunctionLength(){if(hasRequiredSetFunctionLength)return setFunctionLength;hasRequiredSetFunctionLength=1;var o=requireGetIntrinsic(),e=requireDefineDataProperty(),a=requireHasPropertyDescriptors()(),_=requireGopd(),b=requireType(),_e=o("%Math.floor%");return setFunctionLength=function(tt,nt){if(typeof tt!="function")throw new b("`fn` is not a function");if(typeof nt!="number"||nt<0||nt>4294967295||_e(nt)!==nt)throw new b("`length` must be a positive 32-bit integer");var it=arguments.length>2&&!!arguments[2],ot=!0,st=!0;if("length"in tt&&_){var at=_(tt,"length");at&&!at.configurable&&(ot=!1),at&&!at.writable&&(st=!1)}return(ot||st||!it)&&(a?e(tt,"length",nt,!0,!0):e(tt,"length",nt)),tt},setFunctionLength}var applyBind,hasRequiredApplyBind;function requireApplyBind(){if(hasRequiredApplyBind)return applyBind;hasRequiredApplyBind=1;var o=requireFunctionBind(),e=requireFunctionApply(),a=requireActualApply();return applyBind=function(){return a(o,e,arguments)},applyBind}var hasRequiredCallBind;function requireCallBind(){return hasRequiredCallBind||(hasRequiredCallBind=1,function(o){var e=requireSetFunctionLength(),a=requireEsDefineProperty(),_=requireCallBindApplyHelpers(),b=requireApplyBind();o.exports=function(et){var tt=_(arguments),nt=et.length-(arguments.length-1);return e(tt,1+(nt>0?nt:0),!0)},a?a(o.exports,"apply",{value:b}):o.exports.apply=b}(callBind)),callBind.exports}var whichTypedArray,hasRequiredWhichTypedArray;function requireWhichTypedArray(){if(hasRequiredWhichTypedArray)return whichTypedArray;hasRequiredWhichTypedArray=1;var o=requireForEach(),e=requireAvailableTypedArrays(),a=requireCallBind(),_=requireCallBound(),b=requireGopd(),_e=requireGetProto(),et=_("Object.prototype.toString"),tt=requireShams()(),nt=typeof globalThis>"u"?commonjsGlobal:globalThis,it=e(),ot=_("String.prototype.slice"),st=_("Array.prototype.indexOf",!0)||function(mt,ht){for(var vt=0;vt<mt.length;vt+=1)if(mt[vt]===ht)return vt;return-1},at={__proto__:null};tt&&b&&_e?o(it,function(ft){var mt=new nt[ft];if(Symbol.toStringTag in mt&&_e){var ht=_e(mt),vt=b(ht,Symbol.toStringTag);if(!vt&&ht){var Et=_e(ht);vt=b(Et,Symbol.toStringTag)}at["$"+ft]=a(vt.get)}}):o(it,function(ft){var mt=new nt[ft],ht=mt.slice||mt.set;ht&&(at["$"+ft]=a(ht))});var lt=function(mt){var ht=!1;return o(at,function(vt,Et){if(!ht)try{"$"+vt(mt)===Et&&(ht=ot(Et,1))}catch{}}),ht},ut=function(mt){var ht=!1;return o(at,function(vt,Et){if(!ht)try{vt(mt),ht=ot(Et,1)}catch{}}),ht};return whichTypedArray=function(mt){if(!mt||typeof mt!="object")return!1;if(!tt){var ht=ot(et(mt),8,-1);return st(it,ht)>-1?ht:ht!=="Object"?!1:ut(mt)}return b?lt(mt):null},whichTypedArray}var isTypedArray,hasRequiredIsTypedArray;function requireIsTypedArray(){if(hasRequiredIsTypedArray)return isTypedArray;hasRequiredIsTypedArray=1;var o=requireWhichTypedArray();return isTypedArray=function(a){return!!o(a)},isTypedArray}var hasRequiredTypes;function requireTypes(){return hasRequiredTypes||(hasRequiredTypes=1,function(o){var e=requireIsArguments(),a=requireIsGeneratorFunction(),_=requireWhichTypedArray(),b=requireIsTypedArray();function _e(Qt){return Qt.call.bind(Qt)}var et=typeof BigInt<"u",tt=typeof Symbol<"u",nt=_e(Object.prototype.toString),it=_e(Number.prototype.valueOf),ot=_e(String.prototype.valueOf),st=_e(Boolean.prototype.valueOf);if(et)var at=_e(BigInt.prototype.valueOf);if(tt)var lt=_e(Symbol.prototype.valueOf);function ut(Qt,fr){if(typeof Qt!="object")return!1;try{return fr(Qt),!0}catch{return!1}}o.isArgumentsObject=e,o.isGeneratorFunction=a,o.isTypedArray=b;function ft(Qt){return typeof Promise<"u"&&Qt instanceof Promise||Qt!==null&&typeof Qt=="object"&&typeof Qt.then=="function"&&typeof Qt.catch=="function"}o.isPromise=ft;function mt(Qt){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(Qt):b(Qt)||Tt(Qt)}o.isArrayBufferView=mt;function ht(Qt){return _(Qt)==="Uint8Array"}o.isUint8Array=ht;function vt(Qt){return _(Qt)==="Uint8ClampedArray"}o.isUint8ClampedArray=vt;function Et(Qt){return _(Qt)==="Uint16Array"}o.isUint16Array=Et;function At(Qt){return _(Qt)==="Uint32Array"}o.isUint32Array=At;function Ct(Qt){return _(Qt)==="Int8Array"}o.isInt8Array=Ct;function Mt(Qt){return _(Qt)==="Int16Array"}o.isInt16Array=Mt;function Bt(Qt){return _(Qt)==="Int32Array"}o.isInt32Array=Bt;function Lt(Qt){return _(Qt)==="Float32Array"}o.isFloat32Array=Lt;function jt(Qt){return _(Qt)==="Float64Array"}o.isFloat64Array=jt;function Vt(Qt){return _(Qt)==="BigInt64Array"}o.isBigInt64Array=Vt;function Nt(Qt){return _(Qt)==="BigUint64Array"}o.isBigUint64Array=Nt;function kt(Qt){return nt(Qt)==="[object Map]"}kt.working=typeof Map<"u"&&kt(new Map);function _t(Qt){return typeof Map>"u"?!1:kt.working?kt(Qt):Qt instanceof Map}o.isMap=_t;function ct(Qt){return nt(Qt)==="[object Set]"}ct.working=typeof Set<"u"&&ct(new Set);function dt(Qt){return typeof Set>"u"?!1:ct.working?ct(Qt):Qt instanceof Set}o.isSet=dt;function wt(Qt){return nt(Qt)==="[object WeakMap]"}wt.working=typeof WeakMap<"u"&&wt(new WeakMap);function gt(Qt){return typeof WeakMap>"u"?!1:wt.working?wt(Qt):Qt instanceof WeakMap}o.isWeakMap=gt;function bt(Qt){return nt(Qt)==="[object WeakSet]"}bt.working=typeof WeakSet<"u"&&bt(new WeakSet);function xt(Qt){return bt(Qt)}o.isWeakSet=xt;function yt(Qt){return nt(Qt)==="[object ArrayBuffer]"}yt.working=typeof ArrayBuffer<"u"&&yt(new ArrayBuffer);function St(Qt){return typeof ArrayBuffer>"u"?!1:yt.working?yt(Qt):Qt instanceof ArrayBuffer}o.isArrayBuffer=St;function pt(Qt){return nt(Qt)==="[object DataView]"}pt.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&pt(new DataView(new ArrayBuffer(1),0,1));function Tt(Qt){return typeof DataView>"u"?!1:pt.working?pt(Qt):Qt instanceof DataView}o.isDataView=Tt;var Ht=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function Wt(Qt){return nt(Qt)==="[object SharedArrayBuffer]"}function Ut(Qt){return typeof Ht>"u"?!1:(typeof Wt.working>"u"&&(Wt.working=Wt(new Ht)),Wt.working?Wt(Qt):Qt instanceof Ht)}o.isSharedArrayBuffer=Ut;function Rt(Qt){return nt(Qt)==="[object AsyncFunction]"}o.isAsyncFunction=Rt;function $t(Qt){return nt(Qt)==="[object Map Iterator]"}o.isMapIterator=$t;function Ft(Qt){return nt(Qt)==="[object Set Iterator]"}o.isSetIterator=Ft;function Kt(Qt){return nt(Qt)==="[object Generator]"}o.isGeneratorObject=Kt;function Dt(Qt){return nt(Qt)==="[object WebAssembly.Module]"}o.isWebAssemblyCompiledModule=Dt;function Ot(Qt){return ut(Qt,it)}o.isNumberObject=Ot;function Gt(Qt){return ut(Qt,ot)}o.isStringObject=Gt;function Jt(Qt){return ut(Qt,st)}o.isBooleanObject=Jt;function er(Qt){return et&&ut(Qt,at)}o.isBigIntObject=er;function nr(Qt){return tt&&ut(Qt,lt)}o.isSymbolObject=nr;function or(Qt){return Ot(Qt)||Gt(Qt)||Jt(Qt)||er(Qt)||nr(Qt)}o.isBoxedPrimitive=or;function sr(Qt){return typeof Uint8Array<"u"&&(St(Qt)||Ut(Qt))}o.isAnyArrayBuffer=sr,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(Qt){Object.defineProperty(o,Qt,{enumerable:!1,value:function(){throw new Error(Qt+" is not supported in userland")}})})}(types)),types}var isBufferBrowser,hasRequiredIsBufferBrowser;function requireIsBufferBrowser(){return hasRequiredIsBufferBrowser||(hasRequiredIsBufferBrowser=1,isBufferBrowser=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}),isBufferBrowser}var hasRequiredUtil$1;function requireUtil$1(){return hasRequiredUtil$1||(hasRequiredUtil$1=1,function(o){var e={},a=Object.getOwnPropertyDescriptors||function(Ht){for(var Wt=Object.keys(Ht),Ut={},Rt=0;Rt<Wt.length;Rt++)Ut[Wt[Rt]]=Object.getOwnPropertyDescriptor(Ht,Wt[Rt]);return Ut},_=/%[sdj%]/g;o.format=function(Tt){if(!Mt(Tt)){for(var Ht=[],Wt=0;Wt<arguments.length;Wt++)Ht.push(tt(arguments[Wt]));return Ht.join(" ")}for(var Wt=1,Ut=arguments,Rt=Ut.length,$t=String(Tt).replace(_,function(Kt){if(Kt==="%%")return"%";if(Wt>=Rt)return Kt;switch(Kt){case"%s":return String(Ut[Wt++]);case"%d":return Number(Ut[Wt++]);case"%j":try{return JSON.stringify(Ut[Wt++])}catch{return"[Circular]"}default:return Kt}}),Ft=Ut[Wt];Wt<Rt;Ft=Ut[++Wt])Et(Ft)||!Vt(Ft)?$t+=" "+Ft:$t+=" "+tt(Ft);return $t},o.deprecate=function(Tt,Ht){if(typeof process$1$1<"u"&&process$1$1.noDeprecation===!0)return Tt;if(typeof process$1$1>"u")return function(){return o.deprecate(Tt,Ht).apply(this,arguments)};var Wt=!1;function Ut(){if(!Wt){if(process$1$1.throwDeprecation)throw new Error(Ht);process$1$1.traceDeprecation?console.trace(Ht):console.error(Ht),Wt=!0}return Tt.apply(this,arguments)}return Ut};var b={},_e=/^$/;if(e.NODE_DEBUG){var et=e.NODE_DEBUG;et=et.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),_e=new RegExp("^"+et+"$","i")}o.debuglog=function(Tt){if(Tt=Tt.toUpperCase(),!b[Tt])if(_e.test(Tt)){var Ht=process$1$1.pid;b[Tt]=function(){var Wt=o.format.apply(o,arguments);console.error("%s %d: %s",Tt,Ht,Wt)}}else b[Tt]=function(){};return b[Tt]};function tt(Tt,Ht){var Wt={seen:[],stylize:it};return arguments.length>=3&&(Wt.depth=arguments[2]),arguments.length>=4&&(Wt.colors=arguments[3]),vt(Ht)?Wt.showHidden=Ht:Ht&&o._extend(Wt,Ht),Lt(Wt.showHidden)&&(Wt.showHidden=!1),Lt(Wt.depth)&&(Wt.depth=2),Lt(Wt.colors)&&(Wt.colors=!1),Lt(Wt.customInspect)&&(Wt.customInspect=!0),Wt.colors&&(Wt.stylize=nt),st(Wt,Tt,Wt.depth)}o.inspect=tt,tt.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},tt.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function nt(Tt,Ht){var Wt=tt.styles[Ht];return Wt?"\x1B["+tt.colors[Wt][0]+"m"+Tt+"\x1B["+tt.colors[Wt][1]+"m":Tt}function it(Tt,Ht){return Tt}function ot(Tt){var Ht={};return Tt.forEach(function(Wt,Ut){Ht[Wt]=!0}),Ht}function st(Tt,Ht,Wt){if(Tt.customInspect&&Ht&&_t(Ht.inspect)&&Ht.inspect!==o.inspect&&!(Ht.constructor&&Ht.constructor.prototype===Ht)){var Ut=Ht.inspect(Wt,Tt);return Mt(Ut)||(Ut=st(Tt,Ut,Wt)),Ut}var Rt=at(Tt,Ht);if(Rt)return Rt;var $t=Object.keys(Ht),Ft=ot($t);if(Tt.showHidden&&($t=Object.getOwnPropertyNames(Ht)),kt(Ht)&&($t.indexOf("message")>=0||$t.indexOf("description")>=0))return lt(Ht);if($t.length===0){if(_t(Ht)){var Kt=Ht.name?": "+Ht.name:"";return Tt.stylize("[Function"+Kt+"]","special")}if(jt(Ht))return Tt.stylize(RegExp.prototype.toString.call(Ht),"regexp");if(Nt(Ht))return Tt.stylize(Date.prototype.toString.call(Ht),"date");if(kt(Ht))return lt(Ht)}var Dt="",Ot=!1,Gt=["{","}"];if(ht(Ht)&&(Ot=!0,Gt=["[","]"]),_t(Ht)){var Jt=Ht.name?": "+Ht.name:"";Dt=" [Function"+Jt+"]"}if(jt(Ht)&&(Dt=" "+RegExp.prototype.toString.call(Ht)),Nt(Ht)&&(Dt=" "+Date.prototype.toUTCString.call(Ht)),kt(Ht)&&(Dt=" "+lt(Ht)),$t.length===0&&(!Ot||Ht.length==0))return Gt[0]+Dt+Gt[1];if(Wt<0)return jt(Ht)?Tt.stylize(RegExp.prototype.toString.call(Ht),"regexp"):Tt.stylize("[Object]","special");Tt.seen.push(Ht);var er;return Ot?er=ut(Tt,Ht,Wt,Ft,$t):er=$t.map(function(nr){return ft(Tt,Ht,Wt,Ft,nr,Ot)}),Tt.seen.pop(),mt(er,Dt,Gt)}function at(Tt,Ht){if(Lt(Ht))return Tt.stylize("undefined","undefined");if(Mt(Ht)){var Wt="'"+JSON.stringify(Ht).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return Tt.stylize(Wt,"string")}if(Ct(Ht))return Tt.stylize(""+Ht,"number");if(vt(Ht))return Tt.stylize(""+Ht,"boolean");if(Et(Ht))return Tt.stylize("null","null")}function lt(Tt){return"["+Error.prototype.toString.call(Tt)+"]"}function ut(Tt,Ht,Wt,Ut,Rt){for(var $t=[],Ft=0,Kt=Ht.length;Ft<Kt;++Ft)xt(Ht,String(Ft))?$t.push(ft(Tt,Ht,Wt,Ut,String(Ft),!0)):$t.push("");return Rt.forEach(function(Dt){Dt.match(/^\d+$/)||$t.push(ft(Tt,Ht,Wt,Ut,Dt,!0))}),$t}function ft(Tt,Ht,Wt,Ut,Rt,$t){var Ft,Kt,Dt;if(Dt=Object.getOwnPropertyDescriptor(Ht,Rt)||{value:Ht[Rt]},Dt.get?Dt.set?Kt=Tt.stylize("[Getter/Setter]","special"):Kt=Tt.stylize("[Getter]","special"):Dt.set&&(Kt=Tt.stylize("[Setter]","special")),xt(Ut,Rt)||(Ft="["+Rt+"]"),Kt||(Tt.seen.indexOf(Dt.value)<0?(Et(Wt)?Kt=st(Tt,Dt.value,null):Kt=st(Tt,Dt.value,Wt-1),Kt.indexOf(`
`)>-1&&($t?Kt=Kt.split(`
`).map(function(Ot){return"  "+Ot}).join(`
`).slice(2):Kt=`
`+Kt.split(`
`).map(function(Ot){return"   "+Ot}).join(`
`))):Kt=Tt.stylize("[Circular]","special")),Lt(Ft)){if($t&&Rt.match(/^\d+$/))return Kt;Ft=JSON.stringify(""+Rt),Ft.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(Ft=Ft.slice(1,-1),Ft=Tt.stylize(Ft,"name")):(Ft=Ft.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),Ft=Tt.stylize(Ft,"string"))}return Ft+": "+Kt}function mt(Tt,Ht,Wt){var Ut=Tt.reduce(function(Rt,$t){return $t.indexOf(`
`)>=0,Rt+$t.replace(/\u001b\[\d\d?m/g,"").length+1},0);return Ut>60?Wt[0]+(Ht===""?"":Ht+`
 `)+" "+Tt.join(`,
  `)+" "+Wt[1]:Wt[0]+Ht+" "+Tt.join(", ")+" "+Wt[1]}o.types=requireTypes();function ht(Tt){return Array.isArray(Tt)}o.isArray=ht;function vt(Tt){return typeof Tt=="boolean"}o.isBoolean=vt;function Et(Tt){return Tt===null}o.isNull=Et;function At(Tt){return Tt==null}o.isNullOrUndefined=At;function Ct(Tt){return typeof Tt=="number"}o.isNumber=Ct;function Mt(Tt){return typeof Tt=="string"}o.isString=Mt;function Bt(Tt){return typeof Tt=="symbol"}o.isSymbol=Bt;function Lt(Tt){return Tt===void 0}o.isUndefined=Lt;function jt(Tt){return Vt(Tt)&&dt(Tt)==="[object RegExp]"}o.isRegExp=jt,o.types.isRegExp=jt;function Vt(Tt){return typeof Tt=="object"&&Tt!==null}o.isObject=Vt;function Nt(Tt){return Vt(Tt)&&dt(Tt)==="[object Date]"}o.isDate=Nt,o.types.isDate=Nt;function kt(Tt){return Vt(Tt)&&(dt(Tt)==="[object Error]"||Tt instanceof Error)}o.isError=kt,o.types.isNativeError=kt;function _t(Tt){return typeof Tt=="function"}o.isFunction=_t;function ct(Tt){return Tt===null||typeof Tt=="boolean"||typeof Tt=="number"||typeof Tt=="string"||typeof Tt=="symbol"||typeof Tt>"u"}o.isPrimitive=ct,o.isBuffer=requireIsBufferBrowser();function dt(Tt){return Object.prototype.toString.call(Tt)}function wt(Tt){return Tt<10?"0"+Tt.toString(10):Tt.toString(10)}var gt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function bt(){var Tt=new Date,Ht=[wt(Tt.getHours()),wt(Tt.getMinutes()),wt(Tt.getSeconds())].join(":");return[Tt.getDate(),gt[Tt.getMonth()],Ht].join(" ")}o.log=function(){console.log("%s - %s",bt(),o.format.apply(o,arguments))},o.inherits=inherits_browserExports,o._extend=function(Tt,Ht){if(!Ht||!Vt(Ht))return Tt;for(var Wt=Object.keys(Ht),Ut=Wt.length;Ut--;)Tt[Wt[Ut]]=Ht[Wt[Ut]];return Tt};function xt(Tt,Ht){return Object.prototype.hasOwnProperty.call(Tt,Ht)}var yt=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;o.promisify=function(Ht){if(typeof Ht!="function")throw new TypeError('The "original" argument must be of type Function');if(yt&&Ht[yt]){var Wt=Ht[yt];if(typeof Wt!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(Wt,yt,{value:Wt,enumerable:!1,writable:!1,configurable:!0}),Wt}function Wt(){for(var Ut,Rt,$t=new Promise(function(Dt,Ot){Ut=Dt,Rt=Ot}),Ft=[],Kt=0;Kt<arguments.length;Kt++)Ft.push(arguments[Kt]);Ft.push(function(Dt,Ot){Dt?Rt(Dt):Ut(Ot)});try{Ht.apply(this,Ft)}catch(Dt){Rt(Dt)}return $t}return Object.setPrototypeOf(Wt,Object.getPrototypeOf(Ht)),yt&&Object.defineProperty(Wt,yt,{value:Wt,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(Wt,a(Ht))},o.promisify.custom=yt;function St(Tt,Ht){if(!Tt){var Wt=new Error("Promise was rejected with a falsy value");Wt.reason=Tt,Tt=Wt}return Ht(Tt)}function pt(Tt){if(typeof Tt!="function")throw new TypeError('The "original" argument must be of type Function');function Ht(){for(var Wt=[],Ut=0;Ut<arguments.length;Ut++)Wt.push(arguments[Ut]);var Rt=Wt.pop();if(typeof Rt!="function")throw new TypeError("The last argument must be of type Function");var $t=this,Ft=function(){return Rt.apply($t,arguments)};Tt.apply(this,Wt).then(function(Kt){process$1$1.nextTick(Ft.bind(null,null,Kt))},function(Kt){process$1$1.nextTick(St.bind(null,Kt,Ft))})}return Object.setPrototypeOf(Ht,Object.getPrototypeOf(Tt)),Object.defineProperties(Ht,a(Tt)),Ht}o.callbackify=pt}(util$1)),util$1}var buffer_list,hasRequiredBuffer_list;function requireBuffer_list(){if(hasRequiredBuffer_list)return buffer_list;hasRequiredBuffer_list=1;function o(ut,ft){var mt=Object.keys(ut);if(Object.getOwnPropertySymbols){var ht=Object.getOwnPropertySymbols(ut);ft&&(ht=ht.filter(function(vt){return Object.getOwnPropertyDescriptor(ut,vt).enumerable})),mt.push.apply(mt,ht)}return mt}function e(ut){for(var ft=1;ft<arguments.length;ft++){var mt=arguments[ft]!=null?arguments[ft]:{};ft%2?o(Object(mt),!0).forEach(function(ht){a(ut,ht,mt[ht])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ut,Object.getOwnPropertyDescriptors(mt)):o(Object(mt)).forEach(function(ht){Object.defineProperty(ut,ht,Object.getOwnPropertyDescriptor(mt,ht))})}return ut}function a(ut,ft,mt){return ft=et(ft),ft in ut?Object.defineProperty(ut,ft,{value:mt,enumerable:!0,configurable:!0,writable:!0}):ut[ft]=mt,ut}function _(ut,ft){if(!(ut instanceof ft))throw new TypeError("Cannot call a class as a function")}function b(ut,ft){for(var mt=0;mt<ft.length;mt++){var ht=ft[mt];ht.enumerable=ht.enumerable||!1,ht.configurable=!0,"value"in ht&&(ht.writable=!0),Object.defineProperty(ut,et(ht.key),ht)}}function _e(ut,ft,mt){return ft&&b(ut.prototype,ft),Object.defineProperty(ut,"prototype",{writable:!1}),ut}function et(ut){var ft=tt(ut,"string");return typeof ft=="symbol"?ft:String(ft)}function tt(ut,ft){if(typeof ut!="object"||ut===null)return ut;var mt=ut[Symbol.toPrimitive];if(mt!==void 0){var ht=mt.call(ut,ft);if(typeof ht!="object")return ht;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ut)}var nt=require$$1$2,it=nt.Buffer,ot=requireUtil$1(),st=ot.inspect,at=st&&st.custom||"inspect";function lt(ut,ft,mt){it.prototype.copy.call(ut,ft,mt)}return buffer_list=function(){function ut(){_(this,ut),this.head=null,this.tail=null,this.length=0}return _e(ut,[{key:"push",value:function(mt){var ht={data:mt,next:null};this.length>0?this.tail.next=ht:this.head=ht,this.tail=ht,++this.length}},{key:"unshift",value:function(mt){var ht={data:mt,next:this.head};this.length===0&&(this.tail=ht),this.head=ht,++this.length}},{key:"shift",value:function(){if(this.length!==0){var mt=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,mt}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(mt){if(this.length===0)return"";for(var ht=this.head,vt=""+ht.data;ht=ht.next;)vt+=mt+ht.data;return vt}},{key:"concat",value:function(mt){if(this.length===0)return it.alloc(0);for(var ht=it.allocUnsafe(mt>>>0),vt=this.head,Et=0;vt;)lt(vt.data,ht,Et),Et+=vt.data.length,vt=vt.next;return ht}},{key:"consume",value:function(mt,ht){var vt;return mt<this.head.data.length?(vt=this.head.data.slice(0,mt),this.head.data=this.head.data.slice(mt)):mt===this.head.data.length?vt=this.shift():vt=ht?this._getString(mt):this._getBuffer(mt),vt}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(mt){var ht=this.head,vt=1,Et=ht.data;for(mt-=Et.length;ht=ht.next;){var At=ht.data,Ct=mt>At.length?At.length:mt;if(Ct===At.length?Et+=At:Et+=At.slice(0,mt),mt-=Ct,mt===0){Ct===At.length?(++vt,ht.next?this.head=ht.next:this.head=this.tail=null):(this.head=ht,ht.data=At.slice(Ct));break}++vt}return this.length-=vt,Et}},{key:"_getBuffer",value:function(mt){var ht=it.allocUnsafe(mt),vt=this.head,Et=1;for(vt.data.copy(ht),mt-=vt.data.length;vt=vt.next;){var At=vt.data,Ct=mt>At.length?At.length:mt;if(At.copy(ht,ht.length-mt,0,Ct),mt-=Ct,mt===0){Ct===At.length?(++Et,vt.next?this.head=vt.next:this.head=this.tail=null):(this.head=vt,vt.data=At.slice(Ct));break}++Et}return this.length-=Et,ht}},{key:at,value:function(mt,ht){return st(this,e(e({},ht),{},{depth:0,customInspect:!1}))}}]),ut}(),buffer_list}var destroy_1$2,hasRequiredDestroy$2;function requireDestroy$2(){if(hasRequiredDestroy$2)return destroy_1$2;hasRequiredDestroy$2=1;function o(et,tt){var nt=this,it=this._readableState&&this._readableState.destroyed,ot=this._writableState&&this._writableState.destroyed;return it||ot?(tt?tt(et):et&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process$1$1.nextTick(b,this,et)):process$1$1.nextTick(b,this,et)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(et||null,function(st){!tt&&st?nt._writableState?nt._writableState.errorEmitted?process$1$1.nextTick(a,nt):(nt._writableState.errorEmitted=!0,process$1$1.nextTick(e,nt,st)):process$1$1.nextTick(e,nt,st):tt?(process$1$1.nextTick(a,nt),tt(st)):process$1$1.nextTick(a,nt)}),this)}function e(et,tt){b(et,tt),a(et)}function a(et){et._writableState&&!et._writableState.emitClose||et._readableState&&!et._readableState.emitClose||et.emit("close")}function _(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function b(et,tt){et.emit("error",tt)}function _e(et,tt){var nt=et._readableState,it=et._writableState;nt&&nt.autoDestroy||it&&it.autoDestroy?et.destroy(tt):et.emit("error",tt)}return destroy_1$2={destroy:o,undestroy:_,errorOrDestroy:_e},destroy_1$2}var errorsBrowser={},hasRequiredErrorsBrowser;function requireErrorsBrowser(){if(hasRequiredErrorsBrowser)return errorsBrowser;hasRequiredErrorsBrowser=1;function o(tt,nt){tt.prototype=Object.create(nt.prototype),tt.prototype.constructor=tt,tt.__proto__=nt}var e={};function a(tt,nt,it){it||(it=Error);function ot(at,lt,ut){return typeof nt=="string"?nt:nt(at,lt,ut)}var st=function(at){o(lt,at);function lt(ut,ft,mt){return at.call(this,ot(ut,ft,mt))||this}return lt}(it);st.prototype.name=it.name,st.prototype.code=tt,e[tt]=st}function _(tt,nt){if(Array.isArray(tt)){var it=tt.length;return tt=tt.map(function(ot){return String(ot)}),it>2?"one of ".concat(nt," ").concat(tt.slice(0,it-1).join(", "),", or ")+tt[it-1]:it===2?"one of ".concat(nt," ").concat(tt[0]," or ").concat(tt[1]):"of ".concat(nt," ").concat(tt[0])}else return"of ".concat(nt," ").concat(String(tt))}function b(tt,nt,it){return tt.substr(0,nt.length)===nt}function _e(tt,nt,it){return(it===void 0||it>tt.length)&&(it=tt.length),tt.substring(it-nt.length,it)===nt}function et(tt,nt,it){return typeof it!="number"&&(it=0),it+nt.length>tt.length?!1:tt.indexOf(nt,it)!==-1}return a("ERR_INVALID_OPT_VALUE",function(tt,nt){return'The value "'+nt+'" is invalid for option "'+tt+'"'},TypeError),a("ERR_INVALID_ARG_TYPE",function(tt,nt,it){var ot;typeof nt=="string"&&b(nt,"not ")?(ot="must not be",nt=nt.replace(/^not /,"")):ot="must be";var st;if(_e(tt," argument"))st="The ".concat(tt," ").concat(ot," ").concat(_(nt,"type"));else{var at=et(tt,".")?"property":"argument";st='The "'.concat(tt,'" ').concat(at," ").concat(ot," ").concat(_(nt,"type"))}return st+=". Received type ".concat(typeof it),st},TypeError),a("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),a("ERR_METHOD_NOT_IMPLEMENTED",function(tt){return"The "+tt+" method is not implemented"}),a("ERR_STREAM_PREMATURE_CLOSE","Premature close"),a("ERR_STREAM_DESTROYED",function(tt){return"Cannot call "+tt+" after a stream was destroyed"}),a("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),a("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),a("ERR_STREAM_WRITE_AFTER_END","write after end"),a("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),a("ERR_UNKNOWN_ENCODING",function(tt){return"Unknown encoding: "+tt},TypeError),a("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),errorsBrowser.codes=e,errorsBrowser}var state,hasRequiredState;function requireState(){if(hasRequiredState)return state;hasRequiredState=1;var o=requireErrorsBrowser().codes.ERR_INVALID_OPT_VALUE;function e(_,b,_e){return _.highWaterMark!=null?_.highWaterMark:b?_[_e]:null}function a(_,b,_e,et){var tt=e(b,et,_e);if(tt!=null){if(!(isFinite(tt)&&Math.floor(tt)===tt)||tt<0){var nt=et?_e:"highWaterMark";throw new o(nt,tt)}return Math.floor(tt)}return _.objectMode?16:16*1024}return state={getHighWaterMark:a},state}var browser$a,hasRequiredBrowser$a;function requireBrowser$a(){if(hasRequiredBrowser$a)return browser$a;hasRequiredBrowser$a=1,browser$a=o;function o(a,_){if(e("noDeprecation"))return a;var b=!1;function _e(){if(!b){if(e("throwDeprecation"))throw new Error(_);e("traceDeprecation")?console.trace(_):console.warn(_),b=!0}return a.apply(this,arguments)}return _e}function e(a){try{if(!commonjsGlobal.localStorage)return!1}catch{return!1}var _=commonjsGlobal.localStorage[a];return _==null?!1:String(_).toLowerCase()==="true"}return browser$a}var _stream_writable$2,hasRequired_stream_writable$2;function require_stream_writable$2(){if(hasRequired_stream_writable$2)return _stream_writable$2;hasRequired_stream_writable$2=1,_stream_writable$2=Lt;function o(Ut){var Rt=this;this.next=null,this.entry=null,this.finish=function(){Wt(Rt,Ut)}}var e;Lt.WritableState=Mt;var a={deprecate:requireBrowser$a()},_=requireStreamBrowser$2(),b=require$$1$2.Buffer,_e=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function et(Ut){return b.from(Ut)}function tt(Ut){return b.isBuffer(Ut)||Ut instanceof _e}var nt=requireDestroy$2(),it=requireState(),ot=it.getHighWaterMark,st=requireErrorsBrowser().codes,at=st.ERR_INVALID_ARG_TYPE,lt=st.ERR_METHOD_NOT_IMPLEMENTED,ut=st.ERR_MULTIPLE_CALLBACK,ft=st.ERR_STREAM_CANNOT_PIPE,mt=st.ERR_STREAM_DESTROYED,ht=st.ERR_STREAM_NULL_VALUES,vt=st.ERR_STREAM_WRITE_AFTER_END,Et=st.ERR_UNKNOWN_ENCODING,At=nt.errorOrDestroy;inherits_browserExports(Lt,_);function Ct(){}function Mt(Ut,Rt,$t){e=e||require_stream_duplex$2(),Ut=Ut||{},typeof $t!="boolean"&&($t=Rt instanceof e),this.objectMode=!!Ut.objectMode,$t&&(this.objectMode=this.objectMode||!!Ut.writableObjectMode),this.highWaterMark=ot(this,Ut,"writableHighWaterMark",$t),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Ft=Ut.decodeStrings===!1;this.decodeStrings=!Ft,this.defaultEncoding=Ut.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Kt){wt(Rt,Kt)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Ut.emitClose!==!1,this.autoDestroy=!!Ut.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}Mt.prototype.getBuffer=function(){for(var Rt=this.bufferedRequest,$t=[];Rt;)$t.push(Rt),Rt=Rt.next;return $t},function(){try{Object.defineProperty(Mt.prototype,"buffer",{get:a.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var Bt;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Bt=Function.prototype[Symbol.hasInstance],Object.defineProperty(Lt,Symbol.hasInstance,{value:function(Rt){return Bt.call(this,Rt)?!0:this!==Lt?!1:Rt&&Rt._writableState instanceof Mt}})):Bt=function(Rt){return Rt instanceof this};function Lt(Ut){e=e||require_stream_duplex$2();var Rt=this instanceof e;if(!Rt&&!Bt.call(Lt,this))return new Lt(Ut);this._writableState=new Mt(Ut,this,Rt),this.writable=!0,Ut&&(typeof Ut.write=="function"&&(this._write=Ut.write),typeof Ut.writev=="function"&&(this._writev=Ut.writev),typeof Ut.destroy=="function"&&(this._destroy=Ut.destroy),typeof Ut.final=="function"&&(this._final=Ut.final)),_.call(this)}Lt.prototype.pipe=function(){At(this,new ft)};function jt(Ut,Rt){var $t=new vt;At(Ut,$t),process$1$1.nextTick(Rt,$t)}function Vt(Ut,Rt,$t,Ft){var Kt;return $t===null?Kt=new ht:typeof $t!="string"&&!Rt.objectMode&&(Kt=new at("chunk",["string","Buffer"],$t)),Kt?(At(Ut,Kt),process$1$1.nextTick(Ft,Kt),!1):!0}Lt.prototype.write=function(Ut,Rt,$t){var Ft=this._writableState,Kt=!1,Dt=!Ft.objectMode&&tt(Ut);return Dt&&!b.isBuffer(Ut)&&(Ut=et(Ut)),typeof Rt=="function"&&($t=Rt,Rt=null),Dt?Rt="buffer":Rt||(Rt=Ft.defaultEncoding),typeof $t!="function"&&($t=Ct),Ft.ending?jt(this,$t):(Dt||Vt(this,Ft,Ut,$t))&&(Ft.pendingcb++,Kt=kt(this,Ft,Dt,Ut,Rt,$t)),Kt},Lt.prototype.cork=function(){this._writableState.corked++},Lt.prototype.uncork=function(){var Ut=this._writableState;Ut.corked&&(Ut.corked--,!Ut.writing&&!Ut.corked&&!Ut.bufferProcessing&&Ut.bufferedRequest&&xt(this,Ut))},Lt.prototype.setDefaultEncoding=function(Rt){if(typeof Rt=="string"&&(Rt=Rt.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Rt+"").toLowerCase())>-1))throw new Et(Rt);return this._writableState.defaultEncoding=Rt,this},Object.defineProperty(Lt.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function Nt(Ut,Rt,$t){return!Ut.objectMode&&Ut.decodeStrings!==!1&&typeof Rt=="string"&&(Rt=b.from(Rt,$t)),Rt}Object.defineProperty(Lt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function kt(Ut,Rt,$t,Ft,Kt,Dt){if(!$t){var Ot=Nt(Rt,Ft,Kt);Ft!==Ot&&($t=!0,Kt="buffer",Ft=Ot)}var Gt=Rt.objectMode?1:Ft.length;Rt.length+=Gt;var Jt=Rt.length<Rt.highWaterMark;if(Jt||(Rt.needDrain=!0),Rt.writing||Rt.corked){var er=Rt.lastBufferedRequest;Rt.lastBufferedRequest={chunk:Ft,encoding:Kt,isBuf:$t,callback:Dt,next:null},er?er.next=Rt.lastBufferedRequest:Rt.bufferedRequest=Rt.lastBufferedRequest,Rt.bufferedRequestCount+=1}else _t(Ut,Rt,!1,Gt,Ft,Kt,Dt);return Jt}function _t(Ut,Rt,$t,Ft,Kt,Dt,Ot){Rt.writelen=Ft,Rt.writecb=Ot,Rt.writing=!0,Rt.sync=!0,Rt.destroyed?Rt.onwrite(new mt("write")):$t?Ut._writev(Kt,Rt.onwrite):Ut._write(Kt,Dt,Rt.onwrite),Rt.sync=!1}function ct(Ut,Rt,$t,Ft,Kt){--Rt.pendingcb,$t?(process$1$1.nextTick(Kt,Ft),process$1$1.nextTick(Tt,Ut,Rt),Ut._writableState.errorEmitted=!0,At(Ut,Ft)):(Kt(Ft),Ut._writableState.errorEmitted=!0,At(Ut,Ft),Tt(Ut,Rt))}function dt(Ut){Ut.writing=!1,Ut.writecb=null,Ut.length-=Ut.writelen,Ut.writelen=0}function wt(Ut,Rt){var $t=Ut._writableState,Ft=$t.sync,Kt=$t.writecb;if(typeof Kt!="function")throw new ut;if(dt($t),Rt)ct(Ut,$t,Ft,Rt,Kt);else{var Dt=yt($t)||Ut.destroyed;!Dt&&!$t.corked&&!$t.bufferProcessing&&$t.bufferedRequest&&xt(Ut,$t),Ft?process$1$1.nextTick(gt,Ut,$t,Dt,Kt):gt(Ut,$t,Dt,Kt)}}function gt(Ut,Rt,$t,Ft){$t||bt(Ut,Rt),Rt.pendingcb--,Ft(),Tt(Ut,Rt)}function bt(Ut,Rt){Rt.length===0&&Rt.needDrain&&(Rt.needDrain=!1,Ut.emit("drain"))}function xt(Ut,Rt){Rt.bufferProcessing=!0;var $t=Rt.bufferedRequest;if(Ut._writev&&$t&&$t.next){var Ft=Rt.bufferedRequestCount,Kt=new Array(Ft),Dt=Rt.corkedRequestsFree;Dt.entry=$t;for(var Ot=0,Gt=!0;$t;)Kt[Ot]=$t,$t.isBuf||(Gt=!1),$t=$t.next,Ot+=1;Kt.allBuffers=Gt,_t(Ut,Rt,!0,Rt.length,Kt,"",Dt.finish),Rt.pendingcb++,Rt.lastBufferedRequest=null,Dt.next?(Rt.corkedRequestsFree=Dt.next,Dt.next=null):Rt.corkedRequestsFree=new o(Rt),Rt.bufferedRequestCount=0}else{for(;$t;){var Jt=$t.chunk,er=$t.encoding,nr=$t.callback,or=Rt.objectMode?1:Jt.length;if(_t(Ut,Rt,!1,or,Jt,er,nr),$t=$t.next,Rt.bufferedRequestCount--,Rt.writing)break}$t===null&&(Rt.lastBufferedRequest=null)}Rt.bufferedRequest=$t,Rt.bufferProcessing=!1}Lt.prototype._write=function(Ut,Rt,$t){$t(new lt("_write()"))},Lt.prototype._writev=null,Lt.prototype.end=function(Ut,Rt,$t){var Ft=this._writableState;return typeof Ut=="function"?($t=Ut,Ut=null,Rt=null):typeof Rt=="function"&&($t=Rt,Rt=null),Ut!=null&&this.write(Ut,Rt),Ft.corked&&(Ft.corked=1,this.uncork()),Ft.ending||Ht(this,Ft,$t),this},Object.defineProperty(Lt.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function yt(Ut){return Ut.ending&&Ut.length===0&&Ut.bufferedRequest===null&&!Ut.finished&&!Ut.writing}function St(Ut,Rt){Ut._final(function($t){Rt.pendingcb--,$t&&At(Ut,$t),Rt.prefinished=!0,Ut.emit("prefinish"),Tt(Ut,Rt)})}function pt(Ut,Rt){!Rt.prefinished&&!Rt.finalCalled&&(typeof Ut._final=="function"&&!Rt.destroyed?(Rt.pendingcb++,Rt.finalCalled=!0,process$1$1.nextTick(St,Ut,Rt)):(Rt.prefinished=!0,Ut.emit("prefinish")))}function Tt(Ut,Rt){var $t=yt(Rt);if($t&&(pt(Ut,Rt),Rt.pendingcb===0&&(Rt.finished=!0,Ut.emit("finish"),Rt.autoDestroy))){var Ft=Ut._readableState;(!Ft||Ft.autoDestroy&&Ft.endEmitted)&&Ut.destroy()}return $t}function Ht(Ut,Rt,$t){Rt.ending=!0,Tt(Ut,Rt),$t&&(Rt.finished?process$1$1.nextTick($t):Ut.once("finish",$t)),Rt.ended=!0,Ut.writable=!1}function Wt(Ut,Rt,$t){var Ft=Ut.entry;for(Ut.entry=null;Ft;){var Kt=Ft.callback;Rt.pendingcb--,Kt($t),Ft=Ft.next}Rt.corkedRequestsFree.next=Ut}return Object.defineProperty(Lt.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(Rt){this._writableState&&(this._writableState.destroyed=Rt)}}),Lt.prototype.destroy=nt.destroy,Lt.prototype._undestroy=nt.undestroy,Lt.prototype._destroy=function(Ut,Rt){Rt(Ut)},_stream_writable$2}var _stream_duplex$2,hasRequired_stream_duplex$2;function require_stream_duplex$2(){if(hasRequired_stream_duplex$2)return _stream_duplex$2;hasRequired_stream_duplex$2=1;var o=Object.keys||function(it){var ot=[];for(var st in it)ot.push(st);return ot};_stream_duplex$2=et;var e=require_stream_readable$2(),a=require_stream_writable$2();inherits_browserExports(et,e);for(var _=o(a.prototype),b=0;b<_.length;b++){var _e=_[b];et.prototype[_e]||(et.prototype[_e]=a.prototype[_e])}function et(it){if(!(this instanceof et))return new et(it);e.call(this,it),a.call(this,it),this.allowHalfOpen=!0,it&&(it.readable===!1&&(this.readable=!1),it.writable===!1&&(this.writable=!1),it.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",tt)))}Object.defineProperty(et.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(et.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(et.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function tt(){this._writableState.ended||process$1$1.nextTick(nt,this)}function nt(it){it.end()}return Object.defineProperty(et.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(ot){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=ot,this._writableState.destroyed=ot)}}),_stream_duplex$2}var string_decoder={},hasRequiredString_decoder;function requireString_decoder(){if(hasRequiredString_decoder)return string_decoder;hasRequiredString_decoder=1;var o=requireSafeBuffer$2().Buffer,e=o.isEncoding||function(ht){switch(ht=""+ht,ht&&ht.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(ht){if(!ht)return"utf8";for(var vt;;)switch(ht){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return ht;default:if(vt)return;ht=(""+ht).toLowerCase(),vt=!0}}function _(ht){var vt=a(ht);if(typeof vt!="string"&&(o.isEncoding===e||!e(ht)))throw new Error("Unknown encoding: "+ht);return vt||ht}string_decoder.StringDecoder=b;function b(ht){this.encoding=_(ht);var vt;switch(this.encoding){case"utf16le":this.text=st,this.end=at,vt=4;break;case"utf8":this.fillLast=nt,vt=4;break;case"base64":this.text=lt,this.end=ut,vt=3;break;default:this.write=ft,this.end=mt;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=o.allocUnsafe(vt)}b.prototype.write=function(ht){if(ht.length===0)return"";var vt,Et;if(this.lastNeed){if(vt=this.fillLast(ht),vt===void 0)return"";Et=this.lastNeed,this.lastNeed=0}else Et=0;return Et<ht.length?vt?vt+this.text(ht,Et):this.text(ht,Et):vt||""},b.prototype.end=ot,b.prototype.text=it,b.prototype.fillLast=function(ht){if(this.lastNeed<=ht.length)return ht.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);ht.copy(this.lastChar,this.lastTotal-this.lastNeed,0,ht.length),this.lastNeed-=ht.length};function _e(ht){return ht<=127?0:ht>>5===6?2:ht>>4===14?3:ht>>3===30?4:ht>>6===2?-1:-2}function et(ht,vt,Et){var At=vt.length-1;if(At<Et)return 0;var Ct=_e(vt[At]);return Ct>=0?(Ct>0&&(ht.lastNeed=Ct-1),Ct):--At<Et||Ct===-2?0:(Ct=_e(vt[At]),Ct>=0?(Ct>0&&(ht.lastNeed=Ct-2),Ct):--At<Et||Ct===-2?0:(Ct=_e(vt[At]),Ct>=0?(Ct>0&&(Ct===2?Ct=0:ht.lastNeed=Ct-3),Ct):0))}function tt(ht,vt,Et){if((vt[0]&192)!==128)return ht.lastNeed=0,"";if(ht.lastNeed>1&&vt.length>1){if((vt[1]&192)!==128)return ht.lastNeed=1,"";if(ht.lastNeed>2&&vt.length>2&&(vt[2]&192)!==128)return ht.lastNeed=2,""}}function nt(ht){var vt=this.lastTotal-this.lastNeed,Et=tt(this,ht);if(Et!==void 0)return Et;if(this.lastNeed<=ht.length)return ht.copy(this.lastChar,vt,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);ht.copy(this.lastChar,vt,0,ht.length),this.lastNeed-=ht.length}function it(ht,vt){var Et=et(this,ht,vt);if(!this.lastNeed)return ht.toString("utf8",vt);this.lastTotal=Et;var At=ht.length-(Et-this.lastNeed);return ht.copy(this.lastChar,0,At),ht.toString("utf8",vt,At)}function ot(ht){var vt=ht&&ht.length?this.write(ht):"";return this.lastNeed?vt+"":vt}function st(ht,vt){if((ht.length-vt)%2===0){var Et=ht.toString("utf16le",vt);if(Et){var At=Et.charCodeAt(Et.length-1);if(At>=55296&&At<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=ht[ht.length-2],this.lastChar[1]=ht[ht.length-1],Et.slice(0,-1)}return Et}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=ht[ht.length-1],ht.toString("utf16le",vt,ht.length-1)}function at(ht){var vt=ht&&ht.length?this.write(ht):"";if(this.lastNeed){var Et=this.lastTotal-this.lastNeed;return vt+this.lastChar.toString("utf16le",0,Et)}return vt}function lt(ht,vt){var Et=(ht.length-vt)%3;return Et===0?ht.toString("base64",vt):(this.lastNeed=3-Et,this.lastTotal=3,Et===1?this.lastChar[0]=ht[ht.length-1]:(this.lastChar[0]=ht[ht.length-2],this.lastChar[1]=ht[ht.length-1]),ht.toString("base64",vt,ht.length-Et))}function ut(ht){var vt=ht&&ht.length?this.write(ht):"";return this.lastNeed?vt+this.lastChar.toString("base64",0,3-this.lastNeed):vt}function ft(ht){return ht.toString(this.encoding)}function mt(ht){return ht&&ht.length?this.write(ht):""}return string_decoder}var endOfStream,hasRequiredEndOfStream;function requireEndOfStream(){if(hasRequiredEndOfStream)return endOfStream;hasRequiredEndOfStream=1;var o=requireErrorsBrowser().codes.ERR_STREAM_PREMATURE_CLOSE;function e(_e){var et=!1;return function(){if(!et){et=!0;for(var tt=arguments.length,nt=new Array(tt),it=0;it<tt;it++)nt[it]=arguments[it];_e.apply(this,nt)}}}function a(){}function _(_e){return _e.setHeader&&typeof _e.abort=="function"}function b(_e,et,tt){if(typeof et=="function")return b(_e,null,et);et||(et={}),tt=e(tt||a);var nt=et.readable||et.readable!==!1&&_e.readable,it=et.writable||et.writable!==!1&&_e.writable,ot=function(){_e.writable||at()},st=_e._writableState&&_e._writableState.finished,at=function(){it=!1,st=!0,nt||tt.call(_e)},lt=_e._readableState&&_e._readableState.endEmitted,ut=function(){nt=!1,lt=!0,it||tt.call(_e)},ft=function(Et){tt.call(_e,Et)},mt=function(){var Et;if(nt&&!lt)return(!_e._readableState||!_e._readableState.ended)&&(Et=new o),tt.call(_e,Et);if(it&&!st)return(!_e._writableState||!_e._writableState.ended)&&(Et=new o),tt.call(_e,Et)},ht=function(){_e.req.on("finish",at)};return _(_e)?(_e.on("complete",at),_e.on("abort",mt),_e.req?ht():_e.on("request",ht)):it&&!_e._writableState&&(_e.on("end",ot),_e.on("close",ot)),_e.on("end",ut),_e.on("finish",at),et.error!==!1&&_e.on("error",ft),_e.on("close",mt),function(){_e.removeListener("complete",at),_e.removeListener("abort",mt),_e.removeListener("request",ht),_e.req&&_e.req.removeListener("finish",at),_e.removeListener("end",ot),_e.removeListener("close",ot),_e.removeListener("finish",at),_e.removeListener("end",ut),_e.removeListener("error",ft),_e.removeListener("close",mt)}}return endOfStream=b,endOfStream}var async_iterator,hasRequiredAsync_iterator;function requireAsync_iterator(){if(hasRequiredAsync_iterator)return async_iterator;hasRequiredAsync_iterator=1;var o;function e(Et,At,Ct){return At=a(At),At in Et?Object.defineProperty(Et,At,{value:Ct,enumerable:!0,configurable:!0,writable:!0}):Et[At]=Ct,Et}function a(Et){var At=_(Et,"string");return typeof At=="symbol"?At:String(At)}function _(Et,At){if(typeof Et!="object"||Et===null)return Et;var Ct=Et[Symbol.toPrimitive];if(Ct!==void 0){var Mt=Ct.call(Et,At);if(typeof Mt!="object")return Mt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(At==="string"?String:Number)(Et)}var b=requireEndOfStream(),_e=Symbol("lastResolve"),et=Symbol("lastReject"),tt=Symbol("error"),nt=Symbol("ended"),it=Symbol("lastPromise"),ot=Symbol("handlePromise"),st=Symbol("stream");function at(Et,At){return{value:Et,done:At}}function lt(Et){var At=Et[_e];if(At!==null){var Ct=Et[st].read();Ct!==null&&(Et[it]=null,Et[_e]=null,Et[et]=null,At(at(Ct,!1)))}}function ut(Et){process$1$1.nextTick(lt,Et)}function ft(Et,At){return function(Ct,Mt){Et.then(function(){if(At[nt]){Ct(at(void 0,!0));return}At[ot](Ct,Mt)},Mt)}}var mt=Object.getPrototypeOf(function(){}),ht=Object.setPrototypeOf((o={get stream(){return this[st]},next:function(){var At=this,Ct=this[tt];if(Ct!==null)return Promise.reject(Ct);if(this[nt])return Promise.resolve(at(void 0,!0));if(this[st].destroyed)return new Promise(function(jt,Vt){process$1$1.nextTick(function(){At[tt]?Vt(At[tt]):jt(at(void 0,!0))})});var Mt=this[it],Bt;if(Mt)Bt=new Promise(ft(Mt,this));else{var Lt=this[st].read();if(Lt!==null)return Promise.resolve(at(Lt,!1));Bt=new Promise(this[ot])}return this[it]=Bt,Bt}},e(o,Symbol.asyncIterator,function(){return this}),e(o,"return",function(){var At=this;return new Promise(function(Ct,Mt){At[st].destroy(null,function(Bt){if(Bt){Mt(Bt);return}Ct(at(void 0,!0))})})}),o),mt),vt=function(At){var Ct,Mt=Object.create(ht,(Ct={},e(Ct,st,{value:At,writable:!0}),e(Ct,_e,{value:null,writable:!0}),e(Ct,et,{value:null,writable:!0}),e(Ct,tt,{value:null,writable:!0}),e(Ct,nt,{value:At._readableState.endEmitted,writable:!0}),e(Ct,ot,{value:function(Lt,jt){var Vt=Mt[st].read();Vt?(Mt[it]=null,Mt[_e]=null,Mt[et]=null,Lt(at(Vt,!1))):(Mt[_e]=Lt,Mt[et]=jt)},writable:!0}),Ct));return Mt[it]=null,b(At,function(Bt){if(Bt&&Bt.code!=="ERR_STREAM_PREMATURE_CLOSE"){var Lt=Mt[et];Lt!==null&&(Mt[it]=null,Mt[_e]=null,Mt[et]=null,Lt(Bt)),Mt[tt]=Bt;return}var jt=Mt[_e];jt!==null&&(Mt[it]=null,Mt[_e]=null,Mt[et]=null,jt(at(void 0,!0))),Mt[nt]=!0}),At.on("readable",ut.bind(null,Mt)),Mt};return async_iterator=vt,async_iterator}var fromBrowser,hasRequiredFromBrowser;function requireFromBrowser(){return hasRequiredFromBrowser||(hasRequiredFromBrowser=1,fromBrowser=function(){throw new Error("Readable.from is not available in the browser")}),fromBrowser}var _stream_readable$2,hasRequired_stream_readable$2;function require_stream_readable$2(){if(hasRequired_stream_readable$2)return _stream_readable$2;hasRequired_stream_readable$2=1,_stream_readable$2=jt;var o;jt.ReadableState=Lt,requireEvents().EventEmitter;var e=function(Ot,Gt){return Ot.listeners(Gt).length},a=requireStreamBrowser$2(),_=require$$1$2.Buffer,b=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function _e(Dt){return _.from(Dt)}function et(Dt){return _.isBuffer(Dt)||Dt instanceof b}var tt=requireUtil$1(),nt;tt&&tt.debuglog?nt=tt.debuglog("stream"):nt=function(){};var it=requireBuffer_list(),ot=requireDestroy$2(),st=requireState(),at=st.getHighWaterMark,lt=requireErrorsBrowser().codes,ut=lt.ERR_INVALID_ARG_TYPE,ft=lt.ERR_STREAM_PUSH_AFTER_EOF,mt=lt.ERR_METHOD_NOT_IMPLEMENTED,ht=lt.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,vt,Et,At;inherits_browserExports(jt,a);var Ct=ot.errorOrDestroy,Mt=["error","close","destroy","pause","resume"];function Bt(Dt,Ot,Gt){if(typeof Dt.prependListener=="function")return Dt.prependListener(Ot,Gt);!Dt._events||!Dt._events[Ot]?Dt.on(Ot,Gt):Array.isArray(Dt._events[Ot])?Dt._events[Ot].unshift(Gt):Dt._events[Ot]=[Gt,Dt._events[Ot]]}function Lt(Dt,Ot,Gt){o=o||require_stream_duplex$2(),Dt=Dt||{},typeof Gt!="boolean"&&(Gt=Ot instanceof o),this.objectMode=!!Dt.objectMode,Gt&&(this.objectMode=this.objectMode||!!Dt.readableObjectMode),this.highWaterMark=at(this,Dt,"readableHighWaterMark",Gt),this.buffer=new it,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=Dt.emitClose!==!1,this.autoDestroy=!!Dt.autoDestroy,this.destroyed=!1,this.defaultEncoding=Dt.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Dt.encoding&&(vt||(vt=requireString_decoder().StringDecoder),this.decoder=new vt(Dt.encoding),this.encoding=Dt.encoding)}function jt(Dt){if(o=o||require_stream_duplex$2(),!(this instanceof jt))return new jt(Dt);var Ot=this instanceof o;this._readableState=new Lt(Dt,this,Ot),this.readable=!0,Dt&&(typeof Dt.read=="function"&&(this._read=Dt.read),typeof Dt.destroy=="function"&&(this._destroy=Dt.destroy)),a.call(this)}Object.defineProperty(jt.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(Ot){this._readableState&&(this._readableState.destroyed=Ot)}}),jt.prototype.destroy=ot.destroy,jt.prototype._undestroy=ot.undestroy,jt.prototype._destroy=function(Dt,Ot){Ot(Dt)},jt.prototype.push=function(Dt,Ot){var Gt=this._readableState,Jt;return Gt.objectMode?Jt=!0:typeof Dt=="string"&&(Ot=Ot||Gt.defaultEncoding,Ot!==Gt.encoding&&(Dt=_.from(Dt,Ot),Ot=""),Jt=!0),Vt(this,Dt,Ot,!1,Jt)},jt.prototype.unshift=function(Dt){return Vt(this,Dt,null,!0,!1)};function Vt(Dt,Ot,Gt,Jt,er){nt("readableAddChunk",Ot);var nr=Dt._readableState;if(Ot===null)nr.reading=!1,wt(Dt,nr);else{var or;if(er||(or=kt(nr,Ot)),or)Ct(Dt,or);else if(nr.objectMode||Ot&&Ot.length>0)if(typeof Ot!="string"&&!nr.objectMode&&Object.getPrototypeOf(Ot)!==_.prototype&&(Ot=_e(Ot)),Jt)nr.endEmitted?Ct(Dt,new ht):Nt(Dt,nr,Ot,!0);else if(nr.ended)Ct(Dt,new ft);else{if(nr.destroyed)return!1;nr.reading=!1,nr.decoder&&!Gt?(Ot=nr.decoder.write(Ot),nr.objectMode||Ot.length!==0?Nt(Dt,nr,Ot,!1):xt(Dt,nr)):Nt(Dt,nr,Ot,!1)}else Jt||(nr.reading=!1,xt(Dt,nr))}return!nr.ended&&(nr.length<nr.highWaterMark||nr.length===0)}function Nt(Dt,Ot,Gt,Jt){Ot.flowing&&Ot.length===0&&!Ot.sync?(Ot.awaitDrain=0,Dt.emit("data",Gt)):(Ot.length+=Ot.objectMode?1:Gt.length,Jt?Ot.buffer.unshift(Gt):Ot.buffer.push(Gt),Ot.needReadable&&gt(Dt)),xt(Dt,Ot)}function kt(Dt,Ot){var Gt;return!et(Ot)&&typeof Ot!="string"&&Ot!==void 0&&!Dt.objectMode&&(Gt=new ut("chunk",["string","Buffer","Uint8Array"],Ot)),Gt}jt.prototype.isPaused=function(){return this._readableState.flowing===!1},jt.prototype.setEncoding=function(Dt){vt||(vt=requireString_decoder().StringDecoder);var Ot=new vt(Dt);this._readableState.decoder=Ot,this._readableState.encoding=this._readableState.decoder.encoding;for(var Gt=this._readableState.buffer.head,Jt="";Gt!==null;)Jt+=Ot.write(Gt.data),Gt=Gt.next;return this._readableState.buffer.clear(),Jt!==""&&this._readableState.buffer.push(Jt),this._readableState.length=Jt.length,this};var _t=1073741824;function ct(Dt){return Dt>=_t?Dt=_t:(Dt--,Dt|=Dt>>>1,Dt|=Dt>>>2,Dt|=Dt>>>4,Dt|=Dt>>>8,Dt|=Dt>>>16,Dt++),Dt}function dt(Dt,Ot){return Dt<=0||Ot.length===0&&Ot.ended?0:Ot.objectMode?1:Dt!==Dt?Ot.flowing&&Ot.length?Ot.buffer.head.data.length:Ot.length:(Dt>Ot.highWaterMark&&(Ot.highWaterMark=ct(Dt)),Dt<=Ot.length?Dt:Ot.ended?Ot.length:(Ot.needReadable=!0,0))}jt.prototype.read=function(Dt){nt("read",Dt),Dt=parseInt(Dt,10);var Ot=this._readableState,Gt=Dt;if(Dt!==0&&(Ot.emittedReadable=!1),Dt===0&&Ot.needReadable&&((Ot.highWaterMark!==0?Ot.length>=Ot.highWaterMark:Ot.length>0)||Ot.ended))return nt("read: emitReadable",Ot.length,Ot.ended),Ot.length===0&&Ot.ended?$t(this):gt(this),null;if(Dt=dt(Dt,Ot),Dt===0&&Ot.ended)return Ot.length===0&&$t(this),null;var Jt=Ot.needReadable;nt("need readable",Jt),(Ot.length===0||Ot.length-Dt<Ot.highWaterMark)&&(Jt=!0,nt("length less than watermark",Jt)),Ot.ended||Ot.reading?(Jt=!1,nt("reading or ended",Jt)):Jt&&(nt("do read"),Ot.reading=!0,Ot.sync=!0,Ot.length===0&&(Ot.needReadable=!0),this._read(Ot.highWaterMark),Ot.sync=!1,Ot.reading||(Dt=dt(Gt,Ot)));var er;return Dt>0?er=Rt(Dt,Ot):er=null,er===null?(Ot.needReadable=Ot.length<=Ot.highWaterMark,Dt=0):(Ot.length-=Dt,Ot.awaitDrain=0),Ot.length===0&&(Ot.ended||(Ot.needReadable=!0),Gt!==Dt&&Ot.ended&&$t(this)),er!==null&&this.emit("data",er),er};function wt(Dt,Ot){if(nt("onEofChunk"),!Ot.ended){if(Ot.decoder){var Gt=Ot.decoder.end();Gt&&Gt.length&&(Ot.buffer.push(Gt),Ot.length+=Ot.objectMode?1:Gt.length)}Ot.ended=!0,Ot.sync?gt(Dt):(Ot.needReadable=!1,Ot.emittedReadable||(Ot.emittedReadable=!0,bt(Dt)))}}function gt(Dt){var Ot=Dt._readableState;nt("emitReadable",Ot.needReadable,Ot.emittedReadable),Ot.needReadable=!1,Ot.emittedReadable||(nt("emitReadable",Ot.flowing),Ot.emittedReadable=!0,process$1$1.nextTick(bt,Dt))}function bt(Dt){var Ot=Dt._readableState;nt("emitReadable_",Ot.destroyed,Ot.length,Ot.ended),!Ot.destroyed&&(Ot.length||Ot.ended)&&(Dt.emit("readable"),Ot.emittedReadable=!1),Ot.needReadable=!Ot.flowing&&!Ot.ended&&Ot.length<=Ot.highWaterMark,Ut(Dt)}function xt(Dt,Ot){Ot.readingMore||(Ot.readingMore=!0,process$1$1.nextTick(yt,Dt,Ot))}function yt(Dt,Ot){for(;!Ot.reading&&!Ot.ended&&(Ot.length<Ot.highWaterMark||Ot.flowing&&Ot.length===0);){var Gt=Ot.length;if(nt("maybeReadMore read 0"),Dt.read(0),Gt===Ot.length)break}Ot.readingMore=!1}jt.prototype._read=function(Dt){Ct(this,new mt("_read()"))},jt.prototype.pipe=function(Dt,Ot){var Gt=this,Jt=this._readableState;switch(Jt.pipesCount){case 0:Jt.pipes=Dt;break;case 1:Jt.pipes=[Jt.pipes,Dt];break;default:Jt.pipes.push(Dt);break}Jt.pipesCount+=1,nt("pipe count=%d opts=%j",Jt.pipesCount,Ot);var er=(!Ot||Ot.end!==!1)&&Dt!==process$1$1.stdout&&Dt!==process$1$1.stderr,nr=er?sr:xr;Jt.endEmitted?process$1$1.nextTick(nr):Gt.once("end",nr),Dt.on("unpipe",or);function or(ur,Or){nt("onunpipe"),ur===Gt&&Or&&Or.hasUnpiped===!1&&(Or.hasUnpiped=!0,rr())}function sr(){nt("onend"),Dt.end()}var Qt=St(Gt);Dt.on("drain",Qt);var fr=!1;function rr(){nt("cleanup"),Dt.removeListener("close",ir),Dt.removeListener("finish",Er),Dt.removeListener("drain",Qt),Dt.removeListener("error",cr),Dt.removeListener("unpipe",or),Gt.removeListener("end",sr),Gt.removeListener("end",xr),Gt.removeListener("data",Sr),fr=!0,Jt.awaitDrain&&(!Dt._writableState||Dt._writableState.needDrain)&&Qt()}Gt.on("data",Sr);function Sr(ur){nt("ondata");var Or=Dt.write(ur);nt("dest.write",Or),Or===!1&&((Jt.pipesCount===1&&Jt.pipes===Dt||Jt.pipesCount>1&&Kt(Jt.pipes,Dt)!==-1)&&!fr&&(nt("false write response, pause",Jt.awaitDrain),Jt.awaitDrain++),Gt.pause())}function cr(ur){nt("onerror",ur),xr(),Dt.removeListener("error",cr),e(Dt,"error")===0&&Ct(Dt,ur)}Bt(Dt,"error",cr);function ir(){Dt.removeListener("finish",Er),xr()}Dt.once("close",ir);function Er(){nt("onfinish"),Dt.removeListener("close",ir),xr()}Dt.once("finish",Er);function xr(){nt("unpipe"),Gt.unpipe(Dt)}return Dt.emit("pipe",Gt),Jt.flowing||(nt("pipe resume"),Gt.resume()),Dt};function St(Dt){return function(){var Gt=Dt._readableState;nt("pipeOnDrain",Gt.awaitDrain),Gt.awaitDrain&&Gt.awaitDrain--,Gt.awaitDrain===0&&e(Dt,"data")&&(Gt.flowing=!0,Ut(Dt))}}jt.prototype.unpipe=function(Dt){var Ot=this._readableState,Gt={hasUnpiped:!1};if(Ot.pipesCount===0)return this;if(Ot.pipesCount===1)return Dt&&Dt!==Ot.pipes?this:(Dt||(Dt=Ot.pipes),Ot.pipes=null,Ot.pipesCount=0,Ot.flowing=!1,Dt&&Dt.emit("unpipe",this,Gt),this);if(!Dt){var Jt=Ot.pipes,er=Ot.pipesCount;Ot.pipes=null,Ot.pipesCount=0,Ot.flowing=!1;for(var nr=0;nr<er;nr++)Jt[nr].emit("unpipe",this,{hasUnpiped:!1});return this}var or=Kt(Ot.pipes,Dt);return or===-1?this:(Ot.pipes.splice(or,1),Ot.pipesCount-=1,Ot.pipesCount===1&&(Ot.pipes=Ot.pipes[0]),Dt.emit("unpipe",this,Gt),this)},jt.prototype.on=function(Dt,Ot){var Gt=a.prototype.on.call(this,Dt,Ot),Jt=this._readableState;return Dt==="data"?(Jt.readableListening=this.listenerCount("readable")>0,Jt.flowing!==!1&&this.resume()):Dt==="readable"&&!Jt.endEmitted&&!Jt.readableListening&&(Jt.readableListening=Jt.needReadable=!0,Jt.flowing=!1,Jt.emittedReadable=!1,nt("on readable",Jt.length,Jt.reading),Jt.length?gt(this):Jt.reading||process$1$1.nextTick(Tt,this)),Gt},jt.prototype.addListener=jt.prototype.on,jt.prototype.removeListener=function(Dt,Ot){var Gt=a.prototype.removeListener.call(this,Dt,Ot);return Dt==="readable"&&process$1$1.nextTick(pt,this),Gt},jt.prototype.removeAllListeners=function(Dt){var Ot=a.prototype.removeAllListeners.apply(this,arguments);return(Dt==="readable"||Dt===void 0)&&process$1$1.nextTick(pt,this),Ot};function pt(Dt){var Ot=Dt._readableState;Ot.readableListening=Dt.listenerCount("readable")>0,Ot.resumeScheduled&&!Ot.paused?Ot.flowing=!0:Dt.listenerCount("data")>0&&Dt.resume()}function Tt(Dt){nt("readable nexttick read 0"),Dt.read(0)}jt.prototype.resume=function(){var Dt=this._readableState;return Dt.flowing||(nt("resume"),Dt.flowing=!Dt.readableListening,Ht(this,Dt)),Dt.paused=!1,this};function Ht(Dt,Ot){Ot.resumeScheduled||(Ot.resumeScheduled=!0,process$1$1.nextTick(Wt,Dt,Ot))}function Wt(Dt,Ot){nt("resume",Ot.reading),Ot.reading||Dt.read(0),Ot.resumeScheduled=!1,Dt.emit("resume"),Ut(Dt),Ot.flowing&&!Ot.reading&&Dt.read(0)}jt.prototype.pause=function(){return nt("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(nt("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Ut(Dt){var Ot=Dt._readableState;for(nt("flow",Ot.flowing);Ot.flowing&&Dt.read()!==null;);}jt.prototype.wrap=function(Dt){var Ot=this,Gt=this._readableState,Jt=!1;Dt.on("end",function(){if(nt("wrapped end"),Gt.decoder&&!Gt.ended){var or=Gt.decoder.end();or&&or.length&&Ot.push(or)}Ot.push(null)}),Dt.on("data",function(or){if(nt("wrapped data"),Gt.decoder&&(or=Gt.decoder.write(or)),!(Gt.objectMode&&or==null)&&!(!Gt.objectMode&&(!or||!or.length))){var sr=Ot.push(or);sr||(Jt=!0,Dt.pause())}});for(var er in Dt)this[er]===void 0&&typeof Dt[er]=="function"&&(this[er]=function(sr){return function(){return Dt[sr].apply(Dt,arguments)}}(er));for(var nr=0;nr<Mt.length;nr++)Dt.on(Mt[nr],this.emit.bind(this,Mt[nr]));return this._read=function(or){nt("wrapped _read",or),Jt&&(Jt=!1,Dt.resume())},this},typeof Symbol=="function"&&(jt.prototype[Symbol.asyncIterator]=function(){return Et===void 0&&(Et=requireAsync_iterator()),Et(this)}),Object.defineProperty(jt.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(jt.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(jt.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(Ot){this._readableState&&(this._readableState.flowing=Ot)}}),jt._fromList=Rt,Object.defineProperty(jt.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function Rt(Dt,Ot){if(Ot.length===0)return null;var Gt;return Ot.objectMode?Gt=Ot.buffer.shift():!Dt||Dt>=Ot.length?(Ot.decoder?Gt=Ot.buffer.join(""):Ot.buffer.length===1?Gt=Ot.buffer.first():Gt=Ot.buffer.concat(Ot.length),Ot.buffer.clear()):Gt=Ot.buffer.consume(Dt,Ot.decoder),Gt}function $t(Dt){var Ot=Dt._readableState;nt("endReadable",Ot.endEmitted),Ot.endEmitted||(Ot.ended=!0,process$1$1.nextTick(Ft,Ot,Dt))}function Ft(Dt,Ot){if(nt("endReadableNT",Dt.endEmitted,Dt.length),!Dt.endEmitted&&Dt.length===0&&(Dt.endEmitted=!0,Ot.readable=!1,Ot.emit("end"),Dt.autoDestroy)){var Gt=Ot._writableState;(!Gt||Gt.autoDestroy&&Gt.finished)&&Ot.destroy()}}typeof Symbol=="function"&&(jt.from=function(Dt,Ot){return At===void 0&&(At=requireFromBrowser()),At(jt,Dt,Ot)});function Kt(Dt,Ot){for(var Gt=0,Jt=Dt.length;Gt<Jt;Gt++)if(Dt[Gt]===Ot)return Gt;return-1}return _stream_readable$2}var _stream_transform$2,hasRequired_stream_transform$2;function require_stream_transform$2(){if(hasRequired_stream_transform$2)return _stream_transform$2;hasRequired_stream_transform$2=1,_stream_transform$2=tt;var o=requireErrorsBrowser().codes,e=o.ERR_METHOD_NOT_IMPLEMENTED,a=o.ERR_MULTIPLE_CALLBACK,_=o.ERR_TRANSFORM_ALREADY_TRANSFORMING,b=o.ERR_TRANSFORM_WITH_LENGTH_0,_e=require_stream_duplex$2();inherits_browserExports(tt,_e);function et(ot,st){var at=this._transformState;at.transforming=!1;var lt=at.writecb;if(lt===null)return this.emit("error",new a);at.writechunk=null,at.writecb=null,st!=null&&this.push(st),lt(ot);var ut=this._readableState;ut.reading=!1,(ut.needReadable||ut.length<ut.highWaterMark)&&this._read(ut.highWaterMark)}function tt(ot){if(!(this instanceof tt))return new tt(ot);_e.call(this,ot),this._transformState={afterTransform:et.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,ot&&(typeof ot.transform=="function"&&(this._transform=ot.transform),typeof ot.flush=="function"&&(this._flush=ot.flush)),this.on("prefinish",nt)}function nt(){var ot=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(st,at){it(ot,st,at)}):it(this,null,null)}tt.prototype.push=function(ot,st){return this._transformState.needTransform=!1,_e.prototype.push.call(this,ot,st)},tt.prototype._transform=function(ot,st,at){at(new e("_transform()"))},tt.prototype._write=function(ot,st,at){var lt=this._transformState;if(lt.writecb=at,lt.writechunk=ot,lt.writeencoding=st,!lt.transforming){var ut=this._readableState;(lt.needTransform||ut.needReadable||ut.length<ut.highWaterMark)&&this._read(ut.highWaterMark)}},tt.prototype._read=function(ot){var st=this._transformState;st.writechunk!==null&&!st.transforming?(st.transforming=!0,this._transform(st.writechunk,st.writeencoding,st.afterTransform)):st.needTransform=!0},tt.prototype._destroy=function(ot,st){_e.prototype._destroy.call(this,ot,function(at){st(at)})};function it(ot,st,at){if(st)return ot.emit("error",st);if(at!=null&&ot.push(at),ot._writableState.length)throw new b;if(ot._transformState.transforming)throw new _;return ot.push(null)}return _stream_transform$2}var _stream_passthrough$2,hasRequired_stream_passthrough$2;function require_stream_passthrough$2(){if(hasRequired_stream_passthrough$2)return _stream_passthrough$2;hasRequired_stream_passthrough$2=1,_stream_passthrough$2=e;var o=require_stream_transform$2();inherits_browserExports(e,o);function e(a){if(!(this instanceof e))return new e(a);o.call(this,a)}return e.prototype._transform=function(a,_,b){b(null,a)},_stream_passthrough$2}var pipeline_1,hasRequiredPipeline;function requirePipeline(){if(hasRequiredPipeline)return pipeline_1;hasRequiredPipeline=1;var o;function e(at){var lt=!1;return function(){lt||(lt=!0,at.apply(void 0,arguments))}}var a=requireErrorsBrowser().codes,_=a.ERR_MISSING_ARGS,b=a.ERR_STREAM_DESTROYED;function _e(at){if(at)throw at}function et(at){return at.setHeader&&typeof at.abort=="function"}function tt(at,lt,ut,ft){ft=e(ft);var mt=!1;at.on("close",function(){mt=!0}),o===void 0&&(o=requireEndOfStream()),o(at,{readable:lt,writable:ut},function(vt){if(vt)return ft(vt);mt=!0,ft()});var ht=!1;return function(vt){if(!mt&&!ht){if(ht=!0,et(at))return at.abort();if(typeof at.destroy=="function")return at.destroy();ft(vt||new b("pipe"))}}}function nt(at){at()}function it(at,lt){return at.pipe(lt)}function ot(at){return!at.length||typeof at[at.length-1]!="function"?_e:at.pop()}function st(){for(var at=arguments.length,lt=new Array(at),ut=0;ut<at;ut++)lt[ut]=arguments[ut];var ft=ot(lt);if(Array.isArray(lt[0])&&(lt=lt[0]),lt.length<2)throw new _("streams");var mt,ht=lt.map(function(vt,Et){var At=Et<lt.length-1,Ct=Et>0;return tt(vt,At,Ct,function(Mt){mt||(mt=Mt),Mt&&ht.forEach(nt),!At&&(ht.forEach(nt),ft(mt))})});return lt.reduce(it)}return pipeline_1=st,pipeline_1}var streamBrowserify,hasRequiredStreamBrowserify;function requireStreamBrowserify(){if(hasRequiredStreamBrowserify)return streamBrowserify;hasRequiredStreamBrowserify=1,streamBrowserify=a;var o=requireEvents().EventEmitter,e=inherits_browserExports;e(a,o),a.Readable=require_stream_readable$2(),a.Writable=require_stream_writable$2(),a.Duplex=require_stream_duplex$2(),a.Transform=require_stream_transform$2(),a.PassThrough=require_stream_passthrough$2(),a.finished=requireEndOfStream(),a.pipeline=requirePipeline(),a.Stream=a;function a(){o.call(this)}return a.prototype.pipe=function(_,b){var _e=this;function et(lt){_.writable&&_.write(lt)===!1&&_e.pause&&_e.pause()}_e.on("data",et);function tt(){_e.readable&&_e.resume&&_e.resume()}_.on("drain",tt),!_._isStdio&&(!b||b.end!==!1)&&(_e.on("end",it),_e.on("close",ot));var nt=!1;function it(){nt||(nt=!0,_.end())}function ot(){nt||(nt=!0,typeof _.destroy=="function"&&_.destroy())}function st(lt){if(at(),o.listenerCount(this,"error")===0)throw lt}_e.on("error",st),_.on("error",st);function at(){_e.removeListener("data",et),_.removeListener("drain",tt),_e.removeListener("end",it),_e.removeListener("close",ot),_e.removeListener("error",st),_.removeListener("error",st),_e.removeListener("end",at),_e.removeListener("close",at),_.removeListener("close",at)}return _e.on("end",at),_e.on("close",at),_.on("close",at),_.emit("pipe",_e),_},streamBrowserify}var hashBase$1,hasRequiredHashBase$1;function requireHashBase$1(){if(hasRequiredHashBase$1)return hashBase$1;hasRequiredHashBase$1=1;var o=requireSafeBuffer$2().Buffer,e=requireStreamBrowserify().Transform,a=inherits_browserExports;function _(tt){e.call(this),this._block=o.allocUnsafe(tt),this._blockSize=tt,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}a(_,e),_.prototype._transform=function(tt,nt,it){var ot=null;try{this.update(tt,nt)}catch(st){ot=st}it(ot)},_.prototype._flush=function(tt){var nt=null;try{this.push(this.digest())}catch(it){nt=it}tt(nt)};var b=typeof Uint8Array<"u",_e=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&ArrayBuffer.isView&&(o.prototype instanceof Uint8Array||o.TYPED_ARRAY_SUPPORT);function et(tt,nt){if(tt instanceof o)return tt;if(typeof tt=="string")return o.from(tt,nt);if(_e&&ArrayBuffer.isView(tt)){if(tt.byteLength===0)return o.alloc(0);var it=o.from(tt.buffer,tt.byteOffset,tt.byteLength);if(it.byteLength===tt.byteLength)return it}if(b&&tt instanceof Uint8Array||o.isBuffer(tt)&&tt.constructor&&typeof tt.constructor.isBuffer=="function"&&tt.constructor.isBuffer(tt))return o.from(tt);throw new TypeError('The "data" argument must be of type string or an instance of Buffer, TypedArray, or DataView.')}return _.prototype.update=function(tt,nt){if(this._finalized)throw new Error("Digest already called");tt=et(tt,nt);for(var it=this._block,ot=0;this._blockOffset+tt.length-ot>=this._blockSize;){for(var st=this._blockOffset;st<this._blockSize;)it[st++]=tt[ot++];this._update(),this._blockOffset=0}for(;ot<tt.length;)it[this._blockOffset++]=tt[ot++];for(var at=0,lt=tt.length*8;lt>0;++at)this._length[at]+=lt,lt=this._length[at]/4294967296|0,lt>0&&(this._length[at]-=4294967296*lt);return this},_.prototype._update=function(){throw new Error("_update is not implemented")},_.prototype.digest=function(tt){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var nt=this._digest();tt!==void 0&&(nt=nt.toString(tt)),this._block.fill(0),this._blockOffset=0;for(var it=0;it<4;++it)this._length[it]=0;return nt},_.prototype._digest=function(){throw new Error("_digest is not implemented")},hashBase$1=_,hashBase$1}var md5_js,hasRequiredMd5_js;function requireMd5_js(){if(hasRequiredMd5_js)return md5_js;hasRequiredMd5_js=1;var o=inherits_browserExports,e=requireHashBase$1(),a=requireSafeBuffer$2().Buffer,_=new Array(16);function b(){e.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}o(b,e),b.prototype._update=function(){for(var ot=_,st=0;st<16;++st)ot[st]=this._block.readInt32LE(st*4);var at=this._a,lt=this._b,ut=this._c,ft=this._d;at=et(at,lt,ut,ft,ot[0],3614090360,7),ft=et(ft,at,lt,ut,ot[1],3905402710,12),ut=et(ut,ft,at,lt,ot[2],606105819,17),lt=et(lt,ut,ft,at,ot[3],3250441966,22),at=et(at,lt,ut,ft,ot[4],4118548399,7),ft=et(ft,at,lt,ut,ot[5],1200080426,12),ut=et(ut,ft,at,lt,ot[6],2821735955,17),lt=et(lt,ut,ft,at,ot[7],4249261313,22),at=et(at,lt,ut,ft,ot[8],1770035416,7),ft=et(ft,at,lt,ut,ot[9],2336552879,12),ut=et(ut,ft,at,lt,ot[10],4294925233,17),lt=et(lt,ut,ft,at,ot[11],2304563134,22),at=et(at,lt,ut,ft,ot[12],1804603682,7),ft=et(ft,at,lt,ut,ot[13],4254626195,12),ut=et(ut,ft,at,lt,ot[14],2792965006,17),lt=et(lt,ut,ft,at,ot[15],1236535329,22),at=tt(at,lt,ut,ft,ot[1],4129170786,5),ft=tt(ft,at,lt,ut,ot[6],3225465664,9),ut=tt(ut,ft,at,lt,ot[11],643717713,14),lt=tt(lt,ut,ft,at,ot[0],3921069994,20),at=tt(at,lt,ut,ft,ot[5],3593408605,5),ft=tt(ft,at,lt,ut,ot[10],38016083,9),ut=tt(ut,ft,at,lt,ot[15],3634488961,14),lt=tt(lt,ut,ft,at,ot[4],3889429448,20),at=tt(at,lt,ut,ft,ot[9],568446438,5),ft=tt(ft,at,lt,ut,ot[14],3275163606,9),ut=tt(ut,ft,at,lt,ot[3],4107603335,14),lt=tt(lt,ut,ft,at,ot[8],1163531501,20),at=tt(at,lt,ut,ft,ot[13],2850285829,5),ft=tt(ft,at,lt,ut,ot[2],4243563512,9),ut=tt(ut,ft,at,lt,ot[7],1735328473,14),lt=tt(lt,ut,ft,at,ot[12],2368359562,20),at=nt(at,lt,ut,ft,ot[5],4294588738,4),ft=nt(ft,at,lt,ut,ot[8],2272392833,11),ut=nt(ut,ft,at,lt,ot[11],1839030562,16),lt=nt(lt,ut,ft,at,ot[14],4259657740,23),at=nt(at,lt,ut,ft,ot[1],2763975236,4),ft=nt(ft,at,lt,ut,ot[4],1272893353,11),ut=nt(ut,ft,at,lt,ot[7],4139469664,16),lt=nt(lt,ut,ft,at,ot[10],3200236656,23),at=nt(at,lt,ut,ft,ot[13],681279174,4),ft=nt(ft,at,lt,ut,ot[0],3936430074,11),ut=nt(ut,ft,at,lt,ot[3],3572445317,16),lt=nt(lt,ut,ft,at,ot[6],76029189,23),at=nt(at,lt,ut,ft,ot[9],3654602809,4),ft=nt(ft,at,lt,ut,ot[12],3873151461,11),ut=nt(ut,ft,at,lt,ot[15],530742520,16),lt=nt(lt,ut,ft,at,ot[2],3299628645,23),at=it(at,lt,ut,ft,ot[0],4096336452,6),ft=it(ft,at,lt,ut,ot[7],1126891415,10),ut=it(ut,ft,at,lt,ot[14],2878612391,15),lt=it(lt,ut,ft,at,ot[5],4237533241,21),at=it(at,lt,ut,ft,ot[12],1700485571,6),ft=it(ft,at,lt,ut,ot[3],2399980690,10),ut=it(ut,ft,at,lt,ot[10],4293915773,15),lt=it(lt,ut,ft,at,ot[1],2240044497,21),at=it(at,lt,ut,ft,ot[8],1873313359,6),ft=it(ft,at,lt,ut,ot[15],4264355552,10),ut=it(ut,ft,at,lt,ot[6],2734768916,15),lt=it(lt,ut,ft,at,ot[13],1309151649,21),at=it(at,lt,ut,ft,ot[4],4149444226,6),ft=it(ft,at,lt,ut,ot[11],3174756917,10),ut=it(ut,ft,at,lt,ot[2],718787259,15),lt=it(lt,ut,ft,at,ot[9],3951481745,21),this._a=this._a+at|0,this._b=this._b+lt|0,this._c=this._c+ut|0,this._d=this._d+ft|0},b.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var ot=a.allocUnsafe(16);return ot.writeInt32LE(this._a,0),ot.writeInt32LE(this._b,4),ot.writeInt32LE(this._c,8),ot.writeInt32LE(this._d,12),ot};function _e(ot,st){return ot<<st|ot>>>32-st}function et(ot,st,at,lt,ut,ft,mt){return _e(ot+(st&at|~st&lt)+ut+ft|0,mt)+st|0}function tt(ot,st,at,lt,ut,ft,mt){return _e(ot+(st&lt|at&~lt)+ut+ft|0,mt)+st|0}function nt(ot,st,at,lt,ut,ft,mt){return _e(ot+(st^at^lt)+ut+ft|0,mt)+st|0}function it(ot,st,at,lt,ut,ft,mt){return _e(ot+(at^(st|~lt))+ut+ft|0,mt)+st|0}return md5_js=b,md5_js}var isarray$2,hasRequiredIsarray$2;function requireIsarray$2(){if(hasRequiredIsarray$2)return isarray$2;hasRequiredIsarray$2=1;var o={}.toString;return isarray$2=Array.isArray||function(e){return o.call(e)=="[object Array]"},isarray$2}var typedArrayBuffer,hasRequiredTypedArrayBuffer;function requireTypedArrayBuffer(){if(hasRequiredTypedArrayBuffer)return typedArrayBuffer;hasRequiredTypedArrayBuffer=1;var o=requireType(),e=requireCallBound(),a=e("TypedArray.prototype.buffer",!0),_=requireIsTypedArray();return typedArrayBuffer=a||function(_e){if(!_(_e))throw new o("Not a Typed Array");return _e.buffer},typedArrayBuffer}var toBuffer,hasRequiredToBuffer$2;function requireToBuffer$2(){if(hasRequiredToBuffer$2)return toBuffer;hasRequiredToBuffer$2=1;var o=requireSafeBuffer$2().Buffer,e=requireIsarray$2(),a=requireTypedArrayBuffer(),_=ArrayBuffer.isView||function(nt){try{return a(nt),!0}catch{return!1}},b=typeof Uint8Array<"u",_e=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",et=_e&&(o.prototype instanceof Uint8Array||o.TYPED_ARRAY_SUPPORT);return toBuffer=function(nt,it){if(o.isBuffer(nt))return nt.constructor&&!("isBuffer"in nt)?o.from(nt):nt;if(typeof nt=="string")return o.from(nt,it);if(_e&&_(nt)){if(nt.byteLength===0)return o.alloc(0);if(et){var ot=o.from(nt.buffer,nt.byteOffset,nt.byteLength);if(ot.byteLength===nt.byteLength)return ot}var st=nt instanceof Uint8Array?nt:new Uint8Array(nt.buffer,nt.byteOffset,nt.byteLength),at=o.from(st);if(at.length===nt.byteLength)return at}if(b&&nt instanceof Uint8Array)return o.from(nt);var lt=e(nt);if(lt)for(var ut=0;ut<nt.length;ut+=1){var ft=nt[ut];if(typeof ft!="number"||ft<0||ft>255||~~ft!==ft)throw new RangeError("Array items must be numbers in the range 0-255.")}if(lt||o.isBuffer(nt)&&nt.constructor&&typeof nt.constructor.isBuffer=="function"&&nt.constructor.isBuffer(nt))return o.from(nt);throw new TypeError('The "data" argument must be a string, an Array, a Buffer, a Uint8Array, or a DataView.')},toBuffer}var toBuffer_1$1,hasRequiredToBuffer$1;function requireToBuffer$1(){if(hasRequiredToBuffer$1)return toBuffer_1$1;hasRequiredToBuffer$1=1;var o=requireSafeBuffer$2().Buffer,e=requireToBuffer$2(),a=typeof Uint8Array<"u",_=a&&typeof ArrayBuffer<"u",b=_&&ArrayBuffer.isView;return toBuffer_1$1=function(_e,et){if(typeof _e=="string"||o.isBuffer(_e)||a&&_e instanceof Uint8Array||b&&b(_e))return e(_e,et);throw new TypeError('The "data" argument must be a string, a Buffer, a Uint8Array, or a DataView')},toBuffer_1$1}var readableBrowser$1={exports:{}},processNextickArgs={exports:{}},hasRequiredProcessNextickArgs;function requireProcessNextickArgs(){if(hasRequiredProcessNextickArgs)return processNextickArgs.exports;hasRequiredProcessNextickArgs=1,typeof process$1$1>"u"||!process$1$1.version||process$1$1.version.indexOf("v0.")===0||process$1$1.version.indexOf("v1.")===0&&process$1$1.version.indexOf("v1.8.")!==0?processNextickArgs.exports={nextTick:o}:processNextickArgs.exports=process$1$1;function o(e,a,_,b){if(typeof e!="function")throw new TypeError('"callback" argument must be a function');var _e=arguments.length,et,tt;switch(_e){case 0:case 1:return process$1$1.nextTick(e);case 2:return process$1$1.nextTick(function(){e.call(null,a)});case 3:return process$1$1.nextTick(function(){e.call(null,a,_)});case 4:return process$1$1.nextTick(function(){e.call(null,a,_,b)});default:for(et=new Array(_e-1),tt=0;tt<et.length;)et[tt++]=arguments[tt];return process$1$1.nextTick(function(){e.apply(null,et)})}}return processNextickArgs.exports}var isarray$1,hasRequiredIsarray$1;function requireIsarray$1(){if(hasRequiredIsarray$1)return isarray$1;hasRequiredIsarray$1=1;var o={}.toString;return isarray$1=Array.isArray||function(e){return o.call(e)=="[object Array]"},isarray$1}var streamBrowser$1,hasRequiredStreamBrowser$1;function requireStreamBrowser$1(){return hasRequiredStreamBrowser$1||(hasRequiredStreamBrowser$1=1,streamBrowser$1=requireEvents().EventEmitter),streamBrowser$1}var safeBuffer$1={exports:{}},hasRequiredSafeBuffer$1;function requireSafeBuffer$1(){return hasRequiredSafeBuffer$1||(hasRequiredSafeBuffer$1=1,function(o,e){var a=require$$1$2,_=a.Buffer;function b(et,tt){for(var nt in et)tt[nt]=et[nt]}_.from&&_.alloc&&_.allocUnsafe&&_.allocUnsafeSlow?o.exports=a:(b(a,e),e.Buffer=_e);function _e(et,tt,nt){return _(et,tt,nt)}b(_,_e),_e.from=function(et,tt,nt){if(typeof et=="number")throw new TypeError("Argument must not be a number");return _(et,tt,nt)},_e.alloc=function(et,tt,nt){if(typeof et!="number")throw new TypeError("Argument must be a number");var it=_(et);return tt!==void 0?typeof nt=="string"?it.fill(tt,nt):it.fill(tt):it.fill(0),it},_e.allocUnsafe=function(et){if(typeof et!="number")throw new TypeError("Argument must be a number");return _(et)},_e.allocUnsafeSlow=function(et){if(typeof et!="number")throw new TypeError("Argument must be a number");return a.SlowBuffer(et)}}(safeBuffer$1,safeBuffer$1.exports)),safeBuffer$1.exports}var util={},hasRequiredUtil;function requireUtil(){if(hasRequiredUtil)return util;hasRequiredUtil=1;function o(ft){return Array.isArray?Array.isArray(ft):ut(ft)==="[object Array]"}util.isArray=o;function e(ft){return typeof ft=="boolean"}util.isBoolean=e;function a(ft){return ft===null}util.isNull=a;function _(ft){return ft==null}util.isNullOrUndefined=_;function b(ft){return typeof ft=="number"}util.isNumber=b;function _e(ft){return typeof ft=="string"}util.isString=_e;function et(ft){return typeof ft=="symbol"}util.isSymbol=et;function tt(ft){return ft===void 0}util.isUndefined=tt;function nt(ft){return ut(ft)==="[object RegExp]"}util.isRegExp=nt;function it(ft){return typeof ft=="object"&&ft!==null}util.isObject=it;function ot(ft){return ut(ft)==="[object Date]"}util.isDate=ot;function st(ft){return ut(ft)==="[object Error]"||ft instanceof Error}util.isError=st;function at(ft){return typeof ft=="function"}util.isFunction=at;function lt(ft){return ft===null||typeof ft=="boolean"||typeof ft=="number"||typeof ft=="string"||typeof ft=="symbol"||typeof ft>"u"}util.isPrimitive=lt,util.isBuffer=require$$1$2.Buffer.isBuffer;function ut(ft){return Object.prototype.toString.call(ft)}return util}var BufferList$1={exports:{}},hasRequiredBufferList$1;function requireBufferList$1(){return hasRequiredBufferList$1||(hasRequiredBufferList$1=1,function(o){function e(_e,et){if(!(_e instanceof et))throw new TypeError("Cannot call a class as a function")}var a=requireSafeBuffer$1().Buffer,_=requireUtil$1();function b(_e,et,tt){_e.copy(et,tt)}o.exports=function(){function _e(){e(this,_e),this.head=null,this.tail=null,this.length=0}return _e.prototype.push=function(tt){var nt={data:tt,next:null};this.length>0?this.tail.next=nt:this.head=nt,this.tail=nt,++this.length},_e.prototype.unshift=function(tt){var nt={data:tt,next:this.head};this.length===0&&(this.tail=nt),this.head=nt,++this.length},_e.prototype.shift=function(){if(this.length!==0){var tt=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,tt}},_e.prototype.clear=function(){this.head=this.tail=null,this.length=0},_e.prototype.join=function(tt){if(this.length===0)return"";for(var nt=this.head,it=""+nt.data;nt=nt.next;)it+=tt+nt.data;return it},_e.prototype.concat=function(tt){if(this.length===0)return a.alloc(0);for(var nt=a.allocUnsafe(tt>>>0),it=this.head,ot=0;it;)b(it.data,nt,ot),ot+=it.data.length,it=it.next;return nt},_e}(),_&&_.inspect&&_.inspect.custom&&(o.exports.prototype[_.inspect.custom]=function(){var _e=_.inspect({length:this.length});return this.constructor.name+" "+_e})}(BufferList$1)),BufferList$1.exports}var destroy_1$1,hasRequiredDestroy$1;function requireDestroy$1(){if(hasRequiredDestroy$1)return destroy_1$1;hasRequiredDestroy$1=1;var o=requireProcessNextickArgs();function e(b,_e){var et=this,tt=this._readableState&&this._readableState.destroyed,nt=this._writableState&&this._writableState.destroyed;return tt||nt?(_e?_e(b):b&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,o.nextTick(_,this,b)):o.nextTick(_,this,b)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(b||null,function(it){!_e&&it?et._writableState?et._writableState.errorEmitted||(et._writableState.errorEmitted=!0,o.nextTick(_,et,it)):o.nextTick(_,et,it):_e&&_e(it)}),this)}function a(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function _(b,_e){b.emit("error",_e)}return destroy_1$1={destroy:e,undestroy:a},destroy_1$1}var _stream_writable$1,hasRequired_stream_writable$1;function require_stream_writable$1(){if(hasRequired_stream_writable$1)return _stream_writable$1;hasRequired_stream_writable$1=1;var o=requireProcessNextickArgs();_stream_writable$1=ft;function e(gt){var bt=this;this.next=null,this.entry=null,this.finish=function(){wt(bt,gt)}}var a=!process$1$1.browser&&["v0.10","v0.9."].indexOf(process$1$1.version.slice(0,5))>-1?setImmediate:o.nextTick,_;ft.WritableState=lt;var b=Object.create(requireUtil());b.inherits=inherits_browserExports;var _e={deprecate:requireBrowser$a()},et=requireStreamBrowser$1(),tt=requireSafeBuffer$1().Buffer,nt=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function it(gt){return tt.from(gt)}function ot(gt){return tt.isBuffer(gt)||gt instanceof nt}var st=requireDestroy$1();b.inherits(ft,et);function at(){}function lt(gt,bt){_=_||require_stream_duplex$1(),gt=gt||{};var xt=bt instanceof _;this.objectMode=!!gt.objectMode,xt&&(this.objectMode=this.objectMode||!!gt.writableObjectMode);var yt=gt.highWaterMark,St=gt.writableHighWaterMark,pt=this.objectMode?16:16*1024;yt||yt===0?this.highWaterMark=yt:xt&&(St||St===0)?this.highWaterMark=St:this.highWaterMark=pt,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Tt=gt.decodeStrings===!1;this.decodeStrings=!Tt,this.defaultEncoding=gt.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Ht){Bt(bt,Ht)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}lt.prototype.getBuffer=function(){for(var bt=this.bufferedRequest,xt=[];bt;)xt.push(bt),bt=bt.next;return xt},function(){try{Object.defineProperty(lt.prototype,"buffer",{get:_e.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var ut;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(ut=Function.prototype[Symbol.hasInstance],Object.defineProperty(ft,Symbol.hasInstance,{value:function(gt){return ut.call(this,gt)?!0:this!==ft?!1:gt&&gt._writableState instanceof lt}})):ut=function(gt){return gt instanceof this};function ft(gt){if(_=_||require_stream_duplex$1(),!ut.call(ft,this)&&!(this instanceof _))return new ft(gt);this._writableState=new lt(gt,this),this.writable=!0,gt&&(typeof gt.write=="function"&&(this._write=gt.write),typeof gt.writev=="function"&&(this._writev=gt.writev),typeof gt.destroy=="function"&&(this._destroy=gt.destroy),typeof gt.final=="function"&&(this._final=gt.final)),et.call(this)}ft.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function mt(gt,bt){var xt=new Error("write after end");gt.emit("error",xt),o.nextTick(bt,xt)}function ht(gt,bt,xt,yt){var St=!0,pt=!1;return xt===null?pt=new TypeError("May not write null values to stream"):typeof xt!="string"&&xt!==void 0&&!bt.objectMode&&(pt=new TypeError("Invalid non-string/buffer chunk")),pt&&(gt.emit("error",pt),o.nextTick(yt,pt),St=!1),St}ft.prototype.write=function(gt,bt,xt){var yt=this._writableState,St=!1,pt=!yt.objectMode&&ot(gt);return pt&&!tt.isBuffer(gt)&&(gt=it(gt)),typeof bt=="function"&&(xt=bt,bt=null),pt?bt="buffer":bt||(bt=yt.defaultEncoding),typeof xt!="function"&&(xt=at),yt.ended?mt(this,xt):(pt||ht(this,yt,gt,xt))&&(yt.pendingcb++,St=Et(this,yt,pt,gt,bt,xt)),St},ft.prototype.cork=function(){var gt=this._writableState;gt.corked++},ft.prototype.uncork=function(){var gt=this._writableState;gt.corked&&(gt.corked--,!gt.writing&&!gt.corked&&!gt.bufferProcessing&&gt.bufferedRequest&&Vt(this,gt))},ft.prototype.setDefaultEncoding=function(bt){if(typeof bt=="string"&&(bt=bt.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((bt+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+bt);return this._writableState.defaultEncoding=bt,this};function vt(gt,bt,xt){return!gt.objectMode&&gt.decodeStrings!==!1&&typeof bt=="string"&&(bt=tt.from(bt,xt)),bt}Object.defineProperty(ft.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Et(gt,bt,xt,yt,St,pt){if(!xt){var Tt=vt(bt,yt,St);yt!==Tt&&(xt=!0,St="buffer",yt=Tt)}var Ht=bt.objectMode?1:yt.length;bt.length+=Ht;var Wt=bt.length<bt.highWaterMark;if(Wt||(bt.needDrain=!0),bt.writing||bt.corked){var Ut=bt.lastBufferedRequest;bt.lastBufferedRequest={chunk:yt,encoding:St,isBuf:xt,callback:pt,next:null},Ut?Ut.next=bt.lastBufferedRequest:bt.bufferedRequest=bt.lastBufferedRequest,bt.bufferedRequestCount+=1}else At(gt,bt,!1,Ht,yt,St,pt);return Wt}function At(gt,bt,xt,yt,St,pt,Tt){bt.writelen=yt,bt.writecb=Tt,bt.writing=!0,bt.sync=!0,xt?gt._writev(St,bt.onwrite):gt._write(St,pt,bt.onwrite),bt.sync=!1}function Ct(gt,bt,xt,yt,St){--bt.pendingcb,xt?(o.nextTick(St,yt),o.nextTick(ct,gt,bt),gt._writableState.errorEmitted=!0,gt.emit("error",yt)):(St(yt),gt._writableState.errorEmitted=!0,gt.emit("error",yt),ct(gt,bt))}function Mt(gt){gt.writing=!1,gt.writecb=null,gt.length-=gt.writelen,gt.writelen=0}function Bt(gt,bt){var xt=gt._writableState,yt=xt.sync,St=xt.writecb;if(Mt(xt),bt)Ct(gt,xt,yt,bt,St);else{var pt=Nt(xt);!pt&&!xt.corked&&!xt.bufferProcessing&&xt.bufferedRequest&&Vt(gt,xt),yt?a(Lt,gt,xt,pt,St):Lt(gt,xt,pt,St)}}function Lt(gt,bt,xt,yt){xt||jt(gt,bt),bt.pendingcb--,yt(),ct(gt,bt)}function jt(gt,bt){bt.length===0&&bt.needDrain&&(bt.needDrain=!1,gt.emit("drain"))}function Vt(gt,bt){bt.bufferProcessing=!0;var xt=bt.bufferedRequest;if(gt._writev&&xt&&xt.next){var yt=bt.bufferedRequestCount,St=new Array(yt),pt=bt.corkedRequestsFree;pt.entry=xt;for(var Tt=0,Ht=!0;xt;)St[Tt]=xt,xt.isBuf||(Ht=!1),xt=xt.next,Tt+=1;St.allBuffers=Ht,At(gt,bt,!0,bt.length,St,"",pt.finish),bt.pendingcb++,bt.lastBufferedRequest=null,pt.next?(bt.corkedRequestsFree=pt.next,pt.next=null):bt.corkedRequestsFree=new e(bt),bt.bufferedRequestCount=0}else{for(;xt;){var Wt=xt.chunk,Ut=xt.encoding,Rt=xt.callback,$t=bt.objectMode?1:Wt.length;if(At(gt,bt,!1,$t,Wt,Ut,Rt),xt=xt.next,bt.bufferedRequestCount--,bt.writing)break}xt===null&&(bt.lastBufferedRequest=null)}bt.bufferedRequest=xt,bt.bufferProcessing=!1}ft.prototype._write=function(gt,bt,xt){xt(new Error("_write() is not implemented"))},ft.prototype._writev=null,ft.prototype.end=function(gt,bt,xt){var yt=this._writableState;typeof gt=="function"?(xt=gt,gt=null,bt=null):typeof bt=="function"&&(xt=bt,bt=null),gt!=null&&this.write(gt,bt),yt.corked&&(yt.corked=1,this.uncork()),yt.ending||dt(this,yt,xt)};function Nt(gt){return gt.ending&&gt.length===0&&gt.bufferedRequest===null&&!gt.finished&&!gt.writing}function kt(gt,bt){gt._final(function(xt){bt.pendingcb--,xt&&gt.emit("error",xt),bt.prefinished=!0,gt.emit("prefinish"),ct(gt,bt)})}function _t(gt,bt){!bt.prefinished&&!bt.finalCalled&&(typeof gt._final=="function"?(bt.pendingcb++,bt.finalCalled=!0,o.nextTick(kt,gt,bt)):(bt.prefinished=!0,gt.emit("prefinish")))}function ct(gt,bt){var xt=Nt(bt);return xt&&(_t(gt,bt),bt.pendingcb===0&&(bt.finished=!0,gt.emit("finish"))),xt}function dt(gt,bt,xt){bt.ending=!0,ct(gt,bt),xt&&(bt.finished?o.nextTick(xt):gt.once("finish",xt)),bt.ended=!0,gt.writable=!1}function wt(gt,bt,xt){var yt=gt.entry;for(gt.entry=null;yt;){var St=yt.callback;bt.pendingcb--,St(xt),yt=yt.next}bt.corkedRequestsFree.next=gt}return Object.defineProperty(ft.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(gt){this._writableState&&(this._writableState.destroyed=gt)}}),ft.prototype.destroy=st.destroy,ft.prototype._undestroy=st.undestroy,ft.prototype._destroy=function(gt,bt){this.end(),bt(gt)},_stream_writable$1}var _stream_duplex$1,hasRequired_stream_duplex$1;function require_stream_duplex$1(){if(hasRequired_stream_duplex$1)return _stream_duplex$1;hasRequired_stream_duplex$1=1;var o=requireProcessNextickArgs(),e=Object.keys||function(st){var at=[];for(var lt in st)at.push(lt);return at};_stream_duplex$1=nt;var a=Object.create(requireUtil());a.inherits=inherits_browserExports;var _=require_stream_readable$1(),b=require_stream_writable$1();a.inherits(nt,_);for(var _e=e(b.prototype),et=0;et<_e.length;et++){var tt=_e[et];nt.prototype[tt]||(nt.prototype[tt]=b.prototype[tt])}function nt(st){if(!(this instanceof nt))return new nt(st);_.call(this,st),b.call(this,st),st&&st.readable===!1&&(this.readable=!1),st&&st.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,st&&st.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",it)}Object.defineProperty(nt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function it(){this.allowHalfOpen||this._writableState.ended||o.nextTick(ot,this)}function ot(st){st.end()}return Object.defineProperty(nt.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(st){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=st,this._writableState.destroyed=st)}}),nt.prototype._destroy=function(st,at){this.push(null),this.end(),o.nextTick(at,st)},_stream_duplex$1}var _stream_readable$1,hasRequired_stream_readable$1;function require_stream_readable$1(){if(hasRequired_stream_readable$1)return _stream_readable$1;hasRequired_stream_readable$1=1;var o=requireProcessNextickArgs();_stream_readable$1=vt;var e=requireIsarray$1(),a;vt.ReadableState=ht,requireEvents().EventEmitter;var _=function(Rt,$t){return Rt.listeners($t).length},b=requireStreamBrowser$1(),_e=requireSafeBuffer$1().Buffer,et=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function tt(Rt){return _e.from(Rt)}function nt(Rt){return _e.isBuffer(Rt)||Rt instanceof et}var it=Object.create(requireUtil());it.inherits=inherits_browserExports;var ot=requireUtil$1(),st=void 0;ot&&ot.debuglog?st=ot.debuglog("stream"):st=function(){};var at=requireBufferList$1(),lt=requireDestroy$1(),ut;it.inherits(vt,b);var ft=["error","close","destroy","pause","resume"];function mt(Rt,$t,Ft){if(typeof Rt.prependListener=="function")return Rt.prependListener($t,Ft);!Rt._events||!Rt._events[$t]?Rt.on($t,Ft):e(Rt._events[$t])?Rt._events[$t].unshift(Ft):Rt._events[$t]=[Ft,Rt._events[$t]]}function ht(Rt,$t){a=a||require_stream_duplex$1(),Rt=Rt||{};var Ft=$t instanceof a;this.objectMode=!!Rt.objectMode,Ft&&(this.objectMode=this.objectMode||!!Rt.readableObjectMode);var Kt=Rt.highWaterMark,Dt=Rt.readableHighWaterMark,Ot=this.objectMode?16:16*1024;Kt||Kt===0?this.highWaterMark=Kt:Ft&&(Dt||Dt===0)?this.highWaterMark=Dt:this.highWaterMark=Ot,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new at,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=Rt.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Rt.encoding&&(ut||(ut=requireString_decoder().StringDecoder),this.decoder=new ut(Rt.encoding),this.encoding=Rt.encoding)}function vt(Rt){if(a=a||require_stream_duplex$1(),!(this instanceof vt))return new vt(Rt);this._readableState=new ht(Rt,this),this.readable=!0,Rt&&(typeof Rt.read=="function"&&(this._read=Rt.read),typeof Rt.destroy=="function"&&(this._destroy=Rt.destroy)),b.call(this)}Object.defineProperty(vt.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(Rt){this._readableState&&(this._readableState.destroyed=Rt)}}),vt.prototype.destroy=lt.destroy,vt.prototype._undestroy=lt.undestroy,vt.prototype._destroy=function(Rt,$t){this.push(null),$t(Rt)},vt.prototype.push=function(Rt,$t){var Ft=this._readableState,Kt;return Ft.objectMode?Kt=!0:typeof Rt=="string"&&($t=$t||Ft.defaultEncoding,$t!==Ft.encoding&&(Rt=_e.from(Rt,$t),$t=""),Kt=!0),Et(this,Rt,$t,!1,Kt)},vt.prototype.unshift=function(Rt){return Et(this,Rt,null,!0,!1)};function Et(Rt,$t,Ft,Kt,Dt){var Ot=Rt._readableState;if($t===null)Ot.reading=!1,Vt(Rt,Ot);else{var Gt;Dt||(Gt=Ct(Ot,$t)),Gt?Rt.emit("error",Gt):Ot.objectMode||$t&&$t.length>0?(typeof $t!="string"&&!Ot.objectMode&&Object.getPrototypeOf($t)!==_e.prototype&&($t=tt($t)),Kt?Ot.endEmitted?Rt.emit("error",new Error("stream.unshift() after end event")):At(Rt,Ot,$t,!0):Ot.ended?Rt.emit("error",new Error("stream.push() after EOF")):(Ot.reading=!1,Ot.decoder&&!Ft?($t=Ot.decoder.write($t),Ot.objectMode||$t.length!==0?At(Rt,Ot,$t,!1):_t(Rt,Ot)):At(Rt,Ot,$t,!1))):Kt||(Ot.reading=!1)}return Mt(Ot)}function At(Rt,$t,Ft,Kt){$t.flowing&&$t.length===0&&!$t.sync?(Rt.emit("data",Ft),Rt.read(0)):($t.length+=$t.objectMode?1:Ft.length,Kt?$t.buffer.unshift(Ft):$t.buffer.push(Ft),$t.needReadable&&Nt(Rt)),_t(Rt,$t)}function Ct(Rt,$t){var Ft;return!nt($t)&&typeof $t!="string"&&$t!==void 0&&!Rt.objectMode&&(Ft=new TypeError("Invalid non-string/buffer chunk")),Ft}function Mt(Rt){return!Rt.ended&&(Rt.needReadable||Rt.length<Rt.highWaterMark||Rt.length===0)}vt.prototype.isPaused=function(){return this._readableState.flowing===!1},vt.prototype.setEncoding=function(Rt){return ut||(ut=requireString_decoder().StringDecoder),this._readableState.decoder=new ut(Rt),this._readableState.encoding=Rt,this};var Bt=8388608;function Lt(Rt){return Rt>=Bt?Rt=Bt:(Rt--,Rt|=Rt>>>1,Rt|=Rt>>>2,Rt|=Rt>>>4,Rt|=Rt>>>8,Rt|=Rt>>>16,Rt++),Rt}function jt(Rt,$t){return Rt<=0||$t.length===0&&$t.ended?0:$t.objectMode?1:Rt!==Rt?$t.flowing&&$t.length?$t.buffer.head.data.length:$t.length:(Rt>$t.highWaterMark&&($t.highWaterMark=Lt(Rt)),Rt<=$t.length?Rt:$t.ended?$t.length:($t.needReadable=!0,0))}vt.prototype.read=function(Rt){st("read",Rt),Rt=parseInt(Rt,10);var $t=this._readableState,Ft=Rt;if(Rt!==0&&($t.emittedReadable=!1),Rt===0&&$t.needReadable&&($t.length>=$t.highWaterMark||$t.ended))return st("read: emitReadable",$t.length,$t.ended),$t.length===0&&$t.ended?Ht(this):Nt(this),null;if(Rt=jt(Rt,$t),Rt===0&&$t.ended)return $t.length===0&&Ht(this),null;var Kt=$t.needReadable;st("need readable",Kt),($t.length===0||$t.length-Rt<$t.highWaterMark)&&(Kt=!0,st("length less than watermark",Kt)),$t.ended||$t.reading?(Kt=!1,st("reading or ended",Kt)):Kt&&(st("do read"),$t.reading=!0,$t.sync=!0,$t.length===0&&($t.needReadable=!0),this._read($t.highWaterMark),$t.sync=!1,$t.reading||(Rt=jt(Ft,$t)));var Dt;return Rt>0?Dt=yt(Rt,$t):Dt=null,Dt===null?($t.needReadable=!0,Rt=0):$t.length-=Rt,$t.length===0&&($t.ended||($t.needReadable=!0),Ft!==Rt&&$t.ended&&Ht(this)),Dt!==null&&this.emit("data",Dt),Dt};function Vt(Rt,$t){if(!$t.ended){if($t.decoder){var Ft=$t.decoder.end();Ft&&Ft.length&&($t.buffer.push(Ft),$t.length+=$t.objectMode?1:Ft.length)}$t.ended=!0,Nt(Rt)}}function Nt(Rt){var $t=Rt._readableState;$t.needReadable=!1,$t.emittedReadable||(st("emitReadable",$t.flowing),$t.emittedReadable=!0,$t.sync?o.nextTick(kt,Rt):kt(Rt))}function kt(Rt){st("emit readable"),Rt.emit("readable"),xt(Rt)}function _t(Rt,$t){$t.readingMore||($t.readingMore=!0,o.nextTick(ct,Rt,$t))}function ct(Rt,$t){for(var Ft=$t.length;!$t.reading&&!$t.flowing&&!$t.ended&&$t.length<$t.highWaterMark&&(st("maybeReadMore read 0"),Rt.read(0),Ft!==$t.length);)Ft=$t.length;$t.readingMore=!1}vt.prototype._read=function(Rt){this.emit("error",new Error("_read() is not implemented"))},vt.prototype.pipe=function(Rt,$t){var Ft=this,Kt=this._readableState;switch(Kt.pipesCount){case 0:Kt.pipes=Rt;break;case 1:Kt.pipes=[Kt.pipes,Rt];break;default:Kt.pipes.push(Rt);break}Kt.pipesCount+=1,st("pipe count=%d opts=%j",Kt.pipesCount,$t);var Dt=(!$t||$t.end!==!1)&&Rt!==process$1$1.stdout&&Rt!==process$1$1.stderr,Ot=Dt?Jt:cr;Kt.endEmitted?o.nextTick(Ot):Ft.once("end",Ot),Rt.on("unpipe",Gt);function Gt(ir,Er){st("onunpipe"),ir===Ft&&Er&&Er.hasUnpiped===!1&&(Er.hasUnpiped=!0,or())}function Jt(){st("onend"),Rt.end()}var er=dt(Ft);Rt.on("drain",er);var nr=!1;function or(){st("cleanup"),Rt.removeListener("close",rr),Rt.removeListener("finish",Sr),Rt.removeListener("drain",er),Rt.removeListener("error",fr),Rt.removeListener("unpipe",Gt),Ft.removeListener("end",Jt),Ft.removeListener("end",cr),Ft.removeListener("data",Qt),nr=!0,Kt.awaitDrain&&(!Rt._writableState||Rt._writableState.needDrain)&&er()}var sr=!1;Ft.on("data",Qt);function Qt(ir){st("ondata"),sr=!1;var Er=Rt.write(ir);Er===!1&&!sr&&((Kt.pipesCount===1&&Kt.pipes===Rt||Kt.pipesCount>1&&Ut(Kt.pipes,Rt)!==-1)&&!nr&&(st("false write response, pause",Kt.awaitDrain),Kt.awaitDrain++,sr=!0),Ft.pause())}function fr(ir){st("onerror",ir),cr(),Rt.removeListener("error",fr),_(Rt,"error")===0&&Rt.emit("error",ir)}mt(Rt,"error",fr);function rr(){Rt.removeListener("finish",Sr),cr()}Rt.once("close",rr);function Sr(){st("onfinish"),Rt.removeListener("close",rr),cr()}Rt.once("finish",Sr);function cr(){st("unpipe"),Ft.unpipe(Rt)}return Rt.emit("pipe",Ft),Kt.flowing||(st("pipe resume"),Ft.resume()),Rt};function dt(Rt){return function(){var $t=Rt._readableState;st("pipeOnDrain",$t.awaitDrain),$t.awaitDrain&&$t.awaitDrain--,$t.awaitDrain===0&&_(Rt,"data")&&($t.flowing=!0,xt(Rt))}}vt.prototype.unpipe=function(Rt){var $t=this._readableState,Ft={hasUnpiped:!1};if($t.pipesCount===0)return this;if($t.pipesCount===1)return Rt&&Rt!==$t.pipes?this:(Rt||(Rt=$t.pipes),$t.pipes=null,$t.pipesCount=0,$t.flowing=!1,Rt&&Rt.emit("unpipe",this,Ft),this);if(!Rt){var Kt=$t.pipes,Dt=$t.pipesCount;$t.pipes=null,$t.pipesCount=0,$t.flowing=!1;for(var Ot=0;Ot<Dt;Ot++)Kt[Ot].emit("unpipe",this,{hasUnpiped:!1});return this}var Gt=Ut($t.pipes,Rt);return Gt===-1?this:($t.pipes.splice(Gt,1),$t.pipesCount-=1,$t.pipesCount===1&&($t.pipes=$t.pipes[0]),Rt.emit("unpipe",this,Ft),this)},vt.prototype.on=function(Rt,$t){var Ft=b.prototype.on.call(this,Rt,$t);if(Rt==="data")this._readableState.flowing!==!1&&this.resume();else if(Rt==="readable"){var Kt=this._readableState;!Kt.endEmitted&&!Kt.readableListening&&(Kt.readableListening=Kt.needReadable=!0,Kt.emittedReadable=!1,Kt.reading?Kt.length&&Nt(this):o.nextTick(wt,this))}return Ft},vt.prototype.addListener=vt.prototype.on;function wt(Rt){st("readable nexttick read 0"),Rt.read(0)}vt.prototype.resume=function(){var Rt=this._readableState;return Rt.flowing||(st("resume"),Rt.flowing=!0,gt(this,Rt)),this};function gt(Rt,$t){$t.resumeScheduled||($t.resumeScheduled=!0,o.nextTick(bt,Rt,$t))}function bt(Rt,$t){$t.reading||(st("resume read 0"),Rt.read(0)),$t.resumeScheduled=!1,$t.awaitDrain=0,Rt.emit("resume"),xt(Rt),$t.flowing&&!$t.reading&&Rt.read(0)}vt.prototype.pause=function(){return st("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(st("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function xt(Rt){var $t=Rt._readableState;for(st("flow",$t.flowing);$t.flowing&&Rt.read()!==null;);}vt.prototype.wrap=function(Rt){var $t=this,Ft=this._readableState,Kt=!1;Rt.on("end",function(){if(st("wrapped end"),Ft.decoder&&!Ft.ended){var Gt=Ft.decoder.end();Gt&&Gt.length&&$t.push(Gt)}$t.push(null)}),Rt.on("data",function(Gt){if(st("wrapped data"),Ft.decoder&&(Gt=Ft.decoder.write(Gt)),!(Ft.objectMode&&Gt==null)&&!(!Ft.objectMode&&(!Gt||!Gt.length))){var Jt=$t.push(Gt);Jt||(Kt=!0,Rt.pause())}});for(var Dt in Rt)this[Dt]===void 0&&typeof Rt[Dt]=="function"&&(this[Dt]=function(Gt){return function(){return Rt[Gt].apply(Rt,arguments)}}(Dt));for(var Ot=0;Ot<ft.length;Ot++)Rt.on(ft[Ot],this.emit.bind(this,ft[Ot]));return this._read=function(Gt){st("wrapped _read",Gt),Kt&&(Kt=!1,Rt.resume())},this},Object.defineProperty(vt.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),vt._fromList=yt;function yt(Rt,$t){if($t.length===0)return null;var Ft;return $t.objectMode?Ft=$t.buffer.shift():!Rt||Rt>=$t.length?($t.decoder?Ft=$t.buffer.join(""):$t.buffer.length===1?Ft=$t.buffer.head.data:Ft=$t.buffer.concat($t.length),$t.buffer.clear()):Ft=St(Rt,$t.buffer,$t.decoder),Ft}function St(Rt,$t,Ft){var Kt;return Rt<$t.head.data.length?(Kt=$t.head.data.slice(0,Rt),$t.head.data=$t.head.data.slice(Rt)):Rt===$t.head.data.length?Kt=$t.shift():Kt=Ft?pt(Rt,$t):Tt(Rt,$t),Kt}function pt(Rt,$t){var Ft=$t.head,Kt=1,Dt=Ft.data;for(Rt-=Dt.length;Ft=Ft.next;){var Ot=Ft.data,Gt=Rt>Ot.length?Ot.length:Rt;if(Gt===Ot.length?Dt+=Ot:Dt+=Ot.slice(0,Rt),Rt-=Gt,Rt===0){Gt===Ot.length?(++Kt,Ft.next?$t.head=Ft.next:$t.head=$t.tail=null):($t.head=Ft,Ft.data=Ot.slice(Gt));break}++Kt}return $t.length-=Kt,Dt}function Tt(Rt,$t){var Ft=_e.allocUnsafe(Rt),Kt=$t.head,Dt=1;for(Kt.data.copy(Ft),Rt-=Kt.data.length;Kt=Kt.next;){var Ot=Kt.data,Gt=Rt>Ot.length?Ot.length:Rt;if(Ot.copy(Ft,Ft.length-Rt,0,Gt),Rt-=Gt,Rt===0){Gt===Ot.length?(++Dt,Kt.next?$t.head=Kt.next:$t.head=$t.tail=null):($t.head=Kt,Kt.data=Ot.slice(Gt));break}++Dt}return $t.length-=Dt,Ft}function Ht(Rt){var $t=Rt._readableState;if($t.length>0)throw new Error('"endReadable()" called on non-empty stream');$t.endEmitted||($t.ended=!0,o.nextTick(Wt,$t,Rt))}function Wt(Rt,$t){!Rt.endEmitted&&Rt.length===0&&(Rt.endEmitted=!0,$t.readable=!1,$t.emit("end"))}function Ut(Rt,$t){for(var Ft=0,Kt=Rt.length;Ft<Kt;Ft++)if(Rt[Ft]===$t)return Ft;return-1}return _stream_readable$1}var _stream_transform$1,hasRequired_stream_transform$1;function require_stream_transform$1(){if(hasRequired_stream_transform$1)return _stream_transform$1;hasRequired_stream_transform$1=1,_stream_transform$1=_;var o=require_stream_duplex$1(),e=Object.create(requireUtil());e.inherits=inherits_browserExports,e.inherits(_,o);function a(et,tt){var nt=this._transformState;nt.transforming=!1;var it=nt.writecb;if(!it)return this.emit("error",new Error("write callback called multiple times"));nt.writechunk=null,nt.writecb=null,tt!=null&&this.push(tt),it(et);var ot=this._readableState;ot.reading=!1,(ot.needReadable||ot.length<ot.highWaterMark)&&this._read(ot.highWaterMark)}function _(et){if(!(this instanceof _))return new _(et);o.call(this,et),this._transformState={afterTransform:a.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,et&&(typeof et.transform=="function"&&(this._transform=et.transform),typeof et.flush=="function"&&(this._flush=et.flush)),this.on("prefinish",b)}function b(){var et=this;typeof this._flush=="function"?this._flush(function(tt,nt){_e(et,tt,nt)}):_e(this,null,null)}_.prototype.push=function(et,tt){return this._transformState.needTransform=!1,o.prototype.push.call(this,et,tt)},_.prototype._transform=function(et,tt,nt){throw new Error("_transform() is not implemented")},_.prototype._write=function(et,tt,nt){var it=this._transformState;if(it.writecb=nt,it.writechunk=et,it.writeencoding=tt,!it.transforming){var ot=this._readableState;(it.needTransform||ot.needReadable||ot.length<ot.highWaterMark)&&this._read(ot.highWaterMark)}},_.prototype._read=function(et){var tt=this._transformState;tt.writechunk!==null&&tt.writecb&&!tt.transforming?(tt.transforming=!0,this._transform(tt.writechunk,tt.writeencoding,tt.afterTransform)):tt.needTransform=!0},_.prototype._destroy=function(et,tt){var nt=this;o.prototype._destroy.call(this,et,function(it){tt(it),nt.emit("close")})};function _e(et,tt,nt){if(tt)return et.emit("error",tt);if(nt!=null&&et.push(nt),et._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(et._transformState.transforming)throw new Error("Calling transform done when still transforming");return et.push(null)}return _stream_transform$1}var _stream_passthrough$1,hasRequired_stream_passthrough$1;function require_stream_passthrough$1(){if(hasRequired_stream_passthrough$1)return _stream_passthrough$1;hasRequired_stream_passthrough$1=1,_stream_passthrough$1=a;var o=require_stream_transform$1(),e=Object.create(requireUtil());e.inherits=inherits_browserExports,e.inherits(a,o);function a(_){if(!(this instanceof a))return new a(_);o.call(this,_)}return a.prototype._transform=function(_,b,_e){_e(null,_)},_stream_passthrough$1}var hasRequiredReadableBrowser$1;function requireReadableBrowser$1(){return hasRequiredReadableBrowser$1||(hasRequiredReadableBrowser$1=1,function(o,e){e=o.exports=require_stream_readable$1(),e.Stream=e,e.Readable=e,e.Writable=require_stream_writable$1(),e.Duplex=require_stream_duplex$1(),e.Transform=require_stream_transform$1(),e.PassThrough=require_stream_passthrough$1()}(readableBrowser$1,readableBrowser$1.exports)),readableBrowser$1.exports}var hashBase,hasRequiredHashBase;function requireHashBase(){if(hasRequiredHashBase)return hashBase;hasRequiredHashBase=1;var o=requireSafeBuffer$2().Buffer,e=requireToBuffer$1(),a=requireReadableBrowser$1().Transform,_=inherits_browserExports;function b(_e){a.call(this),this._block=o.allocUnsafe(_e),this._blockSize=_e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}return _(b,a),b.prototype._transform=function(_e,et,tt){var nt=null;try{this.update(_e,et)}catch(it){nt=it}tt(nt)},b.prototype._flush=function(_e){var et=null;try{this.push(this.digest())}catch(tt){et=tt}_e(et)},b.prototype.update=function(_e,et){if(this._finalized)throw new Error("Digest already called");for(var tt=e(_e,et),nt=this._block,it=0;this._blockOffset+tt.length-it>=this._blockSize;){for(var ot=this._blockOffset;ot<this._blockSize;)nt[ot]=tt[it],ot+=1,it+=1;this._update(),this._blockOffset=0}for(;it<tt.length;)nt[this._blockOffset]=tt[it],this._blockOffset+=1,it+=1;for(var st=0,at=tt.length*8;at>0;++st)this._length[st]+=at,at=this._length[st]/4294967296|0,at>0&&(this._length[st]-=4294967296*at);return this},b.prototype._update=function(){throw new Error("_update is not implemented")},b.prototype.digest=function(_e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var et=this._digest();_e!==void 0&&(et=et.toString(_e)),this._block.fill(0),this._blockOffset=0;for(var tt=0;tt<4;++tt)this._length[tt]=0;return et},b.prototype._digest=function(){throw new Error("_digest is not implemented")},hashBase=b,hashBase}var ripemd160,hasRequiredRipemd160;function requireRipemd160(){if(hasRequiredRipemd160)return ripemd160;hasRequiredRipemd160=1;var o=require$$1$2.Buffer,e=inherits_browserExports,a=requireHashBase(),_=new Array(16),b=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],_e=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],et=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],tt=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],nt=[0,1518500249,1859775393,2400959708,2840853838],it=[1352829926,1548603684,1836072691,2053994217,0];function ot(ht,vt){return ht<<vt|ht>>>32-vt}function st(ht,vt,Et,At,Ct,Mt,Bt,Lt){return ot(ht+(vt^Et^At)+Mt+Bt|0,Lt)+Ct|0}function at(ht,vt,Et,At,Ct,Mt,Bt,Lt){return ot(ht+(vt&Et|~vt&At)+Mt+Bt|0,Lt)+Ct|0}function lt(ht,vt,Et,At,Ct,Mt,Bt,Lt){return ot(ht+((vt|~Et)^At)+Mt+Bt|0,Lt)+Ct|0}function ut(ht,vt,Et,At,Ct,Mt,Bt,Lt){return ot(ht+(vt&At|Et&~At)+Mt+Bt|0,Lt)+Ct|0}function ft(ht,vt,Et,At,Ct,Mt,Bt,Lt){return ot(ht+(vt^(Et|~At))+Mt+Bt|0,Lt)+Ct|0}function mt(){a.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}return e(mt,a),mt.prototype._update=function(){for(var ht=_,vt=0;vt<16;++vt)ht[vt]=this._block.readInt32LE(vt*4);for(var Et=this._a|0,At=this._b|0,Ct=this._c|0,Mt=this._d|0,Bt=this._e|0,Lt=this._a|0,jt=this._b|0,Vt=this._c|0,Nt=this._d|0,kt=this._e|0,_t=0;_t<80;_t+=1){var ct,dt;_t<16?(ct=st(Et,At,Ct,Mt,Bt,ht[b[_t]],nt[0],et[_t]),dt=ft(Lt,jt,Vt,Nt,kt,ht[_e[_t]],it[0],tt[_t])):_t<32?(ct=at(Et,At,Ct,Mt,Bt,ht[b[_t]],nt[1],et[_t]),dt=ut(Lt,jt,Vt,Nt,kt,ht[_e[_t]],it[1],tt[_t])):_t<48?(ct=lt(Et,At,Ct,Mt,Bt,ht[b[_t]],nt[2],et[_t]),dt=lt(Lt,jt,Vt,Nt,kt,ht[_e[_t]],it[2],tt[_t])):_t<64?(ct=ut(Et,At,Ct,Mt,Bt,ht[b[_t]],nt[3],et[_t]),dt=at(Lt,jt,Vt,Nt,kt,ht[_e[_t]],it[3],tt[_t])):(ct=ft(Et,At,Ct,Mt,Bt,ht[b[_t]],nt[4],et[_t]),dt=st(Lt,jt,Vt,Nt,kt,ht[_e[_t]],it[4],tt[_t])),Et=Bt,Bt=Mt,Mt=ot(Ct,10),Ct=At,At=ct,Lt=kt,kt=Nt,Nt=ot(Vt,10),Vt=jt,jt=dt}var wt=this._b+Ct+Nt|0;this._b=this._c+Mt+kt|0,this._c=this._d+Bt+Lt|0,this._d=this._e+Et+jt|0,this._e=this._a+At+Vt|0,this._a=wt},mt.prototype._digest=function(){this._block[this._blockOffset]=128,this._blockOffset+=1,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var ht=o.alloc?o.alloc(20):new o(20);return ht.writeInt32LE(this._a,0),ht.writeInt32LE(this._b,4),ht.writeInt32LE(this._c,8),ht.writeInt32LE(this._d,12),ht.writeInt32LE(this._e,16),ht},ripemd160=mt,ripemd160}var sha_js={exports:{}},hash$4,hasRequiredHash;function requireHash(){if(hasRequiredHash)return hash$4;hasRequiredHash=1;var o=requireSafeBuffer$2().Buffer,e=requireToBuffer$2();function a(_,b){this._block=o.alloc(_),this._finalSize=b,this._blockSize=_,this._len=0}return a.prototype.update=function(_,b){_=e(_,b||"utf8");for(var _e=this._block,et=this._blockSize,tt=_.length,nt=this._len,it=0;it<tt;){for(var ot=nt%et,st=Math.min(tt-it,et-ot),at=0;at<st;at++)_e[ot+at]=_[it+at];nt+=st,it+=st,nt%et===0&&this._update(_e)}return this._len+=tt,this},a.prototype.digest=function(_){var b=this._len%this._blockSize;this._block[b]=128,this._block.fill(0,b+1),b>=this._finalSize&&(this._update(this._block),this._block.fill(0));var _e=this._len*8;if(_e<=4294967295)this._block.writeUInt32BE(_e,this._blockSize-4);else{var et=(_e&4294967295)>>>0,tt=(_e-et)/4294967296;this._block.writeUInt32BE(tt,this._blockSize-8),this._block.writeUInt32BE(et,this._blockSize-4)}this._update(this._block);var nt=this._hash();return _?nt.toString(_):nt},a.prototype._update=function(){throw new Error("_update must be implemented by subclass")},hash$4=a,hash$4}var sha$1,hasRequiredSha;function requireSha(){if(hasRequiredSha)return sha$1;hasRequiredSha=1;var o=inherits_browserExports,e=requireHash(),a=requireSafeBuffer$2().Buffer,_=[1518500249,1859775393,-1894007588,-899497514],b=new Array(80);function _e(){this.init(),this._w=b,e.call(this,64,56)}o(_e,e),_e.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function et(it){return it<<5|it>>>27}function tt(it){return it<<30|it>>>2}function nt(it,ot,st,at){return it===0?ot&st|~ot&at:it===2?ot&st|ot&at|st&at:ot^st^at}return _e.prototype._update=function(it){for(var ot=this._w,st=this._a|0,at=this._b|0,lt=this._c|0,ut=this._d|0,ft=this._e|0,mt=0;mt<16;++mt)ot[mt]=it.readInt32BE(mt*4);for(;mt<80;++mt)ot[mt]=ot[mt-3]^ot[mt-8]^ot[mt-14]^ot[mt-16];for(var ht=0;ht<80;++ht){var vt=~~(ht/20),Et=et(st)+nt(vt,at,lt,ut)+ft+ot[ht]+_[vt]|0;ft=ut,ut=lt,lt=tt(at),at=st,st=Et}this._a=st+this._a|0,this._b=at+this._b|0,this._c=lt+this._c|0,this._d=ut+this._d|0,this._e=ft+this._e|0},_e.prototype._hash=function(){var it=a.allocUnsafe(20);return it.writeInt32BE(this._a|0,0),it.writeInt32BE(this._b|0,4),it.writeInt32BE(this._c|0,8),it.writeInt32BE(this._d|0,12),it.writeInt32BE(this._e|0,16),it},sha$1=_e,sha$1}var sha1,hasRequiredSha1;function requireSha1(){if(hasRequiredSha1)return sha1;hasRequiredSha1=1;var o=inherits_browserExports,e=requireHash(),a=requireSafeBuffer$2().Buffer,_=[1518500249,1859775393,-1894007588,-899497514],b=new Array(80);function _e(){this.init(),this._w=b,e.call(this,64,56)}o(_e,e),_e.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function et(ot){return ot<<1|ot>>>31}function tt(ot){return ot<<5|ot>>>27}function nt(ot){return ot<<30|ot>>>2}function it(ot,st,at,lt){return ot===0?st&at|~st&lt:ot===2?st&at|st&lt|at&lt:st^at^lt}return _e.prototype._update=function(ot){for(var st=this._w,at=this._a|0,lt=this._b|0,ut=this._c|0,ft=this._d|0,mt=this._e|0,ht=0;ht<16;++ht)st[ht]=ot.readInt32BE(ht*4);for(;ht<80;++ht)st[ht]=et(st[ht-3]^st[ht-8]^st[ht-14]^st[ht-16]);for(var vt=0;vt<80;++vt){var Et=~~(vt/20),At=tt(at)+it(Et,lt,ut,ft)+mt+st[vt]+_[Et]|0;mt=ft,ft=ut,ut=nt(lt),lt=at,at=At}this._a=at+this._a|0,this._b=lt+this._b|0,this._c=ut+this._c|0,this._d=ft+this._d|0,this._e=mt+this._e|0},_e.prototype._hash=function(){var ot=a.allocUnsafe(20);return ot.writeInt32BE(this._a|0,0),ot.writeInt32BE(this._b|0,4),ot.writeInt32BE(this._c|0,8),ot.writeInt32BE(this._d|0,12),ot.writeInt32BE(this._e|0,16),ot},sha1=_e,sha1}var sha256$1,hasRequiredSha256;function requireSha256(){if(hasRequiredSha256)return sha256$1;hasRequiredSha256=1;var o=inherits_browserExports,e=requireHash(),a=requireSafeBuffer$2().Buffer,_=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],b=new Array(64);function _e(){this.init(),this._w=b,e.call(this,64,56)}o(_e,e),_e.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function et(at,lt,ut){return ut^at&(lt^ut)}function tt(at,lt,ut){return at&lt|ut&(at|lt)}function nt(at){return(at>>>2|at<<30)^(at>>>13|at<<19)^(at>>>22|at<<10)}function it(at){return(at>>>6|at<<26)^(at>>>11|at<<21)^(at>>>25|at<<7)}function ot(at){return(at>>>7|at<<25)^(at>>>18|at<<14)^at>>>3}function st(at){return(at>>>17|at<<15)^(at>>>19|at<<13)^at>>>10}return _e.prototype._update=function(at){for(var lt=this._w,ut=this._a|0,ft=this._b|0,mt=this._c|0,ht=this._d|0,vt=this._e|0,Et=this._f|0,At=this._g|0,Ct=this._h|0,Mt=0;Mt<16;++Mt)lt[Mt]=at.readInt32BE(Mt*4);for(;Mt<64;++Mt)lt[Mt]=st(lt[Mt-2])+lt[Mt-7]+ot(lt[Mt-15])+lt[Mt-16]|0;for(var Bt=0;Bt<64;++Bt){var Lt=Ct+it(vt)+et(vt,Et,At)+_[Bt]+lt[Bt]|0,jt=nt(ut)+tt(ut,ft,mt)|0;Ct=At,At=Et,Et=vt,vt=ht+Lt|0,ht=mt,mt=ft,ft=ut,ut=Lt+jt|0}this._a=ut+this._a|0,this._b=ft+this._b|0,this._c=mt+this._c|0,this._d=ht+this._d|0,this._e=vt+this._e|0,this._f=Et+this._f|0,this._g=At+this._g|0,this._h=Ct+this._h|0},_e.prototype._hash=function(){var at=a.allocUnsafe(32);return at.writeInt32BE(this._a,0),at.writeInt32BE(this._b,4),at.writeInt32BE(this._c,8),at.writeInt32BE(this._d,12),at.writeInt32BE(this._e,16),at.writeInt32BE(this._f,20),at.writeInt32BE(this._g,24),at.writeInt32BE(this._h,28),at},sha256$1=_e,sha256$1}var sha224$1,hasRequiredSha224;function requireSha224(){if(hasRequiredSha224)return sha224$1;hasRequiredSha224=1;var o=inherits_browserExports,e=requireSha256(),a=requireHash(),_=requireSafeBuffer$2().Buffer,b=new Array(64);function _e(){this.init(),this._w=b,a.call(this,64,56)}return o(_e,e),_e.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},_e.prototype._hash=function(){var et=_.allocUnsafe(28);return et.writeInt32BE(this._a,0),et.writeInt32BE(this._b,4),et.writeInt32BE(this._c,8),et.writeInt32BE(this._d,12),et.writeInt32BE(this._e,16),et.writeInt32BE(this._f,20),et.writeInt32BE(this._g,24),et},sha224$1=_e,sha224$1}var sha512$1,hasRequiredSha512;function requireSha512(){if(hasRequiredSha512)return sha512$1;hasRequiredSha512=1;var o=inherits_browserExports,e=requireHash(),a=requireSafeBuffer$2().Buffer,_=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],b=new Array(160);function _e(){this.init(),this._w=b,e.call(this,128,112)}o(_e,e),_e.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function et(ft,mt,ht){return ht^ft&(mt^ht)}function tt(ft,mt,ht){return ft&mt|ht&(ft|mt)}function nt(ft,mt){return(ft>>>28|mt<<4)^(mt>>>2|ft<<30)^(mt>>>7|ft<<25)}function it(ft,mt){return(ft>>>14|mt<<18)^(ft>>>18|mt<<14)^(mt>>>9|ft<<23)}function ot(ft,mt){return(ft>>>1|mt<<31)^(ft>>>8|mt<<24)^ft>>>7}function st(ft,mt){return(ft>>>1|mt<<31)^(ft>>>8|mt<<24)^(ft>>>7|mt<<25)}function at(ft,mt){return(ft>>>19|mt<<13)^(mt>>>29|ft<<3)^ft>>>6}function lt(ft,mt){return(ft>>>19|mt<<13)^(mt>>>29|ft<<3)^(ft>>>6|mt<<26)}function ut(ft,mt){return ft>>>0<mt>>>0?1:0}return _e.prototype._update=function(ft){for(var mt=this._w,ht=this._ah|0,vt=this._bh|0,Et=this._ch|0,At=this._dh|0,Ct=this._eh|0,Mt=this._fh|0,Bt=this._gh|0,Lt=this._hh|0,jt=this._al|0,Vt=this._bl|0,Nt=this._cl|0,kt=this._dl|0,_t=this._el|0,ct=this._fl|0,dt=this._gl|0,wt=this._hl|0,gt=0;gt<32;gt+=2)mt[gt]=ft.readInt32BE(gt*4),mt[gt+1]=ft.readInt32BE(gt*4+4);for(;gt<160;gt+=2){var bt=mt[gt-30],xt=mt[gt-15*2+1],yt=ot(bt,xt),St=st(xt,bt);bt=mt[gt-2*2],xt=mt[gt-2*2+1];var pt=at(bt,xt),Tt=lt(xt,bt),Ht=mt[gt-7*2],Wt=mt[gt-7*2+1],Ut=mt[gt-16*2],Rt=mt[gt-16*2+1],$t=St+Wt|0,Ft=yt+Ht+ut($t,St)|0;$t=$t+Tt|0,Ft=Ft+pt+ut($t,Tt)|0,$t=$t+Rt|0,Ft=Ft+Ut+ut($t,Rt)|0,mt[gt]=Ft,mt[gt+1]=$t}for(var Kt=0;Kt<160;Kt+=2){Ft=mt[Kt],$t=mt[Kt+1];var Dt=tt(ht,vt,Et),Ot=tt(jt,Vt,Nt),Gt=nt(ht,jt),Jt=nt(jt,ht),er=it(Ct,_t),nr=it(_t,Ct),or=_[Kt],sr=_[Kt+1],Qt=et(Ct,Mt,Bt),fr=et(_t,ct,dt),rr=wt+nr|0,Sr=Lt+er+ut(rr,wt)|0;rr=rr+fr|0,Sr=Sr+Qt+ut(rr,fr)|0,rr=rr+sr|0,Sr=Sr+or+ut(rr,sr)|0,rr=rr+$t|0,Sr=Sr+Ft+ut(rr,$t)|0;var cr=Jt+Ot|0,ir=Gt+Dt+ut(cr,Jt)|0;Lt=Bt,wt=dt,Bt=Mt,dt=ct,Mt=Ct,ct=_t,_t=kt+rr|0,Ct=At+Sr+ut(_t,kt)|0,At=Et,kt=Nt,Et=vt,Nt=Vt,vt=ht,Vt=jt,jt=rr+cr|0,ht=Sr+ir+ut(jt,rr)|0}this._al=this._al+jt|0,this._bl=this._bl+Vt|0,this._cl=this._cl+Nt|0,this._dl=this._dl+kt|0,this._el=this._el+_t|0,this._fl=this._fl+ct|0,this._gl=this._gl+dt|0,this._hl=this._hl+wt|0,this._ah=this._ah+ht+ut(this._al,jt)|0,this._bh=this._bh+vt+ut(this._bl,Vt)|0,this._ch=this._ch+Et+ut(this._cl,Nt)|0,this._dh=this._dh+At+ut(this._dl,kt)|0,this._eh=this._eh+Ct+ut(this._el,_t)|0,this._fh=this._fh+Mt+ut(this._fl,ct)|0,this._gh=this._gh+Bt+ut(this._gl,dt)|0,this._hh=this._hh+Lt+ut(this._hl,wt)|0},_e.prototype._hash=function(){var ft=a.allocUnsafe(64);function mt(ht,vt,Et){ft.writeInt32BE(ht,Et),ft.writeInt32BE(vt,Et+4)}return mt(this._ah,this._al,0),mt(this._bh,this._bl,8),mt(this._ch,this._cl,16),mt(this._dh,this._dl,24),mt(this._eh,this._el,32),mt(this._fh,this._fl,40),mt(this._gh,this._gl,48),mt(this._hh,this._hl,56),ft},sha512$1=_e,sha512$1}var sha384$1,hasRequiredSha384;function requireSha384(){if(hasRequiredSha384)return sha384$1;hasRequiredSha384=1;var o=inherits_browserExports,e=requireSha512(),a=requireHash(),_=requireSafeBuffer$2().Buffer,b=new Array(160);function _e(){this.init(),this._w=b,a.call(this,128,112)}return o(_e,e),_e.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},_e.prototype._hash=function(){var et=_.allocUnsafe(48);function tt(nt,it,ot){et.writeInt32BE(nt,ot),et.writeInt32BE(it,ot+4)}return tt(this._ah,this._al,0),tt(this._bh,this._bl,8),tt(this._ch,this._cl,16),tt(this._dh,this._dl,24),tt(this._eh,this._el,32),tt(this._fh,this._fl,40),et},sha384$1=_e,sha384$1}var hasRequiredSha_js;function requireSha_js(){return hasRequiredSha_js||(hasRequiredSha_js=1,function(o){o.exports=function(a){var _=a.toLowerCase(),b=o.exports[_];if(!b)throw new Error(_+" is not supported (we accept pull requests)");return new b},o.exports.sha=requireSha(),o.exports.sha1=requireSha1(),o.exports.sha224=requireSha224(),o.exports.sha256=requireSha256(),o.exports.sha384=requireSha384(),o.exports.sha512=requireSha512()}(sha_js)),sha_js.exports}var cipherBase,hasRequiredCipherBase;function requireCipherBase(){if(hasRequiredCipherBase)return cipherBase;hasRequiredCipherBase=1;var o=requireSafeBuffer$2().Buffer,e=requireStreamBrowserify().Transform,a=requireString_decoder().StringDecoder,_=inherits_browserExports,b=requireToBuffer$2();function _e(et){e.call(this),this.hashMode=typeof et=="string",this.hashMode?this[et]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}return _(_e,e),_e.prototype.update=function(et,tt,nt){var it=b(et,tt),ot=this._update(it);return this.hashMode?this:(nt&&(ot=this._toString(ot,nt)),ot)},_e.prototype.setAutoPadding=function(){},_e.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},_e.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},_e.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},_e.prototype._transform=function(et,tt,nt){var it;try{this.hashMode?this._update(et):this.push(this._update(et))}catch(ot){it=ot}finally{nt(it)}},_e.prototype._flush=function(et){var tt;try{this.push(this.__final())}catch(nt){tt=nt}et(tt)},_e.prototype._finalOrDigest=function(et){var tt=this.__final()||o.alloc(0);return et&&(tt=this._toString(tt,et,!0)),tt},_e.prototype._toString=function(et,tt,nt){if(this._decoder||(this._decoder=new a(tt),this._encoding=tt),this._encoding!==tt)throw new Error("cant switch encodings");var it=this._decoder.write(et);return nt&&(it+=this._decoder.end()),it},cipherBase=_e,cipherBase}var browser$9,hasRequiredBrowser$9;function requireBrowser$9(){if(hasRequiredBrowser$9)return browser$9;hasRequiredBrowser$9=1;var o=inherits_browserExports,e=requireMd5_js(),a=requireRipemd160(),_=requireSha_js(),b=requireCipherBase();function _e(et){b.call(this,"digest"),this._hash=et}return o(_e,b),_e.prototype._update=function(et){this._hash.update(et)},_e.prototype._final=function(){return this._hash.digest()},browser$9=function(tt){return tt=tt.toLowerCase(),tt==="md5"?new e:tt==="rmd160"||tt==="ripemd160"?new a:new _e(_(tt))},browser$9}var legacy,hasRequiredLegacy;function requireLegacy(){if(hasRequiredLegacy)return legacy;hasRequiredLegacy=1;var o=inherits_browserExports,e=requireSafeBuffer$2().Buffer,a=requireCipherBase(),_=e.alloc(128),b=64;function _e(et,tt){a.call(this,"digest"),typeof tt=="string"&&(tt=e.from(tt)),this._alg=et,this._key=tt,tt.length>b?tt=et(tt):tt.length<b&&(tt=e.concat([tt,_],b));for(var nt=this._ipad=e.allocUnsafe(b),it=this._opad=e.allocUnsafe(b),ot=0;ot<b;ot++)nt[ot]=tt[ot]^54,it[ot]=tt[ot]^92;this._hash=[nt]}return o(_e,a),_e.prototype._update=function(et){this._hash.push(et)},_e.prototype._final=function(){var et=this._alg(e.concat(this._hash));return this._alg(e.concat([this._opad,et]))},legacy=_e,legacy}var md5,hasRequiredMd5;function requireMd5(){if(hasRequiredMd5)return md5;hasRequiredMd5=1;var o=requireMd5_js();return md5=function(e){return new o().update(e).digest()},md5}var browser$8,hasRequiredBrowser$8;function requireBrowser$8(){if(hasRequiredBrowser$8)return browser$8;hasRequiredBrowser$8=1;var o=inherits_browserExports,e=requireLegacy(),a=requireCipherBase(),_=requireSafeBuffer$2().Buffer,b=requireMd5(),_e=requireRipemd160(),et=requireSha_js(),tt=_.alloc(128);function nt(it,ot){a.call(this,"digest"),typeof ot=="string"&&(ot=_.from(ot));var st=it==="sha512"||it==="sha384"?128:64;if(this._alg=it,this._key=ot,ot.length>st){var at=it==="rmd160"?new _e:et(it);ot=at.update(ot).digest()}else ot.length<st&&(ot=_.concat([ot,tt],st));for(var lt=this._ipad=_.allocUnsafe(st),ut=this._opad=_.allocUnsafe(st),ft=0;ft<st;ft++)lt[ft]=ot[ft]^54,ut[ft]=ot[ft]^92;this._hash=it==="rmd160"?new _e:et(it),this._hash.update(lt)}return o(nt,a),nt.prototype._update=function(it){this._hash.update(it)},nt.prototype._final=function(){var it=this._hash.digest(),ot=this._alg==="rmd160"?new _e:et(this._alg);return ot.update(this._opad).update(it).digest()},browser$8=function(ot,st){return ot=ot.toLowerCase(),ot==="rmd160"||ot==="ripemd160"?new nt("rmd160",st):ot==="md5"?new e(b,st):new nt(ot,st)},browser$8}const sha224WithRSAEncryption={sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption={sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption={sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption={sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},sha256={sign:"ecdsa",hash:"sha256",id:""},sha224={sign:"ecdsa",hash:"sha224",id:""},sha384={sign:"ecdsa",hash:"sha384",id:""},sha512={sign:"ecdsa",hash:"sha512",id:""},DSA={sign:"dsa",hash:"sha1",id:""},ripemd160WithRSA={sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption={sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},require$$6={sha224WithRSAEncryption,"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption,"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption,"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption,"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256,sha224,sha384,sha512,"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA,"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA,"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption,"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}};var algos,hasRequiredAlgos;function requireAlgos(){return hasRequiredAlgos||(hasRequiredAlgos=1,algos=require$$6),algos}var browser$7={},precondition,hasRequiredPrecondition;function requirePrecondition(){if(hasRequiredPrecondition)return precondition;hasRequiredPrecondition=1;var o=isFinite,e=Math.pow(2,30)-1;return precondition=function(a,_){if(typeof a!="number")throw new TypeError("Iterations not a number");if(a<0||!o(a))throw new TypeError("Bad iterations");if(typeof _!="number")throw new TypeError("Key length not a number");if(_<0||_>e||_!==_)throw new TypeError("Bad key length")},precondition}var defaultEncoding_1,hasRequiredDefaultEncoding;function requireDefaultEncoding(){if(hasRequiredDefaultEncoding)return defaultEncoding_1;hasRequiredDefaultEncoding=1;var o;if(commonjsGlobal.process&&commonjsGlobal.process.browser)o="utf-8";else if(commonjsGlobal.process&&commonjsGlobal.process.version){var e=parseInt(process$1$1.version.split(".")[0].slice(1),10);o=e>=6?"utf-8":"binary"}else o="utf-8";return defaultEncoding_1=o,defaultEncoding_1}var toBuffer_1,hasRequiredToBuffer;function requireToBuffer(){if(hasRequiredToBuffer)return toBuffer_1;hasRequiredToBuffer=1;var o=requireSafeBuffer$2().Buffer,e=requireToBuffer$2(),a=typeof Uint8Array<"u",_=a&&typeof ArrayBuffer<"u",b=_&&ArrayBuffer.isView;return toBuffer_1=function(_e,et,tt){if(typeof _e=="string"||o.isBuffer(_e)||a&&_e instanceof Uint8Array||b&&b(_e))return e(_e,et);throw new TypeError(tt+" must be a string, a Buffer, a Uint8Array, or a DataView")},toBuffer_1}var syncBrowser,hasRequiredSyncBrowser;function requireSyncBrowser(){if(hasRequiredSyncBrowser)return syncBrowser;hasRequiredSyncBrowser=1;var o=requireMd5(),e=requireRipemd160(),a=requireSha_js(),_=requireSafeBuffer$2().Buffer,b=requirePrecondition(),_e=requireDefaultEncoding(),et=requireToBuffer(),tt=_.alloc(128),nt={__proto__:null,md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,"sha512-256":32,ripemd160:20,rmd160:20},it={__proto__:null,"sha-1":"sha1","sha-224":"sha224","sha-256":"sha256","sha-384":"sha384","sha-512":"sha512","ripemd-160":"ripemd160"};function ot(ut){return new e().update(ut).digest()}function st(ut){function ft(mt){return a(ut).update(mt).digest()}return ut==="rmd160"||ut==="ripemd160"?ot:ut==="md5"?o:ft}function at(ut,ft,mt){var ht=st(ut),vt=ut==="sha512"||ut==="sha384"?128:64;ft.length>vt?ft=ht(ft):ft.length<vt&&(ft=_.concat([ft,tt],vt));for(var Et=_.allocUnsafe(vt+nt[ut]),At=_.allocUnsafe(vt+nt[ut]),Ct=0;Ct<vt;Ct++)Et[Ct]=ft[Ct]^54,At[Ct]=ft[Ct]^92;var Mt=_.allocUnsafe(vt+mt+4);Et.copy(Mt,0,0,vt),this.ipad1=Mt,this.ipad2=Et,this.opad=At,this.alg=ut,this.blocksize=vt,this.hash=ht,this.size=nt[ut]}at.prototype.run=function(ut,ft){ut.copy(ft,this.blocksize);var mt=this.hash(ft);return mt.copy(this.opad,this.blocksize),this.hash(this.opad)};function lt(ut,ft,mt,ht,vt){b(mt,ht),ut=et(ut,_e,"Password"),ft=et(ft,_e,"Salt");var Et=(vt||"sha1").toLowerCase(),At=it[Et]||Et,Ct=nt[At];if(typeof Ct!="number"||!Ct)throw new TypeError("Digest algorithm not supported: "+vt);var Mt=new at(At,ut,ft.length),Bt=_.allocUnsafe(ht),Lt=_.allocUnsafe(ft.length+4);ft.copy(Lt,0,0,ft.length);for(var jt=0,Vt=Ct,Nt=Math.ceil(ht/Vt),kt=1;kt<=Nt;kt++){Lt.writeUInt32BE(kt,ft.length);for(var _t=Mt.run(Lt,Mt.ipad1),ct=_t,dt=1;dt<mt;dt++){ct=Mt.run(ct,Mt.ipad2);for(var wt=0;wt<Vt;wt++)_t[wt]^=ct[wt]}_t.copy(Bt,jt),jt+=Vt}return Bt}return syncBrowser=lt,syncBrowser}var async,hasRequiredAsync;function requireAsync(){if(hasRequiredAsync)return async;hasRequiredAsync=1;var o=requireSafeBuffer$2().Buffer,e=requirePrecondition(),a=requireDefaultEncoding(),_=requireSyncBrowser(),b=requireToBuffer(),_e,et=commonjsGlobal.crypto&&commonjsGlobal.crypto.subtle,tt={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},nt=[],it;function ot(){return it||(commonjsGlobal.process&&commonjsGlobal.process.nextTick?it=commonjsGlobal.process.nextTick:commonjsGlobal.queueMicrotask?it=commonjsGlobal.queueMicrotask:commonjsGlobal.setImmediate?it=commonjsGlobal.setImmediate:it=commonjsGlobal.setTimeout,it)}function st(ut,ft,mt,ht,vt){return et.importKey("raw",ut,{name:"PBKDF2"},!1,["deriveBits"]).then(function(Et){return et.deriveBits({name:"PBKDF2",salt:ft,iterations:mt,hash:{name:vt}},Et,ht<<3)}).then(function(Et){return o.from(Et)})}function at(ut){if(commonjsGlobal.process&&!commonjsGlobal.process.browser||!et||!et.importKey||!et.deriveBits)return Promise.resolve(!1);if(nt[ut]!==void 0)return nt[ut];_e=_e||o.alloc(8);var ft=st(_e,_e,10,128,ut).then(function(){return!0},function(){return!1});return nt[ut]=ft,ft}function lt(ut,ft){ut.then(function(mt){ot()(function(){ft(null,mt)})},function(mt){ot()(function(){ft(mt)})})}return async=function(ut,ft,mt,ht,vt,Et){if(typeof vt=="function"&&(Et=vt,vt=void 0),e(mt,ht),ut=b(ut,a,"Password"),ft=b(ft,a,"Salt"),typeof Et!="function")throw new Error("No callback provided to pbkdf2");vt=vt||"sha1";var At=tt[vt.toLowerCase()];if(!At||typeof commonjsGlobal.Promise!="function"){ot()(function(){var Ct;try{Ct=_(ut,ft,mt,ht,vt)}catch(Mt){Et(Mt);return}Et(null,Ct)});return}lt(at(At).then(function(Ct){return Ct?st(ut,ft,mt,ht,At):_(ut,ft,mt,ht,vt)}),Et)},async}var hasRequiredBrowser$7;function requireBrowser$7(){return hasRequiredBrowser$7||(hasRequiredBrowser$7=1,browser$7.pbkdf2=requireAsync(),browser$7.pbkdf2Sync=requireSyncBrowser()),browser$7}var browser$6={},des$1={},utils$m={},hasRequiredUtils;function requireUtils(){if(hasRequiredUtils)return utils$m;hasRequiredUtils=1,utils$m.readUInt32BE=function(b,_e){var et=b[0+_e]<<24|b[1+_e]<<16|b[2+_e]<<8|b[3+_e];return et>>>0},utils$m.writeUInt32BE=function(b,_e,et){b[0+et]=_e>>>24,b[1+et]=_e>>>16&255,b[2+et]=_e>>>8&255,b[3+et]=_e&255},utils$m.ip=function(b,_e,et,tt){for(var nt=0,it=0,ot=6;ot>=0;ot-=2){for(var st=0;st<=24;st+=8)nt<<=1,nt|=_e>>>st+ot&1;for(var st=0;st<=24;st+=8)nt<<=1,nt|=b>>>st+ot&1}for(var ot=6;ot>=0;ot-=2){for(var st=1;st<=25;st+=8)it<<=1,it|=_e>>>st+ot&1;for(var st=1;st<=25;st+=8)it<<=1,it|=b>>>st+ot&1}et[tt+0]=nt>>>0,et[tt+1]=it>>>0},utils$m.rip=function(b,_e,et,tt){for(var nt=0,it=0,ot=0;ot<4;ot++)for(var st=24;st>=0;st-=8)nt<<=1,nt|=_e>>>st+ot&1,nt<<=1,nt|=b>>>st+ot&1;for(var ot=4;ot<8;ot++)for(var st=24;st>=0;st-=8)it<<=1,it|=_e>>>st+ot&1,it<<=1,it|=b>>>st+ot&1;et[tt+0]=nt>>>0,et[tt+1]=it>>>0},utils$m.pc1=function(b,_e,et,tt){for(var nt=0,it=0,ot=7;ot>=5;ot--){for(var st=0;st<=24;st+=8)nt<<=1,nt|=_e>>st+ot&1;for(var st=0;st<=24;st+=8)nt<<=1,nt|=b>>st+ot&1}for(var st=0;st<=24;st+=8)nt<<=1,nt|=_e>>st+ot&1;for(var ot=1;ot<=3;ot++){for(var st=0;st<=24;st+=8)it<<=1,it|=_e>>st+ot&1;for(var st=0;st<=24;st+=8)it<<=1,it|=b>>st+ot&1}for(var st=0;st<=24;st+=8)it<<=1,it|=b>>st+ot&1;et[tt+0]=nt>>>0,et[tt+1]=it>>>0},utils$m.r28shl=function(b,_e){return b<<_e&268435455|b>>>28-_e};var o=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];utils$m.pc2=function(b,_e,et,tt){for(var nt=0,it=0,ot=o.length>>>1,st=0;st<ot;st++)nt<<=1,nt|=b>>>o[st]&1;for(var st=ot;st<o.length;st++)it<<=1,it|=_e>>>o[st]&1;et[tt+0]=nt>>>0,et[tt+1]=it>>>0},utils$m.expand=function(b,_e,et){var tt=0,nt=0;tt=(b&1)<<5|b>>>27;for(var it=23;it>=15;it-=4)tt<<=6,tt|=b>>>it&63;for(var it=11;it>=3;it-=4)nt|=b>>>it&63,nt<<=6;nt|=(b&31)<<1|b>>>31,_e[et+0]=tt>>>0,_e[et+1]=nt>>>0};var e=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];utils$m.substitute=function(b,_e){for(var et=0,tt=0;tt<4;tt++){var nt=b>>>18-tt*6&63,it=e[tt*64+nt];et<<=4,et|=it}for(var tt=0;tt<4;tt++){var nt=_e>>>18-tt*6&63,it=e[4*64+tt*64+nt];et<<=4,et|=it}return et>>>0};var a=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];return utils$m.permute=function(b){for(var _e=0,et=0;et<a.length;et++)_e<<=1,_e|=b>>>a[et]&1;return _e>>>0},utils$m.padSplit=function(b,_e,et){for(var tt=b.toString(2);tt.length<_e;)tt="0"+tt;for(var nt=[],it=0;it<_e;it+=et)nt.push(tt.slice(it,it+et));return nt.join(" ")},utils$m}var minimalisticAssert=assert$g;function assert$g(o,e){if(!o)throw new Error(e||"Assertion failed")}assert$g.equal=function(e,a,_){if(e!=a)throw new Error(_||"Assertion failed: "+e+" != "+a)};var cipher,hasRequiredCipher;function requireCipher(){if(hasRequiredCipher)return cipher;hasRequiredCipher=1;var o=minimalisticAssert;function e(a){this.options=a,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=a.padding!==!1}return cipher=e,e.prototype._init=function(){},e.prototype.update=function(_){return _.length===0?[]:this.type==="decrypt"?this._updateDecrypt(_):this._updateEncrypt(_)},e.prototype._buffer=function(_,b){for(var _e=Math.min(this.buffer.length-this.bufferOff,_.length-b),et=0;et<_e;et++)this.buffer[this.bufferOff+et]=_[b+et];return this.bufferOff+=_e,_e},e.prototype._flushBuffer=function(_,b){return this._update(this.buffer,0,_,b),this.bufferOff=0,this.blockSize},e.prototype._updateEncrypt=function(_){var b=0,_e=0,et=(this.bufferOff+_.length)/this.blockSize|0,tt=new Array(et*this.blockSize);this.bufferOff!==0&&(b+=this._buffer(_,b),this.bufferOff===this.buffer.length&&(_e+=this._flushBuffer(tt,_e)));for(var nt=_.length-(_.length-b)%this.blockSize;b<nt;b+=this.blockSize)this._update(_,b,tt,_e),_e+=this.blockSize;for(;b<_.length;b++,this.bufferOff++)this.buffer[this.bufferOff]=_[b];return tt},e.prototype._updateDecrypt=function(_){for(var b=0,_e=0,et=Math.ceil((this.bufferOff+_.length)/this.blockSize)-1,tt=new Array(et*this.blockSize);et>0;et--)b+=this._buffer(_,b),_e+=this._flushBuffer(tt,_e);return b+=this._buffer(_,b),tt},e.prototype.final=function(_){var b;_&&(b=this.update(_));var _e;return this.type==="encrypt"?_e=this._finalEncrypt():_e=this._finalDecrypt(),b?b.concat(_e):_e},e.prototype._pad=function(_,b){if(b===0)return!1;for(;b<_.length;)_[b++]=0;return!0},e.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var _=new Array(this.blockSize);return this._update(this.buffer,0,_,0),_},e.prototype._unpad=function(_){return _},e.prototype._finalDecrypt=function(){o.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var _=new Array(this.blockSize);return this._flushBuffer(_,0),this._unpad(_)},cipher}var des,hasRequiredDes$1;function requireDes$1(){if(hasRequiredDes$1)return des;hasRequiredDes$1=1;var o=minimalisticAssert,e=inherits_browserExports,a=requireUtils(),_=requireCipher();function b(){this.tmp=new Array(2),this.keys=null}function _e(tt){_.call(this,tt);var nt=new b;this._desState=nt,this.deriveKeys(nt,tt.key)}e(_e,_),des=_e,_e.create=function(nt){return new _e(nt)};var et=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];return _e.prototype.deriveKeys=function(nt,it){nt.keys=new Array(16*2),o.equal(it.length,this.blockSize,"Invalid key length");var ot=a.readUInt32BE(it,0),st=a.readUInt32BE(it,4);a.pc1(ot,st,nt.tmp,0),ot=nt.tmp[0],st=nt.tmp[1];for(var at=0;at<nt.keys.length;at+=2){var lt=et[at>>>1];ot=a.r28shl(ot,lt),st=a.r28shl(st,lt),a.pc2(ot,st,nt.keys,at)}},_e.prototype._update=function(nt,it,ot,st){var at=this._desState,lt=a.readUInt32BE(nt,it),ut=a.readUInt32BE(nt,it+4);a.ip(lt,ut,at.tmp,0),lt=at.tmp[0],ut=at.tmp[1],this.type==="encrypt"?this._encrypt(at,lt,ut,at.tmp,0):this._decrypt(at,lt,ut,at.tmp,0),lt=at.tmp[0],ut=at.tmp[1],a.writeUInt32BE(ot,lt,st),a.writeUInt32BE(ot,ut,st+4)},_e.prototype._pad=function(nt,it){if(this.padding===!1)return!1;for(var ot=nt.length-it,st=it;st<nt.length;st++)nt[st]=ot;return!0},_e.prototype._unpad=function(nt){if(this.padding===!1)return nt;for(var it=nt[nt.length-1],ot=nt.length-it;ot<nt.length;ot++)o.equal(nt[ot],it);return nt.slice(0,nt.length-it)},_e.prototype._encrypt=function(nt,it,ot,st,at){for(var lt=it,ut=ot,ft=0;ft<nt.keys.length;ft+=2){var mt=nt.keys[ft],ht=nt.keys[ft+1];a.expand(ut,nt.tmp,0),mt^=nt.tmp[0],ht^=nt.tmp[1];var vt=a.substitute(mt,ht),Et=a.permute(vt),At=ut;ut=(lt^Et)>>>0,lt=At}a.rip(ut,lt,st,at)},_e.prototype._decrypt=function(nt,it,ot,st,at){for(var lt=ot,ut=it,ft=nt.keys.length-2;ft>=0;ft-=2){var mt=nt.keys[ft],ht=nt.keys[ft+1];a.expand(lt,nt.tmp,0),mt^=nt.tmp[0],ht^=nt.tmp[1];var vt=a.substitute(mt,ht),Et=a.permute(vt),At=lt;lt=(ut^Et)>>>0,ut=At}a.rip(lt,ut,st,at)},des}var cbc$1={},hasRequiredCbc$1;function requireCbc$1(){if(hasRequiredCbc$1)return cbc$1;hasRequiredCbc$1=1;var o=minimalisticAssert,e=inherits_browserExports,a={};function _(_e){o.equal(_e.length,8,"Invalid IV length"),this.iv=new Array(8);for(var et=0;et<this.iv.length;et++)this.iv[et]=_e[et]}function b(_e){function et(ot){_e.call(this,ot),this._cbcInit()}e(et,_e);for(var tt=Object.keys(a),nt=0;nt<tt.length;nt++){var it=tt[nt];et.prototype[it]=a[it]}return et.create=function(st){return new et(st)},et}return cbc$1.instantiate=b,a._cbcInit=function(){var et=new _(this.options.iv);this._cbcState=et},a._update=function(et,tt,nt,it){var ot=this._cbcState,st=this.constructor.super_.prototype,at=ot.iv;if(this.type==="encrypt"){for(var lt=0;lt<this.blockSize;lt++)at[lt]^=et[tt+lt];st._update.call(this,at,0,nt,it);for(var lt=0;lt<this.blockSize;lt++)at[lt]=nt[it+lt]}else{st._update.call(this,et,tt,nt,it);for(var lt=0;lt<this.blockSize;lt++)nt[it+lt]^=at[lt];for(var lt=0;lt<this.blockSize;lt++)at[lt]=et[tt+lt]}},cbc$1}var ede,hasRequiredEde;function requireEde(){if(hasRequiredEde)return ede;hasRequiredEde=1;var o=minimalisticAssert,e=inherits_browserExports,a=requireCipher(),_=requireDes$1();function b(et,tt){o.equal(tt.length,24,"Invalid key length");var nt=tt.slice(0,8),it=tt.slice(8,16),ot=tt.slice(16,24);et==="encrypt"?this.ciphers=[_.create({type:"encrypt",key:nt}),_.create({type:"decrypt",key:it}),_.create({type:"encrypt",key:ot})]:this.ciphers=[_.create({type:"decrypt",key:ot}),_.create({type:"encrypt",key:it}),_.create({type:"decrypt",key:nt})]}function _e(et){a.call(this,et);var tt=new b(this.type,this.options.key);this._edeState=tt}return e(_e,a),ede=_e,_e.create=function(tt){return new _e(tt)},_e.prototype._update=function(tt,nt,it,ot){var st=this._edeState;st.ciphers[0]._update(tt,nt,it,ot),st.ciphers[1]._update(it,ot,it,ot),st.ciphers[2]._update(it,ot,it,ot)},_e.prototype._pad=_.prototype._pad,_e.prototype._unpad=_.prototype._unpad,ede}var hasRequiredDes;function requireDes(){return hasRequiredDes||(hasRequiredDes=1,des$1.utils=requireUtils(),des$1.Cipher=requireCipher(),des$1.DES=requireDes$1(),des$1.CBC=requireCbc$1(),des$1.EDE=requireEde()),des$1}var browserifyDes,hasRequiredBrowserifyDes;function requireBrowserifyDes(){if(hasRequiredBrowserifyDes)return browserifyDes;hasRequiredBrowserifyDes=1;var o=requireCipherBase(),e=requireDes(),a=inherits_browserExports,_=requireSafeBuffer$2().Buffer,b={"des-ede3-cbc":e.CBC.instantiate(e.EDE),"des-ede3":e.EDE,"des-ede-cbc":e.CBC.instantiate(e.EDE),"des-ede":e.EDE,"des-cbc":e.CBC.instantiate(e.DES),"des-ecb":e.DES};b.des=b["des-cbc"],b.des3=b["des-ede3-cbc"],browserifyDes=_e,a(_e,o);function _e(et){o.call(this);var tt=et.mode.toLowerCase(),nt=b[tt],it;et.decrypt?it="decrypt":it="encrypt";var ot=et.key;_.isBuffer(ot)||(ot=_.from(ot)),(tt==="des-ede"||tt==="des-ede-cbc")&&(ot=_.concat([ot,ot.slice(0,8)]));var st=et.iv;_.isBuffer(st)||(st=_.from(st)),this._des=nt.create({key:ot,iv:st,type:it})}return _e.prototype._update=function(et){return _.from(this._des.update(et))},_e.prototype._final=function(){return _.from(this._des.final())},browserifyDes}var browser$5={},encrypter={},ecb={},hasRequiredEcb;function requireEcb(){return hasRequiredEcb||(hasRequiredEcb=1,ecb.encrypt=function(o,e){return o._cipher.encryptBlock(e)},ecb.decrypt=function(o,e){return o._cipher.decryptBlock(e)}),ecb}var cbc={},bufferXor,hasRequiredBufferXor;function requireBufferXor(){return hasRequiredBufferXor||(hasRequiredBufferXor=1,bufferXor=function(e,a){for(var _=Math.min(e.length,a.length),b=new Buffer(_),_e=0;_e<_;++_e)b[_e]=e[_e]^a[_e];return b}),bufferXor}var hasRequiredCbc;function requireCbc(){if(hasRequiredCbc)return cbc;hasRequiredCbc=1;var o=requireBufferXor();return cbc.encrypt=function(e,a){var _=o(a,e._prev);return e._prev=e._cipher.encryptBlock(_),e._prev},cbc.decrypt=function(e,a){var _=e._prev;e._prev=a;var b=e._cipher.decryptBlock(a);return o(b,_)},cbc}var cfb={},hasRequiredCfb;function requireCfb(){if(hasRequiredCfb)return cfb;hasRequiredCfb=1;var o=requireSafeBuffer$2().Buffer,e=requireBufferXor();function a(_,b,_e){var et=b.length,tt=e(b,_._cache);return _._cache=_._cache.slice(et),_._prev=o.concat([_._prev,_e?b:tt]),tt}return cfb.encrypt=function(_,b,_e){for(var et=o.allocUnsafe(0),tt;b.length;)if(_._cache.length===0&&(_._cache=_._cipher.encryptBlock(_._prev),_._prev=o.allocUnsafe(0)),_._cache.length<=b.length)tt=_._cache.length,et=o.concat([et,a(_,b.slice(0,tt),_e)]),b=b.slice(tt);else{et=o.concat([et,a(_,b,_e)]);break}return et},cfb}var cfb8={},hasRequiredCfb8;function requireCfb8(){if(hasRequiredCfb8)return cfb8;hasRequiredCfb8=1;var o=requireSafeBuffer$2().Buffer;function e(a,_,b){var _e=a._cipher.encryptBlock(a._prev),et=_e[0]^_;return a._prev=o.concat([a._prev.slice(1),o.from([b?_:et])]),et}return cfb8.encrypt=function(a,_,b){for(var _e=_.length,et=o.allocUnsafe(_e),tt=-1;++tt<_e;)et[tt]=e(a,_[tt],b);return et},cfb8}var cfb1={},hasRequiredCfb1;function requireCfb1(){if(hasRequiredCfb1)return cfb1;hasRequiredCfb1=1;var o=requireSafeBuffer$2().Buffer;function e(_,b,_e){for(var et,tt=-1,nt=8,it=0,ot,st;++tt<nt;)et=_._cipher.encryptBlock(_._prev),ot=b&1<<7-tt?128:0,st=et[0]^ot,it+=(st&128)>>tt%8,_._prev=a(_._prev,_e?ot:st);return it}function a(_,b){var _e=_.length,et=-1,tt=o.allocUnsafe(_.length);for(_=o.concat([_,o.from([b])]);++et<_e;)tt[et]=_[et]<<1|_[et+1]>>7;return tt}return cfb1.encrypt=function(_,b,_e){for(var et=b.length,tt=o.allocUnsafe(et),nt=-1;++nt<et;)tt[nt]=e(_,b[nt],_e);return tt},cfb1}var ofb={},hasRequiredOfb;function requireOfb(){if(hasRequiredOfb)return ofb;hasRequiredOfb=1;var o=requireBufferXor();function e(a){return a._prev=a._cipher.encryptBlock(a._prev),a._prev}return ofb.encrypt=function(a,_){for(;a._cache.length<_.length;)a._cache=Buffer.concat([a._cache,e(a)]);var b=a._cache.slice(0,_.length);return a._cache=a._cache.slice(_.length),o(_,b)},ofb}var ctr={},incr32_1,hasRequiredIncr32;function requireIncr32(){if(hasRequiredIncr32)return incr32_1;hasRequiredIncr32=1;function o(e){for(var a=e.length,_;a--;)if(_=e.readUInt8(a),_===255)e.writeUInt8(0,a);else{_++,e.writeUInt8(_,a);break}}return incr32_1=o,incr32_1}var hasRequiredCtr;function requireCtr(){if(hasRequiredCtr)return ctr;hasRequiredCtr=1;var o=requireBufferXor(),e=requireSafeBuffer$2().Buffer,a=requireIncr32();function _(_e){var et=_e._cipher.encryptBlockRaw(_e._prev);return a(_e._prev),et}var b=16;return ctr.encrypt=function(_e,et){var tt=Math.ceil(et.length/b),nt=_e._cache.length;_e._cache=e.concat([_e._cache,e.allocUnsafe(tt*b)]);for(var it=0;it<tt;it++){var ot=_(_e),st=nt+it*b;_e._cache.writeUInt32BE(ot[0],st+0),_e._cache.writeUInt32BE(ot[1],st+4),_e._cache.writeUInt32BE(ot[2],st+8),_e._cache.writeUInt32BE(ot[3],st+12)}var at=_e._cache.slice(0,et.length);return _e._cache=_e._cache.slice(et.length),o(et,at)},ctr}const aes128={cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192={cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256={cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},require$$2={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128,aes192,aes256,"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}};var modes_1,hasRequiredModes$1;function requireModes$1(){if(hasRequiredModes$1)return modes_1;hasRequiredModes$1=1;var o={ECB:requireEcb(),CBC:requireCbc(),CFB:requireCfb(),CFB8:requireCfb8(),CFB1:requireCfb1(),OFB:requireOfb(),CTR:requireCtr(),GCM:requireCtr()},e=require$$2;for(var a in e)e[a].module=o[e[a].mode];return modes_1=e,modes_1}var aes={},hasRequiredAes;function requireAes(){if(hasRequiredAes)return aes;hasRequiredAes=1;var o=requireSafeBuffer$2().Buffer;function e(tt){o.isBuffer(tt)||(tt=o.from(tt));for(var nt=tt.length/4|0,it=new Array(nt),ot=0;ot<nt;ot++)it[ot]=tt.readUInt32BE(ot*4);return it}function a(tt){for(var nt=0;nt<tt.length;tt++)tt[nt]=0}function _(tt,nt,it,ot,st){for(var at=it[0],lt=it[1],ut=it[2],ft=it[3],mt=tt[0]^nt[0],ht=tt[1]^nt[1],vt=tt[2]^nt[2],Et=tt[3]^nt[3],At,Ct,Mt,Bt,Lt=4,jt=1;jt<st;jt++)At=at[mt>>>24]^lt[ht>>>16&255]^ut[vt>>>8&255]^ft[Et&255]^nt[Lt++],Ct=at[ht>>>24]^lt[vt>>>16&255]^ut[Et>>>8&255]^ft[mt&255]^nt[Lt++],Mt=at[vt>>>24]^lt[Et>>>16&255]^ut[mt>>>8&255]^ft[ht&255]^nt[Lt++],Bt=at[Et>>>24]^lt[mt>>>16&255]^ut[ht>>>8&255]^ft[vt&255]^nt[Lt++],mt=At,ht=Ct,vt=Mt,Et=Bt;return At=(ot[mt>>>24]<<24|ot[ht>>>16&255]<<16|ot[vt>>>8&255]<<8|ot[Et&255])^nt[Lt++],Ct=(ot[ht>>>24]<<24|ot[vt>>>16&255]<<16|ot[Et>>>8&255]<<8|ot[mt&255])^nt[Lt++],Mt=(ot[vt>>>24]<<24|ot[Et>>>16&255]<<16|ot[mt>>>8&255]<<8|ot[ht&255])^nt[Lt++],Bt=(ot[Et>>>24]<<24|ot[mt>>>16&255]<<16|ot[ht>>>8&255]<<8|ot[vt&255])^nt[Lt++],At=At>>>0,Ct=Ct>>>0,Mt=Mt>>>0,Bt=Bt>>>0,[At,Ct,Mt,Bt]}var b=[0,1,2,4,8,16,32,64,128,27,54],_e=function(){for(var tt=new Array(256),nt=0;nt<256;nt++)nt<128?tt[nt]=nt<<1:tt[nt]=nt<<1^283;for(var it=[],ot=[],st=[[],[],[],[]],at=[[],[],[],[]],lt=0,ut=0,ft=0;ft<256;++ft){var mt=ut^ut<<1^ut<<2^ut<<3^ut<<4;mt=mt>>>8^mt&255^99,it[lt]=mt,ot[mt]=lt;var ht=tt[lt],vt=tt[ht],Et=tt[vt],At=tt[mt]*257^mt*16843008;st[0][lt]=At<<24|At>>>8,st[1][lt]=At<<16|At>>>16,st[2][lt]=At<<8|At>>>24,st[3][lt]=At,At=Et*16843009^vt*65537^ht*257^lt*16843008,at[0][mt]=At<<24|At>>>8,at[1][mt]=At<<16|At>>>16,at[2][mt]=At<<8|At>>>24,at[3][mt]=At,lt===0?lt=ut=1:(lt=ht^tt[tt[tt[Et^ht]]],ut^=tt[tt[ut]])}return{SBOX:it,INV_SBOX:ot,SUB_MIX:st,INV_SUB_MIX:at}}();function et(tt){this._key=e(tt),this._reset()}return et.blockSize=4*4,et.keySize=256/8,et.prototype.blockSize=et.blockSize,et.prototype.keySize=et.keySize,et.prototype._reset=function(){for(var tt=this._key,nt=tt.length,it=nt+6,ot=(it+1)*4,st=[],at=0;at<nt;at++)st[at]=tt[at];for(at=nt;at<ot;at++){var lt=st[at-1];at%nt===0?(lt=lt<<8|lt>>>24,lt=_e.SBOX[lt>>>24]<<24|_e.SBOX[lt>>>16&255]<<16|_e.SBOX[lt>>>8&255]<<8|_e.SBOX[lt&255],lt^=b[at/nt|0]<<24):nt>6&&at%nt===4&&(lt=_e.SBOX[lt>>>24]<<24|_e.SBOX[lt>>>16&255]<<16|_e.SBOX[lt>>>8&255]<<8|_e.SBOX[lt&255]),st[at]=st[at-nt]^lt}for(var ut=[],ft=0;ft<ot;ft++){var mt=ot-ft,ht=st[mt-(ft%4?0:4)];ft<4||mt<=4?ut[ft]=ht:ut[ft]=_e.INV_SUB_MIX[0][_e.SBOX[ht>>>24]]^_e.INV_SUB_MIX[1][_e.SBOX[ht>>>16&255]]^_e.INV_SUB_MIX[2][_e.SBOX[ht>>>8&255]]^_e.INV_SUB_MIX[3][_e.SBOX[ht&255]]}this._nRounds=it,this._keySchedule=st,this._invKeySchedule=ut},et.prototype.encryptBlockRaw=function(tt){return tt=e(tt),_(tt,this._keySchedule,_e.SUB_MIX,_e.SBOX,this._nRounds)},et.prototype.encryptBlock=function(tt){var nt=this.encryptBlockRaw(tt),it=o.allocUnsafe(16);return it.writeUInt32BE(nt[0],0),it.writeUInt32BE(nt[1],4),it.writeUInt32BE(nt[2],8),it.writeUInt32BE(nt[3],12),it},et.prototype.decryptBlock=function(tt){tt=e(tt);var nt=tt[1];tt[1]=tt[3],tt[3]=nt;var it=_(tt,this._invKeySchedule,_e.INV_SUB_MIX,_e.INV_SBOX,this._nRounds),ot=o.allocUnsafe(16);return ot.writeUInt32BE(it[0],0),ot.writeUInt32BE(it[3],4),ot.writeUInt32BE(it[2],8),ot.writeUInt32BE(it[1],12),ot},et.prototype.scrub=function(){a(this._keySchedule),a(this._invKeySchedule),a(this._key)},aes.AES=et,aes}var ghash,hasRequiredGhash;function requireGhash(){if(hasRequiredGhash)return ghash;hasRequiredGhash=1;var o=requireSafeBuffer$2().Buffer,e=o.alloc(16,0);function a(_e){return[_e.readUInt32BE(0),_e.readUInt32BE(4),_e.readUInt32BE(8),_e.readUInt32BE(12)]}function _(_e){var et=o.allocUnsafe(16);return et.writeUInt32BE(_e[0]>>>0,0),et.writeUInt32BE(_e[1]>>>0,4),et.writeUInt32BE(_e[2]>>>0,8),et.writeUInt32BE(_e[3]>>>0,12),et}function b(_e){this.h=_e,this.state=o.alloc(16,0),this.cache=o.allocUnsafe(0)}return b.prototype.ghash=function(_e){for(var et=-1;++et<_e.length;)this.state[et]^=_e[et];this._multiply()},b.prototype._multiply=function(){for(var _e=a(this.h),et=[0,0,0,0],tt,nt,it,ot=-1;++ot<128;){for(nt=(this.state[~~(ot/8)]&1<<7-ot%8)!==0,nt&&(et[0]^=_e[0],et[1]^=_e[1],et[2]^=_e[2],et[3]^=_e[3]),it=(_e[3]&1)!==0,tt=3;tt>0;tt--)_e[tt]=_e[tt]>>>1|(_e[tt-1]&1)<<31;_e[0]=_e[0]>>>1,it&&(_e[0]=_e[0]^225<<24)}this.state=_(et)},b.prototype.update=function(_e){this.cache=o.concat([this.cache,_e]);for(var et;this.cache.length>=16;)et=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(et)},b.prototype.final=function(_e,et){return this.cache.length&&this.ghash(o.concat([this.cache,e],16)),this.ghash(_([0,_e,0,et])),this.state},ghash=b,ghash}var authCipher,hasRequiredAuthCipher;function requireAuthCipher(){if(hasRequiredAuthCipher)return authCipher;hasRequiredAuthCipher=1;var o=requireAes(),e=requireSafeBuffer$2().Buffer,a=requireCipherBase(),_=inherits_browserExports,b=requireGhash(),_e=requireBufferXor(),et=requireIncr32();function tt(ot,st){var at=0;ot.length!==st.length&&at++;for(var lt=Math.min(ot.length,st.length),ut=0;ut<lt;++ut)at+=ot[ut]^st[ut];return at}function nt(ot,st,at){if(st.length===12)return ot._finID=e.concat([st,e.from([0,0,0,1])]),e.concat([st,e.from([0,0,0,2])]);var lt=new b(at),ut=st.length,ft=ut%16;lt.update(st),ft&&(ft=16-ft,lt.update(e.alloc(ft,0))),lt.update(e.alloc(8,0));var mt=ut*8,ht=e.alloc(8);ht.writeUIntBE(mt,0,8),lt.update(ht),ot._finID=lt.state;var vt=e.from(ot._finID);return et(vt),vt}function it(ot,st,at,lt){a.call(this);var ut=e.alloc(4,0);this._cipher=new o.AES(st);var ft=this._cipher.encryptBlock(ut);this._ghash=new b(ft),at=nt(this,at,ft),this._prev=e.from(at),this._cache=e.allocUnsafe(0),this._secCache=e.allocUnsafe(0),this._decrypt=lt,this._alen=0,this._len=0,this._mode=ot,this._authTag=null,this._called=!1}return _(it,a),it.prototype._update=function(ot){if(!this._called&&this._alen){var st=16-this._alen%16;st<16&&(st=e.alloc(st,0),this._ghash.update(st))}this._called=!0;var at=this._mode.encrypt(this,ot);return this._decrypt?this._ghash.update(ot):this._ghash.update(at),this._len+=ot.length,at},it.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var ot=_e(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&tt(ot,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=ot,this._cipher.scrub()},it.prototype.getAuthTag=function(){if(this._decrypt||!e.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},it.prototype.setAuthTag=function(st){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=st},it.prototype.setAAD=function(st){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(st),this._alen+=st.length},authCipher=it,authCipher}var streamCipher,hasRequiredStreamCipher;function requireStreamCipher(){if(hasRequiredStreamCipher)return streamCipher;hasRequiredStreamCipher=1;var o=requireAes(),e=requireSafeBuffer$2().Buffer,a=requireCipherBase(),_=inherits_browserExports;function b(_e,et,tt,nt){a.call(this),this._cipher=new o.AES(et),this._prev=e.from(tt),this._cache=e.allocUnsafe(0),this._secCache=e.allocUnsafe(0),this._decrypt=nt,this._mode=_e}return _(b,a),b.prototype._update=function(_e){return this._mode.encrypt(this,_e,this._decrypt)},b.prototype._final=function(){this._cipher.scrub()},streamCipher=b,streamCipher}var evp_bytestokey,hasRequiredEvp_bytestokey;function requireEvp_bytestokey(){if(hasRequiredEvp_bytestokey)return evp_bytestokey;hasRequiredEvp_bytestokey=1;var o=requireSafeBuffer$2().Buffer,e=requireMd5_js();function a(_,b,_e,et){if(o.isBuffer(_)||(_=o.from(_,"binary")),b&&(o.isBuffer(b)||(b=o.from(b,"binary")),b.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var tt=_e/8,nt=o.alloc(tt),it=o.alloc(et||0),ot=o.alloc(0);tt>0||et>0;){var st=new e;st.update(ot),st.update(_),b&&st.update(b),ot=st.digest();var at=0;if(tt>0){var lt=nt.length-tt;at=Math.min(tt,ot.length),ot.copy(nt,lt,0,at),tt-=at}if(at<ot.length&&et>0){var ut=it.length-et,ft=Math.min(et,ot.length-at);ot.copy(it,ut,at,at+ft),et-=ft}}return ot.fill(0),{key:nt,iv:it}}return evp_bytestokey=a,evp_bytestokey}var hasRequiredEncrypter;function requireEncrypter(){if(hasRequiredEncrypter)return encrypter;hasRequiredEncrypter=1;var o=requireModes$1(),e=requireAuthCipher(),a=requireSafeBuffer$2().Buffer,_=requireStreamCipher(),b=requireCipherBase(),_e=requireAes(),et=requireEvp_bytestokey(),tt=inherits_browserExports;function nt(lt,ut,ft){b.call(this),this._cache=new ot,this._cipher=new _e.AES(ut),this._prev=a.from(ft),this._mode=lt,this._autopadding=!0}tt(nt,b),nt.prototype._update=function(lt){this._cache.add(lt);for(var ut,ft,mt=[];ut=this._cache.get();)ft=this._mode.encrypt(this,ut),mt.push(ft);return a.concat(mt)};var it=a.alloc(16,16);nt.prototype._final=function(){var lt=this._cache.flush();if(this._autopadding)return lt=this._mode.encrypt(this,lt),this._cipher.scrub(),lt;if(!lt.equals(it))throw this._cipher.scrub(),new Error("data not multiple of block length")},nt.prototype.setAutoPadding=function(lt){return this._autopadding=!!lt,this};function ot(){this.cache=a.allocUnsafe(0)}ot.prototype.add=function(lt){this.cache=a.concat([this.cache,lt])},ot.prototype.get=function(){if(this.cache.length>15){var lt=this.cache.slice(0,16);return this.cache=this.cache.slice(16),lt}return null},ot.prototype.flush=function(){for(var lt=16-this.cache.length,ut=a.allocUnsafe(lt),ft=-1;++ft<lt;)ut.writeUInt8(lt,ft);return a.concat([this.cache,ut])};function st(lt,ut,ft){var mt=o[lt.toLowerCase()];if(!mt)throw new TypeError("invalid suite type");if(typeof ut=="string"&&(ut=a.from(ut)),ut.length!==mt.key/8)throw new TypeError("invalid key length "+ut.length);if(typeof ft=="string"&&(ft=a.from(ft)),mt.mode!=="GCM"&&ft.length!==mt.iv)throw new TypeError("invalid iv length "+ft.length);return mt.type==="stream"?new _(mt.module,ut,ft):mt.type==="auth"?new e(mt.module,ut,ft):new nt(mt.module,ut,ft)}function at(lt,ut){var ft=o[lt.toLowerCase()];if(!ft)throw new TypeError("invalid suite type");var mt=et(ut,!1,ft.key,ft.iv);return st(lt,mt.key,mt.iv)}return encrypter.createCipheriv=st,encrypter.createCipher=at,encrypter}var decrypter={},hasRequiredDecrypter;function requireDecrypter(){if(hasRequiredDecrypter)return decrypter;hasRequiredDecrypter=1;var o=requireAuthCipher(),e=requireSafeBuffer$2().Buffer,a=requireModes$1(),_=requireStreamCipher(),b=requireCipherBase(),_e=requireAes(),et=requireEvp_bytestokey(),tt=inherits_browserExports;function nt(lt,ut,ft){b.call(this),this._cache=new it,this._last=void 0,this._cipher=new _e.AES(ut),this._prev=e.from(ft),this._mode=lt,this._autopadding=!0}tt(nt,b),nt.prototype._update=function(lt){this._cache.add(lt);for(var ut,ft,mt=[];ut=this._cache.get(this._autopadding);)ft=this._mode.decrypt(this,ut),mt.push(ft);return e.concat(mt)},nt.prototype._final=function(){var lt=this._cache.flush();if(this._autopadding)return ot(this._mode.decrypt(this,lt));if(lt)throw new Error("data not multiple of block length")},nt.prototype.setAutoPadding=function(lt){return this._autopadding=!!lt,this};function it(){this.cache=e.allocUnsafe(0)}it.prototype.add=function(lt){this.cache=e.concat([this.cache,lt])},it.prototype.get=function(lt){var ut;if(lt){if(this.cache.length>16)return ut=this.cache.slice(0,16),this.cache=this.cache.slice(16),ut}else if(this.cache.length>=16)return ut=this.cache.slice(0,16),this.cache=this.cache.slice(16),ut;return null},it.prototype.flush=function(){if(this.cache.length)return this.cache};function ot(lt){var ut=lt[15];if(ut<1||ut>16)throw new Error("unable to decrypt data");for(var ft=-1;++ft<ut;)if(lt[ft+(16-ut)]!==ut)throw new Error("unable to decrypt data");if(ut!==16)return lt.slice(0,16-ut)}function st(lt,ut,ft){var mt=a[lt.toLowerCase()];if(!mt)throw new TypeError("invalid suite type");if(typeof ft=="string"&&(ft=e.from(ft)),mt.mode!=="GCM"&&ft.length!==mt.iv)throw new TypeError("invalid iv length "+ft.length);if(typeof ut=="string"&&(ut=e.from(ut)),ut.length!==mt.key/8)throw new TypeError("invalid key length "+ut.length);return mt.type==="stream"?new _(mt.module,ut,ft,!0):mt.type==="auth"?new o(mt.module,ut,ft,!0):new nt(mt.module,ut,ft)}function at(lt,ut){var ft=a[lt.toLowerCase()];if(!ft)throw new TypeError("invalid suite type");var mt=et(ut,!1,ft.key,ft.iv);return st(lt,mt.key,mt.iv)}return decrypter.createDecipher=at,decrypter.createDecipheriv=st,decrypter}var hasRequiredBrowser$6;function requireBrowser$6(){if(hasRequiredBrowser$6)return browser$5;hasRequiredBrowser$6=1;var o=requireEncrypter(),e=requireDecrypter(),a=require$$2;function _(){return Object.keys(a)}return browser$5.createCipher=browser$5.Cipher=o.createCipher,browser$5.createCipheriv=browser$5.Cipheriv=o.createCipheriv,browser$5.createDecipher=browser$5.Decipher=e.createDecipher,browser$5.createDecipheriv=browser$5.Decipheriv=e.createDecipheriv,browser$5.listCiphers=browser$5.getCiphers=_,browser$5}var modes={},hasRequiredModes;function requireModes(){return hasRequiredModes||(hasRequiredModes=1,function(o){o["des-ecb"]={key:8,iv:0},o["des-cbc"]=o.des={key:8,iv:8},o["des-ede3-cbc"]=o.des3={key:24,iv:8},o["des-ede3"]={key:24,iv:0},o["des-ede-cbc"]={key:16,iv:8},o["des-ede"]={key:16,iv:0}}(modes)),modes}var hasRequiredBrowser$5;function requireBrowser$5(){if(hasRequiredBrowser$5)return browser$6;hasRequiredBrowser$5=1;var o=requireBrowserifyDes(),e=requireBrowser$6(),a=requireModes$1(),_=requireModes(),b=requireEvp_bytestokey();function _e(ot,st){ot=ot.toLowerCase();var at,lt;if(a[ot])at=a[ot].key,lt=a[ot].iv;else if(_[ot])at=_[ot].key*8,lt=_[ot].iv;else throw new TypeError("invalid suite type");var ut=b(st,!1,at,lt);return tt(ot,ut.key,ut.iv)}function et(ot,st){ot=ot.toLowerCase();var at,lt;if(a[ot])at=a[ot].key,lt=a[ot].iv;else if(_[ot])at=_[ot].key*8,lt=_[ot].iv;else throw new TypeError("invalid suite type");var ut=b(st,!1,at,lt);return nt(ot,ut.key,ut.iv)}function tt(ot,st,at){if(ot=ot.toLowerCase(),a[ot])return e.createCipheriv(ot,st,at);if(_[ot])return new o({key:st,iv:at,mode:ot});throw new TypeError("invalid suite type")}function nt(ot,st,at){if(ot=ot.toLowerCase(),a[ot])return e.createDecipheriv(ot,st,at);if(_[ot])return new o({key:st,iv:at,mode:ot,decrypt:!0});throw new TypeError("invalid suite type")}function it(){return Object.keys(_).concat(e.getCiphers())}return browser$6.createCipher=browser$6.Cipher=_e,browser$6.createCipheriv=browser$6.Cipheriv=tt,browser$6.createDecipher=browser$6.Decipher=et,browser$6.createDecipheriv=browser$6.Decipheriv=nt,browser$6.listCiphers=browser$6.getCiphers=it,browser$6}var browser$4={},bn$2={exports:{}};bn$2.exports;(function(o){(function(e,a){function _(Nt,kt){if(!Nt)throw new Error(kt||"Assertion failed")}function b(Nt,kt){Nt.super_=kt;var _t=function(){};_t.prototype=kt.prototype,Nt.prototype=new _t,Nt.prototype.constructor=Nt}function _e(Nt,kt,_t){if(_e.isBN(Nt))return Nt;this.negative=0,this.words=null,this.length=0,this.red=null,Nt!==null&&((kt==="le"||kt==="be")&&(_t=kt,kt=10),this._init(Nt||0,kt||10,_t||"be"))}typeof e=="object"?e.exports=_e:a.BN=_e,_e.BN=_e,_e.wordSize=26;var et;try{typeof window<"u"&&typeof window.Buffer<"u"?et=window.Buffer:et=require$$1$2.Buffer}catch{}_e.isBN=function(kt){return kt instanceof _e?!0:kt!==null&&typeof kt=="object"&&kt.constructor.wordSize===_e.wordSize&&Array.isArray(kt.words)},_e.max=function(kt,_t){return kt.cmp(_t)>0?kt:_t},_e.min=function(kt,_t){return kt.cmp(_t)<0?kt:_t},_e.prototype._init=function(kt,_t,ct){if(typeof kt=="number")return this._initNumber(kt,_t,ct);if(typeof kt=="object")return this._initArray(kt,_t,ct);_t==="hex"&&(_t=16),_(_t===(_t|0)&&_t>=2&&_t<=36),kt=kt.toString().replace(/\s+/g,"");var dt=0;kt[0]==="-"&&(dt++,this.negative=1),dt<kt.length&&(_t===16?this._parseHex(kt,dt,ct):(this._parseBase(kt,_t,dt),ct==="le"&&this._initArray(this.toArray(),_t,ct)))},_e.prototype._initNumber=function(kt,_t,ct){kt<0&&(this.negative=1,kt=-kt),kt<67108864?(this.words=[kt&67108863],this.length=1):kt<4503599627370496?(this.words=[kt&67108863,kt/67108864&67108863],this.length=2):(_(kt<9007199254740992),this.words=[kt&67108863,kt/67108864&67108863,1],this.length=3),ct==="le"&&this._initArray(this.toArray(),_t,ct)},_e.prototype._initArray=function(kt,_t,ct){if(_(typeof kt.length=="number"),kt.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(kt.length/3),this.words=new Array(this.length);for(var dt=0;dt<this.length;dt++)this.words[dt]=0;var wt,gt,bt=0;if(ct==="be")for(dt=kt.length-1,wt=0;dt>=0;dt-=3)gt=kt[dt]|kt[dt-1]<<8|kt[dt-2]<<16,this.words[wt]|=gt<<bt&67108863,this.words[wt+1]=gt>>>26-bt&67108863,bt+=24,bt>=26&&(bt-=26,wt++);else if(ct==="le")for(dt=0,wt=0;dt<kt.length;dt+=3)gt=kt[dt]|kt[dt+1]<<8|kt[dt+2]<<16,this.words[wt]|=gt<<bt&67108863,this.words[wt+1]=gt>>>26-bt&67108863,bt+=24,bt>=26&&(bt-=26,wt++);return this.strip()};function tt(Nt,kt){var _t=Nt.charCodeAt(kt);return _t>=65&&_t<=70?_t-55:_t>=97&&_t<=102?_t-87:_t-48&15}function nt(Nt,kt,_t){var ct=tt(Nt,_t);return _t-1>=kt&&(ct|=tt(Nt,_t-1)<<4),ct}_e.prototype._parseHex=function(kt,_t,ct){this.length=Math.ceil((kt.length-_t)/6),this.words=new Array(this.length);for(var dt=0;dt<this.length;dt++)this.words[dt]=0;var wt=0,gt=0,bt;if(ct==="be")for(dt=kt.length-1;dt>=_t;dt-=2)bt=nt(kt,_t,dt)<<wt,this.words[gt]|=bt&67108863,wt>=18?(wt-=18,gt+=1,this.words[gt]|=bt>>>26):wt+=8;else{var xt=kt.length-_t;for(dt=xt%2===0?_t+1:_t;dt<kt.length;dt+=2)bt=nt(kt,_t,dt)<<wt,this.words[gt]|=bt&67108863,wt>=18?(wt-=18,gt+=1,this.words[gt]|=bt>>>26):wt+=8}this.strip()};function it(Nt,kt,_t,ct){for(var dt=0,wt=Math.min(Nt.length,_t),gt=kt;gt<wt;gt++){var bt=Nt.charCodeAt(gt)-48;dt*=ct,bt>=49?dt+=bt-49+10:bt>=17?dt+=bt-17+10:dt+=bt}return dt}_e.prototype._parseBase=function(kt,_t,ct){this.words=[0],this.length=1;for(var dt=0,wt=1;wt<=67108863;wt*=_t)dt++;dt--,wt=wt/_t|0;for(var gt=kt.length-ct,bt=gt%dt,xt=Math.min(gt,gt-bt)+ct,yt=0,St=ct;St<xt;St+=dt)yt=it(kt,St,St+dt,_t),this.imuln(wt),this.words[0]+yt<67108864?this.words[0]+=yt:this._iaddn(yt);if(bt!==0){var pt=1;for(yt=it(kt,St,kt.length,_t),St=0;St<bt;St++)pt*=_t;this.imuln(pt),this.words[0]+yt<67108864?this.words[0]+=yt:this._iaddn(yt)}this.strip()},_e.prototype.copy=function(kt){kt.words=new Array(this.length);for(var _t=0;_t<this.length;_t++)kt.words[_t]=this.words[_t];kt.length=this.length,kt.negative=this.negative,kt.red=this.red},_e.prototype.clone=function(){var kt=new _e(null);return this.copy(kt),kt},_e.prototype._expand=function(kt){for(;this.length<kt;)this.words[this.length++]=0;return this},_e.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},_e.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},_e.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var ot=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],st=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],at=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];_e.prototype.toString=function(kt,_t){kt=kt||10,_t=_t|0||1;var ct;if(kt===16||kt==="hex"){ct="";for(var dt=0,wt=0,gt=0;gt<this.length;gt++){var bt=this.words[gt],xt=((bt<<dt|wt)&16777215).toString(16);wt=bt>>>24-dt&16777215,dt+=2,dt>=26&&(dt-=26,gt--),wt!==0||gt!==this.length-1?ct=ot[6-xt.length]+xt+ct:ct=xt+ct}for(wt!==0&&(ct=wt.toString(16)+ct);ct.length%_t!==0;)ct="0"+ct;return this.negative!==0&&(ct="-"+ct),ct}if(kt===(kt|0)&&kt>=2&&kt<=36){var yt=st[kt],St=at[kt];ct="";var pt=this.clone();for(pt.negative=0;!pt.isZero();){var Tt=pt.modn(St).toString(kt);pt=pt.idivn(St),pt.isZero()?ct=Tt+ct:ct=ot[yt-Tt.length]+Tt+ct}for(this.isZero()&&(ct="0"+ct);ct.length%_t!==0;)ct="0"+ct;return this.negative!==0&&(ct="-"+ct),ct}_(!1,"Base should be between 2 and 36")},_e.prototype.toNumber=function(){var kt=this.words[0];return this.length===2?kt+=this.words[1]*67108864:this.length===3&&this.words[2]===1?kt+=4503599627370496+this.words[1]*67108864:this.length>2&&_(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-kt:kt},_e.prototype.toJSON=function(){return this.toString(16)},_e.prototype.toBuffer=function(kt,_t){return _(typeof et<"u"),this.toArrayLike(et,kt,_t)},_e.prototype.toArray=function(kt,_t){return this.toArrayLike(Array,kt,_t)},_e.prototype.toArrayLike=function(kt,_t,ct){var dt=this.byteLength(),wt=ct||Math.max(1,dt);_(dt<=wt,"byte array longer than desired length"),_(wt>0,"Requested array length <= 0"),this.strip();var gt=_t==="le",bt=new kt(wt),xt,yt,St=this.clone();if(gt){for(yt=0;!St.isZero();yt++)xt=St.andln(255),St.iushrn(8),bt[yt]=xt;for(;yt<wt;yt++)bt[yt]=0}else{for(yt=0;yt<wt-dt;yt++)bt[yt]=0;for(yt=0;!St.isZero();yt++)xt=St.andln(255),St.iushrn(8),bt[wt-yt-1]=xt}return bt},Math.clz32?_e.prototype._countBits=function(kt){return 32-Math.clz32(kt)}:_e.prototype._countBits=function(kt){var _t=kt,ct=0;return _t>=4096&&(ct+=13,_t>>>=13),_t>=64&&(ct+=7,_t>>>=7),_t>=8&&(ct+=4,_t>>>=4),_t>=2&&(ct+=2,_t>>>=2),ct+_t},_e.prototype._zeroBits=function(kt){if(kt===0)return 26;var _t=kt,ct=0;return _t&8191||(ct+=13,_t>>>=13),_t&127||(ct+=7,_t>>>=7),_t&15||(ct+=4,_t>>>=4),_t&3||(ct+=2,_t>>>=2),_t&1||ct++,ct},_e.prototype.bitLength=function(){var kt=this.words[this.length-1],_t=this._countBits(kt);return(this.length-1)*26+_t};function lt(Nt){for(var kt=new Array(Nt.bitLength()),_t=0;_t<kt.length;_t++){var ct=_t/26|0,dt=_t%26;kt[_t]=(Nt.words[ct]&1<<dt)>>>dt}return kt}_e.prototype.zeroBits=function(){if(this.isZero())return 0;for(var kt=0,_t=0;_t<this.length;_t++){var ct=this._zeroBits(this.words[_t]);if(kt+=ct,ct!==26)break}return kt},_e.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},_e.prototype.toTwos=function(kt){return this.negative!==0?this.abs().inotn(kt).iaddn(1):this.clone()},_e.prototype.fromTwos=function(kt){return this.testn(kt-1)?this.notn(kt).iaddn(1).ineg():this.clone()},_e.prototype.isNeg=function(){return this.negative!==0},_e.prototype.neg=function(){return this.clone().ineg()},_e.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},_e.prototype.iuor=function(kt){for(;this.length<kt.length;)this.words[this.length++]=0;for(var _t=0;_t<kt.length;_t++)this.words[_t]=this.words[_t]|kt.words[_t];return this.strip()},_e.prototype.ior=function(kt){return _((this.negative|kt.negative)===0),this.iuor(kt)},_e.prototype.or=function(kt){return this.length>kt.length?this.clone().ior(kt):kt.clone().ior(this)},_e.prototype.uor=function(kt){return this.length>kt.length?this.clone().iuor(kt):kt.clone().iuor(this)},_e.prototype.iuand=function(kt){var _t;this.length>kt.length?_t=kt:_t=this;for(var ct=0;ct<_t.length;ct++)this.words[ct]=this.words[ct]&kt.words[ct];return this.length=_t.length,this.strip()},_e.prototype.iand=function(kt){return _((this.negative|kt.negative)===0),this.iuand(kt)},_e.prototype.and=function(kt){return this.length>kt.length?this.clone().iand(kt):kt.clone().iand(this)},_e.prototype.uand=function(kt){return this.length>kt.length?this.clone().iuand(kt):kt.clone().iuand(this)},_e.prototype.iuxor=function(kt){var _t,ct;this.length>kt.length?(_t=this,ct=kt):(_t=kt,ct=this);for(var dt=0;dt<ct.length;dt++)this.words[dt]=_t.words[dt]^ct.words[dt];if(this!==_t)for(;dt<_t.length;dt++)this.words[dt]=_t.words[dt];return this.length=_t.length,this.strip()},_e.prototype.ixor=function(kt){return _((this.negative|kt.negative)===0),this.iuxor(kt)},_e.prototype.xor=function(kt){return this.length>kt.length?this.clone().ixor(kt):kt.clone().ixor(this)},_e.prototype.uxor=function(kt){return this.length>kt.length?this.clone().iuxor(kt):kt.clone().iuxor(this)},_e.prototype.inotn=function(kt){_(typeof kt=="number"&&kt>=0);var _t=Math.ceil(kt/26)|0,ct=kt%26;this._expand(_t),ct>0&&_t--;for(var dt=0;dt<_t;dt++)this.words[dt]=~this.words[dt]&67108863;return ct>0&&(this.words[dt]=~this.words[dt]&67108863>>26-ct),this.strip()},_e.prototype.notn=function(kt){return this.clone().inotn(kt)},_e.prototype.setn=function(kt,_t){_(typeof kt=="number"&&kt>=0);var ct=kt/26|0,dt=kt%26;return this._expand(ct+1),_t?this.words[ct]=this.words[ct]|1<<dt:this.words[ct]=this.words[ct]&~(1<<dt),this.strip()},_e.prototype.iadd=function(kt){var _t;if(this.negative!==0&&kt.negative===0)return this.negative=0,_t=this.isub(kt),this.negative^=1,this._normSign();if(this.negative===0&&kt.negative!==0)return kt.negative=0,_t=this.isub(kt),kt.negative=1,_t._normSign();var ct,dt;this.length>kt.length?(ct=this,dt=kt):(ct=kt,dt=this);for(var wt=0,gt=0;gt<dt.length;gt++)_t=(ct.words[gt]|0)+(dt.words[gt]|0)+wt,this.words[gt]=_t&67108863,wt=_t>>>26;for(;wt!==0&&gt<ct.length;gt++)_t=(ct.words[gt]|0)+wt,this.words[gt]=_t&67108863,wt=_t>>>26;if(this.length=ct.length,wt!==0)this.words[this.length]=wt,this.length++;else if(ct!==this)for(;gt<ct.length;gt++)this.words[gt]=ct.words[gt];return this},_e.prototype.add=function(kt){var _t;return kt.negative!==0&&this.negative===0?(kt.negative=0,_t=this.sub(kt),kt.negative^=1,_t):kt.negative===0&&this.negative!==0?(this.negative=0,_t=kt.sub(this),this.negative=1,_t):this.length>kt.length?this.clone().iadd(kt):kt.clone().iadd(this)},_e.prototype.isub=function(kt){if(kt.negative!==0){kt.negative=0;var _t=this.iadd(kt);return kt.negative=1,_t._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(kt),this.negative=1,this._normSign();var ct=this.cmp(kt);if(ct===0)return this.negative=0,this.length=1,this.words[0]=0,this;var dt,wt;ct>0?(dt=this,wt=kt):(dt=kt,wt=this);for(var gt=0,bt=0;bt<wt.length;bt++)_t=(dt.words[bt]|0)-(wt.words[bt]|0)+gt,gt=_t>>26,this.words[bt]=_t&67108863;for(;gt!==0&&bt<dt.length;bt++)_t=(dt.words[bt]|0)+gt,gt=_t>>26,this.words[bt]=_t&67108863;if(gt===0&&bt<dt.length&&dt!==this)for(;bt<dt.length;bt++)this.words[bt]=dt.words[bt];return this.length=Math.max(this.length,bt),dt!==this&&(this.negative=1),this.strip()},_e.prototype.sub=function(kt){return this.clone().isub(kt)};function ut(Nt,kt,_t){_t.negative=kt.negative^Nt.negative;var ct=Nt.length+kt.length|0;_t.length=ct,ct=ct-1|0;var dt=Nt.words[0]|0,wt=kt.words[0]|0,gt=dt*wt,bt=gt&67108863,xt=gt/67108864|0;_t.words[0]=bt;for(var yt=1;yt<ct;yt++){for(var St=xt>>>26,pt=xt&67108863,Tt=Math.min(yt,kt.length-1),Ht=Math.max(0,yt-Nt.length+1);Ht<=Tt;Ht++){var Wt=yt-Ht|0;dt=Nt.words[Wt]|0,wt=kt.words[Ht]|0,gt=dt*wt+pt,St+=gt/67108864|0,pt=gt&67108863}_t.words[yt]=pt|0,xt=St|0}return xt!==0?_t.words[yt]=xt|0:_t.length--,_t.strip()}var ft=function(kt,_t,ct){var dt=kt.words,wt=_t.words,gt=ct.words,bt=0,xt,yt,St,pt=dt[0]|0,Tt=pt&8191,Ht=pt>>>13,Wt=dt[1]|0,Ut=Wt&8191,Rt=Wt>>>13,$t=dt[2]|0,Ft=$t&8191,Kt=$t>>>13,Dt=dt[3]|0,Ot=Dt&8191,Gt=Dt>>>13,Jt=dt[4]|0,er=Jt&8191,nr=Jt>>>13,or=dt[5]|0,sr=or&8191,Qt=or>>>13,fr=dt[6]|0,rr=fr&8191,Sr=fr>>>13,cr=dt[7]|0,ir=cr&8191,Er=cr>>>13,xr=dt[8]|0,ur=xr&8191,Or=xr>>>13,kr=dt[9]|0,qt=kr&8191,It=kr>>>13,Pt=wt[0]|0,zt=Pt&8191,Zt=Pt>>>13,Yt=wt[1]|0,Xt=Yt&8191,hr=Yt>>>13,dr=wt[2]|0,ar=dr&8191,Ar=dr>>>13,lr=wt[3]|0,pr=lr&8191,Dr=lr>>>13,$r=wt[4]|0,gr=$r&8191,Lr=$r>>>13,Cr=wt[5]|0,_r=Cr&8191,jr=Cr>>>13,Ir=wt[6]|0,yr=Ir&8191,qr=Ir>>>13,Mr=wt[7]|0,vr=Mr&8191,Fr=Mr>>>13,Pr=wt[8]|0,br=Pr&8191,Ur=Pr>>>13,Nr=wt[9]|0,wr=Nr&8191,zr=Nr>>>13;ct.negative=kt.negative^_t.negative,ct.length=19,xt=Math.imul(Tt,zt),yt=Math.imul(Tt,Zt),yt=yt+Math.imul(Ht,zt)|0,St=Math.imul(Ht,Zt);var Rr=(bt+xt|0)+((yt&8191)<<13)|0;bt=(St+(yt>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,xt=Math.imul(Ut,zt),yt=Math.imul(Ut,Zt),yt=yt+Math.imul(Rt,zt)|0,St=Math.imul(Rt,Zt),xt=xt+Math.imul(Tt,Xt)|0,yt=yt+Math.imul(Tt,hr)|0,yt=yt+Math.imul(Ht,Xt)|0,St=St+Math.imul(Ht,hr)|0;var Tr=(bt+xt|0)+((yt&8191)<<13)|0;bt=(St+(yt>>>13)|0)+(Tr>>>26)|0,Tr&=67108863,xt=Math.imul(Ft,zt),yt=Math.imul(Ft,Zt),yt=yt+Math.imul(Kt,zt)|0,St=Math.imul(Kt,Zt),xt=xt+Math.imul(Ut,Xt)|0,yt=yt+Math.imul(Ut,hr)|0,yt=yt+Math.imul(Rt,Xt)|0,St=St+Math.imul(Rt,hr)|0,xt=xt+Math.imul(Tt,ar)|0,yt=yt+Math.imul(Tt,Ar)|0,yt=yt+Math.imul(Ht,ar)|0,St=St+Math.imul(Ht,Ar)|0;var Vr=(bt+xt|0)+((yt&8191)<<13)|0;bt=(St+(yt>>>13)|0)+(Vr>>>26)|0,Vr&=67108863,xt=Math.imul(Ot,zt),yt=Math.imul(Ot,Zt),yt=yt+Math.imul(Gt,zt)|0,St=Math.imul(Gt,Zt),xt=xt+Math.imul(Ft,Xt)|0,yt=yt+Math.imul(Ft,hr)|0,yt=yt+Math.imul(Kt,Xt)|0,St=St+Math.imul(Kt,hr)|0,xt=xt+Math.imul(Ut,ar)|0,yt=yt+Math.imul(Ut,Ar)|0,yt=yt+Math.imul(Rt,ar)|0,St=St+Math.imul(Rt,Ar)|0,xt=xt+Math.imul(Tt,pr)|0,yt=yt+Math.imul(Tt,Dr)|0,yt=yt+Math.imul(Ht,pr)|0,St=St+Math.imul(Ht,Dr)|0;var Kr=(bt+xt|0)+((yt&8191)<<13)|0;bt=(St+(yt>>>13)|0)+(Kr>>>26)|0,Kr&=67108863,xt=Math.imul(er,zt),yt=Math.imul(er,Zt),yt=yt+Math.imul(nr,zt)|0,St=Math.imul(nr,Zt),xt=xt+Math.imul(Ot,Xt)|0,yt=yt+Math.imul(Ot,hr)|0,yt=yt+Math.imul(Gt,Xt)|0,St=St+Math.imul(Gt,hr)|0,xt=xt+Math.imul(Ft,ar)|0,yt=yt+Math.imul(Ft,Ar)|0,yt=yt+Math.imul(Kt,ar)|0,St=St+Math.imul(Kt,Ar)|0,xt=xt+Math.imul(Ut,pr)|0,yt=yt+Math.imul(Ut,Dr)|0,yt=yt+Math.imul(Rt,pr)|0,St=St+Math.imul(Rt,Dr)|0,xt=xt+Math.imul(Tt,gr)|0,yt=yt+Math.imul(Tt,Lr)|0,yt=yt+Math.imul(Ht,gr)|0,St=St+Math.imul(Ht,Lr)|0;var Wr=(bt+xt|0)+((yt&8191)<<13)|0;bt=(St+(yt>>>13)|0)+(Wr>>>26)|0,Wr&=67108863,xt=Math.imul(sr,zt),yt=Math.imul(sr,Zt),yt=yt+Math.imul(Qt,zt)|0,St=Math.imul(Qt,Zt),xt=xt+Math.imul(er,Xt)|0,yt=yt+Math.imul(er,hr)|0,yt=yt+Math.imul(nr,Xt)|0,St=St+Math.imul(nr,hr)|0,xt=xt+Math.imul(Ot,ar)|0,yt=yt+Math.imul(Ot,Ar)|0,yt=yt+Math.imul(Gt,ar)|0,St=St+Math.imul(Gt,Ar)|0,xt=xt+Math.imul(Ft,pr)|0,yt=yt+Math.imul(Ft,Dr)|0,yt=yt+Math.imul(Kt,pr)|0,St=St+Math.imul(Kt,Dr)|0,xt=xt+Math.imul(Ut,gr)|0,yt=yt+Math.imul(Ut,Lr)|0,yt=yt+Math.imul(Rt,gr)|0,St=St+Math.imul(Rt,Lr)|0,xt=xt+Math.imul(Tt,_r)|0,yt=yt+Math.imul(Tt,jr)|0,yt=yt+Math.imul(Ht,_r)|0,St=St+Math.imul(Ht,jr)|0;var Gr=(bt+xt|0)+((yt&8191)<<13)|0;bt=(St+(yt>>>13)|0)+(Gr>>>26)|0,Gr&=67108863,xt=Math.imul(rr,zt),yt=Math.imul(rr,Zt),yt=yt+Math.imul(Sr,zt)|0,St=Math.imul(Sr,Zt),xt=xt+Math.imul(sr,Xt)|0,yt=yt+Math.imul(sr,hr)|0,yt=yt+Math.imul(Qt,Xt)|0,St=St+Math.imul(Qt,hr)|0,xt=xt+Math.imul(er,ar)|0,yt=yt+Math.imul(er,Ar)|0,yt=yt+Math.imul(nr,ar)|0,St=St+Math.imul(nr,Ar)|0,xt=xt+Math.imul(Ot,pr)|0,yt=yt+Math.imul(Ot,Dr)|0,yt=yt+Math.imul(Gt,pr)|0,St=St+Math.imul(Gt,Dr)|0,xt=xt+Math.imul(Ft,gr)|0,yt=yt+Math.imul(Ft,Lr)|0,yt=yt+Math.imul(Kt,gr)|0,St=St+Math.imul(Kt,Lr)|0,xt=xt+Math.imul(Ut,_r)|0,yt=yt+Math.imul(Ut,jr)|0,yt=yt+Math.imul(Rt,_r)|0,St=St+Math.imul(Rt,jr)|0,xt=xt+Math.imul(Tt,yr)|0,yt=yt+Math.imul(Tt,qr)|0,yt=yt+Math.imul(Ht,yr)|0,St=St+Math.imul(Ht,qr)|0;var Zr=(bt+xt|0)+((yt&8191)<<13)|0;bt=(St+(yt>>>13)|0)+(Zr>>>26)|0,Zr&=67108863,xt=Math.imul(ir,zt),yt=Math.imul(ir,Zt),yt=yt+Math.imul(Er,zt)|0,St=Math.imul(Er,Zt),xt=xt+Math.imul(rr,Xt)|0,yt=yt+Math.imul(rr,hr)|0,yt=yt+Math.imul(Sr,Xt)|0,St=St+Math.imul(Sr,hr)|0,xt=xt+Math.imul(sr,ar)|0,yt=yt+Math.imul(sr,Ar)|0,yt=yt+Math.imul(Qt,ar)|0,St=St+Math.imul(Qt,Ar)|0,xt=xt+Math.imul(er,pr)|0,yt=yt+Math.imul(er,Dr)|0,yt=yt+Math.imul(nr,pr)|0,St=St+Math.imul(nr,Dr)|0,xt=xt+Math.imul(Ot,gr)|0,yt=yt+Math.imul(Ot,Lr)|0,yt=yt+Math.imul(Gt,gr)|0,St=St+Math.imul(Gt,Lr)|0,xt=xt+Math.imul(Ft,_r)|0,yt=yt+Math.imul(Ft,jr)|0,yt=yt+Math.imul(Kt,_r)|0,St=St+Math.imul(Kt,jr)|0,xt=xt+Math.imul(Ut,yr)|0,yt=yt+Math.imul(Ut,qr)|0,yt=yt+Math.imul(Rt,yr)|0,St=St+Math.imul(Rt,qr)|0,xt=xt+Math.imul(Tt,vr)|0,yt=yt+Math.imul(Tt,Fr)|0,yt=yt+Math.imul(Ht,vr)|0,St=St+Math.imul(Ht,Fr)|0;var Yr=(bt+xt|0)+((yt&8191)<<13)|0;bt=(St+(yt>>>13)|0)+(Yr>>>26)|0,Yr&=67108863,xt=Math.imul(ur,zt),yt=Math.imul(ur,Zt),yt=yt+Math.imul(Or,zt)|0,St=Math.imul(Or,Zt),xt=xt+Math.imul(ir,Xt)|0,yt=yt+Math.imul(ir,hr)|0,yt=yt+Math.imul(Er,Xt)|0,St=St+Math.imul(Er,hr)|0,xt=xt+Math.imul(rr,ar)|0,yt=yt+Math.imul(rr,Ar)|0,yt=yt+Math.imul(Sr,ar)|0,St=St+Math.imul(Sr,Ar)|0,xt=xt+Math.imul(sr,pr)|0,yt=yt+Math.imul(sr,Dr)|0,yt=yt+Math.imul(Qt,pr)|0,St=St+Math.imul(Qt,Dr)|0,xt=xt+Math.imul(er,gr)|0,yt=yt+Math.imul(er,Lr)|0,yt=yt+Math.imul(nr,gr)|0,St=St+Math.imul(nr,Lr)|0,xt=xt+Math.imul(Ot,_r)|0,yt=yt+Math.imul(Ot,jr)|0,yt=yt+Math.imul(Gt,_r)|0,St=St+Math.imul(Gt,jr)|0,xt=xt+Math.imul(Ft,yr)|0,yt=yt+Math.imul(Ft,qr)|0,yt=yt+Math.imul(Kt,yr)|0,St=St+Math.imul(Kt,qr)|0,xt=xt+Math.imul(Ut,vr)|0,yt=yt+Math.imul(Ut,Fr)|0,yt=yt+Math.imul(Rt,vr)|0,St=St+Math.imul(Rt,Fr)|0,xt=xt+Math.imul(Tt,br)|0,yt=yt+Math.imul(Tt,Ur)|0,yt=yt+Math.imul(Ht,br)|0,St=St+Math.imul(Ht,Ur)|0;var Xr=(bt+xt|0)+((yt&8191)<<13)|0;bt=(St+(yt>>>13)|0)+(Xr>>>26)|0,Xr&=67108863,xt=Math.imul(qt,zt),yt=Math.imul(qt,Zt),yt=yt+Math.imul(It,zt)|0,St=Math.imul(It,Zt),xt=xt+Math.imul(ur,Xt)|0,yt=yt+Math.imul(ur,hr)|0,yt=yt+Math.imul(Or,Xt)|0,St=St+Math.imul(Or,hr)|0,xt=xt+Math.imul(ir,ar)|0,yt=yt+Math.imul(ir,Ar)|0,yt=yt+Math.imul(Er,ar)|0,St=St+Math.imul(Er,Ar)|0,xt=xt+Math.imul(rr,pr)|0,yt=yt+Math.imul(rr,Dr)|0,yt=yt+Math.imul(Sr,pr)|0,St=St+Math.imul(Sr,Dr)|0,xt=xt+Math.imul(sr,gr)|0,yt=yt+Math.imul(sr,Lr)|0,yt=yt+Math.imul(Qt,gr)|0,St=St+Math.imul(Qt,Lr)|0,xt=xt+Math.imul(er,_r)|0,yt=yt+Math.imul(er,jr)|0,yt=yt+Math.imul(nr,_r)|0,St=St+Math.imul(nr,jr)|0,xt=xt+Math.imul(Ot,yr)|0,yt=yt+Math.imul(Ot,qr)|0,yt=yt+Math.imul(Gt,yr)|0,St=St+Math.imul(Gt,qr)|0,xt=xt+Math.imul(Ft,vr)|0,yt=yt+Math.imul(Ft,Fr)|0,yt=yt+Math.imul(Kt,vr)|0,St=St+Math.imul(Kt,Fr)|0,xt=xt+Math.imul(Ut,br)|0,yt=yt+Math.imul(Ut,Ur)|0,yt=yt+Math.imul(Rt,br)|0,St=St+Math.imul(Rt,Ur)|0,xt=xt+Math.imul(Tt,wr)|0,yt=yt+Math.imul(Tt,zr)|0,yt=yt+Math.imul(Ht,wr)|0,St=St+Math.imul(Ht,zr)|0;var Jr=(bt+xt|0)+((yt&8191)<<13)|0;bt=(St+(yt>>>13)|0)+(Jr>>>26)|0,Jr&=67108863,xt=Math.imul(qt,Xt),yt=Math.imul(qt,hr),yt=yt+Math.imul(It,Xt)|0,St=Math.imul(It,hr),xt=xt+Math.imul(ur,ar)|0,yt=yt+Math.imul(ur,Ar)|0,yt=yt+Math.imul(Or,ar)|0,St=St+Math.imul(Or,Ar)|0,xt=xt+Math.imul(ir,pr)|0,yt=yt+Math.imul(ir,Dr)|0,yt=yt+Math.imul(Er,pr)|0,St=St+Math.imul(Er,Dr)|0,xt=xt+Math.imul(rr,gr)|0,yt=yt+Math.imul(rr,Lr)|0,yt=yt+Math.imul(Sr,gr)|0,St=St+Math.imul(Sr,Lr)|0,xt=xt+Math.imul(sr,_r)|0,yt=yt+Math.imul(sr,jr)|0,yt=yt+Math.imul(Qt,_r)|0,St=St+Math.imul(Qt,jr)|0,xt=xt+Math.imul(er,yr)|0,yt=yt+Math.imul(er,qr)|0,yt=yt+Math.imul(nr,yr)|0,St=St+Math.imul(nr,qr)|0,xt=xt+Math.imul(Ot,vr)|0,yt=yt+Math.imul(Ot,Fr)|0,yt=yt+Math.imul(Gt,vr)|0,St=St+Math.imul(Gt,Fr)|0,xt=xt+Math.imul(Ft,br)|0,yt=yt+Math.imul(Ft,Ur)|0,yt=yt+Math.imul(Kt,br)|0,St=St+Math.imul(Kt,Ur)|0,xt=xt+Math.imul(Ut,wr)|0,yt=yt+Math.imul(Ut,zr)|0,yt=yt+Math.imul(Rt,wr)|0,St=St+Math.imul(Rt,zr)|0;var tn=(bt+xt|0)+((yt&8191)<<13)|0;bt=(St+(yt>>>13)|0)+(tn>>>26)|0,tn&=67108863,xt=Math.imul(qt,ar),yt=Math.imul(qt,Ar),yt=yt+Math.imul(It,ar)|0,St=Math.imul(It,Ar),xt=xt+Math.imul(ur,pr)|0,yt=yt+Math.imul(ur,Dr)|0,yt=yt+Math.imul(Or,pr)|0,St=St+Math.imul(Or,Dr)|0,xt=xt+Math.imul(ir,gr)|0,yt=yt+Math.imul(ir,Lr)|0,yt=yt+Math.imul(Er,gr)|0,St=St+Math.imul(Er,Lr)|0,xt=xt+Math.imul(rr,_r)|0,yt=yt+Math.imul(rr,jr)|0,yt=yt+Math.imul(Sr,_r)|0,St=St+Math.imul(Sr,jr)|0,xt=xt+Math.imul(sr,yr)|0,yt=yt+Math.imul(sr,qr)|0,yt=yt+Math.imul(Qt,yr)|0,St=St+Math.imul(Qt,qr)|0,xt=xt+Math.imul(er,vr)|0,yt=yt+Math.imul(er,Fr)|0,yt=yt+Math.imul(nr,vr)|0,St=St+Math.imul(nr,Fr)|0,xt=xt+Math.imul(Ot,br)|0,yt=yt+Math.imul(Ot,Ur)|0,yt=yt+Math.imul(Gt,br)|0,St=St+Math.imul(Gt,Ur)|0,xt=xt+Math.imul(Ft,wr)|0,yt=yt+Math.imul(Ft,zr)|0,yt=yt+Math.imul(Kt,wr)|0,St=St+Math.imul(Kt,zr)|0;var rn=(bt+xt|0)+((yt&8191)<<13)|0;bt=(St+(yt>>>13)|0)+(rn>>>26)|0,rn&=67108863,xt=Math.imul(qt,pr),yt=Math.imul(qt,Dr),yt=yt+Math.imul(It,pr)|0,St=Math.imul(It,Dr),xt=xt+Math.imul(ur,gr)|0,yt=yt+Math.imul(ur,Lr)|0,yt=yt+Math.imul(Or,gr)|0,St=St+Math.imul(Or,Lr)|0,xt=xt+Math.imul(ir,_r)|0,yt=yt+Math.imul(ir,jr)|0,yt=yt+Math.imul(Er,_r)|0,St=St+Math.imul(Er,jr)|0,xt=xt+Math.imul(rr,yr)|0,yt=yt+Math.imul(rr,qr)|0,yt=yt+Math.imul(Sr,yr)|0,St=St+Math.imul(Sr,qr)|0,xt=xt+Math.imul(sr,vr)|0,yt=yt+Math.imul(sr,Fr)|0,yt=yt+Math.imul(Qt,vr)|0,St=St+Math.imul(Qt,Fr)|0,xt=xt+Math.imul(er,br)|0,yt=yt+Math.imul(er,Ur)|0,yt=yt+Math.imul(nr,br)|0,St=St+Math.imul(nr,Ur)|0,xt=xt+Math.imul(Ot,wr)|0,yt=yt+Math.imul(Ot,zr)|0,yt=yt+Math.imul(Gt,wr)|0,St=St+Math.imul(Gt,zr)|0;var nn=(bt+xt|0)+((yt&8191)<<13)|0;bt=(St+(yt>>>13)|0)+(nn>>>26)|0,nn&=67108863,xt=Math.imul(qt,gr),yt=Math.imul(qt,Lr),yt=yt+Math.imul(It,gr)|0,St=Math.imul(It,Lr),xt=xt+Math.imul(ur,_r)|0,yt=yt+Math.imul(ur,jr)|0,yt=yt+Math.imul(Or,_r)|0,St=St+Math.imul(Or,jr)|0,xt=xt+Math.imul(ir,yr)|0,yt=yt+Math.imul(ir,qr)|0,yt=yt+Math.imul(Er,yr)|0,St=St+Math.imul(Er,qr)|0,xt=xt+Math.imul(rr,vr)|0,yt=yt+Math.imul(rr,Fr)|0,yt=yt+Math.imul(Sr,vr)|0,St=St+Math.imul(Sr,Fr)|0,xt=xt+Math.imul(sr,br)|0,yt=yt+Math.imul(sr,Ur)|0,yt=yt+Math.imul(Qt,br)|0,St=St+Math.imul(Qt,Ur)|0,xt=xt+Math.imul(er,wr)|0,yt=yt+Math.imul(er,zr)|0,yt=yt+Math.imul(nr,wr)|0,St=St+Math.imul(nr,zr)|0;var on=(bt+xt|0)+((yt&8191)<<13)|0;bt=(St+(yt>>>13)|0)+(on>>>26)|0,on&=67108863,xt=Math.imul(qt,_r),yt=Math.imul(qt,jr),yt=yt+Math.imul(It,_r)|0,St=Math.imul(It,jr),xt=xt+Math.imul(ur,yr)|0,yt=yt+Math.imul(ur,qr)|0,yt=yt+Math.imul(Or,yr)|0,St=St+Math.imul(Or,qr)|0,xt=xt+Math.imul(ir,vr)|0,yt=yt+Math.imul(ir,Fr)|0,yt=yt+Math.imul(Er,vr)|0,St=St+Math.imul(Er,Fr)|0,xt=xt+Math.imul(rr,br)|0,yt=yt+Math.imul(rr,Ur)|0,yt=yt+Math.imul(Sr,br)|0,St=St+Math.imul(Sr,Ur)|0,xt=xt+Math.imul(sr,wr)|0,yt=yt+Math.imul(sr,zr)|0,yt=yt+Math.imul(Qt,wr)|0,St=St+Math.imul(Qt,zr)|0;var sn=(bt+xt|0)+((yt&8191)<<13)|0;bt=(St+(yt>>>13)|0)+(sn>>>26)|0,sn&=67108863,xt=Math.imul(qt,yr),yt=Math.imul(qt,qr),yt=yt+Math.imul(It,yr)|0,St=Math.imul(It,qr),xt=xt+Math.imul(ur,vr)|0,yt=yt+Math.imul(ur,Fr)|0,yt=yt+Math.imul(Or,vr)|0,St=St+Math.imul(Or,Fr)|0,xt=xt+Math.imul(ir,br)|0,yt=yt+Math.imul(ir,Ur)|0,yt=yt+Math.imul(Er,br)|0,St=St+Math.imul(Er,Ur)|0,xt=xt+Math.imul(rr,wr)|0,yt=yt+Math.imul(rr,zr)|0,yt=yt+Math.imul(Sr,wr)|0,St=St+Math.imul(Sr,zr)|0;var an=(bt+xt|0)+((yt&8191)<<13)|0;bt=(St+(yt>>>13)|0)+(an>>>26)|0,an&=67108863,xt=Math.imul(qt,vr),yt=Math.imul(qt,Fr),yt=yt+Math.imul(It,vr)|0,St=Math.imul(It,Fr),xt=xt+Math.imul(ur,br)|0,yt=yt+Math.imul(ur,Ur)|0,yt=yt+Math.imul(Or,br)|0,St=St+Math.imul(Or,Ur)|0,xt=xt+Math.imul(ir,wr)|0,yt=yt+Math.imul(ir,zr)|0,yt=yt+Math.imul(Er,wr)|0,St=St+Math.imul(Er,zr)|0;var ln=(bt+xt|0)+((yt&8191)<<13)|0;bt=(St+(yt>>>13)|0)+(ln>>>26)|0,ln&=67108863,xt=Math.imul(qt,br),yt=Math.imul(qt,Ur),yt=yt+Math.imul(It,br)|0,St=Math.imul(It,Ur),xt=xt+Math.imul(ur,wr)|0,yt=yt+Math.imul(ur,zr)|0,yt=yt+Math.imul(Or,wr)|0,St=St+Math.imul(Or,zr)|0;var cn=(bt+xt|0)+((yt&8191)<<13)|0;bt=(St+(yt>>>13)|0)+(cn>>>26)|0,cn&=67108863,xt=Math.imul(qt,wr),yt=Math.imul(qt,zr),yt=yt+Math.imul(It,wr)|0,St=Math.imul(It,zr);var un=(bt+xt|0)+((yt&8191)<<13)|0;return bt=(St+(yt>>>13)|0)+(un>>>26)|0,un&=67108863,gt[0]=Rr,gt[1]=Tr,gt[2]=Vr,gt[3]=Kr,gt[4]=Wr,gt[5]=Gr,gt[6]=Zr,gt[7]=Yr,gt[8]=Xr,gt[9]=Jr,gt[10]=tn,gt[11]=rn,gt[12]=nn,gt[13]=on,gt[14]=sn,gt[15]=an,gt[16]=ln,gt[17]=cn,gt[18]=un,bt!==0&&(gt[19]=bt,ct.length++),ct};Math.imul||(ft=ut);function mt(Nt,kt,_t){_t.negative=kt.negative^Nt.negative,_t.length=Nt.length+kt.length;for(var ct=0,dt=0,wt=0;wt<_t.length-1;wt++){var gt=dt;dt=0;for(var bt=ct&67108863,xt=Math.min(wt,kt.length-1),yt=Math.max(0,wt-Nt.length+1);yt<=xt;yt++){var St=wt-yt,pt=Nt.words[St]|0,Tt=kt.words[yt]|0,Ht=pt*Tt,Wt=Ht&67108863;gt=gt+(Ht/67108864|0)|0,Wt=Wt+bt|0,bt=Wt&67108863,gt=gt+(Wt>>>26)|0,dt+=gt>>>26,gt&=67108863}_t.words[wt]=bt,ct=gt,gt=dt}return ct!==0?_t.words[wt]=ct:_t.length--,_t.strip()}function ht(Nt,kt,_t){var ct=new vt;return ct.mulp(Nt,kt,_t)}_e.prototype.mulTo=function(kt,_t){var ct,dt=this.length+kt.length;return this.length===10&&kt.length===10?ct=ft(this,kt,_t):dt<63?ct=ut(this,kt,_t):dt<1024?ct=mt(this,kt,_t):ct=ht(this,kt,_t),ct};function vt(Nt,kt){this.x=Nt,this.y=kt}vt.prototype.makeRBT=function(kt){for(var _t=new Array(kt),ct=_e.prototype._countBits(kt)-1,dt=0;dt<kt;dt++)_t[dt]=this.revBin(dt,ct,kt);return _t},vt.prototype.revBin=function(kt,_t,ct){if(kt===0||kt===ct-1)return kt;for(var dt=0,wt=0;wt<_t;wt++)dt|=(kt&1)<<_t-wt-1,kt>>=1;return dt},vt.prototype.permute=function(kt,_t,ct,dt,wt,gt){for(var bt=0;bt<gt;bt++)dt[bt]=_t[kt[bt]],wt[bt]=ct[kt[bt]]},vt.prototype.transform=function(kt,_t,ct,dt,wt,gt){this.permute(gt,kt,_t,ct,dt,wt);for(var bt=1;bt<wt;bt<<=1)for(var xt=bt<<1,yt=Math.cos(2*Math.PI/xt),St=Math.sin(2*Math.PI/xt),pt=0;pt<wt;pt+=xt)for(var Tt=yt,Ht=St,Wt=0;Wt<bt;Wt++){var Ut=ct[pt+Wt],Rt=dt[pt+Wt],$t=ct[pt+Wt+bt],Ft=dt[pt+Wt+bt],Kt=Tt*$t-Ht*Ft;Ft=Tt*Ft+Ht*$t,$t=Kt,ct[pt+Wt]=Ut+$t,dt[pt+Wt]=Rt+Ft,ct[pt+Wt+bt]=Ut-$t,dt[pt+Wt+bt]=Rt-Ft,Wt!==xt&&(Kt=yt*Tt-St*Ht,Ht=yt*Ht+St*Tt,Tt=Kt)}},vt.prototype.guessLen13b=function(kt,_t){var ct=Math.max(_t,kt)|1,dt=ct&1,wt=0;for(ct=ct/2|0;ct;ct=ct>>>1)wt++;return 1<<wt+1+dt},vt.prototype.conjugate=function(kt,_t,ct){if(!(ct<=1))for(var dt=0;dt<ct/2;dt++){var wt=kt[dt];kt[dt]=kt[ct-dt-1],kt[ct-dt-1]=wt,wt=_t[dt],_t[dt]=-_t[ct-dt-1],_t[ct-dt-1]=-wt}},vt.prototype.normalize13b=function(kt,_t){for(var ct=0,dt=0;dt<_t/2;dt++){var wt=Math.round(kt[2*dt+1]/_t)*8192+Math.round(kt[2*dt]/_t)+ct;kt[dt]=wt&67108863,wt<67108864?ct=0:ct=wt/67108864|0}return kt},vt.prototype.convert13b=function(kt,_t,ct,dt){for(var wt=0,gt=0;gt<_t;gt++)wt=wt+(kt[gt]|0),ct[2*gt]=wt&8191,wt=wt>>>13,ct[2*gt+1]=wt&8191,wt=wt>>>13;for(gt=2*_t;gt<dt;++gt)ct[gt]=0;_(wt===0),_((wt&-8192)===0)},vt.prototype.stub=function(kt){for(var _t=new Array(kt),ct=0;ct<kt;ct++)_t[ct]=0;return _t},vt.prototype.mulp=function(kt,_t,ct){var dt=2*this.guessLen13b(kt.length,_t.length),wt=this.makeRBT(dt),gt=this.stub(dt),bt=new Array(dt),xt=new Array(dt),yt=new Array(dt),St=new Array(dt),pt=new Array(dt),Tt=new Array(dt),Ht=ct.words;Ht.length=dt,this.convert13b(kt.words,kt.length,bt,dt),this.convert13b(_t.words,_t.length,St,dt),this.transform(bt,gt,xt,yt,dt,wt),this.transform(St,gt,pt,Tt,dt,wt);for(var Wt=0;Wt<dt;Wt++){var Ut=xt[Wt]*pt[Wt]-yt[Wt]*Tt[Wt];yt[Wt]=xt[Wt]*Tt[Wt]+yt[Wt]*pt[Wt],xt[Wt]=Ut}return this.conjugate(xt,yt,dt),this.transform(xt,yt,Ht,gt,dt,wt),this.conjugate(Ht,gt,dt),this.normalize13b(Ht,dt),ct.negative=kt.negative^_t.negative,ct.length=kt.length+_t.length,ct.strip()},_e.prototype.mul=function(kt){var _t=new _e(null);return _t.words=new Array(this.length+kt.length),this.mulTo(kt,_t)},_e.prototype.mulf=function(kt){var _t=new _e(null);return _t.words=new Array(this.length+kt.length),ht(this,kt,_t)},_e.prototype.imul=function(kt){return this.clone().mulTo(kt,this)},_e.prototype.imuln=function(kt){_(typeof kt=="number"),_(kt<67108864);for(var _t=0,ct=0;ct<this.length;ct++){var dt=(this.words[ct]|0)*kt,wt=(dt&67108863)+(_t&67108863);_t>>=26,_t+=dt/67108864|0,_t+=wt>>>26,this.words[ct]=wt&67108863}return _t!==0&&(this.words[ct]=_t,this.length++),this.length=kt===0?1:this.length,this},_e.prototype.muln=function(kt){return this.clone().imuln(kt)},_e.prototype.sqr=function(){return this.mul(this)},_e.prototype.isqr=function(){return this.imul(this.clone())},_e.prototype.pow=function(kt){var _t=lt(kt);if(_t.length===0)return new _e(1);for(var ct=this,dt=0;dt<_t.length&&_t[dt]===0;dt++,ct=ct.sqr());if(++dt<_t.length)for(var wt=ct.sqr();dt<_t.length;dt++,wt=wt.sqr())_t[dt]!==0&&(ct=ct.mul(wt));return ct},_e.prototype.iushln=function(kt){_(typeof kt=="number"&&kt>=0);var _t=kt%26,ct=(kt-_t)/26,dt=67108863>>>26-_t<<26-_t,wt;if(_t!==0){var gt=0;for(wt=0;wt<this.length;wt++){var bt=this.words[wt]&dt,xt=(this.words[wt]|0)-bt<<_t;this.words[wt]=xt|gt,gt=bt>>>26-_t}gt&&(this.words[wt]=gt,this.length++)}if(ct!==0){for(wt=this.length-1;wt>=0;wt--)this.words[wt+ct]=this.words[wt];for(wt=0;wt<ct;wt++)this.words[wt]=0;this.length+=ct}return this.strip()},_e.prototype.ishln=function(kt){return _(this.negative===0),this.iushln(kt)},_e.prototype.iushrn=function(kt,_t,ct){_(typeof kt=="number"&&kt>=0);var dt;_t?dt=(_t-_t%26)/26:dt=0;var wt=kt%26,gt=Math.min((kt-wt)/26,this.length),bt=67108863^67108863>>>wt<<wt,xt=ct;if(dt-=gt,dt=Math.max(0,dt),xt){for(var yt=0;yt<gt;yt++)xt.words[yt]=this.words[yt];xt.length=gt}if(gt!==0)if(this.length>gt)for(this.length-=gt,yt=0;yt<this.length;yt++)this.words[yt]=this.words[yt+gt];else this.words[0]=0,this.length=1;var St=0;for(yt=this.length-1;yt>=0&&(St!==0||yt>=dt);yt--){var pt=this.words[yt]|0;this.words[yt]=St<<26-wt|pt>>>wt,St=pt&bt}return xt&&St!==0&&(xt.words[xt.length++]=St),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},_e.prototype.ishrn=function(kt,_t,ct){return _(this.negative===0),this.iushrn(kt,_t,ct)},_e.prototype.shln=function(kt){return this.clone().ishln(kt)},_e.prototype.ushln=function(kt){return this.clone().iushln(kt)},_e.prototype.shrn=function(kt){return this.clone().ishrn(kt)},_e.prototype.ushrn=function(kt){return this.clone().iushrn(kt)},_e.prototype.testn=function(kt){_(typeof kt=="number"&&kt>=0);var _t=kt%26,ct=(kt-_t)/26,dt=1<<_t;if(this.length<=ct)return!1;var wt=this.words[ct];return!!(wt&dt)},_e.prototype.imaskn=function(kt){_(typeof kt=="number"&&kt>=0);var _t=kt%26,ct=(kt-_t)/26;if(_(this.negative===0,"imaskn works only with positive numbers"),this.length<=ct)return this;if(_t!==0&&ct++,this.length=Math.min(ct,this.length),_t!==0){var dt=67108863^67108863>>>_t<<_t;this.words[this.length-1]&=dt}return this.strip()},_e.prototype.maskn=function(kt){return this.clone().imaskn(kt)},_e.prototype.iaddn=function(kt){return _(typeof kt=="number"),_(kt<67108864),kt<0?this.isubn(-kt):this.negative!==0?this.length===1&&(this.words[0]|0)<kt?(this.words[0]=kt-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(kt),this.negative=1,this):this._iaddn(kt)},_e.prototype._iaddn=function(kt){this.words[0]+=kt;for(var _t=0;_t<this.length&&this.words[_t]>=67108864;_t++)this.words[_t]-=67108864,_t===this.length-1?this.words[_t+1]=1:this.words[_t+1]++;return this.length=Math.max(this.length,_t+1),this},_e.prototype.isubn=function(kt){if(_(typeof kt=="number"),_(kt<67108864),kt<0)return this.iaddn(-kt);if(this.negative!==0)return this.negative=0,this.iaddn(kt),this.negative=1,this;if(this.words[0]-=kt,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var _t=0;_t<this.length&&this.words[_t]<0;_t++)this.words[_t]+=67108864,this.words[_t+1]-=1;return this.strip()},_e.prototype.addn=function(kt){return this.clone().iaddn(kt)},_e.prototype.subn=function(kt){return this.clone().isubn(kt)},_e.prototype.iabs=function(){return this.negative=0,this},_e.prototype.abs=function(){return this.clone().iabs()},_e.prototype._ishlnsubmul=function(kt,_t,ct){var dt=kt.length+ct,wt;this._expand(dt);var gt,bt=0;for(wt=0;wt<kt.length;wt++){gt=(this.words[wt+ct]|0)+bt;var xt=(kt.words[wt]|0)*_t;gt-=xt&67108863,bt=(gt>>26)-(xt/67108864|0),this.words[wt+ct]=gt&67108863}for(;wt<this.length-ct;wt++)gt=(this.words[wt+ct]|0)+bt,bt=gt>>26,this.words[wt+ct]=gt&67108863;if(bt===0)return this.strip();for(_(bt===-1),bt=0,wt=0;wt<this.length;wt++)gt=-(this.words[wt]|0)+bt,bt=gt>>26,this.words[wt]=gt&67108863;return this.negative=1,this.strip()},_e.prototype._wordDiv=function(kt,_t){var ct=this.length-kt.length,dt=this.clone(),wt=kt,gt=wt.words[wt.length-1]|0,bt=this._countBits(gt);ct=26-bt,ct!==0&&(wt=wt.ushln(ct),dt.iushln(ct),gt=wt.words[wt.length-1]|0);var xt=dt.length-wt.length,yt;if(_t!=="mod"){yt=new _e(null),yt.length=xt+1,yt.words=new Array(yt.length);for(var St=0;St<yt.length;St++)yt.words[St]=0}var pt=dt.clone()._ishlnsubmul(wt,1,xt);pt.negative===0&&(dt=pt,yt&&(yt.words[xt]=1));for(var Tt=xt-1;Tt>=0;Tt--){var Ht=(dt.words[wt.length+Tt]|0)*67108864+(dt.words[wt.length+Tt-1]|0);for(Ht=Math.min(Ht/gt|0,67108863),dt._ishlnsubmul(wt,Ht,Tt);dt.negative!==0;)Ht--,dt.negative=0,dt._ishlnsubmul(wt,1,Tt),dt.isZero()||(dt.negative^=1);yt&&(yt.words[Tt]=Ht)}return yt&&yt.strip(),dt.strip(),_t!=="div"&&ct!==0&&dt.iushrn(ct),{div:yt||null,mod:dt}},_e.prototype.divmod=function(kt,_t,ct){if(_(!kt.isZero()),this.isZero())return{div:new _e(0),mod:new _e(0)};var dt,wt,gt;return this.negative!==0&&kt.negative===0?(gt=this.neg().divmod(kt,_t),_t!=="mod"&&(dt=gt.div.neg()),_t!=="div"&&(wt=gt.mod.neg(),ct&&wt.negative!==0&&wt.iadd(kt)),{div:dt,mod:wt}):this.negative===0&&kt.negative!==0?(gt=this.divmod(kt.neg(),_t),_t!=="mod"&&(dt=gt.div.neg()),{div:dt,mod:gt.mod}):this.negative&kt.negative?(gt=this.neg().divmod(kt.neg(),_t),_t!=="div"&&(wt=gt.mod.neg(),ct&&wt.negative!==0&&wt.isub(kt)),{div:gt.div,mod:wt}):kt.length>this.length||this.cmp(kt)<0?{div:new _e(0),mod:this}:kt.length===1?_t==="div"?{div:this.divn(kt.words[0]),mod:null}:_t==="mod"?{div:null,mod:new _e(this.modn(kt.words[0]))}:{div:this.divn(kt.words[0]),mod:new _e(this.modn(kt.words[0]))}:this._wordDiv(kt,_t)},_e.prototype.div=function(kt){return this.divmod(kt,"div",!1).div},_e.prototype.mod=function(kt){return this.divmod(kt,"mod",!1).mod},_e.prototype.umod=function(kt){return this.divmod(kt,"mod",!0).mod},_e.prototype.divRound=function(kt){var _t=this.divmod(kt);if(_t.mod.isZero())return _t.div;var ct=_t.div.negative!==0?_t.mod.isub(kt):_t.mod,dt=kt.ushrn(1),wt=kt.andln(1),gt=ct.cmp(dt);return gt<0||wt===1&&gt===0?_t.div:_t.div.negative!==0?_t.div.isubn(1):_t.div.iaddn(1)},_e.prototype.modn=function(kt){_(kt<=67108863);for(var _t=(1<<26)%kt,ct=0,dt=this.length-1;dt>=0;dt--)ct=(_t*ct+(this.words[dt]|0))%kt;return ct},_e.prototype.idivn=function(kt){_(kt<=67108863);for(var _t=0,ct=this.length-1;ct>=0;ct--){var dt=(this.words[ct]|0)+_t*67108864;this.words[ct]=dt/kt|0,_t=dt%kt}return this.strip()},_e.prototype.divn=function(kt){return this.clone().idivn(kt)},_e.prototype.egcd=function(kt){_(kt.negative===0),_(!kt.isZero());var _t=this,ct=kt.clone();_t.negative!==0?_t=_t.umod(kt):_t=_t.clone();for(var dt=new _e(1),wt=new _e(0),gt=new _e(0),bt=new _e(1),xt=0;_t.isEven()&&ct.isEven();)_t.iushrn(1),ct.iushrn(1),++xt;for(var yt=ct.clone(),St=_t.clone();!_t.isZero();){for(var pt=0,Tt=1;!(_t.words[0]&Tt)&&pt<26;++pt,Tt<<=1);if(pt>0)for(_t.iushrn(pt);pt-- >0;)(dt.isOdd()||wt.isOdd())&&(dt.iadd(yt),wt.isub(St)),dt.iushrn(1),wt.iushrn(1);for(var Ht=0,Wt=1;!(ct.words[0]&Wt)&&Ht<26;++Ht,Wt<<=1);if(Ht>0)for(ct.iushrn(Ht);Ht-- >0;)(gt.isOdd()||bt.isOdd())&&(gt.iadd(yt),bt.isub(St)),gt.iushrn(1),bt.iushrn(1);_t.cmp(ct)>=0?(_t.isub(ct),dt.isub(gt),wt.isub(bt)):(ct.isub(_t),gt.isub(dt),bt.isub(wt))}return{a:gt,b:bt,gcd:ct.iushln(xt)}},_e.prototype._invmp=function(kt){_(kt.negative===0),_(!kt.isZero());var _t=this,ct=kt.clone();_t.negative!==0?_t=_t.umod(kt):_t=_t.clone();for(var dt=new _e(1),wt=new _e(0),gt=ct.clone();_t.cmpn(1)>0&&ct.cmpn(1)>0;){for(var bt=0,xt=1;!(_t.words[0]&xt)&&bt<26;++bt,xt<<=1);if(bt>0)for(_t.iushrn(bt);bt-- >0;)dt.isOdd()&&dt.iadd(gt),dt.iushrn(1);for(var yt=0,St=1;!(ct.words[0]&St)&&yt<26;++yt,St<<=1);if(yt>0)for(ct.iushrn(yt);yt-- >0;)wt.isOdd()&&wt.iadd(gt),wt.iushrn(1);_t.cmp(ct)>=0?(_t.isub(ct),dt.isub(wt)):(ct.isub(_t),wt.isub(dt))}var pt;return _t.cmpn(1)===0?pt=dt:pt=wt,pt.cmpn(0)<0&&pt.iadd(kt),pt},_e.prototype.gcd=function(kt){if(this.isZero())return kt.abs();if(kt.isZero())return this.abs();var _t=this.clone(),ct=kt.clone();_t.negative=0,ct.negative=0;for(var dt=0;_t.isEven()&&ct.isEven();dt++)_t.iushrn(1),ct.iushrn(1);do{for(;_t.isEven();)_t.iushrn(1);for(;ct.isEven();)ct.iushrn(1);var wt=_t.cmp(ct);if(wt<0){var gt=_t;_t=ct,ct=gt}else if(wt===0||ct.cmpn(1)===0)break;_t.isub(ct)}while(!0);return ct.iushln(dt)},_e.prototype.invm=function(kt){return this.egcd(kt).a.umod(kt)},_e.prototype.isEven=function(){return(this.words[0]&1)===0},_e.prototype.isOdd=function(){return(this.words[0]&1)===1},_e.prototype.andln=function(kt){return this.words[0]&kt},_e.prototype.bincn=function(kt){_(typeof kt=="number");var _t=kt%26,ct=(kt-_t)/26,dt=1<<_t;if(this.length<=ct)return this._expand(ct+1),this.words[ct]|=dt,this;for(var wt=dt,gt=ct;wt!==0&&gt<this.length;gt++){var bt=this.words[gt]|0;bt+=wt,wt=bt>>>26,bt&=67108863,this.words[gt]=bt}return wt!==0&&(this.words[gt]=wt,this.length++),this},_e.prototype.isZero=function(){return this.length===1&&this.words[0]===0},_e.prototype.cmpn=function(kt){var _t=kt<0;if(this.negative!==0&&!_t)return-1;if(this.negative===0&&_t)return 1;this.strip();var ct;if(this.length>1)ct=1;else{_t&&(kt=-kt),_(kt<=67108863,"Number is too big");var dt=this.words[0]|0;ct=dt===kt?0:dt<kt?-1:1}return this.negative!==0?-ct|0:ct},_e.prototype.cmp=function(kt){if(this.negative!==0&&kt.negative===0)return-1;if(this.negative===0&&kt.negative!==0)return 1;var _t=this.ucmp(kt);return this.negative!==0?-_t|0:_t},_e.prototype.ucmp=function(kt){if(this.length>kt.length)return 1;if(this.length<kt.length)return-1;for(var _t=0,ct=this.length-1;ct>=0;ct--){var dt=this.words[ct]|0,wt=kt.words[ct]|0;if(dt!==wt){dt<wt?_t=-1:dt>wt&&(_t=1);break}}return _t},_e.prototype.gtn=function(kt){return this.cmpn(kt)===1},_e.prototype.gt=function(kt){return this.cmp(kt)===1},_e.prototype.gten=function(kt){return this.cmpn(kt)>=0},_e.prototype.gte=function(kt){return this.cmp(kt)>=0},_e.prototype.ltn=function(kt){return this.cmpn(kt)===-1},_e.prototype.lt=function(kt){return this.cmp(kt)===-1},_e.prototype.lten=function(kt){return this.cmpn(kt)<=0},_e.prototype.lte=function(kt){return this.cmp(kt)<=0},_e.prototype.eqn=function(kt){return this.cmpn(kt)===0},_e.prototype.eq=function(kt){return this.cmp(kt)===0},_e.red=function(kt){return new jt(kt)},_e.prototype.toRed=function(kt){return _(!this.red,"Already a number in reduction context"),_(this.negative===0,"red works only with positives"),kt.convertTo(this)._forceRed(kt)},_e.prototype.fromRed=function(){return _(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},_e.prototype._forceRed=function(kt){return this.red=kt,this},_e.prototype.forceRed=function(kt){return _(!this.red,"Already a number in reduction context"),this._forceRed(kt)},_e.prototype.redAdd=function(kt){return _(this.red,"redAdd works only with red numbers"),this.red.add(this,kt)},_e.prototype.redIAdd=function(kt){return _(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,kt)},_e.prototype.redSub=function(kt){return _(this.red,"redSub works only with red numbers"),this.red.sub(this,kt)},_e.prototype.redISub=function(kt){return _(this.red,"redISub works only with red numbers"),this.red.isub(this,kt)},_e.prototype.redShl=function(kt){return _(this.red,"redShl works only with red numbers"),this.red.shl(this,kt)},_e.prototype.redMul=function(kt){return _(this.red,"redMul works only with red numbers"),this.red._verify2(this,kt),this.red.mul(this,kt)},_e.prototype.redIMul=function(kt){return _(this.red,"redMul works only with red numbers"),this.red._verify2(this,kt),this.red.imul(this,kt)},_e.prototype.redSqr=function(){return _(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},_e.prototype.redISqr=function(){return _(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},_e.prototype.redSqrt=function(){return _(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},_e.prototype.redInvm=function(){return _(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},_e.prototype.redNeg=function(){return _(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},_e.prototype.redPow=function(kt){return _(this.red&&!kt.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,kt)};var Et={k256:null,p224:null,p192:null,p25519:null};function At(Nt,kt){this.name=Nt,this.p=new _e(kt,16),this.n=this.p.bitLength(),this.k=new _e(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}At.prototype._tmp=function(){var kt=new _e(null);return kt.words=new Array(Math.ceil(this.n/13)),kt},At.prototype.ireduce=function(kt){var _t=kt,ct;do this.split(_t,this.tmp),_t=this.imulK(_t),_t=_t.iadd(this.tmp),ct=_t.bitLength();while(ct>this.n);var dt=ct<this.n?-1:_t.ucmp(this.p);return dt===0?(_t.words[0]=0,_t.length=1):dt>0?_t.isub(this.p):_t.strip!==void 0?_t.strip():_t._strip(),_t},At.prototype.split=function(kt,_t){kt.iushrn(this.n,0,_t)},At.prototype.imulK=function(kt){return kt.imul(this.k)};function Ct(){At.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}b(Ct,At),Ct.prototype.split=function(kt,_t){for(var ct=4194303,dt=Math.min(kt.length,9),wt=0;wt<dt;wt++)_t.words[wt]=kt.words[wt];if(_t.length=dt,kt.length<=9){kt.words[0]=0,kt.length=1;return}var gt=kt.words[9];for(_t.words[_t.length++]=gt&ct,wt=10;wt<kt.length;wt++){var bt=kt.words[wt]|0;kt.words[wt-10]=(bt&ct)<<4|gt>>>22,gt=bt}gt>>>=22,kt.words[wt-10]=gt,gt===0&&kt.length>10?kt.length-=10:kt.length-=9},Ct.prototype.imulK=function(kt){kt.words[kt.length]=0,kt.words[kt.length+1]=0,kt.length+=2;for(var _t=0,ct=0;ct<kt.length;ct++){var dt=kt.words[ct]|0;_t+=dt*977,kt.words[ct]=_t&67108863,_t=dt*64+(_t/67108864|0)}return kt.words[kt.length-1]===0&&(kt.length--,kt.words[kt.length-1]===0&&kt.length--),kt};function Mt(){At.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}b(Mt,At);function Bt(){At.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}b(Bt,At);function Lt(){At.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}b(Lt,At),Lt.prototype.imulK=function(kt){for(var _t=0,ct=0;ct<kt.length;ct++){var dt=(kt.words[ct]|0)*19+_t,wt=dt&67108863;dt>>>=26,kt.words[ct]=wt,_t=dt}return _t!==0&&(kt.words[kt.length++]=_t),kt},_e._prime=function(kt){if(Et[kt])return Et[kt];var _t;if(kt==="k256")_t=new Ct;else if(kt==="p224")_t=new Mt;else if(kt==="p192")_t=new Bt;else if(kt==="p25519")_t=new Lt;else throw new Error("Unknown prime "+kt);return Et[kt]=_t,_t};function jt(Nt){if(typeof Nt=="string"){var kt=_e._prime(Nt);this.m=kt.p,this.prime=kt}else _(Nt.gtn(1),"modulus must be greater than 1"),this.m=Nt,this.prime=null}jt.prototype._verify1=function(kt){_(kt.negative===0,"red works only with positives"),_(kt.red,"red works only with red numbers")},jt.prototype._verify2=function(kt,_t){_((kt.negative|_t.negative)===0,"red works only with positives"),_(kt.red&&kt.red===_t.red,"red works only with red numbers")},jt.prototype.imod=function(kt){return this.prime?this.prime.ireduce(kt)._forceRed(this):kt.umod(this.m)._forceRed(this)},jt.prototype.neg=function(kt){return kt.isZero()?kt.clone():this.m.sub(kt)._forceRed(this)},jt.prototype.add=function(kt,_t){this._verify2(kt,_t);var ct=kt.add(_t);return ct.cmp(this.m)>=0&&ct.isub(this.m),ct._forceRed(this)},jt.prototype.iadd=function(kt,_t){this._verify2(kt,_t);var ct=kt.iadd(_t);return ct.cmp(this.m)>=0&&ct.isub(this.m),ct},jt.prototype.sub=function(kt,_t){this._verify2(kt,_t);var ct=kt.sub(_t);return ct.cmpn(0)<0&&ct.iadd(this.m),ct._forceRed(this)},jt.prototype.isub=function(kt,_t){this._verify2(kt,_t);var ct=kt.isub(_t);return ct.cmpn(0)<0&&ct.iadd(this.m),ct},jt.prototype.shl=function(kt,_t){return this._verify1(kt),this.imod(kt.ushln(_t))},jt.prototype.imul=function(kt,_t){return this._verify2(kt,_t),this.imod(kt.imul(_t))},jt.prototype.mul=function(kt,_t){return this._verify2(kt,_t),this.imod(kt.mul(_t))},jt.prototype.isqr=function(kt){return this.imul(kt,kt.clone())},jt.prototype.sqr=function(kt){return this.mul(kt,kt)},jt.prototype.sqrt=function(kt){if(kt.isZero())return kt.clone();var _t=this.m.andln(3);if(_(_t%2===1),_t===3){var ct=this.m.add(new _e(1)).iushrn(2);return this.pow(kt,ct)}for(var dt=this.m.subn(1),wt=0;!dt.isZero()&&dt.andln(1)===0;)wt++,dt.iushrn(1);_(!dt.isZero());var gt=new _e(1).toRed(this),bt=gt.redNeg(),xt=this.m.subn(1).iushrn(1),yt=this.m.bitLength();for(yt=new _e(2*yt*yt).toRed(this);this.pow(yt,xt).cmp(bt)!==0;)yt.redIAdd(bt);for(var St=this.pow(yt,dt),pt=this.pow(kt,dt.addn(1).iushrn(1)),Tt=this.pow(kt,dt),Ht=wt;Tt.cmp(gt)!==0;){for(var Wt=Tt,Ut=0;Wt.cmp(gt)!==0;Ut++)Wt=Wt.redSqr();_(Ut<Ht);var Rt=this.pow(St,new _e(1).iushln(Ht-Ut-1));pt=pt.redMul(Rt),St=Rt.redSqr(),Tt=Tt.redMul(St),Ht=Ut}return pt},jt.prototype.invm=function(kt){var _t=kt._invmp(this.m);return _t.negative!==0?(_t.negative=0,this.imod(_t).redNeg()):this.imod(_t)},jt.prototype.pow=function(kt,_t){if(_t.isZero())return new _e(1).toRed(this);if(_t.cmpn(1)===0)return kt.clone();var ct=4,dt=new Array(1<<ct);dt[0]=new _e(1).toRed(this),dt[1]=kt;for(var wt=2;wt<dt.length;wt++)dt[wt]=this.mul(dt[wt-1],kt);var gt=dt[0],bt=0,xt=0,yt=_t.bitLength()%26;for(yt===0&&(yt=26),wt=_t.length-1;wt>=0;wt--){for(var St=_t.words[wt],pt=yt-1;pt>=0;pt--){var Tt=St>>pt&1;if(gt!==dt[0]&&(gt=this.sqr(gt)),Tt===0&&bt===0){xt=0;continue}bt<<=1,bt|=Tt,xt++,!(xt!==ct&&(wt!==0||pt!==0))&&(gt=this.mul(gt,dt[bt]),xt=0,bt=0)}yt=26}return gt},jt.prototype.convertTo=function(kt){var _t=kt.umod(this.m);return _t===kt?_t.clone():_t},jt.prototype.convertFrom=function(kt){var _t=kt.clone();return _t.red=null,_t},_e.mont=function(kt){return new Vt(kt)};function Vt(Nt){jt.call(this,Nt),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new _e(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b(Vt,jt),Vt.prototype.convertTo=function(kt){return this.imod(kt.ushln(this.shift))},Vt.prototype.convertFrom=function(kt){var _t=this.imod(kt.mul(this.rinv));return _t.red=null,_t},Vt.prototype.imul=function(kt,_t){if(kt.isZero()||_t.isZero())return kt.words[0]=0,kt.length=1,kt;var ct=kt.imul(_t),dt=ct.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),wt=ct.isub(dt).iushrn(this.shift),gt=wt;return wt.cmp(this.m)>=0?gt=wt.isub(this.m):wt.cmpn(0)<0&&(gt=wt.iadd(this.m)),gt._forceRed(this)},Vt.prototype.mul=function(kt,_t){if(kt.isZero()||_t.isZero())return new _e(0)._forceRed(this);var ct=kt.mul(_t),dt=ct.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),wt=ct.isub(dt).iushrn(this.shift),gt=wt;return wt.cmp(this.m)>=0?gt=wt.isub(this.m):wt.cmpn(0)<0&&(gt=wt.iadd(this.m)),gt._forceRed(this)},Vt.prototype.invm=function(kt){var _t=this.imod(kt._invmp(this.m).mul(this.r2));return _t._forceRed(this)}})(o,commonjsGlobal)})(bn$2);var bnExports=bn$2.exports;const BN$7=getDefaultExportFromCjs$1(bnExports);var mr,hasRequiredMr;function requireMr(){if(hasRequiredMr)return mr;hasRequiredMr=1;var o=bnExports,e=requireBrorand();function a(_){this.rand=_||new e.Rand}return mr=a,a.create=function(b){return new a(b)},a.prototype._randbelow=function(b){var _e=b.bitLength(),et=Math.ceil(_e/8);do var tt=new o(this.rand.generate(et));while(tt.cmp(b)>=0);return tt},a.prototype._randrange=function(b,_e){var et=_e.sub(b);return b.add(this._randbelow(et))},a.prototype.test=function(b,_e,et){var tt=b.bitLength(),nt=o.mont(b),it=new o(1).toRed(nt);_e||(_e=Math.max(1,tt/48|0));for(var ot=b.subn(1),st=0;!ot.testn(st);st++);for(var at=b.shrn(st),lt=ot.toRed(nt),ut=!0;_e>0;_e--){var ft=this._randrange(new o(2),ot);et&&et(ft);var mt=ft.toRed(nt).redPow(at);if(!(mt.cmp(it)===0||mt.cmp(lt)===0)){for(var ht=1;ht<st;ht++){if(mt=mt.redSqr(),mt.cmp(it)===0)return!1;if(mt.cmp(lt)===0)break}if(ht===st)return!1}}return ut},a.prototype.getDivisor=function(b,_e){var et=b.bitLength(),tt=o.mont(b),nt=new o(1).toRed(tt);_e||(_e=Math.max(1,et/48|0));for(var it=b.subn(1),ot=0;!it.testn(ot);ot++);for(var st=b.shrn(ot),at=it.toRed(tt);_e>0;_e--){var lt=this._randrange(new o(2),it),ut=b.gcd(lt);if(ut.cmpn(1)!==0)return ut;var ft=lt.toRed(tt).redPow(st);if(!(ft.cmp(nt)===0||ft.cmp(at)===0)){for(var mt=1;mt<ot;mt++){if(ft=ft.redSqr(),ft.cmp(nt)===0)return ft.fromRed().subn(1).gcd(b);if(ft.cmp(at)===0)break}if(mt===ot)return ft=ft.redSqr(),ft.fromRed().subn(1).gcd(b)}}return!1},mr}var generatePrime,hasRequiredGeneratePrime;function requireGeneratePrime(){if(hasRequiredGeneratePrime)return generatePrime;hasRequiredGeneratePrime=1;var o=requireBrowser$b();generatePrime=mt,mt.simpleSieve=ut,mt.fermatTest=ft;var e=bnExports,a=new e(24),_=requireMr(),b=new _,_e=new e(1),et=new e(2),tt=new e(5);new e(16),new e(8);var nt=new e(10),it=new e(3);new e(7);var ot=new e(11),st=new e(4);new e(12);var at=null;function lt(){if(at!==null)return at;var ht=1048576,vt=[];vt[0]=2;for(var Et=1,At=3;At<ht;At+=2){for(var Ct=Math.ceil(Math.sqrt(At)),Mt=0;Mt<Et&&vt[Mt]<=Ct&&At%vt[Mt]!==0;Mt++);Et!==Mt&&vt[Mt]<=Ct||(vt[Et++]=At)}return at=vt,vt}function ut(ht){for(var vt=lt(),Et=0;Et<vt.length;Et++)if(ht.modn(vt[Et])===0)return ht.cmpn(vt[Et])===0;return!0}function ft(ht){var vt=e.mont(ht);return et.toRed(vt).redPow(ht.subn(1)).fromRed().cmpn(1)===0}function mt(ht,vt){if(ht<16)return vt===2||vt===5?new e([140,123]):new e([140,39]);vt=new e(vt);for(var Et,At;;){for(Et=new e(o(Math.ceil(ht/8)));Et.bitLength()>ht;)Et.ishrn(1);if(Et.isEven()&&Et.iadd(_e),Et.testn(1)||Et.iadd(et),vt.cmp(et)){if(!vt.cmp(tt))for(;Et.mod(nt).cmp(it);)Et.iadd(st)}else for(;Et.mod(a).cmp(ot);)Et.iadd(st);if(At=Et.shrn(1),ut(At)&&ut(Et)&&ft(At)&&ft(Et)&&b.test(At)&&b.test(Et))return Et}}return generatePrime}const modp1={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"},require$$1$1={modp1,modp2,modp5,modp14,modp15,modp16,modp17,modp18};var dh,hasRequiredDh;function requireDh(){if(hasRequiredDh)return dh;hasRequiredDh=1;var o=bnExports,e=requireMr(),a=new e,_=new o(24),b=new o(11),_e=new o(10),et=new o(3),tt=new o(7),nt=requireGeneratePrime(),it=requireBrowser$b();dh=ut;function ot(mt,ht){return ht=ht||"utf8",Buffer.isBuffer(mt)||(mt=new Buffer(mt,ht)),this._pub=new o(mt),this}function st(mt,ht){return ht=ht||"utf8",Buffer.isBuffer(mt)||(mt=new Buffer(mt,ht)),this._priv=new o(mt),this}var at={};function lt(mt,ht){var vt=ht.toString("hex"),Et=[vt,mt.toString(16)].join("_");if(Et in at)return at[Et];var At=0;if(mt.isEven()||!nt.simpleSieve||!nt.fermatTest(mt)||!a.test(mt))return At+=1,vt==="02"||vt==="05"?At+=8:At+=4,at[Et]=At,At;a.test(mt.shrn(1))||(At+=2);var Ct;switch(vt){case"02":mt.mod(_).cmp(b)&&(At+=8);break;case"05":Ct=mt.mod(_e),Ct.cmp(et)&&Ct.cmp(tt)&&(At+=8);break;default:At+=4}return at[Et]=At,At}function ut(mt,ht,vt){this.setGenerator(ht),this.__prime=new o(mt),this._prime=o.mont(this.__prime),this._primeLen=mt.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,vt?(this.setPublicKey=ot,this.setPrivateKey=st):this._primeCode=8}Object.defineProperty(ut.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=lt(this.__prime,this.__gen)),this._primeCode}}),ut.prototype.generateKeys=function(){return this._priv||(this._priv=new o(it(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},ut.prototype.computeSecret=function(mt){mt=new o(mt),mt=mt.toRed(this._prime);var ht=mt.redPow(this._priv).fromRed(),vt=new Buffer(ht.toArray()),Et=this.getPrime();if(vt.length<Et.length){var At=new Buffer(Et.length-vt.length);At.fill(0),vt=Buffer.concat([At,vt])}return vt},ut.prototype.getPublicKey=function(ht){return ft(this._pub,ht)},ut.prototype.getPrivateKey=function(ht){return ft(this._priv,ht)},ut.prototype.getPrime=function(mt){return ft(this.__prime,mt)},ut.prototype.getGenerator=function(mt){return ft(this._gen,mt)},ut.prototype.setGenerator=function(mt,ht){return ht=ht||"utf8",Buffer.isBuffer(mt)||(mt=new Buffer(mt,ht)),this.__gen=mt,this._gen=new o(mt),this};function ft(mt,ht){var vt=new Buffer(mt.toArray());return ht?vt.toString(ht):vt}return dh}var hasRequiredBrowser$4;function requireBrowser$4(){if(hasRequiredBrowser$4)return browser$4;hasRequiredBrowser$4=1;var o=requireGeneratePrime(),e=require$$1$1,a=requireDh();function _(et){var tt=new Buffer(e[et].prime,"hex"),nt=new Buffer(e[et].gen,"hex");return new a(tt,nt)}var b={binary:!0,hex:!0,base64:!0};function _e(et,tt,nt,it){return Buffer.isBuffer(tt)||b[tt]===void 0?_e(et,"binary",tt,nt):(tt=tt||"binary",it=it||"binary",nt=nt||new Buffer([2]),Buffer.isBuffer(nt)||(nt=new Buffer(nt,it)),typeof et=="number"?new a(o(et,nt),nt,!0):(Buffer.isBuffer(et)||(et=new Buffer(et,tt)),new a(et,nt,!0)))}return browser$4.DiffieHellmanGroup=browser$4.createDiffieHellmanGroup=browser$4.getDiffieHellman=_,browser$4.createDiffieHellman=browser$4.DiffieHellman=_e,browser$4}var readableBrowser={exports:{}},isarray,hasRequiredIsarray;function requireIsarray(){if(hasRequiredIsarray)return isarray;hasRequiredIsarray=1;var o={}.toString;return isarray=Array.isArray||function(e){return o.call(e)=="[object Array]"},isarray}var streamBrowser,hasRequiredStreamBrowser;function requireStreamBrowser(){return hasRequiredStreamBrowser||(hasRequiredStreamBrowser=1,streamBrowser=requireEvents().EventEmitter),streamBrowser}var safeBuffer={exports:{}},hasRequiredSafeBuffer;function requireSafeBuffer(){return hasRequiredSafeBuffer||(hasRequiredSafeBuffer=1,function(o,e){var a=require$$1$2,_=a.Buffer;function b(et,tt){for(var nt in et)tt[nt]=et[nt]}_.from&&_.alloc&&_.allocUnsafe&&_.allocUnsafeSlow?o.exports=a:(b(a,e),e.Buffer=_e);function _e(et,tt,nt){return _(et,tt,nt)}b(_,_e),_e.from=function(et,tt,nt){if(typeof et=="number")throw new TypeError("Argument must not be a number");return _(et,tt,nt)},_e.alloc=function(et,tt,nt){if(typeof et!="number")throw new TypeError("Argument must be a number");var it=_(et);return tt!==void 0?typeof nt=="string"?it.fill(tt,nt):it.fill(tt):it.fill(0),it},_e.allocUnsafe=function(et){if(typeof et!="number")throw new TypeError("Argument must be a number");return _(et)},_e.allocUnsafeSlow=function(et){if(typeof et!="number")throw new TypeError("Argument must be a number");return a.SlowBuffer(et)}}(safeBuffer,safeBuffer.exports)),safeBuffer.exports}var BufferList={exports:{}},hasRequiredBufferList;function requireBufferList(){return hasRequiredBufferList||(hasRequiredBufferList=1,function(o){function e(_e,et){if(!(_e instanceof et))throw new TypeError("Cannot call a class as a function")}var a=requireSafeBuffer().Buffer,_=requireUtil$1();function b(_e,et,tt){_e.copy(et,tt)}o.exports=function(){function _e(){e(this,_e),this.head=null,this.tail=null,this.length=0}return _e.prototype.push=function(tt){var nt={data:tt,next:null};this.length>0?this.tail.next=nt:this.head=nt,this.tail=nt,++this.length},_e.prototype.unshift=function(tt){var nt={data:tt,next:this.head};this.length===0&&(this.tail=nt),this.head=nt,++this.length},_e.prototype.shift=function(){if(this.length!==0){var tt=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,tt}},_e.prototype.clear=function(){this.head=this.tail=null,this.length=0},_e.prototype.join=function(tt){if(this.length===0)return"";for(var nt=this.head,it=""+nt.data;nt=nt.next;)it+=tt+nt.data;return it},_e.prototype.concat=function(tt){if(this.length===0)return a.alloc(0);for(var nt=a.allocUnsafe(tt>>>0),it=this.head,ot=0;it;)b(it.data,nt,ot),ot+=it.data.length,it=it.next;return nt},_e}(),_&&_.inspect&&_.inspect.custom&&(o.exports.prototype[_.inspect.custom]=function(){var _e=_.inspect({length:this.length});return this.constructor.name+" "+_e})}(BufferList)),BufferList.exports}var destroy_1,hasRequiredDestroy;function requireDestroy(){if(hasRequiredDestroy)return destroy_1;hasRequiredDestroy=1;var o=requireProcessNextickArgs();function e(b,_e){var et=this,tt=this._readableState&&this._readableState.destroyed,nt=this._writableState&&this._writableState.destroyed;return tt||nt?(_e?_e(b):b&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,o.nextTick(_,this,b)):o.nextTick(_,this,b)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(b||null,function(it){!_e&&it?et._writableState?et._writableState.errorEmitted||(et._writableState.errorEmitted=!0,o.nextTick(_,et,it)):o.nextTick(_,et,it):_e&&_e(it)}),this)}function a(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function _(b,_e){b.emit("error",_e)}return destroy_1={destroy:e,undestroy:a},destroy_1}var _stream_writable,hasRequired_stream_writable;function require_stream_writable(){if(hasRequired_stream_writable)return _stream_writable;hasRequired_stream_writable=1;var o=requireProcessNextickArgs();_stream_writable=ft;function e(gt){var bt=this;this.next=null,this.entry=null,this.finish=function(){wt(bt,gt)}}var a=!process$1$1.browser&&["v0.10","v0.9."].indexOf(process$1$1.version.slice(0,5))>-1?setImmediate:o.nextTick,_;ft.WritableState=lt;var b=Object.create(requireUtil());b.inherits=inherits_browserExports;var _e={deprecate:requireBrowser$a()},et=requireStreamBrowser(),tt=requireSafeBuffer().Buffer,nt=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function it(gt){return tt.from(gt)}function ot(gt){return tt.isBuffer(gt)||gt instanceof nt}var st=requireDestroy();b.inherits(ft,et);function at(){}function lt(gt,bt){_=_||require_stream_duplex(),gt=gt||{};var xt=bt instanceof _;this.objectMode=!!gt.objectMode,xt&&(this.objectMode=this.objectMode||!!gt.writableObjectMode);var yt=gt.highWaterMark,St=gt.writableHighWaterMark,pt=this.objectMode?16:16*1024;yt||yt===0?this.highWaterMark=yt:xt&&(St||St===0)?this.highWaterMark=St:this.highWaterMark=pt,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Tt=gt.decodeStrings===!1;this.decodeStrings=!Tt,this.defaultEncoding=gt.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Ht){Bt(bt,Ht)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}lt.prototype.getBuffer=function(){for(var bt=this.bufferedRequest,xt=[];bt;)xt.push(bt),bt=bt.next;return xt},function(){try{Object.defineProperty(lt.prototype,"buffer",{get:_e.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var ut;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(ut=Function.prototype[Symbol.hasInstance],Object.defineProperty(ft,Symbol.hasInstance,{value:function(gt){return ut.call(this,gt)?!0:this!==ft?!1:gt&&gt._writableState instanceof lt}})):ut=function(gt){return gt instanceof this};function ft(gt){if(_=_||require_stream_duplex(),!ut.call(ft,this)&&!(this instanceof _))return new ft(gt);this._writableState=new lt(gt,this),this.writable=!0,gt&&(typeof gt.write=="function"&&(this._write=gt.write),typeof gt.writev=="function"&&(this._writev=gt.writev),typeof gt.destroy=="function"&&(this._destroy=gt.destroy),typeof gt.final=="function"&&(this._final=gt.final)),et.call(this)}ft.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function mt(gt,bt){var xt=new Error("write after end");gt.emit("error",xt),o.nextTick(bt,xt)}function ht(gt,bt,xt,yt){var St=!0,pt=!1;return xt===null?pt=new TypeError("May not write null values to stream"):typeof xt!="string"&&xt!==void 0&&!bt.objectMode&&(pt=new TypeError("Invalid non-string/buffer chunk")),pt&&(gt.emit("error",pt),o.nextTick(yt,pt),St=!1),St}ft.prototype.write=function(gt,bt,xt){var yt=this._writableState,St=!1,pt=!yt.objectMode&&ot(gt);return pt&&!tt.isBuffer(gt)&&(gt=it(gt)),typeof bt=="function"&&(xt=bt,bt=null),pt?bt="buffer":bt||(bt=yt.defaultEncoding),typeof xt!="function"&&(xt=at),yt.ended?mt(this,xt):(pt||ht(this,yt,gt,xt))&&(yt.pendingcb++,St=Et(this,yt,pt,gt,bt,xt)),St},ft.prototype.cork=function(){var gt=this._writableState;gt.corked++},ft.prototype.uncork=function(){var gt=this._writableState;gt.corked&&(gt.corked--,!gt.writing&&!gt.corked&&!gt.bufferProcessing&&gt.bufferedRequest&&Vt(this,gt))},ft.prototype.setDefaultEncoding=function(bt){if(typeof bt=="string"&&(bt=bt.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((bt+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+bt);return this._writableState.defaultEncoding=bt,this};function vt(gt,bt,xt){return!gt.objectMode&&gt.decodeStrings!==!1&&typeof bt=="string"&&(bt=tt.from(bt,xt)),bt}Object.defineProperty(ft.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Et(gt,bt,xt,yt,St,pt){if(!xt){var Tt=vt(bt,yt,St);yt!==Tt&&(xt=!0,St="buffer",yt=Tt)}var Ht=bt.objectMode?1:yt.length;bt.length+=Ht;var Wt=bt.length<bt.highWaterMark;if(Wt||(bt.needDrain=!0),bt.writing||bt.corked){var Ut=bt.lastBufferedRequest;bt.lastBufferedRequest={chunk:yt,encoding:St,isBuf:xt,callback:pt,next:null},Ut?Ut.next=bt.lastBufferedRequest:bt.bufferedRequest=bt.lastBufferedRequest,bt.bufferedRequestCount+=1}else At(gt,bt,!1,Ht,yt,St,pt);return Wt}function At(gt,bt,xt,yt,St,pt,Tt){bt.writelen=yt,bt.writecb=Tt,bt.writing=!0,bt.sync=!0,xt?gt._writev(St,bt.onwrite):gt._write(St,pt,bt.onwrite),bt.sync=!1}function Ct(gt,bt,xt,yt,St){--bt.pendingcb,xt?(o.nextTick(St,yt),o.nextTick(ct,gt,bt),gt._writableState.errorEmitted=!0,gt.emit("error",yt)):(St(yt),gt._writableState.errorEmitted=!0,gt.emit("error",yt),ct(gt,bt))}function Mt(gt){gt.writing=!1,gt.writecb=null,gt.length-=gt.writelen,gt.writelen=0}function Bt(gt,bt){var xt=gt._writableState,yt=xt.sync,St=xt.writecb;if(Mt(xt),bt)Ct(gt,xt,yt,bt,St);else{var pt=Nt(xt);!pt&&!xt.corked&&!xt.bufferProcessing&&xt.bufferedRequest&&Vt(gt,xt),yt?a(Lt,gt,xt,pt,St):Lt(gt,xt,pt,St)}}function Lt(gt,bt,xt,yt){xt||jt(gt,bt),bt.pendingcb--,yt(),ct(gt,bt)}function jt(gt,bt){bt.length===0&&bt.needDrain&&(bt.needDrain=!1,gt.emit("drain"))}function Vt(gt,bt){bt.bufferProcessing=!0;var xt=bt.bufferedRequest;if(gt._writev&&xt&&xt.next){var yt=bt.bufferedRequestCount,St=new Array(yt),pt=bt.corkedRequestsFree;pt.entry=xt;for(var Tt=0,Ht=!0;xt;)St[Tt]=xt,xt.isBuf||(Ht=!1),xt=xt.next,Tt+=1;St.allBuffers=Ht,At(gt,bt,!0,bt.length,St,"",pt.finish),bt.pendingcb++,bt.lastBufferedRequest=null,pt.next?(bt.corkedRequestsFree=pt.next,pt.next=null):bt.corkedRequestsFree=new e(bt),bt.bufferedRequestCount=0}else{for(;xt;){var Wt=xt.chunk,Ut=xt.encoding,Rt=xt.callback,$t=bt.objectMode?1:Wt.length;if(At(gt,bt,!1,$t,Wt,Ut,Rt),xt=xt.next,bt.bufferedRequestCount--,bt.writing)break}xt===null&&(bt.lastBufferedRequest=null)}bt.bufferedRequest=xt,bt.bufferProcessing=!1}ft.prototype._write=function(gt,bt,xt){xt(new Error("_write() is not implemented"))},ft.prototype._writev=null,ft.prototype.end=function(gt,bt,xt){var yt=this._writableState;typeof gt=="function"?(xt=gt,gt=null,bt=null):typeof bt=="function"&&(xt=bt,bt=null),gt!=null&&this.write(gt,bt),yt.corked&&(yt.corked=1,this.uncork()),yt.ending||dt(this,yt,xt)};function Nt(gt){return gt.ending&&gt.length===0&&gt.bufferedRequest===null&&!gt.finished&&!gt.writing}function kt(gt,bt){gt._final(function(xt){bt.pendingcb--,xt&&gt.emit("error",xt),bt.prefinished=!0,gt.emit("prefinish"),ct(gt,bt)})}function _t(gt,bt){!bt.prefinished&&!bt.finalCalled&&(typeof gt._final=="function"?(bt.pendingcb++,bt.finalCalled=!0,o.nextTick(kt,gt,bt)):(bt.prefinished=!0,gt.emit("prefinish")))}function ct(gt,bt){var xt=Nt(bt);return xt&&(_t(gt,bt),bt.pendingcb===0&&(bt.finished=!0,gt.emit("finish"))),xt}function dt(gt,bt,xt){bt.ending=!0,ct(gt,bt),xt&&(bt.finished?o.nextTick(xt):gt.once("finish",xt)),bt.ended=!0,gt.writable=!1}function wt(gt,bt,xt){var yt=gt.entry;for(gt.entry=null;yt;){var St=yt.callback;bt.pendingcb--,St(xt),yt=yt.next}bt.corkedRequestsFree.next=gt}return Object.defineProperty(ft.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(gt){this._writableState&&(this._writableState.destroyed=gt)}}),ft.prototype.destroy=st.destroy,ft.prototype._undestroy=st.undestroy,ft.prototype._destroy=function(gt,bt){this.end(),bt(gt)},_stream_writable}var _stream_duplex,hasRequired_stream_duplex;function require_stream_duplex(){if(hasRequired_stream_duplex)return _stream_duplex;hasRequired_stream_duplex=1;var o=requireProcessNextickArgs(),e=Object.keys||function(st){var at=[];for(var lt in st)at.push(lt);return at};_stream_duplex=nt;var a=Object.create(requireUtil());a.inherits=inherits_browserExports;var _=require_stream_readable(),b=require_stream_writable();a.inherits(nt,_);for(var _e=e(b.prototype),et=0;et<_e.length;et++){var tt=_e[et];nt.prototype[tt]||(nt.prototype[tt]=b.prototype[tt])}function nt(st){if(!(this instanceof nt))return new nt(st);_.call(this,st),b.call(this,st),st&&st.readable===!1&&(this.readable=!1),st&&st.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,st&&st.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",it)}Object.defineProperty(nt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function it(){this.allowHalfOpen||this._writableState.ended||o.nextTick(ot,this)}function ot(st){st.end()}return Object.defineProperty(nt.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(st){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=st,this._writableState.destroyed=st)}}),nt.prototype._destroy=function(st,at){this.push(null),this.end(),o.nextTick(at,st)},_stream_duplex}var _stream_readable,hasRequired_stream_readable;function require_stream_readable(){if(hasRequired_stream_readable)return _stream_readable;hasRequired_stream_readable=1;var o=requireProcessNextickArgs();_stream_readable=vt;var e=requireIsarray(),a;vt.ReadableState=ht,requireEvents().EventEmitter;var _=function(Rt,$t){return Rt.listeners($t).length},b=requireStreamBrowser(),_e=requireSafeBuffer().Buffer,et=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function tt(Rt){return _e.from(Rt)}function nt(Rt){return _e.isBuffer(Rt)||Rt instanceof et}var it=Object.create(requireUtil());it.inherits=inherits_browserExports;var ot=requireUtil$1(),st=void 0;ot&&ot.debuglog?st=ot.debuglog("stream"):st=function(){};var at=requireBufferList(),lt=requireDestroy(),ut;it.inherits(vt,b);var ft=["error","close","destroy","pause","resume"];function mt(Rt,$t,Ft){if(typeof Rt.prependListener=="function")return Rt.prependListener($t,Ft);!Rt._events||!Rt._events[$t]?Rt.on($t,Ft):e(Rt._events[$t])?Rt._events[$t].unshift(Ft):Rt._events[$t]=[Ft,Rt._events[$t]]}function ht(Rt,$t){a=a||require_stream_duplex(),Rt=Rt||{};var Ft=$t instanceof a;this.objectMode=!!Rt.objectMode,Ft&&(this.objectMode=this.objectMode||!!Rt.readableObjectMode);var Kt=Rt.highWaterMark,Dt=Rt.readableHighWaterMark,Ot=this.objectMode?16:16*1024;Kt||Kt===0?this.highWaterMark=Kt:Ft&&(Dt||Dt===0)?this.highWaterMark=Dt:this.highWaterMark=Ot,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new at,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=Rt.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Rt.encoding&&(ut||(ut=requireString_decoder().StringDecoder),this.decoder=new ut(Rt.encoding),this.encoding=Rt.encoding)}function vt(Rt){if(a=a||require_stream_duplex(),!(this instanceof vt))return new vt(Rt);this._readableState=new ht(Rt,this),this.readable=!0,Rt&&(typeof Rt.read=="function"&&(this._read=Rt.read),typeof Rt.destroy=="function"&&(this._destroy=Rt.destroy)),b.call(this)}Object.defineProperty(vt.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(Rt){this._readableState&&(this._readableState.destroyed=Rt)}}),vt.prototype.destroy=lt.destroy,vt.prototype._undestroy=lt.undestroy,vt.prototype._destroy=function(Rt,$t){this.push(null),$t(Rt)},vt.prototype.push=function(Rt,$t){var Ft=this._readableState,Kt;return Ft.objectMode?Kt=!0:typeof Rt=="string"&&($t=$t||Ft.defaultEncoding,$t!==Ft.encoding&&(Rt=_e.from(Rt,$t),$t=""),Kt=!0),Et(this,Rt,$t,!1,Kt)},vt.prototype.unshift=function(Rt){return Et(this,Rt,null,!0,!1)};function Et(Rt,$t,Ft,Kt,Dt){var Ot=Rt._readableState;if($t===null)Ot.reading=!1,Vt(Rt,Ot);else{var Gt;Dt||(Gt=Ct(Ot,$t)),Gt?Rt.emit("error",Gt):Ot.objectMode||$t&&$t.length>0?(typeof $t!="string"&&!Ot.objectMode&&Object.getPrototypeOf($t)!==_e.prototype&&($t=tt($t)),Kt?Ot.endEmitted?Rt.emit("error",new Error("stream.unshift() after end event")):At(Rt,Ot,$t,!0):Ot.ended?Rt.emit("error",new Error("stream.push() after EOF")):(Ot.reading=!1,Ot.decoder&&!Ft?($t=Ot.decoder.write($t),Ot.objectMode||$t.length!==0?At(Rt,Ot,$t,!1):_t(Rt,Ot)):At(Rt,Ot,$t,!1))):Kt||(Ot.reading=!1)}return Mt(Ot)}function At(Rt,$t,Ft,Kt){$t.flowing&&$t.length===0&&!$t.sync?(Rt.emit("data",Ft),Rt.read(0)):($t.length+=$t.objectMode?1:Ft.length,Kt?$t.buffer.unshift(Ft):$t.buffer.push(Ft),$t.needReadable&&Nt(Rt)),_t(Rt,$t)}function Ct(Rt,$t){var Ft;return!nt($t)&&typeof $t!="string"&&$t!==void 0&&!Rt.objectMode&&(Ft=new TypeError("Invalid non-string/buffer chunk")),Ft}function Mt(Rt){return!Rt.ended&&(Rt.needReadable||Rt.length<Rt.highWaterMark||Rt.length===0)}vt.prototype.isPaused=function(){return this._readableState.flowing===!1},vt.prototype.setEncoding=function(Rt){return ut||(ut=requireString_decoder().StringDecoder),this._readableState.decoder=new ut(Rt),this._readableState.encoding=Rt,this};var Bt=8388608;function Lt(Rt){return Rt>=Bt?Rt=Bt:(Rt--,Rt|=Rt>>>1,Rt|=Rt>>>2,Rt|=Rt>>>4,Rt|=Rt>>>8,Rt|=Rt>>>16,Rt++),Rt}function jt(Rt,$t){return Rt<=0||$t.length===0&&$t.ended?0:$t.objectMode?1:Rt!==Rt?$t.flowing&&$t.length?$t.buffer.head.data.length:$t.length:(Rt>$t.highWaterMark&&($t.highWaterMark=Lt(Rt)),Rt<=$t.length?Rt:$t.ended?$t.length:($t.needReadable=!0,0))}vt.prototype.read=function(Rt){st("read",Rt),Rt=parseInt(Rt,10);var $t=this._readableState,Ft=Rt;if(Rt!==0&&($t.emittedReadable=!1),Rt===0&&$t.needReadable&&($t.length>=$t.highWaterMark||$t.ended))return st("read: emitReadable",$t.length,$t.ended),$t.length===0&&$t.ended?Ht(this):Nt(this),null;if(Rt=jt(Rt,$t),Rt===0&&$t.ended)return $t.length===0&&Ht(this),null;var Kt=$t.needReadable;st("need readable",Kt),($t.length===0||$t.length-Rt<$t.highWaterMark)&&(Kt=!0,st("length less than watermark",Kt)),$t.ended||$t.reading?(Kt=!1,st("reading or ended",Kt)):Kt&&(st("do read"),$t.reading=!0,$t.sync=!0,$t.length===0&&($t.needReadable=!0),this._read($t.highWaterMark),$t.sync=!1,$t.reading||(Rt=jt(Ft,$t)));var Dt;return Rt>0?Dt=yt(Rt,$t):Dt=null,Dt===null?($t.needReadable=!0,Rt=0):$t.length-=Rt,$t.length===0&&($t.ended||($t.needReadable=!0),Ft!==Rt&&$t.ended&&Ht(this)),Dt!==null&&this.emit("data",Dt),Dt};function Vt(Rt,$t){if(!$t.ended){if($t.decoder){var Ft=$t.decoder.end();Ft&&Ft.length&&($t.buffer.push(Ft),$t.length+=$t.objectMode?1:Ft.length)}$t.ended=!0,Nt(Rt)}}function Nt(Rt){var $t=Rt._readableState;$t.needReadable=!1,$t.emittedReadable||(st("emitReadable",$t.flowing),$t.emittedReadable=!0,$t.sync?o.nextTick(kt,Rt):kt(Rt))}function kt(Rt){st("emit readable"),Rt.emit("readable"),xt(Rt)}function _t(Rt,$t){$t.readingMore||($t.readingMore=!0,o.nextTick(ct,Rt,$t))}function ct(Rt,$t){for(var Ft=$t.length;!$t.reading&&!$t.flowing&&!$t.ended&&$t.length<$t.highWaterMark&&(st("maybeReadMore read 0"),Rt.read(0),Ft!==$t.length);)Ft=$t.length;$t.readingMore=!1}vt.prototype._read=function(Rt){this.emit("error",new Error("_read() is not implemented"))},vt.prototype.pipe=function(Rt,$t){var Ft=this,Kt=this._readableState;switch(Kt.pipesCount){case 0:Kt.pipes=Rt;break;case 1:Kt.pipes=[Kt.pipes,Rt];break;default:Kt.pipes.push(Rt);break}Kt.pipesCount+=1,st("pipe count=%d opts=%j",Kt.pipesCount,$t);var Dt=(!$t||$t.end!==!1)&&Rt!==process$1$1.stdout&&Rt!==process$1$1.stderr,Ot=Dt?Jt:cr;Kt.endEmitted?o.nextTick(Ot):Ft.once("end",Ot),Rt.on("unpipe",Gt);function Gt(ir,Er){st("onunpipe"),ir===Ft&&Er&&Er.hasUnpiped===!1&&(Er.hasUnpiped=!0,or())}function Jt(){st("onend"),Rt.end()}var er=dt(Ft);Rt.on("drain",er);var nr=!1;function or(){st("cleanup"),Rt.removeListener("close",rr),Rt.removeListener("finish",Sr),Rt.removeListener("drain",er),Rt.removeListener("error",fr),Rt.removeListener("unpipe",Gt),Ft.removeListener("end",Jt),Ft.removeListener("end",cr),Ft.removeListener("data",Qt),nr=!0,Kt.awaitDrain&&(!Rt._writableState||Rt._writableState.needDrain)&&er()}var sr=!1;Ft.on("data",Qt);function Qt(ir){st("ondata"),sr=!1;var Er=Rt.write(ir);Er===!1&&!sr&&((Kt.pipesCount===1&&Kt.pipes===Rt||Kt.pipesCount>1&&Ut(Kt.pipes,Rt)!==-1)&&!nr&&(st("false write response, pause",Kt.awaitDrain),Kt.awaitDrain++,sr=!0),Ft.pause())}function fr(ir){st("onerror",ir),cr(),Rt.removeListener("error",fr),_(Rt,"error")===0&&Rt.emit("error",ir)}mt(Rt,"error",fr);function rr(){Rt.removeListener("finish",Sr),cr()}Rt.once("close",rr);function Sr(){st("onfinish"),Rt.removeListener("close",rr),cr()}Rt.once("finish",Sr);function cr(){st("unpipe"),Ft.unpipe(Rt)}return Rt.emit("pipe",Ft),Kt.flowing||(st("pipe resume"),Ft.resume()),Rt};function dt(Rt){return function(){var $t=Rt._readableState;st("pipeOnDrain",$t.awaitDrain),$t.awaitDrain&&$t.awaitDrain--,$t.awaitDrain===0&&_(Rt,"data")&&($t.flowing=!0,xt(Rt))}}vt.prototype.unpipe=function(Rt){var $t=this._readableState,Ft={hasUnpiped:!1};if($t.pipesCount===0)return this;if($t.pipesCount===1)return Rt&&Rt!==$t.pipes?this:(Rt||(Rt=$t.pipes),$t.pipes=null,$t.pipesCount=0,$t.flowing=!1,Rt&&Rt.emit("unpipe",this,Ft),this);if(!Rt){var Kt=$t.pipes,Dt=$t.pipesCount;$t.pipes=null,$t.pipesCount=0,$t.flowing=!1;for(var Ot=0;Ot<Dt;Ot++)Kt[Ot].emit("unpipe",this,{hasUnpiped:!1});return this}var Gt=Ut($t.pipes,Rt);return Gt===-1?this:($t.pipes.splice(Gt,1),$t.pipesCount-=1,$t.pipesCount===1&&($t.pipes=$t.pipes[0]),Rt.emit("unpipe",this,Ft),this)},vt.prototype.on=function(Rt,$t){var Ft=b.prototype.on.call(this,Rt,$t);if(Rt==="data")this._readableState.flowing!==!1&&this.resume();else if(Rt==="readable"){var Kt=this._readableState;!Kt.endEmitted&&!Kt.readableListening&&(Kt.readableListening=Kt.needReadable=!0,Kt.emittedReadable=!1,Kt.reading?Kt.length&&Nt(this):o.nextTick(wt,this))}return Ft},vt.prototype.addListener=vt.prototype.on;function wt(Rt){st("readable nexttick read 0"),Rt.read(0)}vt.prototype.resume=function(){var Rt=this._readableState;return Rt.flowing||(st("resume"),Rt.flowing=!0,gt(this,Rt)),this};function gt(Rt,$t){$t.resumeScheduled||($t.resumeScheduled=!0,o.nextTick(bt,Rt,$t))}function bt(Rt,$t){$t.reading||(st("resume read 0"),Rt.read(0)),$t.resumeScheduled=!1,$t.awaitDrain=0,Rt.emit("resume"),xt(Rt),$t.flowing&&!$t.reading&&Rt.read(0)}vt.prototype.pause=function(){return st("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(st("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function xt(Rt){var $t=Rt._readableState;for(st("flow",$t.flowing);$t.flowing&&Rt.read()!==null;);}vt.prototype.wrap=function(Rt){var $t=this,Ft=this._readableState,Kt=!1;Rt.on("end",function(){if(st("wrapped end"),Ft.decoder&&!Ft.ended){var Gt=Ft.decoder.end();Gt&&Gt.length&&$t.push(Gt)}$t.push(null)}),Rt.on("data",function(Gt){if(st("wrapped data"),Ft.decoder&&(Gt=Ft.decoder.write(Gt)),!(Ft.objectMode&&Gt==null)&&!(!Ft.objectMode&&(!Gt||!Gt.length))){var Jt=$t.push(Gt);Jt||(Kt=!0,Rt.pause())}});for(var Dt in Rt)this[Dt]===void 0&&typeof Rt[Dt]=="function"&&(this[Dt]=function(Gt){return function(){return Rt[Gt].apply(Rt,arguments)}}(Dt));for(var Ot=0;Ot<ft.length;Ot++)Rt.on(ft[Ot],this.emit.bind(this,ft[Ot]));return this._read=function(Gt){st("wrapped _read",Gt),Kt&&(Kt=!1,Rt.resume())},this},Object.defineProperty(vt.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),vt._fromList=yt;function yt(Rt,$t){if($t.length===0)return null;var Ft;return $t.objectMode?Ft=$t.buffer.shift():!Rt||Rt>=$t.length?($t.decoder?Ft=$t.buffer.join(""):$t.buffer.length===1?Ft=$t.buffer.head.data:Ft=$t.buffer.concat($t.length),$t.buffer.clear()):Ft=St(Rt,$t.buffer,$t.decoder),Ft}function St(Rt,$t,Ft){var Kt;return Rt<$t.head.data.length?(Kt=$t.head.data.slice(0,Rt),$t.head.data=$t.head.data.slice(Rt)):Rt===$t.head.data.length?Kt=$t.shift():Kt=Ft?pt(Rt,$t):Tt(Rt,$t),Kt}function pt(Rt,$t){var Ft=$t.head,Kt=1,Dt=Ft.data;for(Rt-=Dt.length;Ft=Ft.next;){var Ot=Ft.data,Gt=Rt>Ot.length?Ot.length:Rt;if(Gt===Ot.length?Dt+=Ot:Dt+=Ot.slice(0,Rt),Rt-=Gt,Rt===0){Gt===Ot.length?(++Kt,Ft.next?$t.head=Ft.next:$t.head=$t.tail=null):($t.head=Ft,Ft.data=Ot.slice(Gt));break}++Kt}return $t.length-=Kt,Dt}function Tt(Rt,$t){var Ft=_e.allocUnsafe(Rt),Kt=$t.head,Dt=1;for(Kt.data.copy(Ft),Rt-=Kt.data.length;Kt=Kt.next;){var Ot=Kt.data,Gt=Rt>Ot.length?Ot.length:Rt;if(Ot.copy(Ft,Ft.length-Rt,0,Gt),Rt-=Gt,Rt===0){Gt===Ot.length?(++Dt,Kt.next?$t.head=Kt.next:$t.head=$t.tail=null):($t.head=Kt,Kt.data=Ot.slice(Gt));break}++Dt}return $t.length-=Dt,Ft}function Ht(Rt){var $t=Rt._readableState;if($t.length>0)throw new Error('"endReadable()" called on non-empty stream');$t.endEmitted||($t.ended=!0,o.nextTick(Wt,$t,Rt))}function Wt(Rt,$t){!Rt.endEmitted&&Rt.length===0&&(Rt.endEmitted=!0,$t.readable=!1,$t.emit("end"))}function Ut(Rt,$t){for(var Ft=0,Kt=Rt.length;Ft<Kt;Ft++)if(Rt[Ft]===$t)return Ft;return-1}return _stream_readable}var _stream_transform,hasRequired_stream_transform;function require_stream_transform(){if(hasRequired_stream_transform)return _stream_transform;hasRequired_stream_transform=1,_stream_transform=_;var o=require_stream_duplex(),e=Object.create(requireUtil());e.inherits=inherits_browserExports,e.inherits(_,o);function a(et,tt){var nt=this._transformState;nt.transforming=!1;var it=nt.writecb;if(!it)return this.emit("error",new Error("write callback called multiple times"));nt.writechunk=null,nt.writecb=null,tt!=null&&this.push(tt),it(et);var ot=this._readableState;ot.reading=!1,(ot.needReadable||ot.length<ot.highWaterMark)&&this._read(ot.highWaterMark)}function _(et){if(!(this instanceof _))return new _(et);o.call(this,et),this._transformState={afterTransform:a.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,et&&(typeof et.transform=="function"&&(this._transform=et.transform),typeof et.flush=="function"&&(this._flush=et.flush)),this.on("prefinish",b)}function b(){var et=this;typeof this._flush=="function"?this._flush(function(tt,nt){_e(et,tt,nt)}):_e(this,null,null)}_.prototype.push=function(et,tt){return this._transformState.needTransform=!1,o.prototype.push.call(this,et,tt)},_.prototype._transform=function(et,tt,nt){throw new Error("_transform() is not implemented")},_.prototype._write=function(et,tt,nt){var it=this._transformState;if(it.writecb=nt,it.writechunk=et,it.writeencoding=tt,!it.transforming){var ot=this._readableState;(it.needTransform||ot.needReadable||ot.length<ot.highWaterMark)&&this._read(ot.highWaterMark)}},_.prototype._read=function(et){var tt=this._transformState;tt.writechunk!==null&&tt.writecb&&!tt.transforming?(tt.transforming=!0,this._transform(tt.writechunk,tt.writeencoding,tt.afterTransform)):tt.needTransform=!0},_.prototype._destroy=function(et,tt){var nt=this;o.prototype._destroy.call(this,et,function(it){tt(it),nt.emit("close")})};function _e(et,tt,nt){if(tt)return et.emit("error",tt);if(nt!=null&&et.push(nt),et._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(et._transformState.transforming)throw new Error("Calling transform done when still transforming");return et.push(null)}return _stream_transform}var _stream_passthrough,hasRequired_stream_passthrough;function require_stream_passthrough(){if(hasRequired_stream_passthrough)return _stream_passthrough;hasRequired_stream_passthrough=1,_stream_passthrough=a;var o=require_stream_transform(),e=Object.create(requireUtil());e.inherits=inherits_browserExports,e.inherits(a,o);function a(_){if(!(this instanceof a))return new a(_);o.call(this,_)}return a.prototype._transform=function(_,b,_e){_e(null,_)},_stream_passthrough}var hasRequiredReadableBrowser;function requireReadableBrowser(){return hasRequiredReadableBrowser||(hasRequiredReadableBrowser=1,function(o,e){e=o.exports=require_stream_readable(),e.Stream=e,e.Readable=e,e.Writable=require_stream_writable(),e.Duplex=require_stream_duplex(),e.Transform=require_stream_transform(),e.PassThrough=require_stream_passthrough()}(readableBrowser,readableBrowser.exports)),readableBrowser.exports}var sign$1={exports:{}},bn$1={exports:{}};bn$1.exports;var hasRequiredBn$1;function requireBn$1(){return hasRequiredBn$1||(hasRequiredBn$1=1,function(o){(function(e,a){function _(_t,ct){if(!_t)throw new Error(ct||"Assertion failed")}function b(_t,ct){_t.super_=ct;var dt=function(){};dt.prototype=ct.prototype,_t.prototype=new dt,_t.prototype.constructor=_t}function _e(_t,ct,dt){if(_e.isBN(_t))return _t;this.negative=0,this.words=null,this.length=0,this.red=null,_t!==null&&((ct==="le"||ct==="be")&&(dt=ct,ct=10),this._init(_t||0,ct||10,dt||"be"))}typeof e=="object"?e.exports=_e:a.BN=_e,_e.BN=_e,_e.wordSize=26;var et;try{typeof window<"u"&&typeof window.Buffer<"u"?et=window.Buffer:et=require$$1$2.Buffer}catch{}_e.isBN=function(ct){return ct instanceof _e?!0:ct!==null&&typeof ct=="object"&&ct.constructor.wordSize===_e.wordSize&&Array.isArray(ct.words)},_e.max=function(ct,dt){return ct.cmp(dt)>0?ct:dt},_e.min=function(ct,dt){return ct.cmp(dt)<0?ct:dt},_e.prototype._init=function(ct,dt,wt){if(typeof ct=="number")return this._initNumber(ct,dt,wt);if(typeof ct=="object")return this._initArray(ct,dt,wt);dt==="hex"&&(dt=16),_(dt===(dt|0)&&dt>=2&&dt<=36),ct=ct.toString().replace(/\s+/g,"");var gt=0;ct[0]==="-"&&(gt++,this.negative=1),gt<ct.length&&(dt===16?this._parseHex(ct,gt,wt):(this._parseBase(ct,dt,gt),wt==="le"&&this._initArray(this.toArray(),dt,wt)))},_e.prototype._initNumber=function(ct,dt,wt){ct<0&&(this.negative=1,ct=-ct),ct<67108864?(this.words=[ct&67108863],this.length=1):ct<4503599627370496?(this.words=[ct&67108863,ct/67108864&67108863],this.length=2):(_(ct<9007199254740992),this.words=[ct&67108863,ct/67108864&67108863,1],this.length=3),wt==="le"&&this._initArray(this.toArray(),dt,wt)},_e.prototype._initArray=function(ct,dt,wt){if(_(typeof ct.length=="number"),ct.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(ct.length/3),this.words=new Array(this.length);for(var gt=0;gt<this.length;gt++)this.words[gt]=0;var bt,xt,yt=0;if(wt==="be")for(gt=ct.length-1,bt=0;gt>=0;gt-=3)xt=ct[gt]|ct[gt-1]<<8|ct[gt-2]<<16,this.words[bt]|=xt<<yt&67108863,this.words[bt+1]=xt>>>26-yt&67108863,yt+=24,yt>=26&&(yt-=26,bt++);else if(wt==="le")for(gt=0,bt=0;gt<ct.length;gt+=3)xt=ct[gt]|ct[gt+1]<<8|ct[gt+2]<<16,this.words[bt]|=xt<<yt&67108863,this.words[bt+1]=xt>>>26-yt&67108863,yt+=24,yt>=26&&(yt-=26,bt++);return this._strip()};function tt(_t,ct){var dt=_t.charCodeAt(ct);if(dt>=48&&dt<=57)return dt-48;if(dt>=65&&dt<=70)return dt-55;if(dt>=97&&dt<=102)return dt-87;_(!1,"Invalid character in "+_t)}function nt(_t,ct,dt){var wt=tt(_t,dt);return dt-1>=ct&&(wt|=tt(_t,dt-1)<<4),wt}_e.prototype._parseHex=function(ct,dt,wt){this.length=Math.ceil((ct.length-dt)/6),this.words=new Array(this.length);for(var gt=0;gt<this.length;gt++)this.words[gt]=0;var bt=0,xt=0,yt;if(wt==="be")for(gt=ct.length-1;gt>=dt;gt-=2)yt=nt(ct,dt,gt)<<bt,this.words[xt]|=yt&67108863,bt>=18?(bt-=18,xt+=1,this.words[xt]|=yt>>>26):bt+=8;else{var St=ct.length-dt;for(gt=St%2===0?dt+1:dt;gt<ct.length;gt+=2)yt=nt(ct,dt,gt)<<bt,this.words[xt]|=yt&67108863,bt>=18?(bt-=18,xt+=1,this.words[xt]|=yt>>>26):bt+=8}this._strip()};function it(_t,ct,dt,wt){for(var gt=0,bt=0,xt=Math.min(_t.length,dt),yt=ct;yt<xt;yt++){var St=_t.charCodeAt(yt)-48;gt*=wt,St>=49?bt=St-49+10:St>=17?bt=St-17+10:bt=St,_(St>=0&&bt<wt,"Invalid character"),gt+=bt}return gt}_e.prototype._parseBase=function(ct,dt,wt){this.words=[0],this.length=1;for(var gt=0,bt=1;bt<=67108863;bt*=dt)gt++;gt--,bt=bt/dt|0;for(var xt=ct.length-wt,yt=xt%gt,St=Math.min(xt,xt-yt)+wt,pt=0,Tt=wt;Tt<St;Tt+=gt)pt=it(ct,Tt,Tt+gt,dt),this.imuln(bt),this.words[0]+pt<67108864?this.words[0]+=pt:this._iaddn(pt);if(yt!==0){var Ht=1;for(pt=it(ct,Tt,ct.length,dt),Tt=0;Tt<yt;Tt++)Ht*=dt;this.imuln(Ht),this.words[0]+pt<67108864?this.words[0]+=pt:this._iaddn(pt)}this._strip()},_e.prototype.copy=function(ct){ct.words=new Array(this.length);for(var dt=0;dt<this.length;dt++)ct.words[dt]=this.words[dt];ct.length=this.length,ct.negative=this.negative,ct.red=this.red};function ot(_t,ct){_t.words=ct.words,_t.length=ct.length,_t.negative=ct.negative,_t.red=ct.red}if(_e.prototype._move=function(ct){ot(ct,this)},_e.prototype.clone=function(){var ct=new _e(null);return this.copy(ct),ct},_e.prototype._expand=function(ct){for(;this.length<ct;)this.words[this.length++]=0;return this},_e.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},_e.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{_e.prototype[Symbol.for("nodejs.util.inspect.custom")]=st}catch{_e.prototype.inspect=st}else _e.prototype.inspect=st;function st(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var at=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],lt=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],ut=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];_e.prototype.toString=function(ct,dt){ct=ct||10,dt=dt|0||1;var wt;if(ct===16||ct==="hex"){wt="";for(var gt=0,bt=0,xt=0;xt<this.length;xt++){var yt=this.words[xt],St=((yt<<gt|bt)&16777215).toString(16);bt=yt>>>24-gt&16777215,gt+=2,gt>=26&&(gt-=26,xt--),bt!==0||xt!==this.length-1?wt=at[6-St.length]+St+wt:wt=St+wt}for(bt!==0&&(wt=bt.toString(16)+wt);wt.length%dt!==0;)wt="0"+wt;return this.negative!==0&&(wt="-"+wt),wt}if(ct===(ct|0)&&ct>=2&&ct<=36){var pt=lt[ct],Tt=ut[ct];wt="";var Ht=this.clone();for(Ht.negative=0;!Ht.isZero();){var Wt=Ht.modrn(Tt).toString(ct);Ht=Ht.idivn(Tt),Ht.isZero()?wt=Wt+wt:wt=at[pt-Wt.length]+Wt+wt}for(this.isZero()&&(wt="0"+wt);wt.length%dt!==0;)wt="0"+wt;return this.negative!==0&&(wt="-"+wt),wt}_(!1,"Base should be between 2 and 36")},_e.prototype.toNumber=function(){var ct=this.words[0];return this.length===2?ct+=this.words[1]*67108864:this.length===3&&this.words[2]===1?ct+=4503599627370496+this.words[1]*67108864:this.length>2&&_(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-ct:ct},_e.prototype.toJSON=function(){return this.toString(16,2)},et&&(_e.prototype.toBuffer=function(ct,dt){return this.toArrayLike(et,ct,dt)}),_e.prototype.toArray=function(ct,dt){return this.toArrayLike(Array,ct,dt)};var ft=function(ct,dt){return ct.allocUnsafe?ct.allocUnsafe(dt):new ct(dt)};_e.prototype.toArrayLike=function(ct,dt,wt){this._strip();var gt=this.byteLength(),bt=wt||Math.max(1,gt);_(gt<=bt,"byte array longer than desired length"),_(bt>0,"Requested array length <= 0");var xt=ft(ct,bt),yt=dt==="le"?"LE":"BE";return this["_toArrayLike"+yt](xt,gt),xt},_e.prototype._toArrayLikeLE=function(ct,dt){for(var wt=0,gt=0,bt=0,xt=0;bt<this.length;bt++){var yt=this.words[bt]<<xt|gt;ct[wt++]=yt&255,wt<ct.length&&(ct[wt++]=yt>>8&255),wt<ct.length&&(ct[wt++]=yt>>16&255),xt===6?(wt<ct.length&&(ct[wt++]=yt>>24&255),gt=0,xt=0):(gt=yt>>>24,xt+=2)}if(wt<ct.length)for(ct[wt++]=gt;wt<ct.length;)ct[wt++]=0},_e.prototype._toArrayLikeBE=function(ct,dt){for(var wt=ct.length-1,gt=0,bt=0,xt=0;bt<this.length;bt++){var yt=this.words[bt]<<xt|gt;ct[wt--]=yt&255,wt>=0&&(ct[wt--]=yt>>8&255),wt>=0&&(ct[wt--]=yt>>16&255),xt===6?(wt>=0&&(ct[wt--]=yt>>24&255),gt=0,xt=0):(gt=yt>>>24,xt+=2)}if(wt>=0)for(ct[wt--]=gt;wt>=0;)ct[wt--]=0},Math.clz32?_e.prototype._countBits=function(ct){return 32-Math.clz32(ct)}:_e.prototype._countBits=function(ct){var dt=ct,wt=0;return dt>=4096&&(wt+=13,dt>>>=13),dt>=64&&(wt+=7,dt>>>=7),dt>=8&&(wt+=4,dt>>>=4),dt>=2&&(wt+=2,dt>>>=2),wt+dt},_e.prototype._zeroBits=function(ct){if(ct===0)return 26;var dt=ct,wt=0;return dt&8191||(wt+=13,dt>>>=13),dt&127||(wt+=7,dt>>>=7),dt&15||(wt+=4,dt>>>=4),dt&3||(wt+=2,dt>>>=2),dt&1||wt++,wt},_e.prototype.bitLength=function(){var ct=this.words[this.length-1],dt=this._countBits(ct);return(this.length-1)*26+dt};function mt(_t){for(var ct=new Array(_t.bitLength()),dt=0;dt<ct.length;dt++){var wt=dt/26|0,gt=dt%26;ct[dt]=_t.words[wt]>>>gt&1}return ct}_e.prototype.zeroBits=function(){if(this.isZero())return 0;for(var ct=0,dt=0;dt<this.length;dt++){var wt=this._zeroBits(this.words[dt]);if(ct+=wt,wt!==26)break}return ct},_e.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},_e.prototype.toTwos=function(ct){return this.negative!==0?this.abs().inotn(ct).iaddn(1):this.clone()},_e.prototype.fromTwos=function(ct){return this.testn(ct-1)?this.notn(ct).iaddn(1).ineg():this.clone()},_e.prototype.isNeg=function(){return this.negative!==0},_e.prototype.neg=function(){return this.clone().ineg()},_e.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},_e.prototype.iuor=function(ct){for(;this.length<ct.length;)this.words[this.length++]=0;for(var dt=0;dt<ct.length;dt++)this.words[dt]=this.words[dt]|ct.words[dt];return this._strip()},_e.prototype.ior=function(ct){return _((this.negative|ct.negative)===0),this.iuor(ct)},_e.prototype.or=function(ct){return this.length>ct.length?this.clone().ior(ct):ct.clone().ior(this)},_e.prototype.uor=function(ct){return this.length>ct.length?this.clone().iuor(ct):ct.clone().iuor(this)},_e.prototype.iuand=function(ct){var dt;this.length>ct.length?dt=ct:dt=this;for(var wt=0;wt<dt.length;wt++)this.words[wt]=this.words[wt]&ct.words[wt];return this.length=dt.length,this._strip()},_e.prototype.iand=function(ct){return _((this.negative|ct.negative)===0),this.iuand(ct)},_e.prototype.and=function(ct){return this.length>ct.length?this.clone().iand(ct):ct.clone().iand(this)},_e.prototype.uand=function(ct){return this.length>ct.length?this.clone().iuand(ct):ct.clone().iuand(this)},_e.prototype.iuxor=function(ct){var dt,wt;this.length>ct.length?(dt=this,wt=ct):(dt=ct,wt=this);for(var gt=0;gt<wt.length;gt++)this.words[gt]=dt.words[gt]^wt.words[gt];if(this!==dt)for(;gt<dt.length;gt++)this.words[gt]=dt.words[gt];return this.length=dt.length,this._strip()},_e.prototype.ixor=function(ct){return _((this.negative|ct.negative)===0),this.iuxor(ct)},_e.prototype.xor=function(ct){return this.length>ct.length?this.clone().ixor(ct):ct.clone().ixor(this)},_e.prototype.uxor=function(ct){return this.length>ct.length?this.clone().iuxor(ct):ct.clone().iuxor(this)},_e.prototype.inotn=function(ct){_(typeof ct=="number"&&ct>=0);var dt=Math.ceil(ct/26)|0,wt=ct%26;this._expand(dt),wt>0&&dt--;for(var gt=0;gt<dt;gt++)this.words[gt]=~this.words[gt]&67108863;return wt>0&&(this.words[gt]=~this.words[gt]&67108863>>26-wt),this._strip()},_e.prototype.notn=function(ct){return this.clone().inotn(ct)},_e.prototype.setn=function(ct,dt){_(typeof ct=="number"&&ct>=0);var wt=ct/26|0,gt=ct%26;return this._expand(wt+1),dt?this.words[wt]=this.words[wt]|1<<gt:this.words[wt]=this.words[wt]&~(1<<gt),this._strip()},_e.prototype.iadd=function(ct){var dt;if(this.negative!==0&&ct.negative===0)return this.negative=0,dt=this.isub(ct),this.negative^=1,this._normSign();if(this.negative===0&&ct.negative!==0)return ct.negative=0,dt=this.isub(ct),ct.negative=1,dt._normSign();var wt,gt;this.length>ct.length?(wt=this,gt=ct):(wt=ct,gt=this);for(var bt=0,xt=0;xt<gt.length;xt++)dt=(wt.words[xt]|0)+(gt.words[xt]|0)+bt,this.words[xt]=dt&67108863,bt=dt>>>26;for(;bt!==0&&xt<wt.length;xt++)dt=(wt.words[xt]|0)+bt,this.words[xt]=dt&67108863,bt=dt>>>26;if(this.length=wt.length,bt!==0)this.words[this.length]=bt,this.length++;else if(wt!==this)for(;xt<wt.length;xt++)this.words[xt]=wt.words[xt];return this},_e.prototype.add=function(ct){var dt;return ct.negative!==0&&this.negative===0?(ct.negative=0,dt=this.sub(ct),ct.negative^=1,dt):ct.negative===0&&this.negative!==0?(this.negative=0,dt=ct.sub(this),this.negative=1,dt):this.length>ct.length?this.clone().iadd(ct):ct.clone().iadd(this)},_e.prototype.isub=function(ct){if(ct.negative!==0){ct.negative=0;var dt=this.iadd(ct);return ct.negative=1,dt._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(ct),this.negative=1,this._normSign();var wt=this.cmp(ct);if(wt===0)return this.negative=0,this.length=1,this.words[0]=0,this;var gt,bt;wt>0?(gt=this,bt=ct):(gt=ct,bt=this);for(var xt=0,yt=0;yt<bt.length;yt++)dt=(gt.words[yt]|0)-(bt.words[yt]|0)+xt,xt=dt>>26,this.words[yt]=dt&67108863;for(;xt!==0&&yt<gt.length;yt++)dt=(gt.words[yt]|0)+xt,xt=dt>>26,this.words[yt]=dt&67108863;if(xt===0&&yt<gt.length&&gt!==this)for(;yt<gt.length;yt++)this.words[yt]=gt.words[yt];return this.length=Math.max(this.length,yt),gt!==this&&(this.negative=1),this._strip()},_e.prototype.sub=function(ct){return this.clone().isub(ct)};function ht(_t,ct,dt){dt.negative=ct.negative^_t.negative;var wt=_t.length+ct.length|0;dt.length=wt,wt=wt-1|0;var gt=_t.words[0]|0,bt=ct.words[0]|0,xt=gt*bt,yt=xt&67108863,St=xt/67108864|0;dt.words[0]=yt;for(var pt=1;pt<wt;pt++){for(var Tt=St>>>26,Ht=St&67108863,Wt=Math.min(pt,ct.length-1),Ut=Math.max(0,pt-_t.length+1);Ut<=Wt;Ut++){var Rt=pt-Ut|0;gt=_t.words[Rt]|0,bt=ct.words[Ut]|0,xt=gt*bt+Ht,Tt+=xt/67108864|0,Ht=xt&67108863}dt.words[pt]=Ht|0,St=Tt|0}return St!==0?dt.words[pt]=St|0:dt.length--,dt._strip()}var vt=function(ct,dt,wt){var gt=ct.words,bt=dt.words,xt=wt.words,yt=0,St,pt,Tt,Ht=gt[0]|0,Wt=Ht&8191,Ut=Ht>>>13,Rt=gt[1]|0,$t=Rt&8191,Ft=Rt>>>13,Kt=gt[2]|0,Dt=Kt&8191,Ot=Kt>>>13,Gt=gt[3]|0,Jt=Gt&8191,er=Gt>>>13,nr=gt[4]|0,or=nr&8191,sr=nr>>>13,Qt=gt[5]|0,fr=Qt&8191,rr=Qt>>>13,Sr=gt[6]|0,cr=Sr&8191,ir=Sr>>>13,Er=gt[7]|0,xr=Er&8191,ur=Er>>>13,Or=gt[8]|0,kr=Or&8191,qt=Or>>>13,It=gt[9]|0,Pt=It&8191,zt=It>>>13,Zt=bt[0]|0,Yt=Zt&8191,Xt=Zt>>>13,hr=bt[1]|0,dr=hr&8191,ar=hr>>>13,Ar=bt[2]|0,lr=Ar&8191,pr=Ar>>>13,Dr=bt[3]|0,$r=Dr&8191,gr=Dr>>>13,Lr=bt[4]|0,Cr=Lr&8191,_r=Lr>>>13,jr=bt[5]|0,Ir=jr&8191,yr=jr>>>13,qr=bt[6]|0,Mr=qr&8191,vr=qr>>>13,Fr=bt[7]|0,Pr=Fr&8191,br=Fr>>>13,Ur=bt[8]|0,Nr=Ur&8191,wr=Ur>>>13,zr=bt[9]|0,Rr=zr&8191,Tr=zr>>>13;wt.negative=ct.negative^dt.negative,wt.length=19,St=Math.imul(Wt,Yt),pt=Math.imul(Wt,Xt),pt=pt+Math.imul(Ut,Yt)|0,Tt=Math.imul(Ut,Xt);var Vr=(yt+St|0)+((pt&8191)<<13)|0;yt=(Tt+(pt>>>13)|0)+(Vr>>>26)|0,Vr&=67108863,St=Math.imul($t,Yt),pt=Math.imul($t,Xt),pt=pt+Math.imul(Ft,Yt)|0,Tt=Math.imul(Ft,Xt),St=St+Math.imul(Wt,dr)|0,pt=pt+Math.imul(Wt,ar)|0,pt=pt+Math.imul(Ut,dr)|0,Tt=Tt+Math.imul(Ut,ar)|0;var Kr=(yt+St|0)+((pt&8191)<<13)|0;yt=(Tt+(pt>>>13)|0)+(Kr>>>26)|0,Kr&=67108863,St=Math.imul(Dt,Yt),pt=Math.imul(Dt,Xt),pt=pt+Math.imul(Ot,Yt)|0,Tt=Math.imul(Ot,Xt),St=St+Math.imul($t,dr)|0,pt=pt+Math.imul($t,ar)|0,pt=pt+Math.imul(Ft,dr)|0,Tt=Tt+Math.imul(Ft,ar)|0,St=St+Math.imul(Wt,lr)|0,pt=pt+Math.imul(Wt,pr)|0,pt=pt+Math.imul(Ut,lr)|0,Tt=Tt+Math.imul(Ut,pr)|0;var Wr=(yt+St|0)+((pt&8191)<<13)|0;yt=(Tt+(pt>>>13)|0)+(Wr>>>26)|0,Wr&=67108863,St=Math.imul(Jt,Yt),pt=Math.imul(Jt,Xt),pt=pt+Math.imul(er,Yt)|0,Tt=Math.imul(er,Xt),St=St+Math.imul(Dt,dr)|0,pt=pt+Math.imul(Dt,ar)|0,pt=pt+Math.imul(Ot,dr)|0,Tt=Tt+Math.imul(Ot,ar)|0,St=St+Math.imul($t,lr)|0,pt=pt+Math.imul($t,pr)|0,pt=pt+Math.imul(Ft,lr)|0,Tt=Tt+Math.imul(Ft,pr)|0,St=St+Math.imul(Wt,$r)|0,pt=pt+Math.imul(Wt,gr)|0,pt=pt+Math.imul(Ut,$r)|0,Tt=Tt+Math.imul(Ut,gr)|0;var Gr=(yt+St|0)+((pt&8191)<<13)|0;yt=(Tt+(pt>>>13)|0)+(Gr>>>26)|0,Gr&=67108863,St=Math.imul(or,Yt),pt=Math.imul(or,Xt),pt=pt+Math.imul(sr,Yt)|0,Tt=Math.imul(sr,Xt),St=St+Math.imul(Jt,dr)|0,pt=pt+Math.imul(Jt,ar)|0,pt=pt+Math.imul(er,dr)|0,Tt=Tt+Math.imul(er,ar)|0,St=St+Math.imul(Dt,lr)|0,pt=pt+Math.imul(Dt,pr)|0,pt=pt+Math.imul(Ot,lr)|0,Tt=Tt+Math.imul(Ot,pr)|0,St=St+Math.imul($t,$r)|0,pt=pt+Math.imul($t,gr)|0,pt=pt+Math.imul(Ft,$r)|0,Tt=Tt+Math.imul(Ft,gr)|0,St=St+Math.imul(Wt,Cr)|0,pt=pt+Math.imul(Wt,_r)|0,pt=pt+Math.imul(Ut,Cr)|0,Tt=Tt+Math.imul(Ut,_r)|0;var Zr=(yt+St|0)+((pt&8191)<<13)|0;yt=(Tt+(pt>>>13)|0)+(Zr>>>26)|0,Zr&=67108863,St=Math.imul(fr,Yt),pt=Math.imul(fr,Xt),pt=pt+Math.imul(rr,Yt)|0,Tt=Math.imul(rr,Xt),St=St+Math.imul(or,dr)|0,pt=pt+Math.imul(or,ar)|0,pt=pt+Math.imul(sr,dr)|0,Tt=Tt+Math.imul(sr,ar)|0,St=St+Math.imul(Jt,lr)|0,pt=pt+Math.imul(Jt,pr)|0,pt=pt+Math.imul(er,lr)|0,Tt=Tt+Math.imul(er,pr)|0,St=St+Math.imul(Dt,$r)|0,pt=pt+Math.imul(Dt,gr)|0,pt=pt+Math.imul(Ot,$r)|0,Tt=Tt+Math.imul(Ot,gr)|0,St=St+Math.imul($t,Cr)|0,pt=pt+Math.imul($t,_r)|0,pt=pt+Math.imul(Ft,Cr)|0,Tt=Tt+Math.imul(Ft,_r)|0,St=St+Math.imul(Wt,Ir)|0,pt=pt+Math.imul(Wt,yr)|0,pt=pt+Math.imul(Ut,Ir)|0,Tt=Tt+Math.imul(Ut,yr)|0;var Yr=(yt+St|0)+((pt&8191)<<13)|0;yt=(Tt+(pt>>>13)|0)+(Yr>>>26)|0,Yr&=67108863,St=Math.imul(cr,Yt),pt=Math.imul(cr,Xt),pt=pt+Math.imul(ir,Yt)|0,Tt=Math.imul(ir,Xt),St=St+Math.imul(fr,dr)|0,pt=pt+Math.imul(fr,ar)|0,pt=pt+Math.imul(rr,dr)|0,Tt=Tt+Math.imul(rr,ar)|0,St=St+Math.imul(or,lr)|0,pt=pt+Math.imul(or,pr)|0,pt=pt+Math.imul(sr,lr)|0,Tt=Tt+Math.imul(sr,pr)|0,St=St+Math.imul(Jt,$r)|0,pt=pt+Math.imul(Jt,gr)|0,pt=pt+Math.imul(er,$r)|0,Tt=Tt+Math.imul(er,gr)|0,St=St+Math.imul(Dt,Cr)|0,pt=pt+Math.imul(Dt,_r)|0,pt=pt+Math.imul(Ot,Cr)|0,Tt=Tt+Math.imul(Ot,_r)|0,St=St+Math.imul($t,Ir)|0,pt=pt+Math.imul($t,yr)|0,pt=pt+Math.imul(Ft,Ir)|0,Tt=Tt+Math.imul(Ft,yr)|0,St=St+Math.imul(Wt,Mr)|0,pt=pt+Math.imul(Wt,vr)|0,pt=pt+Math.imul(Ut,Mr)|0,Tt=Tt+Math.imul(Ut,vr)|0;var Xr=(yt+St|0)+((pt&8191)<<13)|0;yt=(Tt+(pt>>>13)|0)+(Xr>>>26)|0,Xr&=67108863,St=Math.imul(xr,Yt),pt=Math.imul(xr,Xt),pt=pt+Math.imul(ur,Yt)|0,Tt=Math.imul(ur,Xt),St=St+Math.imul(cr,dr)|0,pt=pt+Math.imul(cr,ar)|0,pt=pt+Math.imul(ir,dr)|0,Tt=Tt+Math.imul(ir,ar)|0,St=St+Math.imul(fr,lr)|0,pt=pt+Math.imul(fr,pr)|0,pt=pt+Math.imul(rr,lr)|0,Tt=Tt+Math.imul(rr,pr)|0,St=St+Math.imul(or,$r)|0,pt=pt+Math.imul(or,gr)|0,pt=pt+Math.imul(sr,$r)|0,Tt=Tt+Math.imul(sr,gr)|0,St=St+Math.imul(Jt,Cr)|0,pt=pt+Math.imul(Jt,_r)|0,pt=pt+Math.imul(er,Cr)|0,Tt=Tt+Math.imul(er,_r)|0,St=St+Math.imul(Dt,Ir)|0,pt=pt+Math.imul(Dt,yr)|0,pt=pt+Math.imul(Ot,Ir)|0,Tt=Tt+Math.imul(Ot,yr)|0,St=St+Math.imul($t,Mr)|0,pt=pt+Math.imul($t,vr)|0,pt=pt+Math.imul(Ft,Mr)|0,Tt=Tt+Math.imul(Ft,vr)|0,St=St+Math.imul(Wt,Pr)|0,pt=pt+Math.imul(Wt,br)|0,pt=pt+Math.imul(Ut,Pr)|0,Tt=Tt+Math.imul(Ut,br)|0;var Jr=(yt+St|0)+((pt&8191)<<13)|0;yt=(Tt+(pt>>>13)|0)+(Jr>>>26)|0,Jr&=67108863,St=Math.imul(kr,Yt),pt=Math.imul(kr,Xt),pt=pt+Math.imul(qt,Yt)|0,Tt=Math.imul(qt,Xt),St=St+Math.imul(xr,dr)|0,pt=pt+Math.imul(xr,ar)|0,pt=pt+Math.imul(ur,dr)|0,Tt=Tt+Math.imul(ur,ar)|0,St=St+Math.imul(cr,lr)|0,pt=pt+Math.imul(cr,pr)|0,pt=pt+Math.imul(ir,lr)|0,Tt=Tt+Math.imul(ir,pr)|0,St=St+Math.imul(fr,$r)|0,pt=pt+Math.imul(fr,gr)|0,pt=pt+Math.imul(rr,$r)|0,Tt=Tt+Math.imul(rr,gr)|0,St=St+Math.imul(or,Cr)|0,pt=pt+Math.imul(or,_r)|0,pt=pt+Math.imul(sr,Cr)|0,Tt=Tt+Math.imul(sr,_r)|0,St=St+Math.imul(Jt,Ir)|0,pt=pt+Math.imul(Jt,yr)|0,pt=pt+Math.imul(er,Ir)|0,Tt=Tt+Math.imul(er,yr)|0,St=St+Math.imul(Dt,Mr)|0,pt=pt+Math.imul(Dt,vr)|0,pt=pt+Math.imul(Ot,Mr)|0,Tt=Tt+Math.imul(Ot,vr)|0,St=St+Math.imul($t,Pr)|0,pt=pt+Math.imul($t,br)|0,pt=pt+Math.imul(Ft,Pr)|0,Tt=Tt+Math.imul(Ft,br)|0,St=St+Math.imul(Wt,Nr)|0,pt=pt+Math.imul(Wt,wr)|0,pt=pt+Math.imul(Ut,Nr)|0,Tt=Tt+Math.imul(Ut,wr)|0;var tn=(yt+St|0)+((pt&8191)<<13)|0;yt=(Tt+(pt>>>13)|0)+(tn>>>26)|0,tn&=67108863,St=Math.imul(Pt,Yt),pt=Math.imul(Pt,Xt),pt=pt+Math.imul(zt,Yt)|0,Tt=Math.imul(zt,Xt),St=St+Math.imul(kr,dr)|0,pt=pt+Math.imul(kr,ar)|0,pt=pt+Math.imul(qt,dr)|0,Tt=Tt+Math.imul(qt,ar)|0,St=St+Math.imul(xr,lr)|0,pt=pt+Math.imul(xr,pr)|0,pt=pt+Math.imul(ur,lr)|0,Tt=Tt+Math.imul(ur,pr)|0,St=St+Math.imul(cr,$r)|0,pt=pt+Math.imul(cr,gr)|0,pt=pt+Math.imul(ir,$r)|0,Tt=Tt+Math.imul(ir,gr)|0,St=St+Math.imul(fr,Cr)|0,pt=pt+Math.imul(fr,_r)|0,pt=pt+Math.imul(rr,Cr)|0,Tt=Tt+Math.imul(rr,_r)|0,St=St+Math.imul(or,Ir)|0,pt=pt+Math.imul(or,yr)|0,pt=pt+Math.imul(sr,Ir)|0,Tt=Tt+Math.imul(sr,yr)|0,St=St+Math.imul(Jt,Mr)|0,pt=pt+Math.imul(Jt,vr)|0,pt=pt+Math.imul(er,Mr)|0,Tt=Tt+Math.imul(er,vr)|0,St=St+Math.imul(Dt,Pr)|0,pt=pt+Math.imul(Dt,br)|0,pt=pt+Math.imul(Ot,Pr)|0,Tt=Tt+Math.imul(Ot,br)|0,St=St+Math.imul($t,Nr)|0,pt=pt+Math.imul($t,wr)|0,pt=pt+Math.imul(Ft,Nr)|0,Tt=Tt+Math.imul(Ft,wr)|0,St=St+Math.imul(Wt,Rr)|0,pt=pt+Math.imul(Wt,Tr)|0,pt=pt+Math.imul(Ut,Rr)|0,Tt=Tt+Math.imul(Ut,Tr)|0;var rn=(yt+St|0)+((pt&8191)<<13)|0;yt=(Tt+(pt>>>13)|0)+(rn>>>26)|0,rn&=67108863,St=Math.imul(Pt,dr),pt=Math.imul(Pt,ar),pt=pt+Math.imul(zt,dr)|0,Tt=Math.imul(zt,ar),St=St+Math.imul(kr,lr)|0,pt=pt+Math.imul(kr,pr)|0,pt=pt+Math.imul(qt,lr)|0,Tt=Tt+Math.imul(qt,pr)|0,St=St+Math.imul(xr,$r)|0,pt=pt+Math.imul(xr,gr)|0,pt=pt+Math.imul(ur,$r)|0,Tt=Tt+Math.imul(ur,gr)|0,St=St+Math.imul(cr,Cr)|0,pt=pt+Math.imul(cr,_r)|0,pt=pt+Math.imul(ir,Cr)|0,Tt=Tt+Math.imul(ir,_r)|0,St=St+Math.imul(fr,Ir)|0,pt=pt+Math.imul(fr,yr)|0,pt=pt+Math.imul(rr,Ir)|0,Tt=Tt+Math.imul(rr,yr)|0,St=St+Math.imul(or,Mr)|0,pt=pt+Math.imul(or,vr)|0,pt=pt+Math.imul(sr,Mr)|0,Tt=Tt+Math.imul(sr,vr)|0,St=St+Math.imul(Jt,Pr)|0,pt=pt+Math.imul(Jt,br)|0,pt=pt+Math.imul(er,Pr)|0,Tt=Tt+Math.imul(er,br)|0,St=St+Math.imul(Dt,Nr)|0,pt=pt+Math.imul(Dt,wr)|0,pt=pt+Math.imul(Ot,Nr)|0,Tt=Tt+Math.imul(Ot,wr)|0,St=St+Math.imul($t,Rr)|0,pt=pt+Math.imul($t,Tr)|0,pt=pt+Math.imul(Ft,Rr)|0,Tt=Tt+Math.imul(Ft,Tr)|0;var nn=(yt+St|0)+((pt&8191)<<13)|0;yt=(Tt+(pt>>>13)|0)+(nn>>>26)|0,nn&=67108863,St=Math.imul(Pt,lr),pt=Math.imul(Pt,pr),pt=pt+Math.imul(zt,lr)|0,Tt=Math.imul(zt,pr),St=St+Math.imul(kr,$r)|0,pt=pt+Math.imul(kr,gr)|0,pt=pt+Math.imul(qt,$r)|0,Tt=Tt+Math.imul(qt,gr)|0,St=St+Math.imul(xr,Cr)|0,pt=pt+Math.imul(xr,_r)|0,pt=pt+Math.imul(ur,Cr)|0,Tt=Tt+Math.imul(ur,_r)|0,St=St+Math.imul(cr,Ir)|0,pt=pt+Math.imul(cr,yr)|0,pt=pt+Math.imul(ir,Ir)|0,Tt=Tt+Math.imul(ir,yr)|0,St=St+Math.imul(fr,Mr)|0,pt=pt+Math.imul(fr,vr)|0,pt=pt+Math.imul(rr,Mr)|0,Tt=Tt+Math.imul(rr,vr)|0,St=St+Math.imul(or,Pr)|0,pt=pt+Math.imul(or,br)|0,pt=pt+Math.imul(sr,Pr)|0,Tt=Tt+Math.imul(sr,br)|0,St=St+Math.imul(Jt,Nr)|0,pt=pt+Math.imul(Jt,wr)|0,pt=pt+Math.imul(er,Nr)|0,Tt=Tt+Math.imul(er,wr)|0,St=St+Math.imul(Dt,Rr)|0,pt=pt+Math.imul(Dt,Tr)|0,pt=pt+Math.imul(Ot,Rr)|0,Tt=Tt+Math.imul(Ot,Tr)|0;var on=(yt+St|0)+((pt&8191)<<13)|0;yt=(Tt+(pt>>>13)|0)+(on>>>26)|0,on&=67108863,St=Math.imul(Pt,$r),pt=Math.imul(Pt,gr),pt=pt+Math.imul(zt,$r)|0,Tt=Math.imul(zt,gr),St=St+Math.imul(kr,Cr)|0,pt=pt+Math.imul(kr,_r)|0,pt=pt+Math.imul(qt,Cr)|0,Tt=Tt+Math.imul(qt,_r)|0,St=St+Math.imul(xr,Ir)|0,pt=pt+Math.imul(xr,yr)|0,pt=pt+Math.imul(ur,Ir)|0,Tt=Tt+Math.imul(ur,yr)|0,St=St+Math.imul(cr,Mr)|0,pt=pt+Math.imul(cr,vr)|0,pt=pt+Math.imul(ir,Mr)|0,Tt=Tt+Math.imul(ir,vr)|0,St=St+Math.imul(fr,Pr)|0,pt=pt+Math.imul(fr,br)|0,pt=pt+Math.imul(rr,Pr)|0,Tt=Tt+Math.imul(rr,br)|0,St=St+Math.imul(or,Nr)|0,pt=pt+Math.imul(or,wr)|0,pt=pt+Math.imul(sr,Nr)|0,Tt=Tt+Math.imul(sr,wr)|0,St=St+Math.imul(Jt,Rr)|0,pt=pt+Math.imul(Jt,Tr)|0,pt=pt+Math.imul(er,Rr)|0,Tt=Tt+Math.imul(er,Tr)|0;var sn=(yt+St|0)+((pt&8191)<<13)|0;yt=(Tt+(pt>>>13)|0)+(sn>>>26)|0,sn&=67108863,St=Math.imul(Pt,Cr),pt=Math.imul(Pt,_r),pt=pt+Math.imul(zt,Cr)|0,Tt=Math.imul(zt,_r),St=St+Math.imul(kr,Ir)|0,pt=pt+Math.imul(kr,yr)|0,pt=pt+Math.imul(qt,Ir)|0,Tt=Tt+Math.imul(qt,yr)|0,St=St+Math.imul(xr,Mr)|0,pt=pt+Math.imul(xr,vr)|0,pt=pt+Math.imul(ur,Mr)|0,Tt=Tt+Math.imul(ur,vr)|0,St=St+Math.imul(cr,Pr)|0,pt=pt+Math.imul(cr,br)|0,pt=pt+Math.imul(ir,Pr)|0,Tt=Tt+Math.imul(ir,br)|0,St=St+Math.imul(fr,Nr)|0,pt=pt+Math.imul(fr,wr)|0,pt=pt+Math.imul(rr,Nr)|0,Tt=Tt+Math.imul(rr,wr)|0,St=St+Math.imul(or,Rr)|0,pt=pt+Math.imul(or,Tr)|0,pt=pt+Math.imul(sr,Rr)|0,Tt=Tt+Math.imul(sr,Tr)|0;var an=(yt+St|0)+((pt&8191)<<13)|0;yt=(Tt+(pt>>>13)|0)+(an>>>26)|0,an&=67108863,St=Math.imul(Pt,Ir),pt=Math.imul(Pt,yr),pt=pt+Math.imul(zt,Ir)|0,Tt=Math.imul(zt,yr),St=St+Math.imul(kr,Mr)|0,pt=pt+Math.imul(kr,vr)|0,pt=pt+Math.imul(qt,Mr)|0,Tt=Tt+Math.imul(qt,vr)|0,St=St+Math.imul(xr,Pr)|0,pt=pt+Math.imul(xr,br)|0,pt=pt+Math.imul(ur,Pr)|0,Tt=Tt+Math.imul(ur,br)|0,St=St+Math.imul(cr,Nr)|0,pt=pt+Math.imul(cr,wr)|0,pt=pt+Math.imul(ir,Nr)|0,Tt=Tt+Math.imul(ir,wr)|0,St=St+Math.imul(fr,Rr)|0,pt=pt+Math.imul(fr,Tr)|0,pt=pt+Math.imul(rr,Rr)|0,Tt=Tt+Math.imul(rr,Tr)|0;var ln=(yt+St|0)+((pt&8191)<<13)|0;yt=(Tt+(pt>>>13)|0)+(ln>>>26)|0,ln&=67108863,St=Math.imul(Pt,Mr),pt=Math.imul(Pt,vr),pt=pt+Math.imul(zt,Mr)|0,Tt=Math.imul(zt,vr),St=St+Math.imul(kr,Pr)|0,pt=pt+Math.imul(kr,br)|0,pt=pt+Math.imul(qt,Pr)|0,Tt=Tt+Math.imul(qt,br)|0,St=St+Math.imul(xr,Nr)|0,pt=pt+Math.imul(xr,wr)|0,pt=pt+Math.imul(ur,Nr)|0,Tt=Tt+Math.imul(ur,wr)|0,St=St+Math.imul(cr,Rr)|0,pt=pt+Math.imul(cr,Tr)|0,pt=pt+Math.imul(ir,Rr)|0,Tt=Tt+Math.imul(ir,Tr)|0;var cn=(yt+St|0)+((pt&8191)<<13)|0;yt=(Tt+(pt>>>13)|0)+(cn>>>26)|0,cn&=67108863,St=Math.imul(Pt,Pr),pt=Math.imul(Pt,br),pt=pt+Math.imul(zt,Pr)|0,Tt=Math.imul(zt,br),St=St+Math.imul(kr,Nr)|0,pt=pt+Math.imul(kr,wr)|0,pt=pt+Math.imul(qt,Nr)|0,Tt=Tt+Math.imul(qt,wr)|0,St=St+Math.imul(xr,Rr)|0,pt=pt+Math.imul(xr,Tr)|0,pt=pt+Math.imul(ur,Rr)|0,Tt=Tt+Math.imul(ur,Tr)|0;var un=(yt+St|0)+((pt&8191)<<13)|0;yt=(Tt+(pt>>>13)|0)+(un>>>26)|0,un&=67108863,St=Math.imul(Pt,Nr),pt=Math.imul(Pt,wr),pt=pt+Math.imul(zt,Nr)|0,Tt=Math.imul(zt,wr),St=St+Math.imul(kr,Rr)|0,pt=pt+Math.imul(kr,Tr)|0,pt=pt+Math.imul(qt,Rr)|0,Tt=Tt+Math.imul(qt,Tr)|0;var dn=(yt+St|0)+((pt&8191)<<13)|0;yt=(Tt+(pt>>>13)|0)+(dn>>>26)|0,dn&=67108863,St=Math.imul(Pt,Rr),pt=Math.imul(Pt,Tr),pt=pt+Math.imul(zt,Rr)|0,Tt=Math.imul(zt,Tr);var hn=(yt+St|0)+((pt&8191)<<13)|0;return yt=(Tt+(pt>>>13)|0)+(hn>>>26)|0,hn&=67108863,xt[0]=Vr,xt[1]=Kr,xt[2]=Wr,xt[3]=Gr,xt[4]=Zr,xt[5]=Yr,xt[6]=Xr,xt[7]=Jr,xt[8]=tn,xt[9]=rn,xt[10]=nn,xt[11]=on,xt[12]=sn,xt[13]=an,xt[14]=ln,xt[15]=cn,xt[16]=un,xt[17]=dn,xt[18]=hn,yt!==0&&(xt[19]=yt,wt.length++),wt};Math.imul||(vt=ht);function Et(_t,ct,dt){dt.negative=ct.negative^_t.negative,dt.length=_t.length+ct.length;for(var wt=0,gt=0,bt=0;bt<dt.length-1;bt++){var xt=gt;gt=0;for(var yt=wt&67108863,St=Math.min(bt,ct.length-1),pt=Math.max(0,bt-_t.length+1);pt<=St;pt++){var Tt=bt-pt,Ht=_t.words[Tt]|0,Wt=ct.words[pt]|0,Ut=Ht*Wt,Rt=Ut&67108863;xt=xt+(Ut/67108864|0)|0,Rt=Rt+yt|0,yt=Rt&67108863,xt=xt+(Rt>>>26)|0,gt+=xt>>>26,xt&=67108863}dt.words[bt]=yt,wt=xt,xt=gt}return wt!==0?dt.words[bt]=wt:dt.length--,dt._strip()}function At(_t,ct,dt){return Et(_t,ct,dt)}_e.prototype.mulTo=function(ct,dt){var wt,gt=this.length+ct.length;return this.length===10&&ct.length===10?wt=vt(this,ct,dt):gt<63?wt=ht(this,ct,dt):gt<1024?wt=Et(this,ct,dt):wt=At(this,ct,dt),wt},_e.prototype.mul=function(ct){var dt=new _e(null);return dt.words=new Array(this.length+ct.length),this.mulTo(ct,dt)},_e.prototype.mulf=function(ct){var dt=new _e(null);return dt.words=new Array(this.length+ct.length),At(this,ct,dt)},_e.prototype.imul=function(ct){return this.clone().mulTo(ct,this)},_e.prototype.imuln=function(ct){var dt=ct<0;dt&&(ct=-ct),_(typeof ct=="number"),_(ct<67108864);for(var wt=0,gt=0;gt<this.length;gt++){var bt=(this.words[gt]|0)*ct,xt=(bt&67108863)+(wt&67108863);wt>>=26,wt+=bt/67108864|0,wt+=xt>>>26,this.words[gt]=xt&67108863}return wt!==0&&(this.words[gt]=wt,this.length++),this.length=ct===0?1:this.length,dt?this.ineg():this},_e.prototype.muln=function(ct){return this.clone().imuln(ct)},_e.prototype.sqr=function(){return this.mul(this)},_e.prototype.isqr=function(){return this.imul(this.clone())},_e.prototype.pow=function(ct){var dt=mt(ct);if(dt.length===0)return new _e(1);for(var wt=this,gt=0;gt<dt.length&&dt[gt]===0;gt++,wt=wt.sqr());if(++gt<dt.length)for(var bt=wt.sqr();gt<dt.length;gt++,bt=bt.sqr())dt[gt]!==0&&(wt=wt.mul(bt));return wt},_e.prototype.iushln=function(ct){_(typeof ct=="number"&&ct>=0);var dt=ct%26,wt=(ct-dt)/26,gt=67108863>>>26-dt<<26-dt,bt;if(dt!==0){var xt=0;for(bt=0;bt<this.length;bt++){var yt=this.words[bt]&gt,St=(this.words[bt]|0)-yt<<dt;this.words[bt]=St|xt,xt=yt>>>26-dt}xt&&(this.words[bt]=xt,this.length++)}if(wt!==0){for(bt=this.length-1;bt>=0;bt--)this.words[bt+wt]=this.words[bt];for(bt=0;bt<wt;bt++)this.words[bt]=0;this.length+=wt}return this._strip()},_e.prototype.ishln=function(ct){return _(this.negative===0),this.iushln(ct)},_e.prototype.iushrn=function(ct,dt,wt){_(typeof ct=="number"&&ct>=0);var gt;dt?gt=(dt-dt%26)/26:gt=0;var bt=ct%26,xt=Math.min((ct-bt)/26,this.length),yt=67108863^67108863>>>bt<<bt,St=wt;if(gt-=xt,gt=Math.max(0,gt),St){for(var pt=0;pt<xt;pt++)St.words[pt]=this.words[pt];St.length=xt}if(xt!==0)if(this.length>xt)for(this.length-=xt,pt=0;pt<this.length;pt++)this.words[pt]=this.words[pt+xt];else this.words[0]=0,this.length=1;var Tt=0;for(pt=this.length-1;pt>=0&&(Tt!==0||pt>=gt);pt--){var Ht=this.words[pt]|0;this.words[pt]=Tt<<26-bt|Ht>>>bt,Tt=Ht&yt}return St&&Tt!==0&&(St.words[St.length++]=Tt),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},_e.prototype.ishrn=function(ct,dt,wt){return _(this.negative===0),this.iushrn(ct,dt,wt)},_e.prototype.shln=function(ct){return this.clone().ishln(ct)},_e.prototype.ushln=function(ct){return this.clone().iushln(ct)},_e.prototype.shrn=function(ct){return this.clone().ishrn(ct)},_e.prototype.ushrn=function(ct){return this.clone().iushrn(ct)},_e.prototype.testn=function(ct){_(typeof ct=="number"&&ct>=0);var dt=ct%26,wt=(ct-dt)/26,gt=1<<dt;if(this.length<=wt)return!1;var bt=this.words[wt];return!!(bt&gt)},_e.prototype.imaskn=function(ct){_(typeof ct=="number"&&ct>=0);var dt=ct%26,wt=(ct-dt)/26;if(_(this.negative===0,"imaskn works only with positive numbers"),this.length<=wt)return this;if(dt!==0&&wt++,this.length=Math.min(wt,this.length),dt!==0){var gt=67108863^67108863>>>dt<<dt;this.words[this.length-1]&=gt}return this._strip()},_e.prototype.maskn=function(ct){return this.clone().imaskn(ct)},_e.prototype.iaddn=function(ct){return _(typeof ct=="number"),_(ct<67108864),ct<0?this.isubn(-ct):this.negative!==0?this.length===1&&(this.words[0]|0)<=ct?(this.words[0]=ct-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(ct),this.negative=1,this):this._iaddn(ct)},_e.prototype._iaddn=function(ct){this.words[0]+=ct;for(var dt=0;dt<this.length&&this.words[dt]>=67108864;dt++)this.words[dt]-=67108864,dt===this.length-1?this.words[dt+1]=1:this.words[dt+1]++;return this.length=Math.max(this.length,dt+1),this},_e.prototype.isubn=function(ct){if(_(typeof ct=="number"),_(ct<67108864),ct<0)return this.iaddn(-ct);if(this.negative!==0)return this.negative=0,this.iaddn(ct),this.negative=1,this;if(this.words[0]-=ct,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var dt=0;dt<this.length&&this.words[dt]<0;dt++)this.words[dt]+=67108864,this.words[dt+1]-=1;return this._strip()},_e.prototype.addn=function(ct){return this.clone().iaddn(ct)},_e.prototype.subn=function(ct){return this.clone().isubn(ct)},_e.prototype.iabs=function(){return this.negative=0,this},_e.prototype.abs=function(){return this.clone().iabs()},_e.prototype._ishlnsubmul=function(ct,dt,wt){var gt=ct.length+wt,bt;this._expand(gt);var xt,yt=0;for(bt=0;bt<ct.length;bt++){xt=(this.words[bt+wt]|0)+yt;var St=(ct.words[bt]|0)*dt;xt-=St&67108863,yt=(xt>>26)-(St/67108864|0),this.words[bt+wt]=xt&67108863}for(;bt<this.length-wt;bt++)xt=(this.words[bt+wt]|0)+yt,yt=xt>>26,this.words[bt+wt]=xt&67108863;if(yt===0)return this._strip();for(_(yt===-1),yt=0,bt=0;bt<this.length;bt++)xt=-(this.words[bt]|0)+yt,yt=xt>>26,this.words[bt]=xt&67108863;return this.negative=1,this._strip()},_e.prototype._wordDiv=function(ct,dt){var wt=this.length-ct.length,gt=this.clone(),bt=ct,xt=bt.words[bt.length-1]|0,yt=this._countBits(xt);wt=26-yt,wt!==0&&(bt=bt.ushln(wt),gt.iushln(wt),xt=bt.words[bt.length-1]|0);var St=gt.length-bt.length,pt;if(dt!=="mod"){pt=new _e(null),pt.length=St+1,pt.words=new Array(pt.length);for(var Tt=0;Tt<pt.length;Tt++)pt.words[Tt]=0}var Ht=gt.clone()._ishlnsubmul(bt,1,St);Ht.negative===0&&(gt=Ht,pt&&(pt.words[St]=1));for(var Wt=St-1;Wt>=0;Wt--){var Ut=(gt.words[bt.length+Wt]|0)*67108864+(gt.words[bt.length+Wt-1]|0);for(Ut=Math.min(Ut/xt|0,67108863),gt._ishlnsubmul(bt,Ut,Wt);gt.negative!==0;)Ut--,gt.negative=0,gt._ishlnsubmul(bt,1,Wt),gt.isZero()||(gt.negative^=1);pt&&(pt.words[Wt]=Ut)}return pt&&pt._strip(),gt._strip(),dt!=="div"&&wt!==0&&gt.iushrn(wt),{div:pt||null,mod:gt}},_e.prototype.divmod=function(ct,dt,wt){if(_(!ct.isZero()),this.isZero())return{div:new _e(0),mod:new _e(0)};var gt,bt,xt;return this.negative!==0&&ct.negative===0?(xt=this.neg().divmod(ct,dt),dt!=="mod"&&(gt=xt.div.neg()),dt!=="div"&&(bt=xt.mod.neg(),wt&&bt.negative!==0&&bt.iadd(ct)),{div:gt,mod:bt}):this.negative===0&&ct.negative!==0?(xt=this.divmod(ct.neg(),dt),dt!=="mod"&&(gt=xt.div.neg()),{div:gt,mod:xt.mod}):this.negative&ct.negative?(xt=this.neg().divmod(ct.neg(),dt),dt!=="div"&&(bt=xt.mod.neg(),wt&&bt.negative!==0&&bt.isub(ct)),{div:xt.div,mod:bt}):ct.length>this.length||this.cmp(ct)<0?{div:new _e(0),mod:this}:ct.length===1?dt==="div"?{div:this.divn(ct.words[0]),mod:null}:dt==="mod"?{div:null,mod:new _e(this.modrn(ct.words[0]))}:{div:this.divn(ct.words[0]),mod:new _e(this.modrn(ct.words[0]))}:this._wordDiv(ct,dt)},_e.prototype.div=function(ct){return this.divmod(ct,"div",!1).div},_e.prototype.mod=function(ct){return this.divmod(ct,"mod",!1).mod},_e.prototype.umod=function(ct){return this.divmod(ct,"mod",!0).mod},_e.prototype.divRound=function(ct){var dt=this.divmod(ct);if(dt.mod.isZero())return dt.div;var wt=dt.div.negative!==0?dt.mod.isub(ct):dt.mod,gt=ct.ushrn(1),bt=ct.andln(1),xt=wt.cmp(gt);return xt<0||bt===1&&xt===0?dt.div:dt.div.negative!==0?dt.div.isubn(1):dt.div.iaddn(1)},_e.prototype.modrn=function(ct){var dt=ct<0;dt&&(ct=-ct),_(ct<=67108863);for(var wt=(1<<26)%ct,gt=0,bt=this.length-1;bt>=0;bt--)gt=(wt*gt+(this.words[bt]|0))%ct;return dt?-gt:gt},_e.prototype.modn=function(ct){return this.modrn(ct)},_e.prototype.idivn=function(ct){var dt=ct<0;dt&&(ct=-ct),_(ct<=67108863);for(var wt=0,gt=this.length-1;gt>=0;gt--){var bt=(this.words[gt]|0)+wt*67108864;this.words[gt]=bt/ct|0,wt=bt%ct}return this._strip(),dt?this.ineg():this},_e.prototype.divn=function(ct){return this.clone().idivn(ct)},_e.prototype.egcd=function(ct){_(ct.negative===0),_(!ct.isZero());var dt=this,wt=ct.clone();dt.negative!==0?dt=dt.umod(ct):dt=dt.clone();for(var gt=new _e(1),bt=new _e(0),xt=new _e(0),yt=new _e(1),St=0;dt.isEven()&&wt.isEven();)dt.iushrn(1),wt.iushrn(1),++St;for(var pt=wt.clone(),Tt=dt.clone();!dt.isZero();){for(var Ht=0,Wt=1;!(dt.words[0]&Wt)&&Ht<26;++Ht,Wt<<=1);if(Ht>0)for(dt.iushrn(Ht);Ht-- >0;)(gt.isOdd()||bt.isOdd())&&(gt.iadd(pt),bt.isub(Tt)),gt.iushrn(1),bt.iushrn(1);for(var Ut=0,Rt=1;!(wt.words[0]&Rt)&&Ut<26;++Ut,Rt<<=1);if(Ut>0)for(wt.iushrn(Ut);Ut-- >0;)(xt.isOdd()||yt.isOdd())&&(xt.iadd(pt),yt.isub(Tt)),xt.iushrn(1),yt.iushrn(1);dt.cmp(wt)>=0?(dt.isub(wt),gt.isub(xt),bt.isub(yt)):(wt.isub(dt),xt.isub(gt),yt.isub(bt))}return{a:xt,b:yt,gcd:wt.iushln(St)}},_e.prototype._invmp=function(ct){_(ct.negative===0),_(!ct.isZero());var dt=this,wt=ct.clone();dt.negative!==0?dt=dt.umod(ct):dt=dt.clone();for(var gt=new _e(1),bt=new _e(0),xt=wt.clone();dt.cmpn(1)>0&&wt.cmpn(1)>0;){for(var yt=0,St=1;!(dt.words[0]&St)&&yt<26;++yt,St<<=1);if(yt>0)for(dt.iushrn(yt);yt-- >0;)gt.isOdd()&&gt.iadd(xt),gt.iushrn(1);for(var pt=0,Tt=1;!(wt.words[0]&Tt)&&pt<26;++pt,Tt<<=1);if(pt>0)for(wt.iushrn(pt);pt-- >0;)bt.isOdd()&&bt.iadd(xt),bt.iushrn(1);dt.cmp(wt)>=0?(dt.isub(wt),gt.isub(bt)):(wt.isub(dt),bt.isub(gt))}var Ht;return dt.cmpn(1)===0?Ht=gt:Ht=bt,Ht.cmpn(0)<0&&Ht.iadd(ct),Ht},_e.prototype.gcd=function(ct){if(this.isZero())return ct.abs();if(ct.isZero())return this.abs();var dt=this.clone(),wt=ct.clone();dt.negative=0,wt.negative=0;for(var gt=0;dt.isEven()&&wt.isEven();gt++)dt.iushrn(1),wt.iushrn(1);do{for(;dt.isEven();)dt.iushrn(1);for(;wt.isEven();)wt.iushrn(1);var bt=dt.cmp(wt);if(bt<0){var xt=dt;dt=wt,wt=xt}else if(bt===0||wt.cmpn(1)===0)break;dt.isub(wt)}while(!0);return wt.iushln(gt)},_e.prototype.invm=function(ct){return this.egcd(ct).a.umod(ct)},_e.prototype.isEven=function(){return(this.words[0]&1)===0},_e.prototype.isOdd=function(){return(this.words[0]&1)===1},_e.prototype.andln=function(ct){return this.words[0]&ct},_e.prototype.bincn=function(ct){_(typeof ct=="number");var dt=ct%26,wt=(ct-dt)/26,gt=1<<dt;if(this.length<=wt)return this._expand(wt+1),this.words[wt]|=gt,this;for(var bt=gt,xt=wt;bt!==0&&xt<this.length;xt++){var yt=this.words[xt]|0;yt+=bt,bt=yt>>>26,yt&=67108863,this.words[xt]=yt}return bt!==0&&(this.words[xt]=bt,this.length++),this},_e.prototype.isZero=function(){return this.length===1&&this.words[0]===0},_e.prototype.cmpn=function(ct){var dt=ct<0;if(this.negative!==0&&!dt)return-1;if(this.negative===0&&dt)return 1;this._strip();var wt;if(this.length>1)wt=1;else{dt&&(ct=-ct),_(ct<=67108863,"Number is too big");var gt=this.words[0]|0;wt=gt===ct?0:gt<ct?-1:1}return this.negative!==0?-wt|0:wt},_e.prototype.cmp=function(ct){if(this.negative!==0&&ct.negative===0)return-1;if(this.negative===0&&ct.negative!==0)return 1;var dt=this.ucmp(ct);return this.negative!==0?-dt|0:dt},_e.prototype.ucmp=function(ct){if(this.length>ct.length)return 1;if(this.length<ct.length)return-1;for(var dt=0,wt=this.length-1;wt>=0;wt--){var gt=this.words[wt]|0,bt=ct.words[wt]|0;if(gt!==bt){gt<bt?dt=-1:gt>bt&&(dt=1);break}}return dt},_e.prototype.gtn=function(ct){return this.cmpn(ct)===1},_e.prototype.gt=function(ct){return this.cmp(ct)===1},_e.prototype.gten=function(ct){return this.cmpn(ct)>=0},_e.prototype.gte=function(ct){return this.cmp(ct)>=0},_e.prototype.ltn=function(ct){return this.cmpn(ct)===-1},_e.prototype.lt=function(ct){return this.cmp(ct)===-1},_e.prototype.lten=function(ct){return this.cmpn(ct)<=0},_e.prototype.lte=function(ct){return this.cmp(ct)<=0},_e.prototype.eqn=function(ct){return this.cmpn(ct)===0},_e.prototype.eq=function(ct){return this.cmp(ct)===0},_e.red=function(ct){return new Nt(ct)},_e.prototype.toRed=function(ct){return _(!this.red,"Already a number in reduction context"),_(this.negative===0,"red works only with positives"),ct.convertTo(this)._forceRed(ct)},_e.prototype.fromRed=function(){return _(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},_e.prototype._forceRed=function(ct){return this.red=ct,this},_e.prototype.forceRed=function(ct){return _(!this.red,"Already a number in reduction context"),this._forceRed(ct)},_e.prototype.redAdd=function(ct){return _(this.red,"redAdd works only with red numbers"),this.red.add(this,ct)},_e.prototype.redIAdd=function(ct){return _(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,ct)},_e.prototype.redSub=function(ct){return _(this.red,"redSub works only with red numbers"),this.red.sub(this,ct)},_e.prototype.redISub=function(ct){return _(this.red,"redISub works only with red numbers"),this.red.isub(this,ct)},_e.prototype.redShl=function(ct){return _(this.red,"redShl works only with red numbers"),this.red.shl(this,ct)},_e.prototype.redMul=function(ct){return _(this.red,"redMul works only with red numbers"),this.red._verify2(this,ct),this.red.mul(this,ct)},_e.prototype.redIMul=function(ct){return _(this.red,"redMul works only with red numbers"),this.red._verify2(this,ct),this.red.imul(this,ct)},_e.prototype.redSqr=function(){return _(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},_e.prototype.redISqr=function(){return _(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},_e.prototype.redSqrt=function(){return _(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},_e.prototype.redInvm=function(){return _(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},_e.prototype.redNeg=function(){return _(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},_e.prototype.redPow=function(ct){return _(this.red&&!ct.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,ct)};var Ct={k256:null,p224:null,p192:null,p25519:null};function Mt(_t,ct){this.name=_t,this.p=new _e(ct,16),this.n=this.p.bitLength(),this.k=new _e(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Mt.prototype._tmp=function(){var ct=new _e(null);return ct.words=new Array(Math.ceil(this.n/13)),ct},Mt.prototype.ireduce=function(ct){var dt=ct,wt;do this.split(dt,this.tmp),dt=this.imulK(dt),dt=dt.iadd(this.tmp),wt=dt.bitLength();while(wt>this.n);var gt=wt<this.n?-1:dt.ucmp(this.p);return gt===0?(dt.words[0]=0,dt.length=1):gt>0?dt.isub(this.p):dt.strip!==void 0?dt.strip():dt._strip(),dt},Mt.prototype.split=function(ct,dt){ct.iushrn(this.n,0,dt)},Mt.prototype.imulK=function(ct){return ct.imul(this.k)};function Bt(){Mt.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}b(Bt,Mt),Bt.prototype.split=function(ct,dt){for(var wt=4194303,gt=Math.min(ct.length,9),bt=0;bt<gt;bt++)dt.words[bt]=ct.words[bt];if(dt.length=gt,ct.length<=9){ct.words[0]=0,ct.length=1;return}var xt=ct.words[9];for(dt.words[dt.length++]=xt&wt,bt=10;bt<ct.length;bt++){var yt=ct.words[bt]|0;ct.words[bt-10]=(yt&wt)<<4|xt>>>22,xt=yt}xt>>>=22,ct.words[bt-10]=xt,xt===0&&ct.length>10?ct.length-=10:ct.length-=9},Bt.prototype.imulK=function(ct){ct.words[ct.length]=0,ct.words[ct.length+1]=0,ct.length+=2;for(var dt=0,wt=0;wt<ct.length;wt++){var gt=ct.words[wt]|0;dt+=gt*977,ct.words[wt]=dt&67108863,dt=gt*64+(dt/67108864|0)}return ct.words[ct.length-1]===0&&(ct.length--,ct.words[ct.length-1]===0&&ct.length--),ct};function Lt(){Mt.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}b(Lt,Mt);function jt(){Mt.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}b(jt,Mt);function Vt(){Mt.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}b(Vt,Mt),Vt.prototype.imulK=function(ct){for(var dt=0,wt=0;wt<ct.length;wt++){var gt=(ct.words[wt]|0)*19+dt,bt=gt&67108863;gt>>>=26,ct.words[wt]=bt,dt=gt}return dt!==0&&(ct.words[ct.length++]=dt),ct},_e._prime=function(ct){if(Ct[ct])return Ct[ct];var dt;if(ct==="k256")dt=new Bt;else if(ct==="p224")dt=new Lt;else if(ct==="p192")dt=new jt;else if(ct==="p25519")dt=new Vt;else throw new Error("Unknown prime "+ct);return Ct[ct]=dt,dt};function Nt(_t){if(typeof _t=="string"){var ct=_e._prime(_t);this.m=ct.p,this.prime=ct}else _(_t.gtn(1),"modulus must be greater than 1"),this.m=_t,this.prime=null}Nt.prototype._verify1=function(ct){_(ct.negative===0,"red works only with positives"),_(ct.red,"red works only with red numbers")},Nt.prototype._verify2=function(ct,dt){_((ct.negative|dt.negative)===0,"red works only with positives"),_(ct.red&&ct.red===dt.red,"red works only with red numbers")},Nt.prototype.imod=function(ct){return this.prime?this.prime.ireduce(ct)._forceRed(this):(ot(ct,ct.umod(this.m)._forceRed(this)),ct)},Nt.prototype.neg=function(ct){return ct.isZero()?ct.clone():this.m.sub(ct)._forceRed(this)},Nt.prototype.add=function(ct,dt){this._verify2(ct,dt);var wt=ct.add(dt);return wt.cmp(this.m)>=0&&wt.isub(this.m),wt._forceRed(this)},Nt.prototype.iadd=function(ct,dt){this._verify2(ct,dt);var wt=ct.iadd(dt);return wt.cmp(this.m)>=0&&wt.isub(this.m),wt},Nt.prototype.sub=function(ct,dt){this._verify2(ct,dt);var wt=ct.sub(dt);return wt.cmpn(0)<0&&wt.iadd(this.m),wt._forceRed(this)},Nt.prototype.isub=function(ct,dt){this._verify2(ct,dt);var wt=ct.isub(dt);return wt.cmpn(0)<0&&wt.iadd(this.m),wt},Nt.prototype.shl=function(ct,dt){return this._verify1(ct),this.imod(ct.ushln(dt))},Nt.prototype.imul=function(ct,dt){return this._verify2(ct,dt),this.imod(ct.imul(dt))},Nt.prototype.mul=function(ct,dt){return this._verify2(ct,dt),this.imod(ct.mul(dt))},Nt.prototype.isqr=function(ct){return this.imul(ct,ct.clone())},Nt.prototype.sqr=function(ct){return this.mul(ct,ct)},Nt.prototype.sqrt=function(ct){if(ct.isZero())return ct.clone();var dt=this.m.andln(3);if(_(dt%2===1),dt===3){var wt=this.m.add(new _e(1)).iushrn(2);return this.pow(ct,wt)}for(var gt=this.m.subn(1),bt=0;!gt.isZero()&&gt.andln(1)===0;)bt++,gt.iushrn(1);_(!gt.isZero());var xt=new _e(1).toRed(this),yt=xt.redNeg(),St=this.m.subn(1).iushrn(1),pt=this.m.bitLength();for(pt=new _e(2*pt*pt).toRed(this);this.pow(pt,St).cmp(yt)!==0;)pt.redIAdd(yt);for(var Tt=this.pow(pt,gt),Ht=this.pow(ct,gt.addn(1).iushrn(1)),Wt=this.pow(ct,gt),Ut=bt;Wt.cmp(xt)!==0;){for(var Rt=Wt,$t=0;Rt.cmp(xt)!==0;$t++)Rt=Rt.redSqr();_($t<Ut);var Ft=this.pow(Tt,new _e(1).iushln(Ut-$t-1));Ht=Ht.redMul(Ft),Tt=Ft.redSqr(),Wt=Wt.redMul(Tt),Ut=$t}return Ht},Nt.prototype.invm=function(ct){var dt=ct._invmp(this.m);return dt.negative!==0?(dt.negative=0,this.imod(dt).redNeg()):this.imod(dt)},Nt.prototype.pow=function(ct,dt){if(dt.isZero())return new _e(1).toRed(this);if(dt.cmpn(1)===0)return ct.clone();var wt=4,gt=new Array(1<<wt);gt[0]=new _e(1).toRed(this),gt[1]=ct;for(var bt=2;bt<gt.length;bt++)gt[bt]=this.mul(gt[bt-1],ct);var xt=gt[0],yt=0,St=0,pt=dt.bitLength()%26;for(pt===0&&(pt=26),bt=dt.length-1;bt>=0;bt--){for(var Tt=dt.words[bt],Ht=pt-1;Ht>=0;Ht--){var Wt=Tt>>Ht&1;if(xt!==gt[0]&&(xt=this.sqr(xt)),Wt===0&&yt===0){St=0;continue}yt<<=1,yt|=Wt,St++,!(St!==wt&&(bt!==0||Ht!==0))&&(xt=this.mul(xt,gt[yt]),St=0,yt=0)}pt=26}return xt},Nt.prototype.convertTo=function(ct){var dt=ct.umod(this.m);return dt===ct?dt.clone():dt},Nt.prototype.convertFrom=function(ct){var dt=ct.clone();return dt.red=null,dt},_e.mont=function(ct){return new kt(ct)};function kt(_t){Nt.call(this,_t),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new _e(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b(kt,Nt),kt.prototype.convertTo=function(ct){return this.imod(ct.ushln(this.shift))},kt.prototype.convertFrom=function(ct){var dt=this.imod(ct.mul(this.rinv));return dt.red=null,dt},kt.prototype.imul=function(ct,dt){if(ct.isZero()||dt.isZero())return ct.words[0]=0,ct.length=1,ct;var wt=ct.imul(dt),gt=wt.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),bt=wt.isub(gt).iushrn(this.shift),xt=bt;return bt.cmp(this.m)>=0?xt=bt.isub(this.m):bt.cmpn(0)<0&&(xt=bt.iadd(this.m)),xt._forceRed(this)},kt.prototype.mul=function(ct,dt){if(ct.isZero()||dt.isZero())return new _e(0)._forceRed(this);var wt=ct.mul(dt),gt=wt.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),bt=wt.isub(gt).iushrn(this.shift),xt=bt;return bt.cmp(this.m)>=0?xt=bt.isub(this.m):bt.cmpn(0)<0&&(xt=bt.iadd(this.m)),xt._forceRed(this)},kt.prototype.invm=function(ct){var dt=this.imod(ct._invmp(this.m).mul(this.r2));return dt._forceRed(this)}})(o,commonjsGlobal)}(bn$1)),bn$1.exports}var browserifyRsa,hasRequiredBrowserifyRsa;function requireBrowserifyRsa(){if(hasRequiredBrowserifyRsa)return browserifyRsa;hasRequiredBrowserifyRsa=1;var o=requireBn$1(),e=requireBrowser$b(),a=requireSafeBuffer$2().Buffer;function _(et){var tt=et.modulus.byteLength(),nt;do nt=new o(e(tt));while(nt.cmp(et.modulus)>=0||!nt.umod(et.prime1)||!nt.umod(et.prime2));return nt}function b(et){var tt=_(et),nt=tt.toRed(o.mont(et.modulus)).redPow(new o(et.publicExponent)).fromRed();return{blinder:nt,unblinder:tt.invm(et.modulus)}}function _e(et,tt){var nt=b(tt),it=tt.modulus.byteLength(),ot=new o(et).mul(nt.blinder).umod(tt.modulus),st=ot.toRed(o.mont(tt.prime1)),at=ot.toRed(o.mont(tt.prime2)),lt=tt.coefficient,ut=tt.prime1,ft=tt.prime2,mt=st.redPow(tt.exponent1).fromRed(),ht=at.redPow(tt.exponent2).fromRed(),vt=mt.isub(ht).imul(lt).umod(ut).imul(ft);return ht.iadd(vt).imul(nt.unblinder).umod(tt.modulus).toArrayLike(a,"be",it)}return _e.getr=_,browserifyRsa=_e,browserifyRsa}var elliptic={};const version$3="6.6.1",require$$0={version:version$3};var utils$l={},utils$k={};(function(o){var e=o;function a(_e,et){if(Array.isArray(_e))return _e.slice();if(!_e)return[];var tt=[];if(typeof _e!="string"){for(var nt=0;nt<_e.length;nt++)tt[nt]=_e[nt]|0;return tt}if(et==="hex"){_e=_e.replace(/[^a-z0-9]+/ig,""),_e.length%2!==0&&(_e="0"+_e);for(var nt=0;nt<_e.length;nt+=2)tt.push(parseInt(_e[nt]+_e[nt+1],16))}else for(var nt=0;nt<_e.length;nt++){var it=_e.charCodeAt(nt),ot=it>>8,st=it&255;ot?tt.push(ot,st):tt.push(st)}return tt}e.toArray=a;function _(_e){return _e.length===1?"0"+_e:_e}e.zero2=_;function b(_e){for(var et="",tt=0;tt<_e.length;tt++)et+=_(_e[tt].toString(16));return et}e.toHex=b,e.encode=function(et,tt){return tt==="hex"?b(et):et}})(utils$k);(function(o){var e=o,a=bnExports,_=minimalisticAssert,b=utils$k;e.assert=_,e.toArray=b.toArray,e.zero2=b.zero2,e.toHex=b.toHex,e.encode=b.encode;function _e(ot,st,at){var lt=new Array(Math.max(ot.bitLength(),at)+1),ut;for(ut=0;ut<lt.length;ut+=1)lt[ut]=0;var ft=1<<st+1,mt=ot.clone();for(ut=0;ut<lt.length;ut++){var ht,vt=mt.andln(ft-1);mt.isOdd()?(vt>(ft>>1)-1?ht=(ft>>1)-vt:ht=vt,mt.isubn(ht)):ht=0,lt[ut]=ht,mt.iushrn(1)}return lt}e.getNAF=_e;function et(ot,st){var at=[[],[]];ot=ot.clone(),st=st.clone();for(var lt=0,ut=0,ft;ot.cmpn(-lt)>0||st.cmpn(-ut)>0;){var mt=ot.andln(3)+lt&3,ht=st.andln(3)+ut&3;mt===3&&(mt=-1),ht===3&&(ht=-1);var vt;mt&1?(ft=ot.andln(7)+lt&7,(ft===3||ft===5)&&ht===2?vt=-mt:vt=mt):vt=0,at[0].push(vt);var Et;ht&1?(ft=st.andln(7)+ut&7,(ft===3||ft===5)&&mt===2?Et=-ht:Et=ht):Et=0,at[1].push(Et),2*lt===vt+1&&(lt=1-lt),2*ut===Et+1&&(ut=1-ut),ot.iushrn(1),st.iushrn(1)}return at}e.getJSF=et;function tt(ot,st,at){var lt="_"+st;ot.prototype[st]=function(){return this[lt]!==void 0?this[lt]:this[lt]=at.call(this)}}e.cachedProperty=tt;function nt(ot){return typeof ot=="string"?e.toArray(ot,"hex"):ot}e.parseBytes=nt;function it(ot){return new a(ot,"hex","le")}e.intFromLE=it})(utils$l);var curve={},BN$6=bnExports,utils$j=utils$l,getNAF=utils$j.getNAF,getJSF=utils$j.getJSF,assert$f=utils$j.assert;function BaseCurve(o,e){this.type=o,this.p=new BN$6(e.p,16),this.red=e.prime?BN$6.red(e.prime):BN$6.mont(this.p),this.zero=new BN$6(0).toRed(this.red),this.one=new BN$6(1).toRed(this.red),this.two=new BN$6(2).toRed(this.red),this.n=e.n&&new BN$6(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var a=this.n&&this.p.div(this.n);!a||a.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var base$1=BaseCurve;BaseCurve.prototype.point=function(){throw new Error("Not implemented")};BaseCurve.prototype.validate=function(){throw new Error("Not implemented")};BaseCurve.prototype._fixedNafMul=function(e,a){assert$f(e.precomputed);var _=e._getDoubles(),b=getNAF(a,1,this._bitLength),_e=(1<<_.step+1)-(_.step%2===0?2:1);_e/=3;var et=[],tt,nt;for(tt=0;tt<b.length;tt+=_.step){nt=0;for(var it=tt+_.step-1;it>=tt;it--)nt=(nt<<1)+b[it];et.push(nt)}for(var ot=this.jpoint(null,null,null),st=this.jpoint(null,null,null),at=_e;at>0;at--){for(tt=0;tt<et.length;tt++)nt=et[tt],nt===at?st=st.mixedAdd(_.points[tt]):nt===-at&&(st=st.mixedAdd(_.points[tt].neg()));ot=ot.add(st)}return ot.toP()};BaseCurve.prototype._wnafMul=function(e,a){var _=4,b=e._getNAFPoints(_);_=b.wnd;for(var _e=b.points,et=getNAF(a,_,this._bitLength),tt=this.jpoint(null,null,null),nt=et.length-1;nt>=0;nt--){for(var it=0;nt>=0&&et[nt]===0;nt--)it++;if(nt>=0&&it++,tt=tt.dblp(it),nt<0)break;var ot=et[nt];assert$f(ot!==0),e.type==="affine"?ot>0?tt=tt.mixedAdd(_e[ot-1>>1]):tt=tt.mixedAdd(_e[-ot-1>>1].neg()):ot>0?tt=tt.add(_e[ot-1>>1]):tt=tt.add(_e[-ot-1>>1].neg())}return e.type==="affine"?tt.toP():tt};BaseCurve.prototype._wnafMulAdd=function(e,a,_,b,_e){var et=this._wnafT1,tt=this._wnafT2,nt=this._wnafT3,it=0,ot,st,at;for(ot=0;ot<b;ot++){at=a[ot];var lt=at._getNAFPoints(e);et[ot]=lt.wnd,tt[ot]=lt.points}for(ot=b-1;ot>=1;ot-=2){var ut=ot-1,ft=ot;if(et[ut]!==1||et[ft]!==1){nt[ut]=getNAF(_[ut],et[ut],this._bitLength),nt[ft]=getNAF(_[ft],et[ft],this._bitLength),it=Math.max(nt[ut].length,it),it=Math.max(nt[ft].length,it);continue}var mt=[a[ut],null,null,a[ft]];a[ut].y.cmp(a[ft].y)===0?(mt[1]=a[ut].add(a[ft]),mt[2]=a[ut].toJ().mixedAdd(a[ft].neg())):a[ut].y.cmp(a[ft].y.redNeg())===0?(mt[1]=a[ut].toJ().mixedAdd(a[ft]),mt[2]=a[ut].add(a[ft].neg())):(mt[1]=a[ut].toJ().mixedAdd(a[ft]),mt[2]=a[ut].toJ().mixedAdd(a[ft].neg()));var ht=[-3,-1,-5,-7,0,7,5,1,3],vt=getJSF(_[ut],_[ft]);for(it=Math.max(vt[0].length,it),nt[ut]=new Array(it),nt[ft]=new Array(it),st=0;st<it;st++){var Et=vt[0][st]|0,At=vt[1][st]|0;nt[ut][st]=ht[(Et+1)*3+(At+1)],nt[ft][st]=0,tt[ut]=mt}}var Ct=this.jpoint(null,null,null),Mt=this._wnafT4;for(ot=it;ot>=0;ot--){for(var Bt=0;ot>=0;){var Lt=!0;for(st=0;st<b;st++)Mt[st]=nt[st][ot]|0,Mt[st]!==0&&(Lt=!1);if(!Lt)break;Bt++,ot--}if(ot>=0&&Bt++,Ct=Ct.dblp(Bt),ot<0)break;for(st=0;st<b;st++){var jt=Mt[st];jt!==0&&(jt>0?at=tt[st][jt-1>>1]:jt<0&&(at=tt[st][-jt-1>>1].neg()),at.type==="affine"?Ct=Ct.mixedAdd(at):Ct=Ct.add(at))}}for(ot=0;ot<b;ot++)tt[ot]=null;return _e?Ct:Ct.toP()};function BasePoint(o,e){this.curve=o,this.type=e,this.precomputed=null}BaseCurve.BasePoint=BasePoint;BasePoint.prototype.eq=function(){throw new Error("Not implemented")};BasePoint.prototype.validate=function(){return this.curve.validate(this)};BaseCurve.prototype.decodePoint=function(e,a){e=utils$j.toArray(e,a);var _=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*_){e[0]===6?assert$f(e[e.length-1]%2===0):e[0]===7&&assert$f(e[e.length-1]%2===1);var b=this.point(e.slice(1,1+_),e.slice(1+_,1+2*_));return b}else if((e[0]===2||e[0]===3)&&e.length-1===_)return this.pointFromX(e.slice(1,1+_),e[0]===3);throw new Error("Unknown point format")};BasePoint.prototype.encodeCompressed=function(e){return this.encode(e,!0)};BasePoint.prototype._encode=function(e){var a=this.curve.p.byteLength(),_=this.getX().toArray("be",a);return e?[this.getY().isEven()?2:3].concat(_):[4].concat(_,this.getY().toArray("be",a))};BasePoint.prototype.encode=function(e,a){return utils$j.encode(this._encode(a),e)};BasePoint.prototype.precompute=function(e){if(this.precomputed)return this;var a={doubles:null,naf:null,beta:null};return a.naf=this._getNAFPoints(8),a.doubles=this._getDoubles(4,e),a.beta=this._getBeta(),this.precomputed=a,this};BasePoint.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var a=this.precomputed.doubles;return a?a.points.length>=Math.ceil((e.bitLength()+1)/a.step):!1};BasePoint.prototype._getDoubles=function(e,a){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var _=[this],b=this,_e=0;_e<a;_e+=e){for(var et=0;et<e;et++)b=b.dbl();_.push(b)}return{step:e,points:_}};BasePoint.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var a=[this],_=(1<<e)-1,b=_===1?null:this.dbl(),_e=1;_e<_;_e++)a[_e]=a[_e-1].add(b);return{wnd:e,points:a}};BasePoint.prototype._getBeta=function(){return null};BasePoint.prototype.dblp=function(e){for(var a=this,_=0;_<e;_++)a=a.dbl();return a};var utils$i=utils$l,BN$5=bnExports,inherits$3=inherits_browserExports,Base$2=base$1,assert$e=utils$i.assert;function ShortCurve(o){Base$2.call(this,"short",o),this.a=new BN$5(o.a,16).toRed(this.red),this.b=new BN$5(o.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(o),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}inherits$3(ShortCurve,Base$2);var short=ShortCurve;ShortCurve.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var a,_;if(e.beta)a=new BN$5(e.beta,16).toRed(this.red);else{var b=this._getEndoRoots(this.p);a=b[0].cmp(b[1])<0?b[0]:b[1],a=a.toRed(this.red)}if(e.lambda)_=new BN$5(e.lambda,16);else{var _e=this._getEndoRoots(this.n);this.g.mul(_e[0]).x.cmp(this.g.x.redMul(a))===0?_=_e[0]:(_=_e[1],assert$e(this.g.mul(_).x.cmp(this.g.x.redMul(a))===0))}var et;return e.basis?et=e.basis.map(function(tt){return{a:new BN$5(tt.a,16),b:new BN$5(tt.b,16)}}):et=this._getEndoBasis(_),{beta:a,lambda:_,basis:et}}};ShortCurve.prototype._getEndoRoots=function(e){var a=e===this.p?this.red:BN$5.mont(e),_=new BN$5(2).toRed(a).redInvm(),b=_.redNeg(),_e=new BN$5(3).toRed(a).redNeg().redSqrt().redMul(_),et=b.redAdd(_e).fromRed(),tt=b.redSub(_e).fromRed();return[et,tt]};ShortCurve.prototype._getEndoBasis=function(e){for(var a=this.n.ushrn(Math.floor(this.n.bitLength()/2)),_=e,b=this.n.clone(),_e=new BN$5(1),et=new BN$5(0),tt=new BN$5(0),nt=new BN$5(1),it,ot,st,at,lt,ut,ft,mt=0,ht,vt;_.cmpn(0)!==0;){var Et=b.div(_);ht=b.sub(Et.mul(_)),vt=tt.sub(Et.mul(_e));var At=nt.sub(Et.mul(et));if(!st&&ht.cmp(a)<0)it=ft.neg(),ot=_e,st=ht.neg(),at=vt;else if(st&&++mt===2)break;ft=ht,b=_,_=ht,tt=_e,_e=vt,nt=et,et=At}lt=ht.neg(),ut=vt;var Ct=st.sqr().add(at.sqr()),Mt=lt.sqr().add(ut.sqr());return Mt.cmp(Ct)>=0&&(lt=it,ut=ot),st.negative&&(st=st.neg(),at=at.neg()),lt.negative&&(lt=lt.neg(),ut=ut.neg()),[{a:st,b:at},{a:lt,b:ut}]};ShortCurve.prototype._endoSplit=function(e){var a=this.endo.basis,_=a[0],b=a[1],_e=b.b.mul(e).divRound(this.n),et=_.b.neg().mul(e).divRound(this.n),tt=_e.mul(_.a),nt=et.mul(b.a),it=_e.mul(_.b),ot=et.mul(b.b),st=e.sub(tt).sub(nt),at=it.add(ot).neg();return{k1:st,k2:at}};ShortCurve.prototype.pointFromX=function(e,a){e=new BN$5(e,16),e.red||(e=e.toRed(this.red));var _=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),b=_.redSqrt();if(b.redSqr().redSub(_).cmp(this.zero)!==0)throw new Error("invalid point");var _e=b.fromRed().isOdd();return(a&&!_e||!a&&_e)&&(b=b.redNeg()),this.point(e,b)};ShortCurve.prototype.validate=function(e){if(e.inf)return!0;var a=e.x,_=e.y,b=this.a.redMul(a),_e=a.redSqr().redMul(a).redIAdd(b).redIAdd(this.b);return _.redSqr().redISub(_e).cmpn(0)===0};ShortCurve.prototype._endoWnafMulAdd=function(e,a,_){for(var b=this._endoWnafT1,_e=this._endoWnafT2,et=0;et<e.length;et++){var tt=this._endoSplit(a[et]),nt=e[et],it=nt._getBeta();tt.k1.negative&&(tt.k1.ineg(),nt=nt.neg(!0)),tt.k2.negative&&(tt.k2.ineg(),it=it.neg(!0)),b[et*2]=nt,b[et*2+1]=it,_e[et*2]=tt.k1,_e[et*2+1]=tt.k2}for(var ot=this._wnafMulAdd(1,b,_e,et*2,_),st=0;st<et*2;st++)b[st]=null,_e[st]=null;return ot};function Point$2(o,e,a,_){Base$2.BasePoint.call(this,o,"affine"),e===null&&a===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new BN$5(e,16),this.y=new BN$5(a,16),_&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}inherits$3(Point$2,Base$2.BasePoint);ShortCurve.prototype.point=function(e,a,_){return new Point$2(this,e,a,_)};ShortCurve.prototype.pointFromJSON=function(e,a){return Point$2.fromJSON(this,e,a)};Point$2.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var a=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var _=this.curve,b=function(_e){return _.point(_e.x.redMul(_.endo.beta),_e.y)};e.beta=a,a.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(b)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(b)}}}return a}};Point$2.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Point$2.fromJSON=function(e,a,_){typeof a=="string"&&(a=JSON.parse(a));var b=e.point(a[0],a[1],_);if(!a[2])return b;function _e(tt){return e.point(tt[0],tt[1],_)}var et=a[2];return b.precomputed={beta:null,doubles:et.doubles&&{step:et.doubles.step,points:[b].concat(et.doubles.points.map(_e))},naf:et.naf&&{wnd:et.naf.wnd,points:[b].concat(et.naf.points.map(_e))}},b};Point$2.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Point$2.prototype.isInfinity=function(){return this.inf};Point$2.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var a=this.y.redSub(e.y);a.cmpn(0)!==0&&(a=a.redMul(this.x.redSub(e.x).redInvm()));var _=a.redSqr().redISub(this.x).redISub(e.x),b=a.redMul(this.x.redSub(_)).redISub(this.y);return this.curve.point(_,b)};Point$2.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var a=this.curve.a,_=this.x.redSqr(),b=e.redInvm(),_e=_.redAdd(_).redIAdd(_).redIAdd(a).redMul(b),et=_e.redSqr().redISub(this.x.redAdd(this.x)),tt=_e.redMul(this.x.redSub(et)).redISub(this.y);return this.curve.point(et,tt)};Point$2.prototype.getX=function(){return this.x.fromRed()};Point$2.prototype.getY=function(){return this.y.fromRed()};Point$2.prototype.mul=function(e){return e=new BN$5(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};Point$2.prototype.mulAdd=function(e,a,_){var b=[this,a],_e=[e,_];return this.curve.endo?this.curve._endoWnafMulAdd(b,_e):this.curve._wnafMulAdd(1,b,_e,2)};Point$2.prototype.jmulAdd=function(e,a,_){var b=[this,a],_e=[e,_];return this.curve.endo?this.curve._endoWnafMulAdd(b,_e,!0):this.curve._wnafMulAdd(1,b,_e,2,!0)};Point$2.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};Point$2.prototype.neg=function(e){if(this.inf)return this;var a=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var _=this.precomputed,b=function(_e){return _e.neg()};a.precomputed={naf:_.naf&&{wnd:_.naf.wnd,points:_.naf.points.map(b)},doubles:_.doubles&&{step:_.doubles.step,points:_.doubles.points.map(b)}}}return a};Point$2.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function JPoint(o,e,a,_){Base$2.BasePoint.call(this,o,"jacobian"),e===null&&a===null&&_===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new BN$5(0)):(this.x=new BN$5(e,16),this.y=new BN$5(a,16),this.z=new BN$5(_,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}inherits$3(JPoint,Base$2.BasePoint);ShortCurve.prototype.jpoint=function(e,a,_){return new JPoint(this,e,a,_)};JPoint.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),a=e.redSqr(),_=this.x.redMul(a),b=this.y.redMul(a).redMul(e);return this.curve.point(_,b)};JPoint.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};JPoint.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var a=e.z.redSqr(),_=this.z.redSqr(),b=this.x.redMul(a),_e=e.x.redMul(_),et=this.y.redMul(a.redMul(e.z)),tt=e.y.redMul(_.redMul(this.z)),nt=b.redSub(_e),it=et.redSub(tt);if(nt.cmpn(0)===0)return it.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var ot=nt.redSqr(),st=ot.redMul(nt),at=b.redMul(ot),lt=it.redSqr().redIAdd(st).redISub(at).redISub(at),ut=it.redMul(at.redISub(lt)).redISub(et.redMul(st)),ft=this.z.redMul(e.z).redMul(nt);return this.curve.jpoint(lt,ut,ft)};JPoint.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var a=this.z.redSqr(),_=this.x,b=e.x.redMul(a),_e=this.y,et=e.y.redMul(a).redMul(this.z),tt=_.redSub(b),nt=_e.redSub(et);if(tt.cmpn(0)===0)return nt.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var it=tt.redSqr(),ot=it.redMul(tt),st=_.redMul(it),at=nt.redSqr().redIAdd(ot).redISub(st).redISub(st),lt=nt.redMul(st.redISub(at)).redISub(_e.redMul(ot)),ut=this.z.redMul(tt);return this.curve.jpoint(at,lt,ut)};JPoint.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var a;if(this.curve.zeroA||this.curve.threeA){var _=this;for(a=0;a<e;a++)_=_.dbl();return _}var b=this.curve.a,_e=this.curve.tinv,et=this.x,tt=this.y,nt=this.z,it=nt.redSqr().redSqr(),ot=tt.redAdd(tt);for(a=0;a<e;a++){var st=et.redSqr(),at=ot.redSqr(),lt=at.redSqr(),ut=st.redAdd(st).redIAdd(st).redIAdd(b.redMul(it)),ft=et.redMul(at),mt=ut.redSqr().redISub(ft.redAdd(ft)),ht=ft.redISub(mt),vt=ut.redMul(ht);vt=vt.redIAdd(vt).redISub(lt);var Et=ot.redMul(nt);a+1<e&&(it=it.redMul(lt)),et=mt,nt=Et,ot=vt}return this.curve.jpoint(et,ot.redMul(_e),nt)};JPoint.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};JPoint.prototype._zeroDbl=function(){var e,a,_;if(this.zOne){var b=this.x.redSqr(),_e=this.y.redSqr(),et=_e.redSqr(),tt=this.x.redAdd(_e).redSqr().redISub(b).redISub(et);tt=tt.redIAdd(tt);var nt=b.redAdd(b).redIAdd(b),it=nt.redSqr().redISub(tt).redISub(tt),ot=et.redIAdd(et);ot=ot.redIAdd(ot),ot=ot.redIAdd(ot),e=it,a=nt.redMul(tt.redISub(it)).redISub(ot),_=this.y.redAdd(this.y)}else{var st=this.x.redSqr(),at=this.y.redSqr(),lt=at.redSqr(),ut=this.x.redAdd(at).redSqr().redISub(st).redISub(lt);ut=ut.redIAdd(ut);var ft=st.redAdd(st).redIAdd(st),mt=ft.redSqr(),ht=lt.redIAdd(lt);ht=ht.redIAdd(ht),ht=ht.redIAdd(ht),e=mt.redISub(ut).redISub(ut),a=ft.redMul(ut.redISub(e)).redISub(ht),_=this.y.redMul(this.z),_=_.redIAdd(_)}return this.curve.jpoint(e,a,_)};JPoint.prototype._threeDbl=function(){var e,a,_;if(this.zOne){var b=this.x.redSqr(),_e=this.y.redSqr(),et=_e.redSqr(),tt=this.x.redAdd(_e).redSqr().redISub(b).redISub(et);tt=tt.redIAdd(tt);var nt=b.redAdd(b).redIAdd(b).redIAdd(this.curve.a),it=nt.redSqr().redISub(tt).redISub(tt);e=it;var ot=et.redIAdd(et);ot=ot.redIAdd(ot),ot=ot.redIAdd(ot),a=nt.redMul(tt.redISub(it)).redISub(ot),_=this.y.redAdd(this.y)}else{var st=this.z.redSqr(),at=this.y.redSqr(),lt=this.x.redMul(at),ut=this.x.redSub(st).redMul(this.x.redAdd(st));ut=ut.redAdd(ut).redIAdd(ut);var ft=lt.redIAdd(lt);ft=ft.redIAdd(ft);var mt=ft.redAdd(ft);e=ut.redSqr().redISub(mt),_=this.y.redAdd(this.z).redSqr().redISub(at).redISub(st);var ht=at.redSqr();ht=ht.redIAdd(ht),ht=ht.redIAdd(ht),ht=ht.redIAdd(ht),a=ut.redMul(ft.redISub(e)).redISub(ht)}return this.curve.jpoint(e,a,_)};JPoint.prototype._dbl=function(){var e=this.curve.a,a=this.x,_=this.y,b=this.z,_e=b.redSqr().redSqr(),et=a.redSqr(),tt=_.redSqr(),nt=et.redAdd(et).redIAdd(et).redIAdd(e.redMul(_e)),it=a.redAdd(a);it=it.redIAdd(it);var ot=it.redMul(tt),st=nt.redSqr().redISub(ot.redAdd(ot)),at=ot.redISub(st),lt=tt.redSqr();lt=lt.redIAdd(lt),lt=lt.redIAdd(lt),lt=lt.redIAdd(lt);var ut=nt.redMul(at).redISub(lt),ft=_.redAdd(_).redMul(b);return this.curve.jpoint(st,ut,ft)};JPoint.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),a=this.y.redSqr(),_=this.z.redSqr(),b=a.redSqr(),_e=e.redAdd(e).redIAdd(e),et=_e.redSqr(),tt=this.x.redAdd(a).redSqr().redISub(e).redISub(b);tt=tt.redIAdd(tt),tt=tt.redAdd(tt).redIAdd(tt),tt=tt.redISub(et);var nt=tt.redSqr(),it=b.redIAdd(b);it=it.redIAdd(it),it=it.redIAdd(it),it=it.redIAdd(it);var ot=_e.redIAdd(tt).redSqr().redISub(et).redISub(nt).redISub(it),st=a.redMul(ot);st=st.redIAdd(st),st=st.redIAdd(st);var at=this.x.redMul(nt).redISub(st);at=at.redIAdd(at),at=at.redIAdd(at);var lt=this.y.redMul(ot.redMul(it.redISub(ot)).redISub(tt.redMul(nt)));lt=lt.redIAdd(lt),lt=lt.redIAdd(lt),lt=lt.redIAdd(lt);var ut=this.z.redAdd(tt).redSqr().redISub(_).redISub(nt);return this.curve.jpoint(at,lt,ut)};JPoint.prototype.mul=function(e,a){return e=new BN$5(e,a),this.curve._wnafMul(this,e)};JPoint.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var a=this.z.redSqr(),_=e.z.redSqr();if(this.x.redMul(_).redISub(e.x.redMul(a)).cmpn(0)!==0)return!1;var b=a.redMul(this.z),_e=_.redMul(e.z);return this.y.redMul(_e).redISub(e.y.redMul(b)).cmpn(0)===0};JPoint.prototype.eqXToP=function(e){var a=this.z.redSqr(),_=e.toRed(this.curve.red).redMul(a);if(this.x.cmp(_)===0)return!0;for(var b=e.clone(),_e=this.curve.redN.redMul(a);;){if(b.iadd(this.curve.n),b.cmp(this.curve.p)>=0)return!1;if(_.redIAdd(_e),this.x.cmp(_)===0)return!0}};JPoint.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};JPoint.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var BN$4=bnExports,inherits$2=inherits_browserExports,Base$1=base$1,utils$h=utils$l;function MontCurve(o){Base$1.call(this,"mont",o),this.a=new BN$4(o.a,16).toRed(this.red),this.b=new BN$4(o.b,16).toRed(this.red),this.i4=new BN$4(4).toRed(this.red).redInvm(),this.two=new BN$4(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}inherits$2(MontCurve,Base$1);var mont=MontCurve;MontCurve.prototype.validate=function(e){var a=e.normalize().x,_=a.redSqr(),b=_.redMul(a).redAdd(_.redMul(this.a)).redAdd(a),_e=b.redSqrt();return _e.redSqr().cmp(b)===0};function Point$1(o,e,a){Base$1.BasePoint.call(this,o,"projective"),e===null&&a===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new BN$4(e,16),this.z=new BN$4(a,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}inherits$2(Point$1,Base$1.BasePoint);MontCurve.prototype.decodePoint=function(e,a){return this.point(utils$h.toArray(e,a),1)};MontCurve.prototype.point=function(e,a){return new Point$1(this,e,a)};MontCurve.prototype.pointFromJSON=function(e){return Point$1.fromJSON(this,e)};Point$1.prototype.precompute=function(){};Point$1.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};Point$1.fromJSON=function(e,a){return new Point$1(e,a[0],a[1]||e.one)};Point$1.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Point$1.prototype.isInfinity=function(){return this.z.cmpn(0)===0};Point$1.prototype.dbl=function(){var e=this.x.redAdd(this.z),a=e.redSqr(),_=this.x.redSub(this.z),b=_.redSqr(),_e=a.redSub(b),et=a.redMul(b),tt=_e.redMul(b.redAdd(this.curve.a24.redMul(_e)));return this.curve.point(et,tt)};Point$1.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};Point$1.prototype.diffAdd=function(e,a){var _=this.x.redAdd(this.z),b=this.x.redSub(this.z),_e=e.x.redAdd(e.z),et=e.x.redSub(e.z),tt=et.redMul(_),nt=_e.redMul(b),it=a.z.redMul(tt.redAdd(nt).redSqr()),ot=a.x.redMul(tt.redISub(nt).redSqr());return this.curve.point(it,ot)};Point$1.prototype.mul=function(e){for(var a=e.clone(),_=this,b=this.curve.point(null,null),_e=this,et=[];a.cmpn(0)!==0;a.iushrn(1))et.push(a.andln(1));for(var tt=et.length-1;tt>=0;tt--)et[tt]===0?(_=_.diffAdd(b,_e),b=b.dbl()):(b=_.diffAdd(b,_e),_=_.dbl());return b};Point$1.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};Point$1.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};Point$1.prototype.eq=function(e){return this.getX().cmp(e.getX())===0};Point$1.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};Point$1.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var utils$g=utils$l,BN$3=bnExports,inherits$1=inherits_browserExports,Base=base$1,assert$d=utils$g.assert;function EdwardsCurve(o){this.twisted=(o.a|0)!==1,this.mOneA=this.twisted&&(o.a|0)===-1,this.extended=this.mOneA,Base.call(this,"edwards",o),this.a=new BN$3(o.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new BN$3(o.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new BN$3(o.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),assert$d(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(o.c|0)===1}inherits$1(EdwardsCurve,Base);var edwards=EdwardsCurve;EdwardsCurve.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)};EdwardsCurve.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)};EdwardsCurve.prototype.jpoint=function(e,a,_,b){return this.point(e,a,_,b)};EdwardsCurve.prototype.pointFromX=function(e,a){e=new BN$3(e,16),e.red||(e=e.toRed(this.red));var _=e.redSqr(),b=this.c2.redSub(this.a.redMul(_)),_e=this.one.redSub(this.c2.redMul(this.d).redMul(_)),et=b.redMul(_e.redInvm()),tt=et.redSqrt();if(tt.redSqr().redSub(et).cmp(this.zero)!==0)throw new Error("invalid point");var nt=tt.fromRed().isOdd();return(a&&!nt||!a&&nt)&&(tt=tt.redNeg()),this.point(e,tt)};EdwardsCurve.prototype.pointFromY=function(e,a){e=new BN$3(e,16),e.red||(e=e.toRed(this.red));var _=e.redSqr(),b=_.redSub(this.c2),_e=_.redMul(this.d).redMul(this.c2).redSub(this.a),et=b.redMul(_e.redInvm());if(et.cmp(this.zero)===0){if(a)throw new Error("invalid point");return this.point(this.zero,e)}var tt=et.redSqrt();if(tt.redSqr().redSub(et).cmp(this.zero)!==0)throw new Error("invalid point");return tt.fromRed().isOdd()!==a&&(tt=tt.redNeg()),this.point(tt,e)};EdwardsCurve.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var a=e.x.redSqr(),_=e.y.redSqr(),b=a.redMul(this.a).redAdd(_),_e=this.c2.redMul(this.one.redAdd(this.d.redMul(a).redMul(_)));return b.cmp(_e)===0};function Point(o,e,a,_,b){Base.BasePoint.call(this,o,"projective"),e===null&&a===null&&_===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new BN$3(e,16),this.y=new BN$3(a,16),this.z=_?new BN$3(_,16):this.curve.one,this.t=b&&new BN$3(b,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}inherits$1(Point,Base.BasePoint);EdwardsCurve.prototype.pointFromJSON=function(e){return Point.fromJSON(this,e)};EdwardsCurve.prototype.point=function(e,a,_,b){return new Point(this,e,a,_,b)};Point.fromJSON=function(e,a){return new Point(e,a[0],a[1],a[2])};Point.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Point.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};Point.prototype._extDbl=function(){var e=this.x.redSqr(),a=this.y.redSqr(),_=this.z.redSqr();_=_.redIAdd(_);var b=this.curve._mulA(e),_e=this.x.redAdd(this.y).redSqr().redISub(e).redISub(a),et=b.redAdd(a),tt=et.redSub(_),nt=b.redSub(a),it=_e.redMul(tt),ot=et.redMul(nt),st=_e.redMul(nt),at=tt.redMul(et);return this.curve.point(it,ot,at,st)};Point.prototype._projDbl=function(){var e=this.x.redAdd(this.y).redSqr(),a=this.x.redSqr(),_=this.y.redSqr(),b,_e,et,tt,nt,it;if(this.curve.twisted){tt=this.curve._mulA(a);var ot=tt.redAdd(_);this.zOne?(b=e.redSub(a).redSub(_).redMul(ot.redSub(this.curve.two)),_e=ot.redMul(tt.redSub(_)),et=ot.redSqr().redSub(ot).redSub(ot)):(nt=this.z.redSqr(),it=ot.redSub(nt).redISub(nt),b=e.redSub(a).redISub(_).redMul(it),_e=ot.redMul(tt.redSub(_)),et=ot.redMul(it))}else tt=a.redAdd(_),nt=this.curve._mulC(this.z).redSqr(),it=tt.redSub(nt).redSub(nt),b=this.curve._mulC(e.redISub(tt)).redMul(it),_e=this.curve._mulC(tt).redMul(a.redISub(_)),et=tt.redMul(it);return this.curve.point(b,_e,et)};Point.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};Point.prototype._extAdd=function(e){var a=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),_=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),b=this.t.redMul(this.curve.dd).redMul(e.t),_e=this.z.redMul(e.z.redAdd(e.z)),et=_.redSub(a),tt=_e.redSub(b),nt=_e.redAdd(b),it=_.redAdd(a),ot=et.redMul(tt),st=nt.redMul(it),at=et.redMul(it),lt=tt.redMul(nt);return this.curve.point(ot,st,lt,at)};Point.prototype._projAdd=function(e){var a=this.z.redMul(e.z),_=a.redSqr(),b=this.x.redMul(e.x),_e=this.y.redMul(e.y),et=this.curve.d.redMul(b).redMul(_e),tt=_.redSub(et),nt=_.redAdd(et),it=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(b).redISub(_e),ot=a.redMul(tt).redMul(it),st,at;return this.curve.twisted?(st=a.redMul(nt).redMul(_e.redSub(this.curve._mulA(b))),at=tt.redMul(nt)):(st=a.redMul(nt).redMul(_e.redSub(b)),at=this.curve._mulC(tt).redMul(nt)),this.curve.point(ot,st,at)};Point.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)};Point.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)};Point.prototype.mulAdd=function(e,a,_){return this.curve._wnafMulAdd(1,[this,a],[e,_],2,!1)};Point.prototype.jmulAdd=function(e,a,_){return this.curve._wnafMulAdd(1,[this,a],[e,_],2,!0)};Point.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this};Point.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};Point.prototype.getX=function(){return this.normalize(),this.x.fromRed()};Point.prototype.getY=function(){return this.normalize(),this.y.fromRed()};Point.prototype.eq=function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0};Point.prototype.eqXToP=function(e){var a=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(a)===0)return!0;for(var _=e.clone(),b=this.curve.redN.redMul(this.z);;){if(_.iadd(this.curve.n),_.cmp(this.curve.p)>=0)return!1;if(a.redIAdd(b),this.x.cmp(a)===0)return!0}};Point.prototype.toP=Point.prototype.normalize;Point.prototype.mixedAdd=Point.prototype.add;(function(o){var e=o;e.base=base$1,e.short=short,e.mont=mont,e.edwards=edwards})(curve);var curves$2={},hash$3={},utils$f={},assert$c=minimalisticAssert,inherits=inherits_browserExports;utils$f.inherits=inherits;function isSurrogatePair(o,e){return(o.charCodeAt(e)&64512)!==55296||e<0||e+1>=o.length?!1:(o.charCodeAt(e+1)&64512)===56320}function toArray(o,e){if(Array.isArray(o))return o.slice();if(!o)return[];var a=[];if(typeof o=="string")if(e){if(e==="hex")for(o=o.replace(/[^a-z0-9]+/ig,""),o.length%2!==0&&(o="0"+o),b=0;b<o.length;b+=2)a.push(parseInt(o[b]+o[b+1],16))}else for(var _=0,b=0;b<o.length;b++){var _e=o.charCodeAt(b);_e<128?a[_++]=_e:_e<2048?(a[_++]=_e>>6|192,a[_++]=_e&63|128):isSurrogatePair(o,b)?(_e=65536+((_e&1023)<<10)+(o.charCodeAt(++b)&1023),a[_++]=_e>>18|240,a[_++]=_e>>12&63|128,a[_++]=_e>>6&63|128,a[_++]=_e&63|128):(a[_++]=_e>>12|224,a[_++]=_e>>6&63|128,a[_++]=_e&63|128)}else for(b=0;b<o.length;b++)a[b]=o[b]|0;return a}utils$f.toArray=toArray;function toHex$1(o){for(var e="",a=0;a<o.length;a++)e+=zero2(o[a].toString(16));return e}utils$f.toHex=toHex$1;function htonl(o){var e=o>>>24|o>>>8&65280|o<<8&16711680|(o&255)<<24;return e>>>0}utils$f.htonl=htonl;function toHex32(o,e){for(var a="",_=0;_<o.length;_++){var b=o[_];e==="little"&&(b=htonl(b)),a+=zero8(b.toString(16))}return a}utils$f.toHex32=toHex32;function zero2(o){return o.length===1?"0"+o:o}utils$f.zero2=zero2;function zero8(o){return o.length===7?"0"+o:o.length===6?"00"+o:o.length===5?"000"+o:o.length===4?"0000"+o:o.length===3?"00000"+o:o.length===2?"000000"+o:o.length===1?"0000000"+o:o}utils$f.zero8=zero8;function join32(o,e,a,_){var b=a-e;assert$c(b%4===0);for(var _e=new Array(b/4),et=0,tt=e;et<_e.length;et++,tt+=4){var nt;_==="big"?nt=o[tt]<<24|o[tt+1]<<16|o[tt+2]<<8|o[tt+3]:nt=o[tt+3]<<24|o[tt+2]<<16|o[tt+1]<<8|o[tt],_e[et]=nt>>>0}return _e}utils$f.join32=join32;function split32(o,e){for(var a=new Array(o.length*4),_=0,b=0;_<o.length;_++,b+=4){var _e=o[_];e==="big"?(a[b]=_e>>>24,a[b+1]=_e>>>16&255,a[b+2]=_e>>>8&255,a[b+3]=_e&255):(a[b+3]=_e>>>24,a[b+2]=_e>>>16&255,a[b+1]=_e>>>8&255,a[b]=_e&255)}return a}utils$f.split32=split32;function rotr32$1(o,e){return o>>>e|o<<32-e}utils$f.rotr32=rotr32$1;function rotl32$2(o,e){return o<<e|o>>>32-e}utils$f.rotl32=rotl32$2;function sum32$3(o,e){return o+e>>>0}utils$f.sum32=sum32$3;function sum32_3$1(o,e,a){return o+e+a>>>0}utils$f.sum32_3=sum32_3$1;function sum32_4$2(o,e,a,_){return o+e+a+_>>>0}utils$f.sum32_4=sum32_4$2;function sum32_5$2(o,e,a,_,b){return o+e+a+_+b>>>0}utils$f.sum32_5=sum32_5$2;function sum64$1(o,e,a,_){var b=o[e],_e=o[e+1],et=_+_e>>>0,tt=(et<_?1:0)+a+b;o[e]=tt>>>0,o[e+1]=et}utils$f.sum64=sum64$1;function sum64_hi$1(o,e,a,_){var b=e+_>>>0,_e=(b<e?1:0)+o+a;return _e>>>0}utils$f.sum64_hi=sum64_hi$1;function sum64_lo$1(o,e,a,_){var b=e+_;return b>>>0}utils$f.sum64_lo=sum64_lo$1;function sum64_4_hi$1(o,e,a,_,b,_e,et,tt){var nt=0,it=e;it=it+_>>>0,nt+=it<e?1:0,it=it+_e>>>0,nt+=it<_e?1:0,it=it+tt>>>0,nt+=it<tt?1:0;var ot=o+a+b+et+nt;return ot>>>0}utils$f.sum64_4_hi=sum64_4_hi$1;function sum64_4_lo$1(o,e,a,_,b,_e,et,tt){var nt=e+_+_e+tt;return nt>>>0}utils$f.sum64_4_lo=sum64_4_lo$1;function sum64_5_hi$1(o,e,a,_,b,_e,et,tt,nt,it){var ot=0,st=e;st=st+_>>>0,ot+=st<e?1:0,st=st+_e>>>0,ot+=st<_e?1:0,st=st+tt>>>0,ot+=st<tt?1:0,st=st+it>>>0,ot+=st<it?1:0;var at=o+a+b+et+nt+ot;return at>>>0}utils$f.sum64_5_hi=sum64_5_hi$1;function sum64_5_lo$1(o,e,a,_,b,_e,et,tt,nt,it){var ot=e+_+_e+tt+it;return ot>>>0}utils$f.sum64_5_lo=sum64_5_lo$1;function rotr64_hi$1(o,e,a){var _=e<<32-a|o>>>a;return _>>>0}utils$f.rotr64_hi=rotr64_hi$1;function rotr64_lo$1(o,e,a){var _=o<<32-a|e>>>a;return _>>>0}utils$f.rotr64_lo=rotr64_lo$1;function shr64_hi$1(o,e,a){return o>>>a}utils$f.shr64_hi=shr64_hi$1;function shr64_lo$1(o,e,a){var _=o<<32-a|e>>>a;return _>>>0}utils$f.shr64_lo=shr64_lo$1;var common$6={},utils$e=utils$f,assert$b=minimalisticAssert;function BlockHash$4(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}common$6.BlockHash=BlockHash$4;BlockHash$4.prototype.update=function(e,a){if(e=utils$e.toArray(e,a),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var _=e.length%this._delta8;this.pending=e.slice(e.length-_,e.length),this.pending.length===0&&(this.pending=null),e=utils$e.join32(e,0,e.length-_,this.endian);for(var b=0;b<e.length;b+=this._delta32)this._update(e,b,b+this._delta32)}return this};BlockHash$4.prototype.digest=function(e){return this.update(this._pad()),assert$b(this.pending===null),this._digest(e)};BlockHash$4.prototype._pad=function(){var e=this.pendingTotal,a=this._delta8,_=a-(e+this.padLength)%a,b=new Array(_+this.padLength);b[0]=128;for(var _e=1;_e<_;_e++)b[_e]=0;if(e<<=3,this.endian==="big"){for(var et=8;et<this.padLength;et++)b[_e++]=0;b[_e++]=0,b[_e++]=0,b[_e++]=0,b[_e++]=0,b[_e++]=e>>>24&255,b[_e++]=e>>>16&255,b[_e++]=e>>>8&255,b[_e++]=e&255}else for(b[_e++]=e&255,b[_e++]=e>>>8&255,b[_e++]=e>>>16&255,b[_e++]=e>>>24&255,b[_e++]=0,b[_e++]=0,b[_e++]=0,b[_e++]=0,et=8;et<this.padLength;et++)b[_e++]=0;return b};var sha={},common$5={},utils$d=utils$f,rotr32=utils$d.rotr32;function ft_1$1(o,e,a,_){if(o===0)return ch32$1(e,a,_);if(o===1||o===3)return p32(e,a,_);if(o===2)return maj32$1(e,a,_)}common$5.ft_1=ft_1$1;function ch32$1(o,e,a){return o&e^~o&a}common$5.ch32=ch32$1;function maj32$1(o,e,a){return o&e^o&a^e&a}common$5.maj32=maj32$1;function p32(o,e,a){return o^e^a}common$5.p32=p32;function s0_256$1(o){return rotr32(o,2)^rotr32(o,13)^rotr32(o,22)}common$5.s0_256=s0_256$1;function s1_256$1(o){return rotr32(o,6)^rotr32(o,11)^rotr32(o,25)}common$5.s1_256=s1_256$1;function g0_256$1(o){return rotr32(o,7)^rotr32(o,18)^o>>>3}common$5.g0_256=g0_256$1;function g1_256$1(o){return rotr32(o,17)^rotr32(o,19)^o>>>10}common$5.g1_256=g1_256$1;var utils$c=utils$f,common$4=common$6,shaCommon$1=common$5,rotl32$1=utils$c.rotl32,sum32$2=utils$c.sum32,sum32_5$1=utils$c.sum32_5,ft_1=shaCommon$1.ft_1,BlockHash$3=common$4.BlockHash,sha1_K=[1518500249,1859775393,2400959708,3395469782];function SHA1(){if(!(this instanceof SHA1))return new SHA1;BlockHash$3.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}utils$c.inherits(SHA1,BlockHash$3);var _1=SHA1;SHA1.blockSize=512;SHA1.outSize=160;SHA1.hmacStrength=80;SHA1.padLength=64;SHA1.prototype._update=function(e,a){for(var _=this.W,b=0;b<16;b++)_[b]=e[a+b];for(;b<_.length;b++)_[b]=rotl32$1(_[b-3]^_[b-8]^_[b-14]^_[b-16],1);var _e=this.h[0],et=this.h[1],tt=this.h[2],nt=this.h[3],it=this.h[4];for(b=0;b<_.length;b++){var ot=~~(b/20),st=sum32_5$1(rotl32$1(_e,5),ft_1(ot,et,tt,nt),it,_[b],sha1_K[ot]);it=nt,nt=tt,tt=rotl32$1(et,30),et=_e,_e=st}this.h[0]=sum32$2(this.h[0],_e),this.h[1]=sum32$2(this.h[1],et),this.h[2]=sum32$2(this.h[2],tt),this.h[3]=sum32$2(this.h[3],nt),this.h[4]=sum32$2(this.h[4],it)};SHA1.prototype._digest=function(e){return e==="hex"?utils$c.toHex32(this.h,"big"):utils$c.split32(this.h,"big")};var utils$b=utils$f,common$3=common$6,shaCommon=common$5,assert$a=minimalisticAssert,sum32$1=utils$b.sum32,sum32_4$1=utils$b.sum32_4,sum32_5=utils$b.sum32_5,ch32=shaCommon.ch32,maj32=shaCommon.maj32,s0_256=shaCommon.s0_256,s1_256=shaCommon.s1_256,g0_256=shaCommon.g0_256,g1_256=shaCommon.g1_256,BlockHash$2=common$3.BlockHash,sha256_K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function SHA256$1(){if(!(this instanceof SHA256$1))return new SHA256$1;BlockHash$2.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=sha256_K,this.W=new Array(64)}utils$b.inherits(SHA256$1,BlockHash$2);var _256=SHA256$1;SHA256$1.blockSize=512;SHA256$1.outSize=256;SHA256$1.hmacStrength=192;SHA256$1.padLength=64;SHA256$1.prototype._update=function(e,a){for(var _=this.W,b=0;b<16;b++)_[b]=e[a+b];for(;b<_.length;b++)_[b]=sum32_4$1(g1_256(_[b-2]),_[b-7],g0_256(_[b-15]),_[b-16]);var _e=this.h[0],et=this.h[1],tt=this.h[2],nt=this.h[3],it=this.h[4],ot=this.h[5],st=this.h[6],at=this.h[7];for(assert$a(this.k.length===_.length),b=0;b<_.length;b++){var lt=sum32_5(at,s1_256(it),ch32(it,ot,st),this.k[b],_[b]),ut=sum32$1(s0_256(_e),maj32(_e,et,tt));at=st,st=ot,ot=it,it=sum32$1(nt,lt),nt=tt,tt=et,et=_e,_e=sum32$1(lt,ut)}this.h[0]=sum32$1(this.h[0],_e),this.h[1]=sum32$1(this.h[1],et),this.h[2]=sum32$1(this.h[2],tt),this.h[3]=sum32$1(this.h[3],nt),this.h[4]=sum32$1(this.h[4],it),this.h[5]=sum32$1(this.h[5],ot),this.h[6]=sum32$1(this.h[6],st),this.h[7]=sum32$1(this.h[7],at)};SHA256$1.prototype._digest=function(e){return e==="hex"?utils$b.toHex32(this.h,"big"):utils$b.split32(this.h,"big")};var utils$a=utils$f,SHA256=_256;function SHA224(){if(!(this instanceof SHA224))return new SHA224;SHA256.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}utils$a.inherits(SHA224,SHA256);var _224=SHA224;SHA224.blockSize=512;SHA224.outSize=224;SHA224.hmacStrength=192;SHA224.padLength=64;SHA224.prototype._digest=function(e){return e==="hex"?utils$a.toHex32(this.h.slice(0,7),"big"):utils$a.split32(this.h.slice(0,7),"big")};var utils$9=utils$f,common$2=common$6,assert$9=minimalisticAssert,rotr64_hi=utils$9.rotr64_hi,rotr64_lo=utils$9.rotr64_lo,shr64_hi=utils$9.shr64_hi,shr64_lo=utils$9.shr64_lo,sum64=utils$9.sum64,sum64_hi=utils$9.sum64_hi,sum64_lo=utils$9.sum64_lo,sum64_4_hi=utils$9.sum64_4_hi,sum64_4_lo=utils$9.sum64_4_lo,sum64_5_hi=utils$9.sum64_5_hi,sum64_5_lo=utils$9.sum64_5_lo,BlockHash$1=common$2.BlockHash,sha512_K=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function SHA512$1(){if(!(this instanceof SHA512$1))return new SHA512$1;BlockHash$1.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=sha512_K,this.W=new Array(160)}utils$9.inherits(SHA512$1,BlockHash$1);var _512=SHA512$1;SHA512$1.blockSize=1024;SHA512$1.outSize=512;SHA512$1.hmacStrength=192;SHA512$1.padLength=128;SHA512$1.prototype._prepareBlock=function(e,a){for(var _=this.W,b=0;b<32;b++)_[b]=e[a+b];for(;b<_.length;b+=2){var _e=g1_512_hi(_[b-4],_[b-3]),et=g1_512_lo(_[b-4],_[b-3]),tt=_[b-14],nt=_[b-13],it=g0_512_hi(_[b-30],_[b-29]),ot=g0_512_lo(_[b-30],_[b-29]),st=_[b-32],at=_[b-31];_[b]=sum64_4_hi(_e,et,tt,nt,it,ot,st,at),_[b+1]=sum64_4_lo(_e,et,tt,nt,it,ot,st,at)}};SHA512$1.prototype._update=function(e,a){this._prepareBlock(e,a);var _=this.W,b=this.h[0],_e=this.h[1],et=this.h[2],tt=this.h[3],nt=this.h[4],it=this.h[5],ot=this.h[6],st=this.h[7],at=this.h[8],lt=this.h[9],ut=this.h[10],ft=this.h[11],mt=this.h[12],ht=this.h[13],vt=this.h[14],Et=this.h[15];assert$9(this.k.length===_.length);for(var At=0;At<_.length;At+=2){var Ct=vt,Mt=Et,Bt=s1_512_hi(at,lt),Lt=s1_512_lo(at,lt),jt=ch64_hi(at,lt,ut,ft,mt),Vt=ch64_lo(at,lt,ut,ft,mt,ht),Nt=this.k[At],kt=this.k[At+1],_t=_[At],ct=_[At+1],dt=sum64_5_hi(Ct,Mt,Bt,Lt,jt,Vt,Nt,kt,_t,ct),wt=sum64_5_lo(Ct,Mt,Bt,Lt,jt,Vt,Nt,kt,_t,ct);Ct=s0_512_hi(b,_e),Mt=s0_512_lo(b,_e),Bt=maj64_hi(b,_e,et,tt,nt),Lt=maj64_lo(b,_e,et,tt,nt,it);var gt=sum64_hi(Ct,Mt,Bt,Lt),bt=sum64_lo(Ct,Mt,Bt,Lt);vt=mt,Et=ht,mt=ut,ht=ft,ut=at,ft=lt,at=sum64_hi(ot,st,dt,wt),lt=sum64_lo(st,st,dt,wt),ot=nt,st=it,nt=et,it=tt,et=b,tt=_e,b=sum64_hi(dt,wt,gt,bt),_e=sum64_lo(dt,wt,gt,bt)}sum64(this.h,0,b,_e),sum64(this.h,2,et,tt),sum64(this.h,4,nt,it),sum64(this.h,6,ot,st),sum64(this.h,8,at,lt),sum64(this.h,10,ut,ft),sum64(this.h,12,mt,ht),sum64(this.h,14,vt,Et)};SHA512$1.prototype._digest=function(e){return e==="hex"?utils$9.toHex32(this.h,"big"):utils$9.split32(this.h,"big")};function ch64_hi(o,e,a,_,b){var _e=o&a^~o&b;return _e<0&&(_e+=4294967296),_e}function ch64_lo(o,e,a,_,b,_e){var et=e&_^~e&_e;return et<0&&(et+=4294967296),et}function maj64_hi(o,e,a,_,b){var _e=o&a^o&b^a&b;return _e<0&&(_e+=4294967296),_e}function maj64_lo(o,e,a,_,b,_e){var et=e&_^e&_e^_&_e;return et<0&&(et+=4294967296),et}function s0_512_hi(o,e){var a=rotr64_hi(o,e,28),_=rotr64_hi(e,o,2),b=rotr64_hi(e,o,7),_e=a^_^b;return _e<0&&(_e+=4294967296),_e}function s0_512_lo(o,e){var a=rotr64_lo(o,e,28),_=rotr64_lo(e,o,2),b=rotr64_lo(e,o,7),_e=a^_^b;return _e<0&&(_e+=4294967296),_e}function s1_512_hi(o,e){var a=rotr64_hi(o,e,14),_=rotr64_hi(o,e,18),b=rotr64_hi(e,o,9),_e=a^_^b;return _e<0&&(_e+=4294967296),_e}function s1_512_lo(o,e){var a=rotr64_lo(o,e,14),_=rotr64_lo(o,e,18),b=rotr64_lo(e,o,9),_e=a^_^b;return _e<0&&(_e+=4294967296),_e}function g0_512_hi(o,e){var a=rotr64_hi(o,e,1),_=rotr64_hi(o,e,8),b=shr64_hi(o,e,7),_e=a^_^b;return _e<0&&(_e+=4294967296),_e}function g0_512_lo(o,e){var a=rotr64_lo(o,e,1),_=rotr64_lo(o,e,8),b=shr64_lo(o,e,7),_e=a^_^b;return _e<0&&(_e+=4294967296),_e}function g1_512_hi(o,e){var a=rotr64_hi(o,e,19),_=rotr64_hi(e,o,29),b=shr64_hi(o,e,6),_e=a^_^b;return _e<0&&(_e+=4294967296),_e}function g1_512_lo(o,e){var a=rotr64_lo(o,e,19),_=rotr64_lo(e,o,29),b=shr64_lo(o,e,6),_e=a^_^b;return _e<0&&(_e+=4294967296),_e}var utils$8=utils$f,SHA512=_512;function SHA384(){if(!(this instanceof SHA384))return new SHA384;SHA512.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}utils$8.inherits(SHA384,SHA512);var _384=SHA384;SHA384.blockSize=1024;SHA384.outSize=384;SHA384.hmacStrength=192;SHA384.padLength=128;SHA384.prototype._digest=function(e){return e==="hex"?utils$8.toHex32(this.h.slice(0,12),"big"):utils$8.split32(this.h.slice(0,12),"big")};sha.sha1=_1;sha.sha224=_224;sha.sha256=_256;sha.sha384=_384;sha.sha512=_512;var ripemd={},utils$7=utils$f,common$1=common$6,rotl32=utils$7.rotl32,sum32=utils$7.sum32,sum32_3=utils$7.sum32_3,sum32_4=utils$7.sum32_4,BlockHash=common$1.BlockHash;function RIPEMD160(){if(!(this instanceof RIPEMD160))return new RIPEMD160;BlockHash.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}utils$7.inherits(RIPEMD160,BlockHash);ripemd.ripemd160=RIPEMD160;RIPEMD160.blockSize=512;RIPEMD160.outSize=160;RIPEMD160.hmacStrength=192;RIPEMD160.padLength=64;RIPEMD160.prototype._update=function(e,a){for(var _=this.h[0],b=this.h[1],_e=this.h[2],et=this.h[3],tt=this.h[4],nt=_,it=b,ot=_e,st=et,at=tt,lt=0;lt<80;lt++){var ut=sum32(rotl32(sum32_4(_,f$1(lt,b,_e,et),e[r[lt]+a],K$1(lt)),s$1[lt]),tt);_=tt,tt=et,et=rotl32(_e,10),_e=b,b=ut,ut=sum32(rotl32(sum32_4(nt,f$1(79-lt,it,ot,st),e[rh[lt]+a],Kh(lt)),sh[lt]),at),nt=at,at=st,st=rotl32(ot,10),ot=it,it=ut}ut=sum32_3(this.h[1],_e,st),this.h[1]=sum32_3(this.h[2],et,at),this.h[2]=sum32_3(this.h[3],tt,nt),this.h[3]=sum32_3(this.h[4],_,it),this.h[4]=sum32_3(this.h[0],b,ot),this.h[0]=ut};RIPEMD160.prototype._digest=function(e){return e==="hex"?utils$7.toHex32(this.h,"little"):utils$7.split32(this.h,"little")};function f$1(o,e,a,_){return o<=15?e^a^_:o<=31?e&a|~e&_:o<=47?(e|~a)^_:o<=63?e&_|a&~_:e^(a|~_)}function K$1(o){return o<=15?0:o<=31?1518500249:o<=47?1859775393:o<=63?2400959708:2840853838}function Kh(o){return o<=15?1352829926:o<=31?1548603684:o<=47?1836072691:o<=63?2053994217:0}var r=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],rh=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],s$1=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],sh=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],utils$6=utils$f,assert$8=minimalisticAssert;function Hmac(o,e,a){if(!(this instanceof Hmac))return new Hmac(o,e,a);this.Hash=o,this.blockSize=o.blockSize/8,this.outSize=o.outSize/8,this.inner=null,this.outer=null,this._init(utils$6.toArray(e,a))}var hmac=Hmac;Hmac.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),assert$8(e.length<=this.blockSize);for(var a=e.length;a<this.blockSize;a++)e.push(0);for(a=0;a<e.length;a++)e[a]^=54;for(this.inner=new this.Hash().update(e),a=0;a<e.length;a++)e[a]^=106;this.outer=new this.Hash().update(e)};Hmac.prototype.update=function(e,a){return this.inner.update(e,a),this};Hmac.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)};(function(o){var e=o;e.utils=utils$f,e.common=common$6,e.sha=sha,e.ripemd=ripemd,e.hmac=hmac,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(hash$3);var secp256k1,hasRequiredSecp256k1;function requireSecp256k1(){return hasRequiredSecp256k1||(hasRequiredSecp256k1=1,secp256k1={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),secp256k1}(function(o){var e=o,a=hash$3,_=curve,b=utils$l,_e=b.assert;function et(it){it.type==="short"?this.curve=new _.short(it):it.type==="edwards"?this.curve=new _.edwards(it):this.curve=new _.mont(it),this.g=this.curve.g,this.n=this.curve.n,this.hash=it.hash,_e(this.g.validate(),"Invalid curve"),_e(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}e.PresetCurve=et;function tt(it,ot){Object.defineProperty(e,it,{configurable:!0,enumerable:!0,get:function(){var st=new et(ot);return Object.defineProperty(e,it,{configurable:!0,enumerable:!0,value:st}),st}})}tt("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:a.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),tt("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:a.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),tt("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:a.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),tt("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:a.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),tt("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:a.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),tt("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:a.sha256,gRed:!1,g:["9"]}),tt("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:a.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var nt;try{nt=requireSecp256k1()}catch{nt=void 0}tt("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:a.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",nt]})})(curves$2);var hash$2=hash$3,utils$5=utils$k,assert$7=minimalisticAssert;function HmacDRBG(o){if(!(this instanceof HmacDRBG))return new HmacDRBG(o);this.hash=o.hash,this.predResist=!!o.predResist,this.outLen=this.hash.outSize,this.minEntropy=o.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=utils$5.toArray(o.entropy,o.entropyEnc||"hex"),a=utils$5.toArray(o.nonce,o.nonceEnc||"hex"),_=utils$5.toArray(o.pers,o.persEnc||"hex");assert$7(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,a,_)}var hmacDrbg=HmacDRBG;HmacDRBG.prototype._init=function(e,a,_){var b=e.concat(a).concat(_);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var _e=0;_e<this.V.length;_e++)this.K[_e]=0,this.V[_e]=1;this._update(b),this._reseed=1,this.reseedInterval=281474976710656};HmacDRBG.prototype._hmac=function(){return new hash$2.hmac(this.hash,this.K)};HmacDRBG.prototype._update=function(e){var a=this._hmac().update(this.V).update([0]);e&&(a=a.update(e)),this.K=a.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};HmacDRBG.prototype.reseed=function(e,a,_,b){typeof a!="string"&&(b=_,_=a,a=null),e=utils$5.toArray(e,a),_=utils$5.toArray(_,b),assert$7(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(_||[])),this._reseed=1};HmacDRBG.prototype.generate=function(e,a,_,b){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof a!="string"&&(b=_,_=a,a=null),_&&(_=utils$5.toArray(_,b||"hex"),this._update(_));for(var _e=[];_e.length<e;)this.V=this._hmac().update(this.V).digest(),_e=_e.concat(this.V);var et=_e.slice(0,e);return this._update(_),this._reseed++,utils$5.encode(et,a)};var BN$2=bnExports,utils$4=utils$l,assert$6=utils$4.assert;function KeyPair$2(o,e){this.ec=o,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var key$1=KeyPair$2;KeyPair$2.fromPublic=function(e,a,_){return a instanceof KeyPair$2?a:new KeyPair$2(e,{pub:a,pubEnc:_})};KeyPair$2.fromPrivate=function(e,a,_){return a instanceof KeyPair$2?a:new KeyPair$2(e,{priv:a,privEnc:_})};KeyPair$2.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};KeyPair$2.prototype.getPublic=function(e,a){return typeof e=="string"&&(a=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),a?this.pub.encode(a,e):this.pub};KeyPair$2.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};KeyPair$2.prototype._importPrivate=function(e,a){this.priv=new BN$2(e,a||16),this.priv=this.priv.umod(this.ec.curve.n)};KeyPair$2.prototype._importPublic=function(e,a){if(e.x||e.y){this.ec.curve.type==="mont"?assert$6(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&assert$6(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,a)};KeyPair$2.prototype.derive=function(e){return e.validate()||assert$6(e.validate(),"public point not validated"),e.mul(this.priv).getX()};KeyPair$2.prototype.sign=function(e,a,_){return this.ec.sign(e,this,a,_)};KeyPair$2.prototype.verify=function(e,a,_){return this.ec.verify(e,a,this,void 0,_)};KeyPair$2.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var BN$1=bnExports,utils$3=utils$l,assert$5=utils$3.assert;function Signature$3(o,e){if(o instanceof Signature$3)return o;this._importDER(o,e)||(assert$5(o.r&&o.s,"Signature without r or s"),this.r=new BN$1(o.r,16),this.s=new BN$1(o.s,16),o.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=o.recoveryParam)}var signature$1=Signature$3;function Position(){this.place=0}function getLength(o,e){var a=o[e.place++];if(!(a&128))return a;var _=a&15;if(_===0||_>4||o[e.place]===0)return!1;for(var b=0,_e=0,et=e.place;_e<_;_e++,et++)b<<=8,b|=o[et],b>>>=0;return b<=127?!1:(e.place=et,b)}function rmPadding(o){for(var e=0,a=o.length-1;!o[e]&&!(o[e+1]&128)&&e<a;)e++;return e===0?o:o.slice(e)}Signature$3.prototype._importDER=function(e,a){e=utils$3.toArray(e,a);var _=new Position;if(e[_.place++]!==48)return!1;var b=getLength(e,_);if(b===!1||b+_.place!==e.length||e[_.place++]!==2)return!1;var _e=getLength(e,_);if(_e===!1||e[_.place]&128)return!1;var et=e.slice(_.place,_e+_.place);if(_.place+=_e,e[_.place++]!==2)return!1;var tt=getLength(e,_);if(tt===!1||e.length!==tt+_.place||e[_.place]&128)return!1;var nt=e.slice(_.place,tt+_.place);if(et[0]===0)if(et[1]&128)et=et.slice(1);else return!1;if(nt[0]===0)if(nt[1]&128)nt=nt.slice(1);else return!1;return this.r=new BN$1(et),this.s=new BN$1(nt),this.recoveryParam=null,!0};function constructLength(o,e){if(e<128){o.push(e);return}var a=1+(Math.log(e)/Math.LN2>>>3);for(o.push(a|128);--a;)o.push(e>>>(a<<3)&255);o.push(e)}Signature$3.prototype.toDER=function(e){var a=this.r.toArray(),_=this.s.toArray();for(a[0]&128&&(a=[0].concat(a)),_[0]&128&&(_=[0].concat(_)),a=rmPadding(a),_=rmPadding(_);!_[0]&&!(_[1]&128);)_=_.slice(1);var b=[2];constructLength(b,a.length),b=b.concat(a),b.push(2),constructLength(b,_.length);var _e=b.concat(_),et=[48];return constructLength(et,_e.length),et=et.concat(_e),utils$3.encode(et,e)};var ec,hasRequiredEc;function requireEc(){if(hasRequiredEc)return ec;hasRequiredEc=1;var o=bnExports,e=hmacDrbg,a=utils$l,_=curves$2,b=requireBrorand(),_e=a.assert,et=key$1,tt=signature$1;function nt(it){if(!(this instanceof nt))return new nt(it);typeof it=="string"&&(_e(Object.prototype.hasOwnProperty.call(_,it),"Unknown curve "+it),it=_[it]),it instanceof _.PresetCurve&&(it={curve:it}),this.curve=it.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=it.curve.g,this.g.precompute(it.curve.n.bitLength()+1),this.hash=it.hash||it.curve.hash}return ec=nt,nt.prototype.keyPair=function(ot){return new et(this,ot)},nt.prototype.keyFromPrivate=function(ot,st){return et.fromPrivate(this,ot,st)},nt.prototype.keyFromPublic=function(ot,st){return et.fromPublic(this,ot,st)},nt.prototype.genKeyPair=function(ot){ot||(ot={});for(var st=new e({hash:this.hash,pers:ot.pers,persEnc:ot.persEnc||"utf8",entropy:ot.entropy||b(this.hash.hmacStrength),entropyEnc:ot.entropy&&ot.entropyEnc||"utf8",nonce:this.n.toArray()}),at=this.n.byteLength(),lt=this.n.sub(new o(2));;){var ut=new o(st.generate(at));if(!(ut.cmp(lt)>0))return ut.iaddn(1),this.keyFromPrivate(ut)}},nt.prototype._truncateToN=function(ot,st,at){var lt;if(o.isBN(ot)||typeof ot=="number")ot=new o(ot,16),lt=ot.byteLength();else if(typeof ot=="object")lt=ot.length,ot=new o(ot,16);else{var ut=ot.toString();lt=ut.length+1>>>1,ot=new o(ut,16)}typeof at!="number"&&(at=lt*8);var ft=at-this.n.bitLength();return ft>0&&(ot=ot.ushrn(ft)),!st&&ot.cmp(this.n)>=0?ot.sub(this.n):ot},nt.prototype.sign=function(ot,st,at,lt){if(typeof at=="object"&&(lt=at,at=null),lt||(lt={}),typeof ot!="string"&&typeof ot!="number"&&!o.isBN(ot)){_e(typeof ot=="object"&&ot&&typeof ot.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),_e(ot.length>>>0===ot.length);for(var ut=0;ut<ot.length;ut++)_e((ot[ut]&255)===ot[ut])}st=this.keyFromPrivate(st,at),ot=this._truncateToN(ot,!1,lt.msgBitLength),_e(!ot.isNeg(),"Can not sign a negative message");var ft=this.n.byteLength(),mt=st.getPrivate().toArray("be",ft),ht=ot.toArray("be",ft);_e(new o(ht).eq(ot),"Can not sign message");for(var vt=new e({hash:this.hash,entropy:mt,nonce:ht,pers:lt.pers,persEnc:lt.persEnc||"utf8"}),Et=this.n.sub(new o(1)),At=0;;At++){var Ct=lt.k?lt.k(At):new o(vt.generate(this.n.byteLength()));if(Ct=this._truncateToN(Ct,!0),!(Ct.cmpn(1)<=0||Ct.cmp(Et)>=0)){var Mt=this.g.mul(Ct);if(!Mt.isInfinity()){var Bt=Mt.getX(),Lt=Bt.umod(this.n);if(Lt.cmpn(0)!==0){var jt=Ct.invm(this.n).mul(Lt.mul(st.getPrivate()).iadd(ot));if(jt=jt.umod(this.n),jt.cmpn(0)!==0){var Vt=(Mt.getY().isOdd()?1:0)|(Bt.cmp(Lt)!==0?2:0);return lt.canonical&&jt.cmp(this.nh)>0&&(jt=this.n.sub(jt),Vt^=1),new tt({r:Lt,s:jt,recoveryParam:Vt})}}}}}},nt.prototype.verify=function(ot,st,at,lt,ut){ut||(ut={}),ot=this._truncateToN(ot,!1,ut.msgBitLength),at=this.keyFromPublic(at,lt),st=new tt(st,"hex");var ft=st.r,mt=st.s;if(ft.cmpn(1)<0||ft.cmp(this.n)>=0||mt.cmpn(1)<0||mt.cmp(this.n)>=0)return!1;var ht=mt.invm(this.n),vt=ht.mul(ot).umod(this.n),Et=ht.mul(ft).umod(this.n),At;return this.curve._maxwellTrick?(At=this.g.jmulAdd(vt,at.getPublic(),Et),At.isInfinity()?!1:At.eqXToP(ft)):(At=this.g.mulAdd(vt,at.getPublic(),Et),At.isInfinity()?!1:At.getX().umod(this.n).cmp(ft)===0)},nt.prototype.recoverPubKey=function(it,ot,st,at){_e((3&st)===st,"The recovery param is more than two bits"),ot=new tt(ot,at);var lt=this.n,ut=new o(it),ft=ot.r,mt=ot.s,ht=st&1,vt=st>>1;if(ft.cmp(this.curve.p.umod(this.curve.n))>=0&&vt)throw new Error("Unable to find sencond key candinate");vt?ft=this.curve.pointFromX(ft.add(this.curve.n),ht):ft=this.curve.pointFromX(ft,ht);var Et=ot.r.invm(lt),At=lt.sub(ut).mul(Et).umod(lt),Ct=mt.mul(Et).umod(lt);return this.g.mulAdd(At,ft,Ct)},nt.prototype.getKeyRecoveryParam=function(it,ot,st,at){if(ot=new tt(ot,at),ot.recoveryParam!==null)return ot.recoveryParam;for(var lt=0;lt<4;lt++){var ut;try{ut=this.recoverPubKey(it,ot,lt)}catch{continue}if(ut.eq(st))return lt}throw new Error("Unable to find valid recovery factor")},ec}var utils$2=utils$l,assert$4=utils$2.assert,parseBytes$2=utils$2.parseBytes,cachedProperty$1=utils$2.cachedProperty;function KeyPair$1(o,e){this.eddsa=o,this._secret=parseBytes$2(e.secret),o.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=parseBytes$2(e.pub)}KeyPair$1.fromPublic=function(e,a){return a instanceof KeyPair$1?a:new KeyPair$1(e,{pub:a})};KeyPair$1.fromSecret=function(e,a){return a instanceof KeyPair$1?a:new KeyPair$1(e,{secret:a})};KeyPair$1.prototype.secret=function(){return this._secret};cachedProperty$1(KeyPair$1,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});cachedProperty$1(KeyPair$1,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});cachedProperty$1(KeyPair$1,"privBytes",function(){var e=this.eddsa,a=this.hash(),_=e.encodingLength-1,b=a.slice(0,e.encodingLength);return b[0]&=248,b[_]&=127,b[_]|=64,b});cachedProperty$1(KeyPair$1,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});cachedProperty$1(KeyPair$1,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});cachedProperty$1(KeyPair$1,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});KeyPair$1.prototype.sign=function(e){return assert$4(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)};KeyPair$1.prototype.verify=function(e,a){return this.eddsa.verify(e,a,this)};KeyPair$1.prototype.getSecret=function(e){return assert$4(this._secret,"KeyPair is public only"),utils$2.encode(this.secret(),e)};KeyPair$1.prototype.getPublic=function(e){return utils$2.encode(this.pubBytes(),e)};var key=KeyPair$1,BN=bnExports,utils$1=utils$l,assert$3=utils$1.assert,cachedProperty=utils$1.cachedProperty,parseBytes$1=utils$1.parseBytes;function Signature$2(o,e){this.eddsa=o,typeof e!="object"&&(e=parseBytes$1(e)),Array.isArray(e)&&(assert$3(e.length===o.encodingLength*2,"Signature has invalid size"),e={R:e.slice(0,o.encodingLength),S:e.slice(o.encodingLength)}),assert$3(e.R&&e.S,"Signature without R or S"),o.isPoint(e.R)&&(this._R=e.R),e.S instanceof BN&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}cachedProperty(Signature$2,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});cachedProperty(Signature$2,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});cachedProperty(Signature$2,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});cachedProperty(Signature$2,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});Signature$2.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};Signature$2.prototype.toHex=function(){return utils$1.encode(this.toBytes(),"hex").toUpperCase()};var signature=Signature$2,hash$1=hash$3,curves$1=curves$2,utils=utils$l,assert$2=utils.assert,parseBytes=utils.parseBytes,KeyPair=key,Signature$1=signature;function EDDSA(o){if(assert$2(o==="ed25519","only tested with ed25519 so far"),!(this instanceof EDDSA))return new EDDSA(o);o=curves$1[o].curve,this.curve=o,this.g=o.g,this.g.precompute(o.n.bitLength()+1),this.pointClass=o.point().constructor,this.encodingLength=Math.ceil(o.n.bitLength()/8),this.hash=hash$1.sha512}var eddsa=EDDSA;EDDSA.prototype.sign=function(e,a){e=parseBytes(e);var _=this.keyFromSecret(a),b=this.hashInt(_.messagePrefix(),e),_e=this.g.mul(b),et=this.encodePoint(_e),tt=this.hashInt(et,_.pubBytes(),e).mul(_.priv()),nt=b.add(tt).umod(this.curve.n);return this.makeSignature({R:_e,S:nt,Rencoded:et})};EDDSA.prototype.verify=function(e,a,_){if(e=parseBytes(e),a=this.makeSignature(a),a.S().gte(a.eddsa.curve.n)||a.S().isNeg())return!1;var b=this.keyFromPublic(_),_e=this.hashInt(a.Rencoded(),b.pubBytes(),e),et=this.g.mul(a.S()),tt=a.R().add(b.pub().mul(_e));return tt.eq(et)};EDDSA.prototype.hashInt=function(){for(var e=this.hash(),a=0;a<arguments.length;a++)e.update(arguments[a]);return utils.intFromLE(e.digest()).umod(this.curve.n)};EDDSA.prototype.keyFromPublic=function(e){return KeyPair.fromPublic(this,e)};EDDSA.prototype.keyFromSecret=function(e){return KeyPair.fromSecret(this,e)};EDDSA.prototype.makeSignature=function(e){return e instanceof Signature$1?e:new Signature$1(this,e)};EDDSA.prototype.encodePoint=function(e){var a=e.getY().toArray("le",this.encodingLength);return a[this.encodingLength-1]|=e.getX().isOdd()?128:0,a};EDDSA.prototype.decodePoint=function(e){e=utils.parseBytes(e);var a=e.length-1,_=e.slice(0,a).concat(e[a]&-129),b=(e[a]&128)!==0,_e=utils.intFromLE(_);return this.curve.pointFromY(_e,b)};EDDSA.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)};EDDSA.prototype.decodeInt=function(e){return utils.intFromLE(e)};EDDSA.prototype.isPoint=function(e){return e instanceof this.pointClass};var hasRequiredElliptic;function requireElliptic(){return hasRequiredElliptic||(hasRequiredElliptic=1,function(o){var e=o;e.version=require$$0.version,e.utils=utils$l,e.rand=requireBrorand(),e.curve=curve,e.curves=curves$2,e.ec=requireEc(),e.eddsa=eddsa}(elliptic)),elliptic}var bn={exports:{}};bn.exports;var hasRequiredBn;function requireBn(){return hasRequiredBn||(hasRequiredBn=1,function(o){(function(e,a){function _(_t,ct){if(!_t)throw new Error(ct||"Assertion failed")}function b(_t,ct){_t.super_=ct;var dt=function(){};dt.prototype=ct.prototype,_t.prototype=new dt,_t.prototype.constructor=_t}function _e(_t,ct,dt){if(_e.isBN(_t))return _t;this.negative=0,this.words=null,this.length=0,this.red=null,_t!==null&&((ct==="le"||ct==="be")&&(dt=ct,ct=10),this._init(_t||0,ct||10,dt||"be"))}typeof e=="object"?e.exports=_e:a.BN=_e,_e.BN=_e,_e.wordSize=26;var et;try{typeof window<"u"&&typeof window.Buffer<"u"?et=window.Buffer:et=require$$1$2.Buffer}catch{}_e.isBN=function(ct){return ct instanceof _e?!0:ct!==null&&typeof ct=="object"&&ct.constructor.wordSize===_e.wordSize&&Array.isArray(ct.words)},_e.max=function(ct,dt){return ct.cmp(dt)>0?ct:dt},_e.min=function(ct,dt){return ct.cmp(dt)<0?ct:dt},_e.prototype._init=function(ct,dt,wt){if(typeof ct=="number")return this._initNumber(ct,dt,wt);if(typeof ct=="object")return this._initArray(ct,dt,wt);dt==="hex"&&(dt=16),_(dt===(dt|0)&&dt>=2&&dt<=36),ct=ct.toString().replace(/\s+/g,"");var gt=0;ct[0]==="-"&&(gt++,this.negative=1),gt<ct.length&&(dt===16?this._parseHex(ct,gt,wt):(this._parseBase(ct,dt,gt),wt==="le"&&this._initArray(this.toArray(),dt,wt)))},_e.prototype._initNumber=function(ct,dt,wt){ct<0&&(this.negative=1,ct=-ct),ct<67108864?(this.words=[ct&67108863],this.length=1):ct<4503599627370496?(this.words=[ct&67108863,ct/67108864&67108863],this.length=2):(_(ct<9007199254740992),this.words=[ct&67108863,ct/67108864&67108863,1],this.length=3),wt==="le"&&this._initArray(this.toArray(),dt,wt)},_e.prototype._initArray=function(ct,dt,wt){if(_(typeof ct.length=="number"),ct.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(ct.length/3),this.words=new Array(this.length);for(var gt=0;gt<this.length;gt++)this.words[gt]=0;var bt,xt,yt=0;if(wt==="be")for(gt=ct.length-1,bt=0;gt>=0;gt-=3)xt=ct[gt]|ct[gt-1]<<8|ct[gt-2]<<16,this.words[bt]|=xt<<yt&67108863,this.words[bt+1]=xt>>>26-yt&67108863,yt+=24,yt>=26&&(yt-=26,bt++);else if(wt==="le")for(gt=0,bt=0;gt<ct.length;gt+=3)xt=ct[gt]|ct[gt+1]<<8|ct[gt+2]<<16,this.words[bt]|=xt<<yt&67108863,this.words[bt+1]=xt>>>26-yt&67108863,yt+=24,yt>=26&&(yt-=26,bt++);return this._strip()};function tt(_t,ct){var dt=_t.charCodeAt(ct);if(dt>=48&&dt<=57)return dt-48;if(dt>=65&&dt<=70)return dt-55;if(dt>=97&&dt<=102)return dt-87;_(!1,"Invalid character in "+_t)}function nt(_t,ct,dt){var wt=tt(_t,dt);return dt-1>=ct&&(wt|=tt(_t,dt-1)<<4),wt}_e.prototype._parseHex=function(ct,dt,wt){this.length=Math.ceil((ct.length-dt)/6),this.words=new Array(this.length);for(var gt=0;gt<this.length;gt++)this.words[gt]=0;var bt=0,xt=0,yt;if(wt==="be")for(gt=ct.length-1;gt>=dt;gt-=2)yt=nt(ct,dt,gt)<<bt,this.words[xt]|=yt&67108863,bt>=18?(bt-=18,xt+=1,this.words[xt]|=yt>>>26):bt+=8;else{var St=ct.length-dt;for(gt=St%2===0?dt+1:dt;gt<ct.length;gt+=2)yt=nt(ct,dt,gt)<<bt,this.words[xt]|=yt&67108863,bt>=18?(bt-=18,xt+=1,this.words[xt]|=yt>>>26):bt+=8}this._strip()};function it(_t,ct,dt,wt){for(var gt=0,bt=0,xt=Math.min(_t.length,dt),yt=ct;yt<xt;yt++){var St=_t.charCodeAt(yt)-48;gt*=wt,St>=49?bt=St-49+10:St>=17?bt=St-17+10:bt=St,_(St>=0&&bt<wt,"Invalid character"),gt+=bt}return gt}_e.prototype._parseBase=function(ct,dt,wt){this.words=[0],this.length=1;for(var gt=0,bt=1;bt<=67108863;bt*=dt)gt++;gt--,bt=bt/dt|0;for(var xt=ct.length-wt,yt=xt%gt,St=Math.min(xt,xt-yt)+wt,pt=0,Tt=wt;Tt<St;Tt+=gt)pt=it(ct,Tt,Tt+gt,dt),this.imuln(bt),this.words[0]+pt<67108864?this.words[0]+=pt:this._iaddn(pt);if(yt!==0){var Ht=1;for(pt=it(ct,Tt,ct.length,dt),Tt=0;Tt<yt;Tt++)Ht*=dt;this.imuln(Ht),this.words[0]+pt<67108864?this.words[0]+=pt:this._iaddn(pt)}this._strip()},_e.prototype.copy=function(ct){ct.words=new Array(this.length);for(var dt=0;dt<this.length;dt++)ct.words[dt]=this.words[dt];ct.length=this.length,ct.negative=this.negative,ct.red=this.red};function ot(_t,ct){_t.words=ct.words,_t.length=ct.length,_t.negative=ct.negative,_t.red=ct.red}if(_e.prototype._move=function(ct){ot(ct,this)},_e.prototype.clone=function(){var ct=new _e(null);return this.copy(ct),ct},_e.prototype._expand=function(ct){for(;this.length<ct;)this.words[this.length++]=0;return this},_e.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},_e.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{_e.prototype[Symbol.for("nodejs.util.inspect.custom")]=st}catch{_e.prototype.inspect=st}else _e.prototype.inspect=st;function st(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var at=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],lt=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],ut=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];_e.prototype.toString=function(ct,dt){ct=ct||10,dt=dt|0||1;var wt;if(ct===16||ct==="hex"){wt="";for(var gt=0,bt=0,xt=0;xt<this.length;xt++){var yt=this.words[xt],St=((yt<<gt|bt)&16777215).toString(16);bt=yt>>>24-gt&16777215,gt+=2,gt>=26&&(gt-=26,xt--),bt!==0||xt!==this.length-1?wt=at[6-St.length]+St+wt:wt=St+wt}for(bt!==0&&(wt=bt.toString(16)+wt);wt.length%dt!==0;)wt="0"+wt;return this.negative!==0&&(wt="-"+wt),wt}if(ct===(ct|0)&&ct>=2&&ct<=36){var pt=lt[ct],Tt=ut[ct];wt="";var Ht=this.clone();for(Ht.negative=0;!Ht.isZero();){var Wt=Ht.modrn(Tt).toString(ct);Ht=Ht.idivn(Tt),Ht.isZero()?wt=Wt+wt:wt=at[pt-Wt.length]+Wt+wt}for(this.isZero()&&(wt="0"+wt);wt.length%dt!==0;)wt="0"+wt;return this.negative!==0&&(wt="-"+wt),wt}_(!1,"Base should be between 2 and 36")},_e.prototype.toNumber=function(){var ct=this.words[0];return this.length===2?ct+=this.words[1]*67108864:this.length===3&&this.words[2]===1?ct+=4503599627370496+this.words[1]*67108864:this.length>2&&_(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-ct:ct},_e.prototype.toJSON=function(){return this.toString(16,2)},et&&(_e.prototype.toBuffer=function(ct,dt){return this.toArrayLike(et,ct,dt)}),_e.prototype.toArray=function(ct,dt){return this.toArrayLike(Array,ct,dt)};var ft=function(ct,dt){return ct.allocUnsafe?ct.allocUnsafe(dt):new ct(dt)};_e.prototype.toArrayLike=function(ct,dt,wt){this._strip();var gt=this.byteLength(),bt=wt||Math.max(1,gt);_(gt<=bt,"byte array longer than desired length"),_(bt>0,"Requested array length <= 0");var xt=ft(ct,bt),yt=dt==="le"?"LE":"BE";return this["_toArrayLike"+yt](xt,gt),xt},_e.prototype._toArrayLikeLE=function(ct,dt){for(var wt=0,gt=0,bt=0,xt=0;bt<this.length;bt++){var yt=this.words[bt]<<xt|gt;ct[wt++]=yt&255,wt<ct.length&&(ct[wt++]=yt>>8&255),wt<ct.length&&(ct[wt++]=yt>>16&255),xt===6?(wt<ct.length&&(ct[wt++]=yt>>24&255),gt=0,xt=0):(gt=yt>>>24,xt+=2)}if(wt<ct.length)for(ct[wt++]=gt;wt<ct.length;)ct[wt++]=0},_e.prototype._toArrayLikeBE=function(ct,dt){for(var wt=ct.length-1,gt=0,bt=0,xt=0;bt<this.length;bt++){var yt=this.words[bt]<<xt|gt;ct[wt--]=yt&255,wt>=0&&(ct[wt--]=yt>>8&255),wt>=0&&(ct[wt--]=yt>>16&255),xt===6?(wt>=0&&(ct[wt--]=yt>>24&255),gt=0,xt=0):(gt=yt>>>24,xt+=2)}if(wt>=0)for(ct[wt--]=gt;wt>=0;)ct[wt--]=0},Math.clz32?_e.prototype._countBits=function(ct){return 32-Math.clz32(ct)}:_e.prototype._countBits=function(ct){var dt=ct,wt=0;return dt>=4096&&(wt+=13,dt>>>=13),dt>=64&&(wt+=7,dt>>>=7),dt>=8&&(wt+=4,dt>>>=4),dt>=2&&(wt+=2,dt>>>=2),wt+dt},_e.prototype._zeroBits=function(ct){if(ct===0)return 26;var dt=ct,wt=0;return dt&8191||(wt+=13,dt>>>=13),dt&127||(wt+=7,dt>>>=7),dt&15||(wt+=4,dt>>>=4),dt&3||(wt+=2,dt>>>=2),dt&1||wt++,wt},_e.prototype.bitLength=function(){var ct=this.words[this.length-1],dt=this._countBits(ct);return(this.length-1)*26+dt};function mt(_t){for(var ct=new Array(_t.bitLength()),dt=0;dt<ct.length;dt++){var wt=dt/26|0,gt=dt%26;ct[dt]=_t.words[wt]>>>gt&1}return ct}_e.prototype.zeroBits=function(){if(this.isZero())return 0;for(var ct=0,dt=0;dt<this.length;dt++){var wt=this._zeroBits(this.words[dt]);if(ct+=wt,wt!==26)break}return ct},_e.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},_e.prototype.toTwos=function(ct){return this.negative!==0?this.abs().inotn(ct).iaddn(1):this.clone()},_e.prototype.fromTwos=function(ct){return this.testn(ct-1)?this.notn(ct).iaddn(1).ineg():this.clone()},_e.prototype.isNeg=function(){return this.negative!==0},_e.prototype.neg=function(){return this.clone().ineg()},_e.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},_e.prototype.iuor=function(ct){for(;this.length<ct.length;)this.words[this.length++]=0;for(var dt=0;dt<ct.length;dt++)this.words[dt]=this.words[dt]|ct.words[dt];return this._strip()},_e.prototype.ior=function(ct){return _((this.negative|ct.negative)===0),this.iuor(ct)},_e.prototype.or=function(ct){return this.length>ct.length?this.clone().ior(ct):ct.clone().ior(this)},_e.prototype.uor=function(ct){return this.length>ct.length?this.clone().iuor(ct):ct.clone().iuor(this)},_e.prototype.iuand=function(ct){var dt;this.length>ct.length?dt=ct:dt=this;for(var wt=0;wt<dt.length;wt++)this.words[wt]=this.words[wt]&ct.words[wt];return this.length=dt.length,this._strip()},_e.prototype.iand=function(ct){return _((this.negative|ct.negative)===0),this.iuand(ct)},_e.prototype.and=function(ct){return this.length>ct.length?this.clone().iand(ct):ct.clone().iand(this)},_e.prototype.uand=function(ct){return this.length>ct.length?this.clone().iuand(ct):ct.clone().iuand(this)},_e.prototype.iuxor=function(ct){var dt,wt;this.length>ct.length?(dt=this,wt=ct):(dt=ct,wt=this);for(var gt=0;gt<wt.length;gt++)this.words[gt]=dt.words[gt]^wt.words[gt];if(this!==dt)for(;gt<dt.length;gt++)this.words[gt]=dt.words[gt];return this.length=dt.length,this._strip()},_e.prototype.ixor=function(ct){return _((this.negative|ct.negative)===0),this.iuxor(ct)},_e.prototype.xor=function(ct){return this.length>ct.length?this.clone().ixor(ct):ct.clone().ixor(this)},_e.prototype.uxor=function(ct){return this.length>ct.length?this.clone().iuxor(ct):ct.clone().iuxor(this)},_e.prototype.inotn=function(ct){_(typeof ct=="number"&&ct>=0);var dt=Math.ceil(ct/26)|0,wt=ct%26;this._expand(dt),wt>0&&dt--;for(var gt=0;gt<dt;gt++)this.words[gt]=~this.words[gt]&67108863;return wt>0&&(this.words[gt]=~this.words[gt]&67108863>>26-wt),this._strip()},_e.prototype.notn=function(ct){return this.clone().inotn(ct)},_e.prototype.setn=function(ct,dt){_(typeof ct=="number"&&ct>=0);var wt=ct/26|0,gt=ct%26;return this._expand(wt+1),dt?this.words[wt]=this.words[wt]|1<<gt:this.words[wt]=this.words[wt]&~(1<<gt),this._strip()},_e.prototype.iadd=function(ct){var dt;if(this.negative!==0&&ct.negative===0)return this.negative=0,dt=this.isub(ct),this.negative^=1,this._normSign();if(this.negative===0&&ct.negative!==0)return ct.negative=0,dt=this.isub(ct),ct.negative=1,dt._normSign();var wt,gt;this.length>ct.length?(wt=this,gt=ct):(wt=ct,gt=this);for(var bt=0,xt=0;xt<gt.length;xt++)dt=(wt.words[xt]|0)+(gt.words[xt]|0)+bt,this.words[xt]=dt&67108863,bt=dt>>>26;for(;bt!==0&&xt<wt.length;xt++)dt=(wt.words[xt]|0)+bt,this.words[xt]=dt&67108863,bt=dt>>>26;if(this.length=wt.length,bt!==0)this.words[this.length]=bt,this.length++;else if(wt!==this)for(;xt<wt.length;xt++)this.words[xt]=wt.words[xt];return this},_e.prototype.add=function(ct){var dt;return ct.negative!==0&&this.negative===0?(ct.negative=0,dt=this.sub(ct),ct.negative^=1,dt):ct.negative===0&&this.negative!==0?(this.negative=0,dt=ct.sub(this),this.negative=1,dt):this.length>ct.length?this.clone().iadd(ct):ct.clone().iadd(this)},_e.prototype.isub=function(ct){if(ct.negative!==0){ct.negative=0;var dt=this.iadd(ct);return ct.negative=1,dt._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(ct),this.negative=1,this._normSign();var wt=this.cmp(ct);if(wt===0)return this.negative=0,this.length=1,this.words[0]=0,this;var gt,bt;wt>0?(gt=this,bt=ct):(gt=ct,bt=this);for(var xt=0,yt=0;yt<bt.length;yt++)dt=(gt.words[yt]|0)-(bt.words[yt]|0)+xt,xt=dt>>26,this.words[yt]=dt&67108863;for(;xt!==0&&yt<gt.length;yt++)dt=(gt.words[yt]|0)+xt,xt=dt>>26,this.words[yt]=dt&67108863;if(xt===0&&yt<gt.length&&gt!==this)for(;yt<gt.length;yt++)this.words[yt]=gt.words[yt];return this.length=Math.max(this.length,yt),gt!==this&&(this.negative=1),this._strip()},_e.prototype.sub=function(ct){return this.clone().isub(ct)};function ht(_t,ct,dt){dt.negative=ct.negative^_t.negative;var wt=_t.length+ct.length|0;dt.length=wt,wt=wt-1|0;var gt=_t.words[0]|0,bt=ct.words[0]|0,xt=gt*bt,yt=xt&67108863,St=xt/67108864|0;dt.words[0]=yt;for(var pt=1;pt<wt;pt++){for(var Tt=St>>>26,Ht=St&67108863,Wt=Math.min(pt,ct.length-1),Ut=Math.max(0,pt-_t.length+1);Ut<=Wt;Ut++){var Rt=pt-Ut|0;gt=_t.words[Rt]|0,bt=ct.words[Ut]|0,xt=gt*bt+Ht,Tt+=xt/67108864|0,Ht=xt&67108863}dt.words[pt]=Ht|0,St=Tt|0}return St!==0?dt.words[pt]=St|0:dt.length--,dt._strip()}var vt=function(ct,dt,wt){var gt=ct.words,bt=dt.words,xt=wt.words,yt=0,St,pt,Tt,Ht=gt[0]|0,Wt=Ht&8191,Ut=Ht>>>13,Rt=gt[1]|0,$t=Rt&8191,Ft=Rt>>>13,Kt=gt[2]|0,Dt=Kt&8191,Ot=Kt>>>13,Gt=gt[3]|0,Jt=Gt&8191,er=Gt>>>13,nr=gt[4]|0,or=nr&8191,sr=nr>>>13,Qt=gt[5]|0,fr=Qt&8191,rr=Qt>>>13,Sr=gt[6]|0,cr=Sr&8191,ir=Sr>>>13,Er=gt[7]|0,xr=Er&8191,ur=Er>>>13,Or=gt[8]|0,kr=Or&8191,qt=Or>>>13,It=gt[9]|0,Pt=It&8191,zt=It>>>13,Zt=bt[0]|0,Yt=Zt&8191,Xt=Zt>>>13,hr=bt[1]|0,dr=hr&8191,ar=hr>>>13,Ar=bt[2]|0,lr=Ar&8191,pr=Ar>>>13,Dr=bt[3]|0,$r=Dr&8191,gr=Dr>>>13,Lr=bt[4]|0,Cr=Lr&8191,_r=Lr>>>13,jr=bt[5]|0,Ir=jr&8191,yr=jr>>>13,qr=bt[6]|0,Mr=qr&8191,vr=qr>>>13,Fr=bt[7]|0,Pr=Fr&8191,br=Fr>>>13,Ur=bt[8]|0,Nr=Ur&8191,wr=Ur>>>13,zr=bt[9]|0,Rr=zr&8191,Tr=zr>>>13;wt.negative=ct.negative^dt.negative,wt.length=19,St=Math.imul(Wt,Yt),pt=Math.imul(Wt,Xt),pt=pt+Math.imul(Ut,Yt)|0,Tt=Math.imul(Ut,Xt);var Vr=(yt+St|0)+((pt&8191)<<13)|0;yt=(Tt+(pt>>>13)|0)+(Vr>>>26)|0,Vr&=67108863,St=Math.imul($t,Yt),pt=Math.imul($t,Xt),pt=pt+Math.imul(Ft,Yt)|0,Tt=Math.imul(Ft,Xt),St=St+Math.imul(Wt,dr)|0,pt=pt+Math.imul(Wt,ar)|0,pt=pt+Math.imul(Ut,dr)|0,Tt=Tt+Math.imul(Ut,ar)|0;var Kr=(yt+St|0)+((pt&8191)<<13)|0;yt=(Tt+(pt>>>13)|0)+(Kr>>>26)|0,Kr&=67108863,St=Math.imul(Dt,Yt),pt=Math.imul(Dt,Xt),pt=pt+Math.imul(Ot,Yt)|0,Tt=Math.imul(Ot,Xt),St=St+Math.imul($t,dr)|0,pt=pt+Math.imul($t,ar)|0,pt=pt+Math.imul(Ft,dr)|0,Tt=Tt+Math.imul(Ft,ar)|0,St=St+Math.imul(Wt,lr)|0,pt=pt+Math.imul(Wt,pr)|0,pt=pt+Math.imul(Ut,lr)|0,Tt=Tt+Math.imul(Ut,pr)|0;var Wr=(yt+St|0)+((pt&8191)<<13)|0;yt=(Tt+(pt>>>13)|0)+(Wr>>>26)|0,Wr&=67108863,St=Math.imul(Jt,Yt),pt=Math.imul(Jt,Xt),pt=pt+Math.imul(er,Yt)|0,Tt=Math.imul(er,Xt),St=St+Math.imul(Dt,dr)|0,pt=pt+Math.imul(Dt,ar)|0,pt=pt+Math.imul(Ot,dr)|0,Tt=Tt+Math.imul(Ot,ar)|0,St=St+Math.imul($t,lr)|0,pt=pt+Math.imul($t,pr)|0,pt=pt+Math.imul(Ft,lr)|0,Tt=Tt+Math.imul(Ft,pr)|0,St=St+Math.imul(Wt,$r)|0,pt=pt+Math.imul(Wt,gr)|0,pt=pt+Math.imul(Ut,$r)|0,Tt=Tt+Math.imul(Ut,gr)|0;var Gr=(yt+St|0)+((pt&8191)<<13)|0;yt=(Tt+(pt>>>13)|0)+(Gr>>>26)|0,Gr&=67108863,St=Math.imul(or,Yt),pt=Math.imul(or,Xt),pt=pt+Math.imul(sr,Yt)|0,Tt=Math.imul(sr,Xt),St=St+Math.imul(Jt,dr)|0,pt=pt+Math.imul(Jt,ar)|0,pt=pt+Math.imul(er,dr)|0,Tt=Tt+Math.imul(er,ar)|0,St=St+Math.imul(Dt,lr)|0,pt=pt+Math.imul(Dt,pr)|0,pt=pt+Math.imul(Ot,lr)|0,Tt=Tt+Math.imul(Ot,pr)|0,St=St+Math.imul($t,$r)|0,pt=pt+Math.imul($t,gr)|0,pt=pt+Math.imul(Ft,$r)|0,Tt=Tt+Math.imul(Ft,gr)|0,St=St+Math.imul(Wt,Cr)|0,pt=pt+Math.imul(Wt,_r)|0,pt=pt+Math.imul(Ut,Cr)|0,Tt=Tt+Math.imul(Ut,_r)|0;var Zr=(yt+St|0)+((pt&8191)<<13)|0;yt=(Tt+(pt>>>13)|0)+(Zr>>>26)|0,Zr&=67108863,St=Math.imul(fr,Yt),pt=Math.imul(fr,Xt),pt=pt+Math.imul(rr,Yt)|0,Tt=Math.imul(rr,Xt),St=St+Math.imul(or,dr)|0,pt=pt+Math.imul(or,ar)|0,pt=pt+Math.imul(sr,dr)|0,Tt=Tt+Math.imul(sr,ar)|0,St=St+Math.imul(Jt,lr)|0,pt=pt+Math.imul(Jt,pr)|0,pt=pt+Math.imul(er,lr)|0,Tt=Tt+Math.imul(er,pr)|0,St=St+Math.imul(Dt,$r)|0,pt=pt+Math.imul(Dt,gr)|0,pt=pt+Math.imul(Ot,$r)|0,Tt=Tt+Math.imul(Ot,gr)|0,St=St+Math.imul($t,Cr)|0,pt=pt+Math.imul($t,_r)|0,pt=pt+Math.imul(Ft,Cr)|0,Tt=Tt+Math.imul(Ft,_r)|0,St=St+Math.imul(Wt,Ir)|0,pt=pt+Math.imul(Wt,yr)|0,pt=pt+Math.imul(Ut,Ir)|0,Tt=Tt+Math.imul(Ut,yr)|0;var Yr=(yt+St|0)+((pt&8191)<<13)|0;yt=(Tt+(pt>>>13)|0)+(Yr>>>26)|0,Yr&=67108863,St=Math.imul(cr,Yt),pt=Math.imul(cr,Xt),pt=pt+Math.imul(ir,Yt)|0,Tt=Math.imul(ir,Xt),St=St+Math.imul(fr,dr)|0,pt=pt+Math.imul(fr,ar)|0,pt=pt+Math.imul(rr,dr)|0,Tt=Tt+Math.imul(rr,ar)|0,St=St+Math.imul(or,lr)|0,pt=pt+Math.imul(or,pr)|0,pt=pt+Math.imul(sr,lr)|0,Tt=Tt+Math.imul(sr,pr)|0,St=St+Math.imul(Jt,$r)|0,pt=pt+Math.imul(Jt,gr)|0,pt=pt+Math.imul(er,$r)|0,Tt=Tt+Math.imul(er,gr)|0,St=St+Math.imul(Dt,Cr)|0,pt=pt+Math.imul(Dt,_r)|0,pt=pt+Math.imul(Ot,Cr)|0,Tt=Tt+Math.imul(Ot,_r)|0,St=St+Math.imul($t,Ir)|0,pt=pt+Math.imul($t,yr)|0,pt=pt+Math.imul(Ft,Ir)|0,Tt=Tt+Math.imul(Ft,yr)|0,St=St+Math.imul(Wt,Mr)|0,pt=pt+Math.imul(Wt,vr)|0,pt=pt+Math.imul(Ut,Mr)|0,Tt=Tt+Math.imul(Ut,vr)|0;var Xr=(yt+St|0)+((pt&8191)<<13)|0;yt=(Tt+(pt>>>13)|0)+(Xr>>>26)|0,Xr&=67108863,St=Math.imul(xr,Yt),pt=Math.imul(xr,Xt),pt=pt+Math.imul(ur,Yt)|0,Tt=Math.imul(ur,Xt),St=St+Math.imul(cr,dr)|0,pt=pt+Math.imul(cr,ar)|0,pt=pt+Math.imul(ir,dr)|0,Tt=Tt+Math.imul(ir,ar)|0,St=St+Math.imul(fr,lr)|0,pt=pt+Math.imul(fr,pr)|0,pt=pt+Math.imul(rr,lr)|0,Tt=Tt+Math.imul(rr,pr)|0,St=St+Math.imul(or,$r)|0,pt=pt+Math.imul(or,gr)|0,pt=pt+Math.imul(sr,$r)|0,Tt=Tt+Math.imul(sr,gr)|0,St=St+Math.imul(Jt,Cr)|0,pt=pt+Math.imul(Jt,_r)|0,pt=pt+Math.imul(er,Cr)|0,Tt=Tt+Math.imul(er,_r)|0,St=St+Math.imul(Dt,Ir)|0,pt=pt+Math.imul(Dt,yr)|0,pt=pt+Math.imul(Ot,Ir)|0,Tt=Tt+Math.imul(Ot,yr)|0,St=St+Math.imul($t,Mr)|0,pt=pt+Math.imul($t,vr)|0,pt=pt+Math.imul(Ft,Mr)|0,Tt=Tt+Math.imul(Ft,vr)|0,St=St+Math.imul(Wt,Pr)|0,pt=pt+Math.imul(Wt,br)|0,pt=pt+Math.imul(Ut,Pr)|0,Tt=Tt+Math.imul(Ut,br)|0;var Jr=(yt+St|0)+((pt&8191)<<13)|0;yt=(Tt+(pt>>>13)|0)+(Jr>>>26)|0,Jr&=67108863,St=Math.imul(kr,Yt),pt=Math.imul(kr,Xt),pt=pt+Math.imul(qt,Yt)|0,Tt=Math.imul(qt,Xt),St=St+Math.imul(xr,dr)|0,pt=pt+Math.imul(xr,ar)|0,pt=pt+Math.imul(ur,dr)|0,Tt=Tt+Math.imul(ur,ar)|0,St=St+Math.imul(cr,lr)|0,pt=pt+Math.imul(cr,pr)|0,pt=pt+Math.imul(ir,lr)|0,Tt=Tt+Math.imul(ir,pr)|0,St=St+Math.imul(fr,$r)|0,pt=pt+Math.imul(fr,gr)|0,pt=pt+Math.imul(rr,$r)|0,Tt=Tt+Math.imul(rr,gr)|0,St=St+Math.imul(or,Cr)|0,pt=pt+Math.imul(or,_r)|0,pt=pt+Math.imul(sr,Cr)|0,Tt=Tt+Math.imul(sr,_r)|0,St=St+Math.imul(Jt,Ir)|0,pt=pt+Math.imul(Jt,yr)|0,pt=pt+Math.imul(er,Ir)|0,Tt=Tt+Math.imul(er,yr)|0,St=St+Math.imul(Dt,Mr)|0,pt=pt+Math.imul(Dt,vr)|0,pt=pt+Math.imul(Ot,Mr)|0,Tt=Tt+Math.imul(Ot,vr)|0,St=St+Math.imul($t,Pr)|0,pt=pt+Math.imul($t,br)|0,pt=pt+Math.imul(Ft,Pr)|0,Tt=Tt+Math.imul(Ft,br)|0,St=St+Math.imul(Wt,Nr)|0,pt=pt+Math.imul(Wt,wr)|0,pt=pt+Math.imul(Ut,Nr)|0,Tt=Tt+Math.imul(Ut,wr)|0;var tn=(yt+St|0)+((pt&8191)<<13)|0;yt=(Tt+(pt>>>13)|0)+(tn>>>26)|0,tn&=67108863,St=Math.imul(Pt,Yt),pt=Math.imul(Pt,Xt),pt=pt+Math.imul(zt,Yt)|0,Tt=Math.imul(zt,Xt),St=St+Math.imul(kr,dr)|0,pt=pt+Math.imul(kr,ar)|0,pt=pt+Math.imul(qt,dr)|0,Tt=Tt+Math.imul(qt,ar)|0,St=St+Math.imul(xr,lr)|0,pt=pt+Math.imul(xr,pr)|0,pt=pt+Math.imul(ur,lr)|0,Tt=Tt+Math.imul(ur,pr)|0,St=St+Math.imul(cr,$r)|0,pt=pt+Math.imul(cr,gr)|0,pt=pt+Math.imul(ir,$r)|0,Tt=Tt+Math.imul(ir,gr)|0,St=St+Math.imul(fr,Cr)|0,pt=pt+Math.imul(fr,_r)|0,pt=pt+Math.imul(rr,Cr)|0,Tt=Tt+Math.imul(rr,_r)|0,St=St+Math.imul(or,Ir)|0,pt=pt+Math.imul(or,yr)|0,pt=pt+Math.imul(sr,Ir)|0,Tt=Tt+Math.imul(sr,yr)|0,St=St+Math.imul(Jt,Mr)|0,pt=pt+Math.imul(Jt,vr)|0,pt=pt+Math.imul(er,Mr)|0,Tt=Tt+Math.imul(er,vr)|0,St=St+Math.imul(Dt,Pr)|0,pt=pt+Math.imul(Dt,br)|0,pt=pt+Math.imul(Ot,Pr)|0,Tt=Tt+Math.imul(Ot,br)|0,St=St+Math.imul($t,Nr)|0,pt=pt+Math.imul($t,wr)|0,pt=pt+Math.imul(Ft,Nr)|0,Tt=Tt+Math.imul(Ft,wr)|0,St=St+Math.imul(Wt,Rr)|0,pt=pt+Math.imul(Wt,Tr)|0,pt=pt+Math.imul(Ut,Rr)|0,Tt=Tt+Math.imul(Ut,Tr)|0;var rn=(yt+St|0)+((pt&8191)<<13)|0;yt=(Tt+(pt>>>13)|0)+(rn>>>26)|0,rn&=67108863,St=Math.imul(Pt,dr),pt=Math.imul(Pt,ar),pt=pt+Math.imul(zt,dr)|0,Tt=Math.imul(zt,ar),St=St+Math.imul(kr,lr)|0,pt=pt+Math.imul(kr,pr)|0,pt=pt+Math.imul(qt,lr)|0,Tt=Tt+Math.imul(qt,pr)|0,St=St+Math.imul(xr,$r)|0,pt=pt+Math.imul(xr,gr)|0,pt=pt+Math.imul(ur,$r)|0,Tt=Tt+Math.imul(ur,gr)|0,St=St+Math.imul(cr,Cr)|0,pt=pt+Math.imul(cr,_r)|0,pt=pt+Math.imul(ir,Cr)|0,Tt=Tt+Math.imul(ir,_r)|0,St=St+Math.imul(fr,Ir)|0,pt=pt+Math.imul(fr,yr)|0,pt=pt+Math.imul(rr,Ir)|0,Tt=Tt+Math.imul(rr,yr)|0,St=St+Math.imul(or,Mr)|0,pt=pt+Math.imul(or,vr)|0,pt=pt+Math.imul(sr,Mr)|0,Tt=Tt+Math.imul(sr,vr)|0,St=St+Math.imul(Jt,Pr)|0,pt=pt+Math.imul(Jt,br)|0,pt=pt+Math.imul(er,Pr)|0,Tt=Tt+Math.imul(er,br)|0,St=St+Math.imul(Dt,Nr)|0,pt=pt+Math.imul(Dt,wr)|0,pt=pt+Math.imul(Ot,Nr)|0,Tt=Tt+Math.imul(Ot,wr)|0,St=St+Math.imul($t,Rr)|0,pt=pt+Math.imul($t,Tr)|0,pt=pt+Math.imul(Ft,Rr)|0,Tt=Tt+Math.imul(Ft,Tr)|0;var nn=(yt+St|0)+((pt&8191)<<13)|0;yt=(Tt+(pt>>>13)|0)+(nn>>>26)|0,nn&=67108863,St=Math.imul(Pt,lr),pt=Math.imul(Pt,pr),pt=pt+Math.imul(zt,lr)|0,Tt=Math.imul(zt,pr),St=St+Math.imul(kr,$r)|0,pt=pt+Math.imul(kr,gr)|0,pt=pt+Math.imul(qt,$r)|0,Tt=Tt+Math.imul(qt,gr)|0,St=St+Math.imul(xr,Cr)|0,pt=pt+Math.imul(xr,_r)|0,pt=pt+Math.imul(ur,Cr)|0,Tt=Tt+Math.imul(ur,_r)|0,St=St+Math.imul(cr,Ir)|0,pt=pt+Math.imul(cr,yr)|0,pt=pt+Math.imul(ir,Ir)|0,Tt=Tt+Math.imul(ir,yr)|0,St=St+Math.imul(fr,Mr)|0,pt=pt+Math.imul(fr,vr)|0,pt=pt+Math.imul(rr,Mr)|0,Tt=Tt+Math.imul(rr,vr)|0,St=St+Math.imul(or,Pr)|0,pt=pt+Math.imul(or,br)|0,pt=pt+Math.imul(sr,Pr)|0,Tt=Tt+Math.imul(sr,br)|0,St=St+Math.imul(Jt,Nr)|0,pt=pt+Math.imul(Jt,wr)|0,pt=pt+Math.imul(er,Nr)|0,Tt=Tt+Math.imul(er,wr)|0,St=St+Math.imul(Dt,Rr)|0,pt=pt+Math.imul(Dt,Tr)|0,pt=pt+Math.imul(Ot,Rr)|0,Tt=Tt+Math.imul(Ot,Tr)|0;var on=(yt+St|0)+((pt&8191)<<13)|0;yt=(Tt+(pt>>>13)|0)+(on>>>26)|0,on&=67108863,St=Math.imul(Pt,$r),pt=Math.imul(Pt,gr),pt=pt+Math.imul(zt,$r)|0,Tt=Math.imul(zt,gr),St=St+Math.imul(kr,Cr)|0,pt=pt+Math.imul(kr,_r)|0,pt=pt+Math.imul(qt,Cr)|0,Tt=Tt+Math.imul(qt,_r)|0,St=St+Math.imul(xr,Ir)|0,pt=pt+Math.imul(xr,yr)|0,pt=pt+Math.imul(ur,Ir)|0,Tt=Tt+Math.imul(ur,yr)|0,St=St+Math.imul(cr,Mr)|0,pt=pt+Math.imul(cr,vr)|0,pt=pt+Math.imul(ir,Mr)|0,Tt=Tt+Math.imul(ir,vr)|0,St=St+Math.imul(fr,Pr)|0,pt=pt+Math.imul(fr,br)|0,pt=pt+Math.imul(rr,Pr)|0,Tt=Tt+Math.imul(rr,br)|0,St=St+Math.imul(or,Nr)|0,pt=pt+Math.imul(or,wr)|0,pt=pt+Math.imul(sr,Nr)|0,Tt=Tt+Math.imul(sr,wr)|0,St=St+Math.imul(Jt,Rr)|0,pt=pt+Math.imul(Jt,Tr)|0,pt=pt+Math.imul(er,Rr)|0,Tt=Tt+Math.imul(er,Tr)|0;var sn=(yt+St|0)+((pt&8191)<<13)|0;yt=(Tt+(pt>>>13)|0)+(sn>>>26)|0,sn&=67108863,St=Math.imul(Pt,Cr),pt=Math.imul(Pt,_r),pt=pt+Math.imul(zt,Cr)|0,Tt=Math.imul(zt,_r),St=St+Math.imul(kr,Ir)|0,pt=pt+Math.imul(kr,yr)|0,pt=pt+Math.imul(qt,Ir)|0,Tt=Tt+Math.imul(qt,yr)|0,St=St+Math.imul(xr,Mr)|0,pt=pt+Math.imul(xr,vr)|0,pt=pt+Math.imul(ur,Mr)|0,Tt=Tt+Math.imul(ur,vr)|0,St=St+Math.imul(cr,Pr)|0,pt=pt+Math.imul(cr,br)|0,pt=pt+Math.imul(ir,Pr)|0,Tt=Tt+Math.imul(ir,br)|0,St=St+Math.imul(fr,Nr)|0,pt=pt+Math.imul(fr,wr)|0,pt=pt+Math.imul(rr,Nr)|0,Tt=Tt+Math.imul(rr,wr)|0,St=St+Math.imul(or,Rr)|0,pt=pt+Math.imul(or,Tr)|0,pt=pt+Math.imul(sr,Rr)|0,Tt=Tt+Math.imul(sr,Tr)|0;var an=(yt+St|0)+((pt&8191)<<13)|0;yt=(Tt+(pt>>>13)|0)+(an>>>26)|0,an&=67108863,St=Math.imul(Pt,Ir),pt=Math.imul(Pt,yr),pt=pt+Math.imul(zt,Ir)|0,Tt=Math.imul(zt,yr),St=St+Math.imul(kr,Mr)|0,pt=pt+Math.imul(kr,vr)|0,pt=pt+Math.imul(qt,Mr)|0,Tt=Tt+Math.imul(qt,vr)|0,St=St+Math.imul(xr,Pr)|0,pt=pt+Math.imul(xr,br)|0,pt=pt+Math.imul(ur,Pr)|0,Tt=Tt+Math.imul(ur,br)|0,St=St+Math.imul(cr,Nr)|0,pt=pt+Math.imul(cr,wr)|0,pt=pt+Math.imul(ir,Nr)|0,Tt=Tt+Math.imul(ir,wr)|0,St=St+Math.imul(fr,Rr)|0,pt=pt+Math.imul(fr,Tr)|0,pt=pt+Math.imul(rr,Rr)|0,Tt=Tt+Math.imul(rr,Tr)|0;var ln=(yt+St|0)+((pt&8191)<<13)|0;yt=(Tt+(pt>>>13)|0)+(ln>>>26)|0,ln&=67108863,St=Math.imul(Pt,Mr),pt=Math.imul(Pt,vr),pt=pt+Math.imul(zt,Mr)|0,Tt=Math.imul(zt,vr),St=St+Math.imul(kr,Pr)|0,pt=pt+Math.imul(kr,br)|0,pt=pt+Math.imul(qt,Pr)|0,Tt=Tt+Math.imul(qt,br)|0,St=St+Math.imul(xr,Nr)|0,pt=pt+Math.imul(xr,wr)|0,pt=pt+Math.imul(ur,Nr)|0,Tt=Tt+Math.imul(ur,wr)|0,St=St+Math.imul(cr,Rr)|0,pt=pt+Math.imul(cr,Tr)|0,pt=pt+Math.imul(ir,Rr)|0,Tt=Tt+Math.imul(ir,Tr)|0;var cn=(yt+St|0)+((pt&8191)<<13)|0;yt=(Tt+(pt>>>13)|0)+(cn>>>26)|0,cn&=67108863,St=Math.imul(Pt,Pr),pt=Math.imul(Pt,br),pt=pt+Math.imul(zt,Pr)|0,Tt=Math.imul(zt,br),St=St+Math.imul(kr,Nr)|0,pt=pt+Math.imul(kr,wr)|0,pt=pt+Math.imul(qt,Nr)|0,Tt=Tt+Math.imul(qt,wr)|0,St=St+Math.imul(xr,Rr)|0,pt=pt+Math.imul(xr,Tr)|0,pt=pt+Math.imul(ur,Rr)|0,Tt=Tt+Math.imul(ur,Tr)|0;var un=(yt+St|0)+((pt&8191)<<13)|0;yt=(Tt+(pt>>>13)|0)+(un>>>26)|0,un&=67108863,St=Math.imul(Pt,Nr),pt=Math.imul(Pt,wr),pt=pt+Math.imul(zt,Nr)|0,Tt=Math.imul(zt,wr),St=St+Math.imul(kr,Rr)|0,pt=pt+Math.imul(kr,Tr)|0,pt=pt+Math.imul(qt,Rr)|0,Tt=Tt+Math.imul(qt,Tr)|0;var dn=(yt+St|0)+((pt&8191)<<13)|0;yt=(Tt+(pt>>>13)|0)+(dn>>>26)|0,dn&=67108863,St=Math.imul(Pt,Rr),pt=Math.imul(Pt,Tr),pt=pt+Math.imul(zt,Rr)|0,Tt=Math.imul(zt,Tr);var hn=(yt+St|0)+((pt&8191)<<13)|0;return yt=(Tt+(pt>>>13)|0)+(hn>>>26)|0,hn&=67108863,xt[0]=Vr,xt[1]=Kr,xt[2]=Wr,xt[3]=Gr,xt[4]=Zr,xt[5]=Yr,xt[6]=Xr,xt[7]=Jr,xt[8]=tn,xt[9]=rn,xt[10]=nn,xt[11]=on,xt[12]=sn,xt[13]=an,xt[14]=ln,xt[15]=cn,xt[16]=un,xt[17]=dn,xt[18]=hn,yt!==0&&(xt[19]=yt,wt.length++),wt};Math.imul||(vt=ht);function Et(_t,ct,dt){dt.negative=ct.negative^_t.negative,dt.length=_t.length+ct.length;for(var wt=0,gt=0,bt=0;bt<dt.length-1;bt++){var xt=gt;gt=0;for(var yt=wt&67108863,St=Math.min(bt,ct.length-1),pt=Math.max(0,bt-_t.length+1);pt<=St;pt++){var Tt=bt-pt,Ht=_t.words[Tt]|0,Wt=ct.words[pt]|0,Ut=Ht*Wt,Rt=Ut&67108863;xt=xt+(Ut/67108864|0)|0,Rt=Rt+yt|0,yt=Rt&67108863,xt=xt+(Rt>>>26)|0,gt+=xt>>>26,xt&=67108863}dt.words[bt]=yt,wt=xt,xt=gt}return wt!==0?dt.words[bt]=wt:dt.length--,dt._strip()}function At(_t,ct,dt){return Et(_t,ct,dt)}_e.prototype.mulTo=function(ct,dt){var wt,gt=this.length+ct.length;return this.length===10&&ct.length===10?wt=vt(this,ct,dt):gt<63?wt=ht(this,ct,dt):gt<1024?wt=Et(this,ct,dt):wt=At(this,ct,dt),wt},_e.prototype.mul=function(ct){var dt=new _e(null);return dt.words=new Array(this.length+ct.length),this.mulTo(ct,dt)},_e.prototype.mulf=function(ct){var dt=new _e(null);return dt.words=new Array(this.length+ct.length),At(this,ct,dt)},_e.prototype.imul=function(ct){return this.clone().mulTo(ct,this)},_e.prototype.imuln=function(ct){var dt=ct<0;dt&&(ct=-ct),_(typeof ct=="number"),_(ct<67108864);for(var wt=0,gt=0;gt<this.length;gt++){var bt=(this.words[gt]|0)*ct,xt=(bt&67108863)+(wt&67108863);wt>>=26,wt+=bt/67108864|0,wt+=xt>>>26,this.words[gt]=xt&67108863}return wt!==0&&(this.words[gt]=wt,this.length++),this.length=ct===0?1:this.length,dt?this.ineg():this},_e.prototype.muln=function(ct){return this.clone().imuln(ct)},_e.prototype.sqr=function(){return this.mul(this)},_e.prototype.isqr=function(){return this.imul(this.clone())},_e.prototype.pow=function(ct){var dt=mt(ct);if(dt.length===0)return new _e(1);for(var wt=this,gt=0;gt<dt.length&&dt[gt]===0;gt++,wt=wt.sqr());if(++gt<dt.length)for(var bt=wt.sqr();gt<dt.length;gt++,bt=bt.sqr())dt[gt]!==0&&(wt=wt.mul(bt));return wt},_e.prototype.iushln=function(ct){_(typeof ct=="number"&&ct>=0);var dt=ct%26,wt=(ct-dt)/26,gt=67108863>>>26-dt<<26-dt,bt;if(dt!==0){var xt=0;for(bt=0;bt<this.length;bt++){var yt=this.words[bt]&gt,St=(this.words[bt]|0)-yt<<dt;this.words[bt]=St|xt,xt=yt>>>26-dt}xt&&(this.words[bt]=xt,this.length++)}if(wt!==0){for(bt=this.length-1;bt>=0;bt--)this.words[bt+wt]=this.words[bt];for(bt=0;bt<wt;bt++)this.words[bt]=0;this.length+=wt}return this._strip()},_e.prototype.ishln=function(ct){return _(this.negative===0),this.iushln(ct)},_e.prototype.iushrn=function(ct,dt,wt){_(typeof ct=="number"&&ct>=0);var gt;dt?gt=(dt-dt%26)/26:gt=0;var bt=ct%26,xt=Math.min((ct-bt)/26,this.length),yt=67108863^67108863>>>bt<<bt,St=wt;if(gt-=xt,gt=Math.max(0,gt),St){for(var pt=0;pt<xt;pt++)St.words[pt]=this.words[pt];St.length=xt}if(xt!==0)if(this.length>xt)for(this.length-=xt,pt=0;pt<this.length;pt++)this.words[pt]=this.words[pt+xt];else this.words[0]=0,this.length=1;var Tt=0;for(pt=this.length-1;pt>=0&&(Tt!==0||pt>=gt);pt--){var Ht=this.words[pt]|0;this.words[pt]=Tt<<26-bt|Ht>>>bt,Tt=Ht&yt}return St&&Tt!==0&&(St.words[St.length++]=Tt),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},_e.prototype.ishrn=function(ct,dt,wt){return _(this.negative===0),this.iushrn(ct,dt,wt)},_e.prototype.shln=function(ct){return this.clone().ishln(ct)},_e.prototype.ushln=function(ct){return this.clone().iushln(ct)},_e.prototype.shrn=function(ct){return this.clone().ishrn(ct)},_e.prototype.ushrn=function(ct){return this.clone().iushrn(ct)},_e.prototype.testn=function(ct){_(typeof ct=="number"&&ct>=0);var dt=ct%26,wt=(ct-dt)/26,gt=1<<dt;if(this.length<=wt)return!1;var bt=this.words[wt];return!!(bt&gt)},_e.prototype.imaskn=function(ct){_(typeof ct=="number"&&ct>=0);var dt=ct%26,wt=(ct-dt)/26;if(_(this.negative===0,"imaskn works only with positive numbers"),this.length<=wt)return this;if(dt!==0&&wt++,this.length=Math.min(wt,this.length),dt!==0){var gt=67108863^67108863>>>dt<<dt;this.words[this.length-1]&=gt}return this._strip()},_e.prototype.maskn=function(ct){return this.clone().imaskn(ct)},_e.prototype.iaddn=function(ct){return _(typeof ct=="number"),_(ct<67108864),ct<0?this.isubn(-ct):this.negative!==0?this.length===1&&(this.words[0]|0)<=ct?(this.words[0]=ct-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(ct),this.negative=1,this):this._iaddn(ct)},_e.prototype._iaddn=function(ct){this.words[0]+=ct;for(var dt=0;dt<this.length&&this.words[dt]>=67108864;dt++)this.words[dt]-=67108864,dt===this.length-1?this.words[dt+1]=1:this.words[dt+1]++;return this.length=Math.max(this.length,dt+1),this},_e.prototype.isubn=function(ct){if(_(typeof ct=="number"),_(ct<67108864),ct<0)return this.iaddn(-ct);if(this.negative!==0)return this.negative=0,this.iaddn(ct),this.negative=1,this;if(this.words[0]-=ct,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var dt=0;dt<this.length&&this.words[dt]<0;dt++)this.words[dt]+=67108864,this.words[dt+1]-=1;return this._strip()},_e.prototype.addn=function(ct){return this.clone().iaddn(ct)},_e.prototype.subn=function(ct){return this.clone().isubn(ct)},_e.prototype.iabs=function(){return this.negative=0,this},_e.prototype.abs=function(){return this.clone().iabs()},_e.prototype._ishlnsubmul=function(ct,dt,wt){var gt=ct.length+wt,bt;this._expand(gt);var xt,yt=0;for(bt=0;bt<ct.length;bt++){xt=(this.words[bt+wt]|0)+yt;var St=(ct.words[bt]|0)*dt;xt-=St&67108863,yt=(xt>>26)-(St/67108864|0),this.words[bt+wt]=xt&67108863}for(;bt<this.length-wt;bt++)xt=(this.words[bt+wt]|0)+yt,yt=xt>>26,this.words[bt+wt]=xt&67108863;if(yt===0)return this._strip();for(_(yt===-1),yt=0,bt=0;bt<this.length;bt++)xt=-(this.words[bt]|0)+yt,yt=xt>>26,this.words[bt]=xt&67108863;return this.negative=1,this._strip()},_e.prototype._wordDiv=function(ct,dt){var wt=this.length-ct.length,gt=this.clone(),bt=ct,xt=bt.words[bt.length-1]|0,yt=this._countBits(xt);wt=26-yt,wt!==0&&(bt=bt.ushln(wt),gt.iushln(wt),xt=bt.words[bt.length-1]|0);var St=gt.length-bt.length,pt;if(dt!=="mod"){pt=new _e(null),pt.length=St+1,pt.words=new Array(pt.length);for(var Tt=0;Tt<pt.length;Tt++)pt.words[Tt]=0}var Ht=gt.clone()._ishlnsubmul(bt,1,St);Ht.negative===0&&(gt=Ht,pt&&(pt.words[St]=1));for(var Wt=St-1;Wt>=0;Wt--){var Ut=(gt.words[bt.length+Wt]|0)*67108864+(gt.words[bt.length+Wt-1]|0);for(Ut=Math.min(Ut/xt|0,67108863),gt._ishlnsubmul(bt,Ut,Wt);gt.negative!==0;)Ut--,gt.negative=0,gt._ishlnsubmul(bt,1,Wt),gt.isZero()||(gt.negative^=1);pt&&(pt.words[Wt]=Ut)}return pt&&pt._strip(),gt._strip(),dt!=="div"&&wt!==0&&gt.iushrn(wt),{div:pt||null,mod:gt}},_e.prototype.divmod=function(ct,dt,wt){if(_(!ct.isZero()),this.isZero())return{div:new _e(0),mod:new _e(0)};var gt,bt,xt;return this.negative!==0&&ct.negative===0?(xt=this.neg().divmod(ct,dt),dt!=="mod"&&(gt=xt.div.neg()),dt!=="div"&&(bt=xt.mod.neg(),wt&&bt.negative!==0&&bt.iadd(ct)),{div:gt,mod:bt}):this.negative===0&&ct.negative!==0?(xt=this.divmod(ct.neg(),dt),dt!=="mod"&&(gt=xt.div.neg()),{div:gt,mod:xt.mod}):this.negative&ct.negative?(xt=this.neg().divmod(ct.neg(),dt),dt!=="div"&&(bt=xt.mod.neg(),wt&&bt.negative!==0&&bt.isub(ct)),{div:xt.div,mod:bt}):ct.length>this.length||this.cmp(ct)<0?{div:new _e(0),mod:this}:ct.length===1?dt==="div"?{div:this.divn(ct.words[0]),mod:null}:dt==="mod"?{div:null,mod:new _e(this.modrn(ct.words[0]))}:{div:this.divn(ct.words[0]),mod:new _e(this.modrn(ct.words[0]))}:this._wordDiv(ct,dt)},_e.prototype.div=function(ct){return this.divmod(ct,"div",!1).div},_e.prototype.mod=function(ct){return this.divmod(ct,"mod",!1).mod},_e.prototype.umod=function(ct){return this.divmod(ct,"mod",!0).mod},_e.prototype.divRound=function(ct){var dt=this.divmod(ct);if(dt.mod.isZero())return dt.div;var wt=dt.div.negative!==0?dt.mod.isub(ct):dt.mod,gt=ct.ushrn(1),bt=ct.andln(1),xt=wt.cmp(gt);return xt<0||bt===1&&xt===0?dt.div:dt.div.negative!==0?dt.div.isubn(1):dt.div.iaddn(1)},_e.prototype.modrn=function(ct){var dt=ct<0;dt&&(ct=-ct),_(ct<=67108863);for(var wt=(1<<26)%ct,gt=0,bt=this.length-1;bt>=0;bt--)gt=(wt*gt+(this.words[bt]|0))%ct;return dt?-gt:gt},_e.prototype.modn=function(ct){return this.modrn(ct)},_e.prototype.idivn=function(ct){var dt=ct<0;dt&&(ct=-ct),_(ct<=67108863);for(var wt=0,gt=this.length-1;gt>=0;gt--){var bt=(this.words[gt]|0)+wt*67108864;this.words[gt]=bt/ct|0,wt=bt%ct}return this._strip(),dt?this.ineg():this},_e.prototype.divn=function(ct){return this.clone().idivn(ct)},_e.prototype.egcd=function(ct){_(ct.negative===0),_(!ct.isZero());var dt=this,wt=ct.clone();dt.negative!==0?dt=dt.umod(ct):dt=dt.clone();for(var gt=new _e(1),bt=new _e(0),xt=new _e(0),yt=new _e(1),St=0;dt.isEven()&&wt.isEven();)dt.iushrn(1),wt.iushrn(1),++St;for(var pt=wt.clone(),Tt=dt.clone();!dt.isZero();){for(var Ht=0,Wt=1;!(dt.words[0]&Wt)&&Ht<26;++Ht,Wt<<=1);if(Ht>0)for(dt.iushrn(Ht);Ht-- >0;)(gt.isOdd()||bt.isOdd())&&(gt.iadd(pt),bt.isub(Tt)),gt.iushrn(1),bt.iushrn(1);for(var Ut=0,Rt=1;!(wt.words[0]&Rt)&&Ut<26;++Ut,Rt<<=1);if(Ut>0)for(wt.iushrn(Ut);Ut-- >0;)(xt.isOdd()||yt.isOdd())&&(xt.iadd(pt),yt.isub(Tt)),xt.iushrn(1),yt.iushrn(1);dt.cmp(wt)>=0?(dt.isub(wt),gt.isub(xt),bt.isub(yt)):(wt.isub(dt),xt.isub(gt),yt.isub(bt))}return{a:xt,b:yt,gcd:wt.iushln(St)}},_e.prototype._invmp=function(ct){_(ct.negative===0),_(!ct.isZero());var dt=this,wt=ct.clone();dt.negative!==0?dt=dt.umod(ct):dt=dt.clone();for(var gt=new _e(1),bt=new _e(0),xt=wt.clone();dt.cmpn(1)>0&&wt.cmpn(1)>0;){for(var yt=0,St=1;!(dt.words[0]&St)&&yt<26;++yt,St<<=1);if(yt>0)for(dt.iushrn(yt);yt-- >0;)gt.isOdd()&&gt.iadd(xt),gt.iushrn(1);for(var pt=0,Tt=1;!(wt.words[0]&Tt)&&pt<26;++pt,Tt<<=1);if(pt>0)for(wt.iushrn(pt);pt-- >0;)bt.isOdd()&&bt.iadd(xt),bt.iushrn(1);dt.cmp(wt)>=0?(dt.isub(wt),gt.isub(bt)):(wt.isub(dt),bt.isub(gt))}var Ht;return dt.cmpn(1)===0?Ht=gt:Ht=bt,Ht.cmpn(0)<0&&Ht.iadd(ct),Ht},_e.prototype.gcd=function(ct){if(this.isZero())return ct.abs();if(ct.isZero())return this.abs();var dt=this.clone(),wt=ct.clone();dt.negative=0,wt.negative=0;for(var gt=0;dt.isEven()&&wt.isEven();gt++)dt.iushrn(1),wt.iushrn(1);do{for(;dt.isEven();)dt.iushrn(1);for(;wt.isEven();)wt.iushrn(1);var bt=dt.cmp(wt);if(bt<0){var xt=dt;dt=wt,wt=xt}else if(bt===0||wt.cmpn(1)===0)break;dt.isub(wt)}while(!0);return wt.iushln(gt)},_e.prototype.invm=function(ct){return this.egcd(ct).a.umod(ct)},_e.prototype.isEven=function(){return(this.words[0]&1)===0},_e.prototype.isOdd=function(){return(this.words[0]&1)===1},_e.prototype.andln=function(ct){return this.words[0]&ct},_e.prototype.bincn=function(ct){_(typeof ct=="number");var dt=ct%26,wt=(ct-dt)/26,gt=1<<dt;if(this.length<=wt)return this._expand(wt+1),this.words[wt]|=gt,this;for(var bt=gt,xt=wt;bt!==0&&xt<this.length;xt++){var yt=this.words[xt]|0;yt+=bt,bt=yt>>>26,yt&=67108863,this.words[xt]=yt}return bt!==0&&(this.words[xt]=bt,this.length++),this},_e.prototype.isZero=function(){return this.length===1&&this.words[0]===0},_e.prototype.cmpn=function(ct){var dt=ct<0;if(this.negative!==0&&!dt)return-1;if(this.negative===0&&dt)return 1;this._strip();var wt;if(this.length>1)wt=1;else{dt&&(ct=-ct),_(ct<=67108863,"Number is too big");var gt=this.words[0]|0;wt=gt===ct?0:gt<ct?-1:1}return this.negative!==0?-wt|0:wt},_e.prototype.cmp=function(ct){if(this.negative!==0&&ct.negative===0)return-1;if(this.negative===0&&ct.negative!==0)return 1;var dt=this.ucmp(ct);return this.negative!==0?-dt|0:dt},_e.prototype.ucmp=function(ct){if(this.length>ct.length)return 1;if(this.length<ct.length)return-1;for(var dt=0,wt=this.length-1;wt>=0;wt--){var gt=this.words[wt]|0,bt=ct.words[wt]|0;if(gt!==bt){gt<bt?dt=-1:gt>bt&&(dt=1);break}}return dt},_e.prototype.gtn=function(ct){return this.cmpn(ct)===1},_e.prototype.gt=function(ct){return this.cmp(ct)===1},_e.prototype.gten=function(ct){return this.cmpn(ct)>=0},_e.prototype.gte=function(ct){return this.cmp(ct)>=0},_e.prototype.ltn=function(ct){return this.cmpn(ct)===-1},_e.prototype.lt=function(ct){return this.cmp(ct)===-1},_e.prototype.lten=function(ct){return this.cmpn(ct)<=0},_e.prototype.lte=function(ct){return this.cmp(ct)<=0},_e.prototype.eqn=function(ct){return this.cmpn(ct)===0},_e.prototype.eq=function(ct){return this.cmp(ct)===0},_e.red=function(ct){return new Nt(ct)},_e.prototype.toRed=function(ct){return _(!this.red,"Already a number in reduction context"),_(this.negative===0,"red works only with positives"),ct.convertTo(this)._forceRed(ct)},_e.prototype.fromRed=function(){return _(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},_e.prototype._forceRed=function(ct){return this.red=ct,this},_e.prototype.forceRed=function(ct){return _(!this.red,"Already a number in reduction context"),this._forceRed(ct)},_e.prototype.redAdd=function(ct){return _(this.red,"redAdd works only with red numbers"),this.red.add(this,ct)},_e.prototype.redIAdd=function(ct){return _(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,ct)},_e.prototype.redSub=function(ct){return _(this.red,"redSub works only with red numbers"),this.red.sub(this,ct)},_e.prototype.redISub=function(ct){return _(this.red,"redISub works only with red numbers"),this.red.isub(this,ct)},_e.prototype.redShl=function(ct){return _(this.red,"redShl works only with red numbers"),this.red.shl(this,ct)},_e.prototype.redMul=function(ct){return _(this.red,"redMul works only with red numbers"),this.red._verify2(this,ct),this.red.mul(this,ct)},_e.prototype.redIMul=function(ct){return _(this.red,"redMul works only with red numbers"),this.red._verify2(this,ct),this.red.imul(this,ct)},_e.prototype.redSqr=function(){return _(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},_e.prototype.redISqr=function(){return _(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},_e.prototype.redSqrt=function(){return _(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},_e.prototype.redInvm=function(){return _(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},_e.prototype.redNeg=function(){return _(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},_e.prototype.redPow=function(ct){return _(this.red&&!ct.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,ct)};var Ct={k256:null,p224:null,p192:null,p25519:null};function Mt(_t,ct){this.name=_t,this.p=new _e(ct,16),this.n=this.p.bitLength(),this.k=new _e(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Mt.prototype._tmp=function(){var ct=new _e(null);return ct.words=new Array(Math.ceil(this.n/13)),ct},Mt.prototype.ireduce=function(ct){var dt=ct,wt;do this.split(dt,this.tmp),dt=this.imulK(dt),dt=dt.iadd(this.tmp),wt=dt.bitLength();while(wt>this.n);var gt=wt<this.n?-1:dt.ucmp(this.p);return gt===0?(dt.words[0]=0,dt.length=1):gt>0?dt.isub(this.p):dt.strip!==void 0?dt.strip():dt._strip(),dt},Mt.prototype.split=function(ct,dt){ct.iushrn(this.n,0,dt)},Mt.prototype.imulK=function(ct){return ct.imul(this.k)};function Bt(){Mt.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}b(Bt,Mt),Bt.prototype.split=function(ct,dt){for(var wt=4194303,gt=Math.min(ct.length,9),bt=0;bt<gt;bt++)dt.words[bt]=ct.words[bt];if(dt.length=gt,ct.length<=9){ct.words[0]=0,ct.length=1;return}var xt=ct.words[9];for(dt.words[dt.length++]=xt&wt,bt=10;bt<ct.length;bt++){var yt=ct.words[bt]|0;ct.words[bt-10]=(yt&wt)<<4|xt>>>22,xt=yt}xt>>>=22,ct.words[bt-10]=xt,xt===0&&ct.length>10?ct.length-=10:ct.length-=9},Bt.prototype.imulK=function(ct){ct.words[ct.length]=0,ct.words[ct.length+1]=0,ct.length+=2;for(var dt=0,wt=0;wt<ct.length;wt++){var gt=ct.words[wt]|0;dt+=gt*977,ct.words[wt]=dt&67108863,dt=gt*64+(dt/67108864|0)}return ct.words[ct.length-1]===0&&(ct.length--,ct.words[ct.length-1]===0&&ct.length--),ct};function Lt(){Mt.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}b(Lt,Mt);function jt(){Mt.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}b(jt,Mt);function Vt(){Mt.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}b(Vt,Mt),Vt.prototype.imulK=function(ct){for(var dt=0,wt=0;wt<ct.length;wt++){var gt=(ct.words[wt]|0)*19+dt,bt=gt&67108863;gt>>>=26,ct.words[wt]=bt,dt=gt}return dt!==0&&(ct.words[ct.length++]=dt),ct},_e._prime=function(ct){if(Ct[ct])return Ct[ct];var dt;if(ct==="k256")dt=new Bt;else if(ct==="p224")dt=new Lt;else if(ct==="p192")dt=new jt;else if(ct==="p25519")dt=new Vt;else throw new Error("Unknown prime "+ct);return Ct[ct]=dt,dt};function Nt(_t){if(typeof _t=="string"){var ct=_e._prime(_t);this.m=ct.p,this.prime=ct}else _(_t.gtn(1),"modulus must be greater than 1"),this.m=_t,this.prime=null}Nt.prototype._verify1=function(ct){_(ct.negative===0,"red works only with positives"),_(ct.red,"red works only with red numbers")},Nt.prototype._verify2=function(ct,dt){_((ct.negative|dt.negative)===0,"red works only with positives"),_(ct.red&&ct.red===dt.red,"red works only with red numbers")},Nt.prototype.imod=function(ct){return this.prime?this.prime.ireduce(ct)._forceRed(this):(ot(ct,ct.umod(this.m)._forceRed(this)),ct)},Nt.prototype.neg=function(ct){return ct.isZero()?ct.clone():this.m.sub(ct)._forceRed(this)},Nt.prototype.add=function(ct,dt){this._verify2(ct,dt);var wt=ct.add(dt);return wt.cmp(this.m)>=0&&wt.isub(this.m),wt._forceRed(this)},Nt.prototype.iadd=function(ct,dt){this._verify2(ct,dt);var wt=ct.iadd(dt);return wt.cmp(this.m)>=0&&wt.isub(this.m),wt},Nt.prototype.sub=function(ct,dt){this._verify2(ct,dt);var wt=ct.sub(dt);return wt.cmpn(0)<0&&wt.iadd(this.m),wt._forceRed(this)},Nt.prototype.isub=function(ct,dt){this._verify2(ct,dt);var wt=ct.isub(dt);return wt.cmpn(0)<0&&wt.iadd(this.m),wt},Nt.prototype.shl=function(ct,dt){return this._verify1(ct),this.imod(ct.ushln(dt))},Nt.prototype.imul=function(ct,dt){return this._verify2(ct,dt),this.imod(ct.imul(dt))},Nt.prototype.mul=function(ct,dt){return this._verify2(ct,dt),this.imod(ct.mul(dt))},Nt.prototype.isqr=function(ct){return this.imul(ct,ct.clone())},Nt.prototype.sqr=function(ct){return this.mul(ct,ct)},Nt.prototype.sqrt=function(ct){if(ct.isZero())return ct.clone();var dt=this.m.andln(3);if(_(dt%2===1),dt===3){var wt=this.m.add(new _e(1)).iushrn(2);return this.pow(ct,wt)}for(var gt=this.m.subn(1),bt=0;!gt.isZero()&&gt.andln(1)===0;)bt++,gt.iushrn(1);_(!gt.isZero());var xt=new _e(1).toRed(this),yt=xt.redNeg(),St=this.m.subn(1).iushrn(1),pt=this.m.bitLength();for(pt=new _e(2*pt*pt).toRed(this);this.pow(pt,St).cmp(yt)!==0;)pt.redIAdd(yt);for(var Tt=this.pow(pt,gt),Ht=this.pow(ct,gt.addn(1).iushrn(1)),Wt=this.pow(ct,gt),Ut=bt;Wt.cmp(xt)!==0;){for(var Rt=Wt,$t=0;Rt.cmp(xt)!==0;$t++)Rt=Rt.redSqr();_($t<Ut);var Ft=this.pow(Tt,new _e(1).iushln(Ut-$t-1));Ht=Ht.redMul(Ft),Tt=Ft.redSqr(),Wt=Wt.redMul(Tt),Ut=$t}return Ht},Nt.prototype.invm=function(ct){var dt=ct._invmp(this.m);return dt.negative!==0?(dt.negative=0,this.imod(dt).redNeg()):this.imod(dt)},Nt.prototype.pow=function(ct,dt){if(dt.isZero())return new _e(1).toRed(this);if(dt.cmpn(1)===0)return ct.clone();var wt=4,gt=new Array(1<<wt);gt[0]=new _e(1).toRed(this),gt[1]=ct;for(var bt=2;bt<gt.length;bt++)gt[bt]=this.mul(gt[bt-1],ct);var xt=gt[0],yt=0,St=0,pt=dt.bitLength()%26;for(pt===0&&(pt=26),bt=dt.length-1;bt>=0;bt--){for(var Tt=dt.words[bt],Ht=pt-1;Ht>=0;Ht--){var Wt=Tt>>Ht&1;if(xt!==gt[0]&&(xt=this.sqr(xt)),Wt===0&&yt===0){St=0;continue}yt<<=1,yt|=Wt,St++,!(St!==wt&&(bt!==0||Ht!==0))&&(xt=this.mul(xt,gt[yt]),St=0,yt=0)}pt=26}return xt},Nt.prototype.convertTo=function(ct){var dt=ct.umod(this.m);return dt===ct?dt.clone():dt},Nt.prototype.convertFrom=function(ct){var dt=ct.clone();return dt.red=null,dt},_e.mont=function(ct){return new kt(ct)};function kt(_t){Nt.call(this,_t),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new _e(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b(kt,Nt),kt.prototype.convertTo=function(ct){return this.imod(ct.ushln(this.shift))},kt.prototype.convertFrom=function(ct){var dt=this.imod(ct.mul(this.rinv));return dt.red=null,dt},kt.prototype.imul=function(ct,dt){if(ct.isZero()||dt.isZero())return ct.words[0]=0,ct.length=1,ct;var wt=ct.imul(dt),gt=wt.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),bt=wt.isub(gt).iushrn(this.shift),xt=bt;return bt.cmp(this.m)>=0?xt=bt.isub(this.m):bt.cmpn(0)<0&&(xt=bt.iadd(this.m)),xt._forceRed(this)},kt.prototype.mul=function(ct,dt){if(ct.isZero()||dt.isZero())return new _e(0)._forceRed(this);var wt=ct.mul(dt),gt=wt.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),bt=wt.isub(gt).iushrn(this.shift),xt=bt;return bt.cmp(this.m)>=0?xt=bt.isub(this.m):bt.cmpn(0)<0&&(xt=bt.iadd(this.m)),xt._forceRed(this)},kt.prototype.invm=function(ct){var dt=this.imod(ct._invmp(this.m).mul(this.r2));return dt._forceRed(this)}})(o,commonjsGlobal)}(bn)),bn.exports}var asn1$1={},asn1={},api$1={},vmBrowserify={},hasRequiredVmBrowserify;function requireVmBrowserify(){return hasRequiredVmBrowserify||(hasRequiredVmBrowserify=1,function(exports$1){var indexOf=function(o,e){if(o.indexOf)return o.indexOf(e);for(var a=0;a<o.length;a++)if(o[a]===e)return a;return-1},Object_keys=function(o){if(Object.keys)return Object.keys(o);var e=[];for(var a in o)e.push(a);return e},forEach=function(o,e){if(o.forEach)return o.forEach(e);for(var a=0;a<o.length;a++)e(o[a],a,o)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(o,e,a){Object.defineProperty(o,e,{writable:!0,enumerable:!1,configurable:!0,value:a})}}catch{return function(e,a,_){e[a]=_}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports$1.Script=function(e){if(!(this instanceof Script))return new Script(e);this.code=e};Script.prototype.runInContext=function(o){if(!(o instanceof Context))throw new TypeError("needs a 'context' argument.");var e=document.createElement("iframe");e.style||(e.style={}),e.style.display="none",document.body.appendChild(e);var a=e.contentWindow,_=a.eval,b=a.execScript;!_&&b&&(b.call(a,"null"),_=a.eval),forEach(Object_keys(o),function(tt){a[tt]=o[tt]}),forEach(globals,function(tt){o[tt]&&(a[tt]=o[tt])});var _e=Object_keys(a),et=_.call(a,this.code);return forEach(Object_keys(a),function(tt){(tt in o||indexOf(_e,tt)===-1)&&(o[tt]=a[tt])}),forEach(globals,function(tt){tt in o||defineProp(o,tt,a[tt])}),document.body.removeChild(e),et},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(o){var e=Script.createContext(o),a=this.runInContext(e);return o&&forEach(Object_keys(e),function(_){o[_]=e[_]}),a},forEach(Object_keys(Script.prototype),function(o){exports$1[o]=Script[o]=function(e){var a=Script(e);return a[o].apply(a,[].slice.call(arguments,1))}}),exports$1.isContext=function(o){return o instanceof Context},exports$1.createScript=function(o){return exports$1.Script(o)},exports$1.createContext=Script.createContext=function(o){var e=new Context;return typeof o=="object"&&forEach(Object_keys(o),function(a){e[a]=o[a]}),e}}(vmBrowserify)),vmBrowserify}var hasRequiredApi;function requireApi(){return hasRequiredApi||(hasRequiredApi=1,function(o){var e=requireAsn1$1(),a=inherits_browserExports,_=o;_.define=function(et,tt){return new b(et,tt)};function b(_e,et){this.name=_e,this.body=et,this.decoders={},this.encoders={}}b.prototype._createNamed=function(et){var tt;try{tt=requireVmBrowserify().runInThisContext("(function "+this.name+`(entity) {
  this._initNamed(entity);
})`)}catch{tt=function(it){this._initNamed(it)}}return a(tt,et),tt.prototype._initNamed=function(it){et.call(this,it)},new tt(this)},b.prototype._getDecoder=function(et){return et=et||"der",this.decoders.hasOwnProperty(et)||(this.decoders[et]=this._createNamed(e.decoders[et])),this.decoders[et]},b.prototype.decode=function(et,tt,nt){return this._getDecoder(tt).decode(et,nt)},b.prototype._getEncoder=function(et){return et=et||"der",this.encoders.hasOwnProperty(et)||(this.encoders[et]=this._createNamed(e.encoders[et])),this.encoders[et]},b.prototype.encode=function(et,tt,nt){return this._getEncoder(tt).encode(et,nt)}}(api$1)),api$1}var base={},reporter={},hasRequiredReporter;function requireReporter(){if(hasRequiredReporter)return reporter;hasRequiredReporter=1;var o=inherits_browserExports;function e(_){this._reporterState={obj:null,path:[],options:_||{},errors:[]}}reporter.Reporter=e,e.prototype.isError=function(b){return b instanceof a},e.prototype.save=function(){var b=this._reporterState;return{obj:b.obj,pathLen:b.path.length}},e.prototype.restore=function(b){var _e=this._reporterState;_e.obj=b.obj,_e.path=_e.path.slice(0,b.pathLen)},e.prototype.enterKey=function(b){return this._reporterState.path.push(b)},e.prototype.exitKey=function(b){var _e=this._reporterState;_e.path=_e.path.slice(0,b-1)},e.prototype.leaveKey=function(b,_e,et){var tt=this._reporterState;this.exitKey(b),tt.obj!==null&&(tt.obj[_e]=et)},e.prototype.path=function(){return this._reporterState.path.join("/")},e.prototype.enterObject=function(){var b=this._reporterState,_e=b.obj;return b.obj={},_e},e.prototype.leaveObject=function(b){var _e=this._reporterState,et=_e.obj;return _e.obj=b,et},e.prototype.error=function(b){var _e,et=this._reporterState,tt=b instanceof a;if(tt?_e=b:_e=new a(et.path.map(function(nt){return"["+JSON.stringify(nt)+"]"}).join(""),b.message||b,b.stack),!et.options.partial)throw _e;return tt||et.errors.push(_e),_e},e.prototype.wrapResult=function(b){var _e=this._reporterState;return _e.options.partial?{result:this.isError(b)?null:b,errors:_e.errors}:b};function a(_,b){this.path=_,this.rethrow(b)}return o(a,Error),a.prototype.rethrow=function(b){if(this.message=b+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,a),!this.stack)try{throw new Error(this.message)}catch(_e){this.stack=_e.stack}return this},reporter}var buffer={},hasRequiredBuffer;function requireBuffer(){if(hasRequiredBuffer)return buffer;hasRequiredBuffer=1;var o=inherits_browserExports,e=requireBase().Reporter,a=require$$1$2.Buffer;function _(_e,et){if(e.call(this,et),!a.isBuffer(_e)){this.error("Input not Buffer");return}this.base=_e,this.offset=0,this.length=_e.length}o(_,e),buffer.DecoderBuffer=_,_.prototype.save=function(){return{offset:this.offset,reporter:e.prototype.save.call(this)}},_.prototype.restore=function(et){var tt=new _(this.base);return tt.offset=et.offset,tt.length=this.offset,this.offset=et.offset,e.prototype.restore.call(this,et.reporter),tt},_.prototype.isEmpty=function(){return this.offset===this.length},_.prototype.readUInt8=function(et){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(et||"DecoderBuffer overrun")},_.prototype.skip=function(et,tt){if(!(this.offset+et<=this.length))return this.error(tt||"DecoderBuffer overrun");var nt=new _(this.base);return nt._reporterState=this._reporterState,nt.offset=this.offset,nt.length=this.offset+et,this.offset+=et,nt},_.prototype.raw=function(et){return this.base.slice(et?et.offset:this.offset,this.length)};function b(_e,et){if(Array.isArray(_e))this.length=0,this.value=_e.map(function(tt){return tt instanceof b||(tt=new b(tt,et)),this.length+=tt.length,tt},this);else if(typeof _e=="number"){if(!(0<=_e&&_e<=255))return et.error("non-byte EncoderBuffer value");this.value=_e,this.length=1}else if(typeof _e=="string")this.value=_e,this.length=a.byteLength(_e);else if(a.isBuffer(_e))this.value=_e,this.length=_e.length;else return et.error("Unsupported type: "+typeof _e)}return buffer.EncoderBuffer=b,b.prototype.join=function(et,tt){return et||(et=new a(this.length)),tt||(tt=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(nt){nt.join(et,tt),tt+=nt.length}):(typeof this.value=="number"?et[tt]=this.value:typeof this.value=="string"?et.write(this.value,tt):a.isBuffer(this.value)&&this.value.copy(et,tt),tt+=this.length)),et},buffer}var node,hasRequiredNode;function requireNode(){if(hasRequiredNode)return node;hasRequiredNode=1;var o=requireBase().Reporter,e=requireBase().EncoderBuffer,a=requireBase().DecoderBuffer,_=minimalisticAssert,b=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],_e=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(b),et=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function tt(it,ot){var st={};this._baseState=st,st.enc=it,st.parent=ot||null,st.children=null,st.tag=null,st.args=null,st.reverseArgs=null,st.choice=null,st.optional=!1,st.any=!1,st.obj=!1,st.use=null,st.useDecoder=null,st.key=null,st.default=null,st.explicit=null,st.implicit=null,st.contains=null,st.parent||(st.children=[],this._wrap())}node=tt;var nt=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];return tt.prototype.clone=function(){var ot=this._baseState,st={};nt.forEach(function(lt){st[lt]=ot[lt]});var at=new this.constructor(st.parent);return at._baseState=st,at},tt.prototype._wrap=function(){var ot=this._baseState;_e.forEach(function(st){this[st]=function(){var lt=new this.constructor(this);return ot.children.push(lt),lt[st].apply(lt,arguments)}},this)},tt.prototype._init=function(ot){var st=this._baseState;_(st.parent===null),ot.call(this),st.children=st.children.filter(function(at){return at._baseState.parent===this},this),_.equal(st.children.length,1,"Root node can have only one child")},tt.prototype._useArgs=function(ot){var st=this._baseState,at=ot.filter(function(lt){return lt instanceof this.constructor},this);ot=ot.filter(function(lt){return!(lt instanceof this.constructor)},this),at.length!==0&&(_(st.children===null),st.children=at,at.forEach(function(lt){lt._baseState.parent=this},this)),ot.length!==0&&(_(st.args===null),st.args=ot,st.reverseArgs=ot.map(function(lt){if(typeof lt!="object"||lt.constructor!==Object)return lt;var ut={};return Object.keys(lt).forEach(function(ft){ft==(ft|0)&&(ft|=0);var mt=lt[ft];ut[mt]=ft}),ut}))},et.forEach(function(it){tt.prototype[it]=function(){var st=this._baseState;throw new Error(it+" not implemented for encoding: "+st.enc)}}),b.forEach(function(it){tt.prototype[it]=function(){var st=this._baseState,at=Array.prototype.slice.call(arguments);return _(st.tag===null),st.tag=it,this._useArgs(at),this}}),tt.prototype.use=function(ot){_(ot);var st=this._baseState;return _(st.use===null),st.use=ot,this},tt.prototype.optional=function(){var ot=this._baseState;return ot.optional=!0,this},tt.prototype.def=function(ot){var st=this._baseState;return _(st.default===null),st.default=ot,st.optional=!0,this},tt.prototype.explicit=function(ot){var st=this._baseState;return _(st.explicit===null&&st.implicit===null),st.explicit=ot,this},tt.prototype.implicit=function(ot){var st=this._baseState;return _(st.explicit===null&&st.implicit===null),st.implicit=ot,this},tt.prototype.obj=function(){var ot=this._baseState,st=Array.prototype.slice.call(arguments);return ot.obj=!0,st.length!==0&&this._useArgs(st),this},tt.prototype.key=function(ot){var st=this._baseState;return _(st.key===null),st.key=ot,this},tt.prototype.any=function(){var ot=this._baseState;return ot.any=!0,this},tt.prototype.choice=function(ot){var st=this._baseState;return _(st.choice===null),st.choice=ot,this._useArgs(Object.keys(ot).map(function(at){return ot[at]})),this},tt.prototype.contains=function(ot){var st=this._baseState;return _(st.use===null),st.contains=ot,this},tt.prototype._decode=function(ot,st){var at=this._baseState;if(at.parent===null)return ot.wrapResult(at.children[0]._decode(ot,st));var lt=at.default,ut=!0,ft=null;if(at.key!==null&&(ft=ot.enterKey(at.key)),at.optional){var mt=null;if(at.explicit!==null?mt=at.explicit:at.implicit!==null?mt=at.implicit:at.tag!==null&&(mt=at.tag),mt===null&&!at.any){var ht=ot.save();try{at.choice===null?this._decodeGeneric(at.tag,ot,st):this._decodeChoice(ot,st),ut=!0}catch{ut=!1}ot.restore(ht)}else if(ut=this._peekTag(ot,mt,at.any),ot.isError(ut))return ut}var vt;if(at.obj&&ut&&(vt=ot.enterObject()),ut){if(at.explicit!==null){var Et=this._decodeTag(ot,at.explicit);if(ot.isError(Et))return Et;ot=Et}var At=ot.offset;if(at.use===null&&at.choice===null){if(at.any)var ht=ot.save();var Ct=this._decodeTag(ot,at.implicit!==null?at.implicit:at.tag,at.any);if(ot.isError(Ct))return Ct;at.any?lt=ot.raw(ht):ot=Ct}if(st&&st.track&&at.tag!==null&&st.track(ot.path(),At,ot.length,"tagged"),st&&st.track&&at.tag!==null&&st.track(ot.path(),ot.offset,ot.length,"content"),at.any?lt=lt:at.choice===null?lt=this._decodeGeneric(at.tag,ot,st):lt=this._decodeChoice(ot,st),ot.isError(lt))return lt;if(!at.any&&at.choice===null&&at.children!==null&&at.children.forEach(function(Lt){Lt._decode(ot,st)}),at.contains&&(at.tag==="octstr"||at.tag==="bitstr")){var Mt=new a(lt);lt=this._getUse(at.contains,ot._reporterState.obj)._decode(Mt,st)}}return at.obj&&ut&&(lt=ot.leaveObject(vt)),at.key!==null&&(lt!==null||ut===!0)?ot.leaveKey(ft,at.key,lt):ft!==null&&ot.exitKey(ft),lt},tt.prototype._decodeGeneric=function(ot,st,at){var lt=this._baseState;return ot==="seq"||ot==="set"?null:ot==="seqof"||ot==="setof"?this._decodeList(st,ot,lt.args[0],at):/str$/.test(ot)?this._decodeStr(st,ot,at):ot==="objid"&&lt.args?this._decodeObjid(st,lt.args[0],lt.args[1],at):ot==="objid"?this._decodeObjid(st,null,null,at):ot==="gentime"||ot==="utctime"?this._decodeTime(st,ot,at):ot==="null_"?this._decodeNull(st,at):ot==="bool"?this._decodeBool(st,at):ot==="objDesc"?this._decodeStr(st,ot,at):ot==="int"||ot==="enum"?this._decodeInt(st,lt.args&&lt.args[0],at):lt.use!==null?this._getUse(lt.use,st._reporterState.obj)._decode(st,at):st.error("unknown tag: "+ot)},tt.prototype._getUse=function(ot,st){var at=this._baseState;return at.useDecoder=this._use(ot,st),_(at.useDecoder._baseState.parent===null),at.useDecoder=at.useDecoder._baseState.children[0],at.implicit!==at.useDecoder._baseState.implicit&&(at.useDecoder=at.useDecoder.clone(),at.useDecoder._baseState.implicit=at.implicit),at.useDecoder},tt.prototype._decodeChoice=function(ot,st){var at=this._baseState,lt=null,ut=!1;return Object.keys(at.choice).some(function(ft){var mt=ot.save(),ht=at.choice[ft];try{var vt=ht._decode(ot,st);if(ot.isError(vt))return!1;lt={type:ft,value:vt},ut=!0}catch{return ot.restore(mt),!1}return!0},this),ut?lt:ot.error("Choice not matched")},tt.prototype._createEncoderBuffer=function(ot){return new e(ot,this.reporter)},tt.prototype._encode=function(ot,st,at){var lt=this._baseState;if(!(lt.default!==null&&lt.default===ot)){var ut=this._encodeValue(ot,st,at);if(ut!==void 0&&!this._skipDefault(ut,st,at))return ut}},tt.prototype._encodeValue=function(ot,st,at){var lt=this._baseState;if(lt.parent===null)return lt.children[0]._encode(ot,st||new o);var ht=null;if(this.reporter=st,lt.optional&&ot===void 0)if(lt.default!==null)ot=lt.default;else return;var ut=null,ft=!1;if(lt.any)ht=this._createEncoderBuffer(ot);else if(lt.choice)ht=this._encodeChoice(ot,st);else if(lt.contains)ut=this._getUse(lt.contains,at)._encode(ot,st),ft=!0;else if(lt.children)ut=lt.children.map(function(At){if(At._baseState.tag==="null_")return At._encode(null,st,ot);if(At._baseState.key===null)return st.error("Child should have a key");var Ct=st.enterKey(At._baseState.key);if(typeof ot!="object")return st.error("Child expected, but input is not object");var Mt=At._encode(ot[At._baseState.key],st,ot);return st.leaveKey(Ct),Mt},this).filter(function(At){return At}),ut=this._createEncoderBuffer(ut);else if(lt.tag==="seqof"||lt.tag==="setof"){if(!(lt.args&&lt.args.length===1))return st.error("Too many args for : "+lt.tag);if(!Array.isArray(ot))return st.error("seqof/setof, but data is not Array");var mt=this.clone();mt._baseState.implicit=null,ut=this._createEncoderBuffer(ot.map(function(At){var Ct=this._baseState;return this._getUse(Ct.args[0],ot)._encode(At,st)},mt))}else lt.use!==null?ht=this._getUse(lt.use,at)._encode(ot,st):(ut=this._encodePrimitive(lt.tag,ot),ft=!0);var ht;if(!lt.any&&lt.choice===null){var vt=lt.implicit!==null?lt.implicit:lt.tag,Et=lt.implicit===null?"universal":"context";vt===null?lt.use===null&&st.error("Tag could be omitted only for .use()"):lt.use===null&&(ht=this._encodeComposite(vt,ft,Et,ut))}return lt.explicit!==null&&(ht=this._encodeComposite(lt.explicit,!1,"context",ht)),ht},tt.prototype._encodeChoice=function(ot,st){var at=this._baseState,lt=at.choice[ot.type];return lt||_(!1,ot.type+" not found in "+JSON.stringify(Object.keys(at.choice))),lt._encode(ot.value,st)},tt.prototype._encodePrimitive=function(ot,st){var at=this._baseState;if(/str$/.test(ot))return this._encodeStr(st,ot);if(ot==="objid"&&at.args)return this._encodeObjid(st,at.reverseArgs[0],at.args[1]);if(ot==="objid")return this._encodeObjid(st,null,null);if(ot==="gentime"||ot==="utctime")return this._encodeTime(st,ot);if(ot==="null_")return this._encodeNull();if(ot==="int"||ot==="enum")return this._encodeInt(st,at.args&&at.reverseArgs[0]);if(ot==="bool")return this._encodeBool(st);if(ot==="objDesc")return this._encodeStr(st,ot);throw new Error("Unsupported tag: "+ot)},tt.prototype._isNumstr=function(ot){return/^[0-9 ]*$/.test(ot)},tt.prototype._isPrintstr=function(ot){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(ot)},node}var hasRequiredBase;function requireBase(){return hasRequiredBase||(hasRequiredBase=1,function(o){var e=o;e.Reporter=requireReporter().Reporter,e.DecoderBuffer=requireBuffer().DecoderBuffer,e.EncoderBuffer=requireBuffer().EncoderBuffer,e.Node=requireNode()}(base)),base}var constants={},der={},hasRequiredDer$2;function requireDer$2(){return hasRequiredDer$2||(hasRequiredDer$2=1,function(o){var e=requireConstants();o.tagClass={0:"universal",1:"application",2:"context",3:"private"},o.tagClassByName=e._reverse(o.tagClass),o.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},o.tagByName=e._reverse(o.tag)}(der)),der}var hasRequiredConstants;function requireConstants(){return hasRequiredConstants||(hasRequiredConstants=1,function(o){var e=o;e._reverse=function(_){var b={};return Object.keys(_).forEach(function(_e){(_e|0)==_e&&(_e=_e|0);var et=_[_e];b[et]=_e}),b},e.der=requireDer$2()}(constants)),constants}var decoders={},der_1$1,hasRequiredDer$1;function requireDer$1(){if(hasRequiredDer$1)return der_1$1;hasRequiredDer$1=1;var o=inherits_browserExports,e=requireAsn1$1(),a=e.base,_=e.bignum,b=e.constants.der;function _e(it){this.enc="der",this.name=it.name,this.entity=it,this.tree=new et,this.tree._init(it.body)}der_1$1=_e,_e.prototype.decode=function(ot,st){return ot instanceof a.DecoderBuffer||(ot=new a.DecoderBuffer(ot,st)),this.tree._decode(ot,st)};function et(it){a.Node.call(this,"der",it)}o(et,a.Node),et.prototype._peekTag=function(ot,st,at){if(ot.isEmpty())return!1;var lt=ot.save(),ut=tt(ot,'Failed to peek tag: "'+st+'"');return ot.isError(ut)?ut:(ot.restore(lt),ut.tag===st||ut.tagStr===st||ut.tagStr+"of"===st||at)},et.prototype._decodeTag=function(ot,st,at){var lt=tt(ot,'Failed to decode tag of "'+st+'"');if(ot.isError(lt))return lt;var ut=nt(ot,lt.primitive,'Failed to get length of "'+st+'"');if(ot.isError(ut))return ut;if(!at&&lt.tag!==st&&lt.tagStr!==st&&lt.tagStr+"of"!==st)return ot.error('Failed to match tag: "'+st+'"');if(lt.primitive||ut!==null)return ot.skip(ut,'Failed to match body of: "'+st+'"');var ft=ot.save(),mt=this._skipUntilEnd(ot,'Failed to skip indefinite length body: "'+this.tag+'"');return ot.isError(mt)?mt:(ut=ot.offset-ft.offset,ot.restore(ft),ot.skip(ut,'Failed to match body of: "'+st+'"'))},et.prototype._skipUntilEnd=function(ot,st){for(;;){var at=tt(ot,st);if(ot.isError(at))return at;var lt=nt(ot,at.primitive,st);if(ot.isError(lt))return lt;var ut;if(at.primitive||lt!==null?ut=ot.skip(lt):ut=this._skipUntilEnd(ot,st),ot.isError(ut))return ut;if(at.tagStr==="end")break}},et.prototype._decodeList=function(ot,st,at,lt){for(var ut=[];!ot.isEmpty();){var ft=this._peekTag(ot,"end");if(ot.isError(ft))return ft;var mt=at.decode(ot,"der",lt);if(ot.isError(mt)&&ft)break;ut.push(mt)}return ut},et.prototype._decodeStr=function(ot,st){if(st==="bitstr"){var at=ot.readUInt8();return ot.isError(at)?at:{unused:at,data:ot.raw()}}else if(st==="bmpstr"){var lt=ot.raw();if(lt.length%2===1)return ot.error("Decoding of string type: bmpstr length mismatch");for(var ut="",ft=0;ft<lt.length/2;ft++)ut+=String.fromCharCode(lt.readUInt16BE(ft*2));return ut}else if(st==="numstr"){var mt=ot.raw().toString("ascii");return this._isNumstr(mt)?mt:ot.error("Decoding of string type: numstr unsupported characters")}else{if(st==="octstr")return ot.raw();if(st==="objDesc")return ot.raw();if(st==="printstr"){var ht=ot.raw().toString("ascii");return this._isPrintstr(ht)?ht:ot.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(st)?ot.raw().toString():ot.error("Decoding of string type: "+st+" unsupported")}},et.prototype._decodeObjid=function(ot,st,at){for(var lt,ut=[],ft=0;!ot.isEmpty();){var mt=ot.readUInt8();ft<<=7,ft|=mt&127,mt&128||(ut.push(ft),ft=0)}mt&128&&ut.push(ft);var ht=ut[0]/40|0,vt=ut[0]%40;if(at?lt=ut:lt=[ht,vt].concat(ut.slice(1)),st){var Et=st[lt.join(" ")];Et===void 0&&(Et=st[lt.join(".")]),Et!==void 0&&(lt=Et)}return lt},et.prototype._decodeTime=function(ot,st){var at=ot.raw().toString();if(st==="gentime")var lt=at.slice(0,4)|0,ut=at.slice(4,6)|0,ft=at.slice(6,8)|0,mt=at.slice(8,10)|0,ht=at.slice(10,12)|0,vt=at.slice(12,14)|0;else if(st==="utctime"){var lt=at.slice(0,2)|0,ut=at.slice(2,4)|0,ft=at.slice(4,6)|0,mt=at.slice(6,8)|0,ht=at.slice(8,10)|0,vt=at.slice(10,12)|0;lt<70?lt=2e3+lt:lt=1900+lt}else return ot.error("Decoding "+st+" time is not supported yet");return Date.UTC(lt,ut-1,ft,mt,ht,vt,0)},et.prototype._decodeNull=function(ot){return null},et.prototype._decodeBool=function(ot){var st=ot.readUInt8();return ot.isError(st)?st:st!==0},et.prototype._decodeInt=function(ot,st){var at=ot.raw(),lt=new _(at);return st&&(lt=st[lt.toString(10)]||lt),lt},et.prototype._use=function(ot,st){return typeof ot=="function"&&(ot=ot(st)),ot._getDecoder("der").tree};function tt(it,ot){var st=it.readUInt8(ot);if(it.isError(st))return st;var at=b.tagClass[st>>6],lt=(st&32)===0;if((st&31)===31){var ut=st;for(st=0;(ut&128)===128;){if(ut=it.readUInt8(ot),it.isError(ut))return ut;st<<=7,st|=ut&127}}else st&=31;var ft=b.tag[st];return{cls:at,primitive:lt,tag:st,tagStr:ft}}function nt(it,ot,st){var at=it.readUInt8(st);if(it.isError(at))return at;if(!ot&&at===128)return null;if(!(at&128))return at;var lt=at&127;if(lt>4)return it.error("length octect is too long");at=0;for(var ut=0;ut<lt;ut++){at<<=8;var ft=it.readUInt8(st);if(it.isError(ft))return ft;at|=ft}return at}return der_1$1}var pem$1,hasRequiredPem$1;function requirePem$1(){if(hasRequiredPem$1)return pem$1;hasRequiredPem$1=1;var o=inherits_browserExports,e=require$$1$2.Buffer,a=requireDer$1();function _(b){a.call(this,b),this.enc="pem"}return o(_,a),pem$1=_,_.prototype.decode=function(_e,et){for(var tt=_e.toString().split(/[\r\n]+/g),nt=et.label.toUpperCase(),it=/^-----(BEGIN|END) ([^-]+)-----$/,ot=-1,st=-1,at=0;at<tt.length;at++){var lt=tt[at].match(it);if(lt!==null&&lt[2]===nt)if(ot===-1){if(lt[1]!=="BEGIN")break;ot=at}else{if(lt[1]!=="END")break;st=at;break}}if(ot===-1||st===-1)throw new Error("PEM section not found for: "+nt);var ut=tt.slice(ot+1,st).join("");ut.replace(/[^a-z0-9\+\/=]+/gi,"");var ft=new e(ut,"base64");return a.prototype.decode.call(this,ft,et)},pem$1}var hasRequiredDecoders;function requireDecoders(){return hasRequiredDecoders||(hasRequiredDecoders=1,function(o){var e=o;e.der=requireDer$1(),e.pem=requirePem$1()}(decoders)),decoders}var encoders={},der_1,hasRequiredDer;function requireDer(){if(hasRequiredDer)return der_1;hasRequiredDer=1;var o=inherits_browserExports,e=require$$1$2.Buffer,a=requireAsn1$1(),_=a.base,b=a.constants.der;function _e(it){this.enc="der",this.name=it.name,this.entity=it,this.tree=new et,this.tree._init(it.body)}der_1=_e,_e.prototype.encode=function(ot,st){return this.tree._encode(ot,st).join()};function et(it){_.Node.call(this,"der",it)}o(et,_.Node),et.prototype._encodeComposite=function(ot,st,at,lt){var ut=nt(ot,st,at,this.reporter);if(lt.length<128){var ht=new e(2);return ht[0]=ut,ht[1]=lt.length,this._createEncoderBuffer([ht,lt])}for(var ft=1,mt=lt.length;mt>=256;mt>>=8)ft++;var ht=new e(2+ft);ht[0]=ut,ht[1]=128|ft;for(var mt=1+ft,vt=lt.length;vt>0;mt--,vt>>=8)ht[mt]=vt&255;return this._createEncoderBuffer([ht,lt])},et.prototype._encodeStr=function(ot,st){if(st==="bitstr")return this._createEncoderBuffer([ot.unused|0,ot.data]);if(st==="bmpstr"){for(var at=new e(ot.length*2),lt=0;lt<ot.length;lt++)at.writeUInt16BE(ot.charCodeAt(lt),lt*2);return this._createEncoderBuffer(at)}else return st==="numstr"?this._isNumstr(ot)?this._createEncoderBuffer(ot):this.reporter.error("Encoding of string type: numstr supports only digits and space"):st==="printstr"?this._isPrintstr(ot)?this._createEncoderBuffer(ot):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(st)?this._createEncoderBuffer(ot):st==="objDesc"?this._createEncoderBuffer(ot):this.reporter.error("Encoding of string type: "+st+" unsupported")},et.prototype._encodeObjid=function(ot,st,at){if(typeof ot=="string"){if(!st)return this.reporter.error("string objid given, but no values map found");if(!st.hasOwnProperty(ot))return this.reporter.error("objid not found in values map");ot=st[ot].split(/[\s\.]+/g);for(var lt=0;lt<ot.length;lt++)ot[lt]|=0}else if(Array.isArray(ot)){ot=ot.slice();for(var lt=0;lt<ot.length;lt++)ot[lt]|=0}if(!Array.isArray(ot))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(ot));if(!at){if(ot[1]>=40)return this.reporter.error("Second objid identifier OOB");ot.splice(0,2,ot[0]*40+ot[1])}for(var ut=0,lt=0;lt<ot.length;lt++){var ft=ot[lt];for(ut++;ft>=128;ft>>=7)ut++}for(var mt=new e(ut),ht=mt.length-1,lt=ot.length-1;lt>=0;lt--){var ft=ot[lt];for(mt[ht--]=ft&127;(ft>>=7)>0;)mt[ht--]=128|ft&127}return this._createEncoderBuffer(mt)};function tt(it){return it<10?"0"+it:it}et.prototype._encodeTime=function(ot,st){var at,lt=new Date(ot);return st==="gentime"?at=[tt(lt.getFullYear()),tt(lt.getUTCMonth()+1),tt(lt.getUTCDate()),tt(lt.getUTCHours()),tt(lt.getUTCMinutes()),tt(lt.getUTCSeconds()),"Z"].join(""):st==="utctime"?at=[tt(lt.getFullYear()%100),tt(lt.getUTCMonth()+1),tt(lt.getUTCDate()),tt(lt.getUTCHours()),tt(lt.getUTCMinutes()),tt(lt.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+st+" time is not supported yet"),this._encodeStr(at,"octstr")},et.prototype._encodeNull=function(){return this._createEncoderBuffer("")},et.prototype._encodeInt=function(ot,st){if(typeof ot=="string"){if(!st)return this.reporter.error("String int or enum given, but no values map");if(!st.hasOwnProperty(ot))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(ot));ot=st[ot]}if(typeof ot!="number"&&!e.isBuffer(ot)){var at=ot.toArray();!ot.sign&&at[0]&128&&at.unshift(0),ot=new e(at)}if(e.isBuffer(ot)){var lt=ot.length;ot.length===0&&lt++;var ft=new e(lt);return ot.copy(ft),ot.length===0&&(ft[0]=0),this._createEncoderBuffer(ft)}if(ot<128)return this._createEncoderBuffer(ot);if(ot<256)return this._createEncoderBuffer([0,ot]);for(var lt=1,ut=ot;ut>=256;ut>>=8)lt++;for(var ft=new Array(lt),ut=ft.length-1;ut>=0;ut--)ft[ut]=ot&255,ot>>=8;return ft[0]&128&&ft.unshift(0),this._createEncoderBuffer(new e(ft))},et.prototype._encodeBool=function(ot){return this._createEncoderBuffer(ot?255:0)},et.prototype._use=function(ot,st){return typeof ot=="function"&&(ot=ot(st)),ot._getEncoder("der").tree},et.prototype._skipDefault=function(ot,st,at){var lt=this._baseState,ut;if(lt.default===null)return!1;var ft=ot.join();if(lt.defaultBuffer===void 0&&(lt.defaultBuffer=this._encodeValue(lt.default,st,at).join()),ft.length!==lt.defaultBuffer.length)return!1;for(ut=0;ut<ft.length;ut++)if(ft[ut]!==lt.defaultBuffer[ut])return!1;return!0};function nt(it,ot,st,at){var lt;if(it==="seqof"?it="seq":it==="setof"&&(it="set"),b.tagByName.hasOwnProperty(it))lt=b.tagByName[it];else if(typeof it=="number"&&(it|0)===it)lt=it;else return at.error("Unknown tag: "+it);return lt>=31?at.error("Multi-octet tag encoding unsupported"):(ot||(lt|=32),lt|=b.tagClassByName[st||"universal"]<<6,lt)}return der_1}var pem,hasRequiredPem;function requirePem(){if(hasRequiredPem)return pem;hasRequiredPem=1;var o=inherits_browserExports,e=requireDer();function a(_){e.call(this,_),this.enc="pem"}return o(a,e),pem=a,a.prototype.encode=function(b,_e){for(var et=e.prototype.encode.call(this,b),tt=et.toString("base64"),nt=["-----BEGIN "+_e.label+"-----"],it=0;it<tt.length;it+=64)nt.push(tt.slice(it,it+64));return nt.push("-----END "+_e.label+"-----"),nt.join(`
`)},pem}var hasRequiredEncoders;function requireEncoders(){return hasRequiredEncoders||(hasRequiredEncoders=1,function(o){var e=o;e.der=requireDer(),e.pem=requirePem()}(encoders)),encoders}var hasRequiredAsn1$1;function requireAsn1$1(){return hasRequiredAsn1$1||(hasRequiredAsn1$1=1,function(o){var e=o;e.bignum=bnExports,e.define=requireApi().define,e.base=requireBase(),e.constants=requireConstants(),e.decoders=requireDecoders(),e.encoders=requireEncoders()}(asn1)),asn1}var certificate,hasRequiredCertificate;function requireCertificate(){if(hasRequiredCertificate)return certificate;hasRequiredCertificate=1;var o=requireAsn1$1(),e=o.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),a=o.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),_=o.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),b=o.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(_),this.key("subjectPublicKey").bitstr())}),_e=o.define("RelativeDistinguishedName",function(){this.setof(a)}),et=o.define("RDNSequence",function(){this.seqof(_e)}),tt=o.define("Name",function(){this.choice({rdnSequence:this.use(et)})}),nt=o.define("Validity",function(){this.seq().obj(this.key("notBefore").use(e),this.key("notAfter").use(e))}),it=o.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),ot=o.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(_),this.key("issuer").use(tt),this.key("validity").use(nt),this.key("subject").use(tt),this.key("subjectPublicKeyInfo").use(b),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(it).optional())}),st=o.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(ot),this.key("signatureAlgorithm").use(_),this.key("signatureValue").bitstr())});return certificate=st,certificate}var hasRequiredAsn1;function requireAsn1(){if(hasRequiredAsn1)return asn1$1;hasRequiredAsn1=1;var o=requireAsn1$1();asn1$1.certificate=requireCertificate();var e=o.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});asn1$1.RSAPrivateKey=e;var a=o.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});asn1$1.RSAPublicKey=a;var _=o.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),b=o.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(_),this.key("subjectPublicKey").bitstr())});asn1$1.PublicKey=b;var _e=o.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(_),this.key("subjectPrivateKey").octstr())});asn1$1.PrivateKey=_e;var et=o.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});asn1$1.EncryptedPrivateKey=et;var tt=o.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});asn1$1.DSAPrivateKey=tt,asn1$1.DSAparam=o.define("DSAparam",function(){this.int()});var nt=o.define("ECParameters",function(){this.choice({namedCurve:this.objid()})}),it=o.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(nt),this.key("publicKey").optional().explicit(1).bitstr())});return asn1$1.ECPrivateKey=it,asn1$1.signature=o.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())}),asn1$1}const require$$1={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"};var fixProc,hasRequiredFixProc;function requireFixProc(){if(hasRequiredFixProc)return fixProc;hasRequiredFixProc=1;var o=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,e=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,a=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,_=requireEvp_bytestokey(),b=requireBrowser$6(),_e=requireSafeBuffer$2().Buffer;return fixProc=function(et,tt){var nt=et.toString(),it=nt.match(o),ot;if(it){var at="aes"+it[1],lt=_e.from(it[2],"hex"),ut=_e.from(it[3].replace(/[\r\n]/g,""),"base64"),ft=_(tt,lt.slice(0,8),parseInt(it[1],10)).key,mt=[],ht=b.createDecipheriv(at,ft,lt);mt.push(ht.update(ut)),mt.push(ht.final()),ot=_e.concat(mt)}else{var st=nt.match(a);ot=_e.from(st[2].replace(/[\r\n]/g,""),"base64")}var vt=nt.match(e)[1];return{tag:vt,data:ot}},fixProc}var parseAsn1,hasRequiredParseAsn1;function requireParseAsn1(){if(hasRequiredParseAsn1)return parseAsn1;hasRequiredParseAsn1=1;var o=requireAsn1(),e=require$$1,a=requireFixProc(),_=requireBrowser$6(),b=requireBrowser$7().pbkdf2Sync,_e=requireSafeBuffer$2().Buffer;function et(nt,it){var ot=nt.algorithm.decrypt.kde.kdeparams.salt,st=parseInt(nt.algorithm.decrypt.kde.kdeparams.iters.toString(),10),at=e[nt.algorithm.decrypt.cipher.algo.join(".")],lt=nt.algorithm.decrypt.cipher.iv,ut=nt.subjectPrivateKey,ft=parseInt(at.split("-")[1],10)/8,mt=b(it,ot,st,ft,"sha1"),ht=_.createDecipheriv(at,mt,lt),vt=[];return vt.push(ht.update(ut)),vt.push(ht.final()),_e.concat(vt)}function tt(nt){var it;typeof nt=="object"&&!_e.isBuffer(nt)&&(it=nt.passphrase,nt=nt.key),typeof nt=="string"&&(nt=_e.from(nt));var ot=a(nt,it),st=ot.tag,at=ot.data,lt,ut;switch(st){case"CERTIFICATE":ut=o.certificate.decode(at,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(ut||(ut=o.PublicKey.decode(at,"der")),lt=ut.algorithm.algorithm.join("."),lt){case"1.2.840.113549.1.1.1":return o.RSAPublicKey.decode(ut.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return ut.subjectPrivateKey=ut.subjectPublicKey,{type:"ec",data:ut};case"1.2.840.10040.4.1":return ut.algorithm.params.pub_key=o.DSAparam.decode(ut.subjectPublicKey.data,"der"),{type:"dsa",data:ut.algorithm.params};default:throw new Error("unknown key id "+lt)}case"ENCRYPTED PRIVATE KEY":at=o.EncryptedPrivateKey.decode(at,"der"),at=et(at,it);case"PRIVATE KEY":switch(ut=o.PrivateKey.decode(at,"der"),lt=ut.algorithm.algorithm.join("."),lt){case"1.2.840.113549.1.1.1":return o.RSAPrivateKey.decode(ut.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:ut.algorithm.curve,privateKey:o.ECPrivateKey.decode(ut.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return ut.algorithm.params.priv_key=o.DSAparam.decode(ut.subjectPrivateKey,"der"),{type:"dsa",params:ut.algorithm.params};default:throw new Error("unknown key id "+lt)}case"RSA PUBLIC KEY":return o.RSAPublicKey.decode(at,"der");case"RSA PRIVATE KEY":return o.RSAPrivateKey.decode(at,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:o.DSAPrivateKey.decode(at,"der")};case"EC PRIVATE KEY":return at=o.ECPrivateKey.decode(at,"der"),{curve:at.parameters.value,privateKey:at.privateKey};default:throw new Error("unknown key type "+st)}}return tt.signature=o.signature,parseAsn1=tt,parseAsn1}const require$$4={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"};var hasRequiredSign;function requireSign(){if(hasRequiredSign)return sign$1.exports;hasRequiredSign=1;var o=requireSafeBuffer$2().Buffer,e=requireBrowser$8(),a=requireBrowserifyRsa(),_=requireElliptic().ec,b=requireBn(),_e=requireParseAsn1(),et=require$$4,tt=1;function nt(ht,vt,Et,At,Ct){var Mt=_e(vt);if(Mt.curve){if(At!=="ecdsa"&&At!=="ecdsa/rsa")throw new Error("wrong private key type");return it(ht,Mt)}else if(Mt.type==="dsa"){if(At!=="dsa")throw new Error("wrong private key type");return ot(ht,Mt,Et)}if(At!=="rsa"&&At!=="ecdsa/rsa")throw new Error("wrong private key type");if(vt.padding!==void 0&&vt.padding!==tt)throw new Error("illegal or unsupported padding mode");ht=o.concat([Ct,ht]);for(var Bt=Mt.modulus.byteLength(),Lt=[0,1];ht.length+Lt.length+1<Bt;)Lt.push(255);Lt.push(0);for(var jt=-1;++jt<ht.length;)Lt.push(ht[jt]);var Vt=a(Lt,Mt);return Vt}function it(ht,vt){var Et=et[vt.curve.join(".")];if(!Et)throw new Error("unknown curve "+vt.curve.join("."));var At=new _(Et),Ct=At.keyFromPrivate(vt.privateKey),Mt=Ct.sign(ht);return o.from(Mt.toDER())}function ot(ht,vt,Et){for(var At=vt.params.priv_key,Ct=vt.params.p,Mt=vt.params.q,Bt=vt.params.g,Lt=new b(0),jt,Vt=lt(ht,Mt).mod(Mt),Nt=!1,kt=at(At,Mt,ht,Et);Nt===!1;)jt=ft(Mt,kt,Et),Lt=mt(Bt,jt,Ct,Mt),Nt=jt.invm(Mt).imul(Vt.add(At.mul(Lt))).mod(Mt),Nt.cmpn(0)===0&&(Nt=!1,Lt=new b(0));return st(Lt,Nt)}function st(ht,vt){ht=ht.toArray(),vt=vt.toArray(),ht[0]&128&&(ht=[0].concat(ht)),vt[0]&128&&(vt=[0].concat(vt));var Et=ht.length+vt.length+4,At=[48,Et,2,ht.length];return At=At.concat(ht,[2,vt.length],vt),o.from(At)}function at(ht,vt,Et,At){if(ht=o.from(ht.toArray()),ht.length<vt.byteLength()){var Ct=o.alloc(vt.byteLength()-ht.length);ht=o.concat([Ct,ht])}var Mt=Et.length,Bt=ut(Et,vt),Lt=o.alloc(Mt);Lt.fill(1);var jt=o.alloc(Mt);return jt=e(At,jt).update(Lt).update(o.from([0])).update(ht).update(Bt).digest(),Lt=e(At,jt).update(Lt).digest(),jt=e(At,jt).update(Lt).update(o.from([1])).update(ht).update(Bt).digest(),Lt=e(At,jt).update(Lt).digest(),{k:jt,v:Lt}}function lt(ht,vt){var Et=new b(ht),At=(ht.length<<3)-vt.bitLength();return At>0&&Et.ishrn(At),Et}function ut(ht,vt){ht=lt(ht,vt),ht=ht.mod(vt);var Et=o.from(ht.toArray());if(Et.length<vt.byteLength()){var At=o.alloc(vt.byteLength()-Et.length);Et=o.concat([At,Et])}return Et}function ft(ht,vt,Et){var At,Ct;do{for(At=o.alloc(0);At.length*8<ht.bitLength();)vt.v=e(Et,vt.k).update(vt.v).digest(),At=o.concat([At,vt.v]);Ct=lt(At,ht),vt.k=e(Et,vt.k).update(vt.v).update(o.from([0])).digest(),vt.v=e(Et,vt.k).update(vt.v).digest()}while(Ct.cmp(ht)!==-1);return Ct}function mt(ht,vt,Et,At){return ht.toRed(b.mont(Et)).redPow(vt).fromRed().mod(At)}return sign$1.exports=nt,sign$1.exports.getKey=at,sign$1.exports.makeKey=ft,sign$1.exports}var verify_1,hasRequiredVerify;function requireVerify(){if(hasRequiredVerify)return verify_1;hasRequiredVerify=1;var o=requireSafeBuffer$2().Buffer,e=requireBn(),a=requireElliptic().ec,_=requireParseAsn1(),b=require$$4;function _e(it,ot,st,at,lt){var ut=_(st);if(ut.type==="ec"){if(at!=="ecdsa"&&at!=="ecdsa/rsa")throw new Error("wrong public key type");return et(it,ot,ut)}else if(ut.type==="dsa"){if(at!=="dsa")throw new Error("wrong public key type");return tt(it,ot,ut)}if(at!=="rsa"&&at!=="ecdsa/rsa")throw new Error("wrong public key type");ot=o.concat([lt,ot]);for(var ft=ut.modulus.byteLength(),mt=[1],ht=0;ot.length+mt.length+2<ft;)mt.push(255),ht+=1;mt.push(0);for(var vt=-1;++vt<ot.length;)mt.push(ot[vt]);mt=o.from(mt);var Et=e.mont(ut.modulus);it=new e(it).toRed(Et),it=it.redPow(new e(ut.publicExponent)),it=o.from(it.fromRed().toArray());var At=ht<8?1:0;for(ft=Math.min(it.length,mt.length),it.length!==mt.length&&(At=1),vt=-1;++vt<ft;)At|=it[vt]^mt[vt];return At===0}function et(it,ot,st){var at=b[st.data.algorithm.curve.join(".")];if(!at)throw new Error("unknown curve "+st.data.algorithm.curve.join("."));var lt=new a(at),ut=st.data.subjectPrivateKey.data;return lt.verify(ot,it,ut)}function tt(it,ot,st){var at=st.data.p,lt=st.data.q,ut=st.data.g,ft=st.data.pub_key,mt=_.signature.decode(it,"der"),ht=mt.s,vt=mt.r;nt(ht,lt),nt(vt,lt);var Et=e.mont(at),At=ht.invm(lt),Ct=ut.toRed(Et).redPow(new e(ot).mul(At).mod(lt)).fromRed().mul(ft.toRed(Et).redPow(vt.mul(At).mod(lt)).fromRed()).mod(at).mod(lt);return Ct.cmp(vt)===0}function nt(it,ot){if(it.cmpn(0)<=0)throw new Error("invalid sig");if(it.cmp(ot)>=0)throw new Error("invalid sig")}return verify_1=_e,verify_1}var browser$3,hasRequiredBrowser$3;function requireBrowser$3(){if(hasRequiredBrowser$3)return browser$3;hasRequiredBrowser$3=1;var o=requireSafeBuffer$2().Buffer,e=requireBrowser$9(),a=requireReadableBrowser(),_=inherits_browserExports,b=requireSign(),_e=requireVerify(),et=require$$6;Object.keys(et).forEach(function(st){et[st].id=o.from(et[st].id,"hex"),et[st.toLowerCase()]=et[st]});function tt(st){a.Writable.call(this);var at=et[st];if(!at)throw new Error("Unknown message digest");this._hashType=at.hash,this._hash=e(at.hash),this._tag=at.id,this._signType=at.sign}_(tt,a.Writable),tt.prototype._write=function(at,lt,ut){this._hash.update(at),ut()},tt.prototype.update=function(at,lt){return this._hash.update(typeof at=="string"?o.from(at,lt):at),this},tt.prototype.sign=function(at,lt){this.end();var ut=this._hash.digest(),ft=b(ut,at,this._hashType,this._signType,this._tag);return lt?ft.toString(lt):ft};function nt(st){a.Writable.call(this);var at=et[st];if(!at)throw new Error("Unknown message digest");this._hash=e(at.hash),this._tag=at.id,this._signType=at.sign}_(nt,a.Writable),nt.prototype._write=function(at,lt,ut){this._hash.update(at),ut()},nt.prototype.update=function(at,lt){return this._hash.update(typeof at=="string"?o.from(at,lt):at),this},nt.prototype.verify=function(at,lt,ut){var ft=typeof lt=="string"?o.from(lt,ut):lt;this.end();var mt=this._hash.digest();return _e(ft,mt,at,this._signType,this._tag)};function it(st){return new tt(st)}function ot(st){return new nt(st)}return browser$3={Sign:it,Verify:ot,createSign:it,createVerify:ot},browser$3}var browser$2,hasRequiredBrowser$2;function requireBrowser$2(){if(hasRequiredBrowser$2)return browser$2;hasRequiredBrowser$2=1;var o=requireElliptic(),e=bnExports;browser$2=function(et){return new _(et)};var a={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};a.p224=a.secp224r1,a.p256=a.secp256r1=a.prime256v1,a.p192=a.secp192r1=a.prime192v1,a.p384=a.secp384r1,a.p521=a.secp521r1;function _(_e){this.curveType=a[_e],this.curveType||(this.curveType={name:_e}),this.curve=new o.ec(this.curveType.name),this.keys=void 0}_.prototype.generateKeys=function(_e,et){return this.keys=this.curve.genKeyPair(),this.getPublicKey(_e,et)},_.prototype.computeSecret=function(_e,et,tt){et=et||"utf8",Buffer.isBuffer(_e)||(_e=new Buffer(_e,et));var nt=this.curve.keyFromPublic(_e).getPublic(),it=nt.mul(this.keys.getPrivate()).getX();return b(it,tt,this.curveType.byteLength)},_.prototype.getPublicKey=function(_e,et){var tt=this.keys.getPublic(et==="compressed",!0);return et==="hybrid"&&(tt[tt.length-1]%2?tt[0]=7:tt[0]=6),b(tt,_e)},_.prototype.getPrivateKey=function(_e){return b(this.keys.getPrivate(),_e)},_.prototype.setPublicKey=function(_e,et){return et=et||"utf8",Buffer.isBuffer(_e)||(_e=new Buffer(_e,et)),this.keys._importPublic(_e),this},_.prototype.setPrivateKey=function(_e,et){et=et||"utf8",Buffer.isBuffer(_e)||(_e=new Buffer(_e,et));var tt=new e(_e);return tt=tt.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(tt),this};function b(_e,et,tt){Array.isArray(_e)||(_e=_e.toArray());var nt=new Buffer(_e);if(tt&&nt.length<tt){var it=new Buffer(tt-nt.length);it.fill(0),nt=Buffer.concat([it,nt])}return et?nt.toString(et):nt}return browser$2}var browser$1={},mgf,hasRequiredMgf;function requireMgf(){if(hasRequiredMgf)return mgf;hasRequiredMgf=1;var o=requireBrowser$9(),e=requireSafeBuffer$2().Buffer;mgf=function(_,b){for(var _e=e.alloc(0),et=0,tt;_e.length<b;)tt=a(et++),_e=e.concat([_e,o("sha1").update(_).update(tt).digest()]);return _e.slice(0,b)};function a(_){var b=e.allocUnsafe(4);return b.writeUInt32BE(_,0),b}return mgf}var xor,hasRequiredXor;function requireXor(){return hasRequiredXor||(hasRequiredXor=1,xor=function(e,a){for(var _=e.length,b=-1;++b<_;)e[b]^=a[b];return e}),xor}var withPublic_1,hasRequiredWithPublic;function requireWithPublic(){if(hasRequiredWithPublic)return withPublic_1;hasRequiredWithPublic=1;var o=bnExports,e=requireSafeBuffer$2().Buffer;function a(_,b){return e.from(_.toRed(o.mont(b.modulus)).redPow(new o(b.publicExponent)).fromRed().toArray())}return withPublic_1=a,withPublic_1}var publicEncrypt,hasRequiredPublicEncrypt;function requirePublicEncrypt(){if(hasRequiredPublicEncrypt)return publicEncrypt;hasRequiredPublicEncrypt=1;var o=requireParseAsn1(),e=requireBrowser$b(),a=requireBrowser$9(),_=requireMgf(),b=requireXor(),_e=bnExports,et=requireWithPublic(),tt=requireBrowserifyRsa(),nt=requireSafeBuffer$2().Buffer;publicEncrypt=function(lt,ut,ft){var mt;lt.padding?mt=lt.padding:ft?mt=1:mt=4;var ht=o(lt),vt;if(mt===4)vt=it(ht,ut);else if(mt===1)vt=ot(ht,ut,ft);else if(mt===3){if(vt=new _e(ut),vt.cmp(ht.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return ft?tt(vt,ht):et(vt,ht)};function it(at,lt){var ut=at.modulus.byteLength(),ft=lt.length,mt=a("sha1").update(nt.alloc(0)).digest(),ht=mt.length,vt=2*ht;if(ft>ut-vt-2)throw new Error("message too long");var Et=nt.alloc(ut-ft-vt-2),At=ut-ht-1,Ct=e(ht),Mt=b(nt.concat([mt,Et,nt.alloc(1,1),lt],At),_(Ct,At)),Bt=b(Ct,_(Mt,ht));return new _e(nt.concat([nt.alloc(1),Bt,Mt],ut))}function ot(at,lt,ut){var ft=lt.length,mt=at.modulus.byteLength();if(ft>mt-11)throw new Error("message too long");var ht;return ut?ht=nt.alloc(mt-ft-3,255):ht=st(mt-ft-3),new _e(nt.concat([nt.from([0,ut?1:2]),ht,nt.alloc(1),lt],mt))}function st(at){for(var lt=nt.allocUnsafe(at),ut=0,ft=e(at*2),mt=0,ht;ut<at;)mt===ft.length&&(ft=e(at*2),mt=0),ht=ft[mt++],ht&&(lt[ut++]=ht);return lt}return publicEncrypt}var privateDecrypt,hasRequiredPrivateDecrypt;function requirePrivateDecrypt(){if(hasRequiredPrivateDecrypt)return privateDecrypt;hasRequiredPrivateDecrypt=1;var o=requireParseAsn1(),e=requireMgf(),a=requireXor(),_=bnExports,b=requireBrowserifyRsa(),_e=requireBrowser$9(),et=requireWithPublic(),tt=requireSafeBuffer$2().Buffer;privateDecrypt=function(at,lt,ut){var ft;at.padding?ft=at.padding:ut?ft=1:ft=4;var mt=o(at),ht=mt.modulus.byteLength();if(lt.length>ht||new _(lt).cmp(mt.modulus)>=0)throw new Error("decryption error");var vt;ut?vt=et(new _(lt),mt):vt=b(lt,mt);var Et=tt.alloc(ht-vt.length);if(vt=tt.concat([Et,vt],ht),ft===4)return nt(mt,vt);if(ft===1)return it(mt,vt,ut);if(ft===3)return vt;throw new Error("unknown padding")};function nt(st,at){var lt=st.modulus.byteLength(),ut=_e("sha1").update(tt.alloc(0)).digest(),ft=ut.length;if(at[0]!==0)throw new Error("decryption error");var mt=at.slice(1,ft+1),ht=at.slice(ft+1),vt=a(mt,e(ht,ft)),Et=a(ht,e(vt,lt-ft-1));if(ot(ut,Et.slice(0,ft)))throw new Error("decryption error");for(var At=ft;Et[At]===0;)At++;if(Et[At++]!==1)throw new Error("decryption error");return Et.slice(At)}function it(st,at,lt){for(var ut=at.slice(0,2),ft=2,mt=0;at[ft++]!==0;)if(ft>=at.length){mt++;break}var ht=at.slice(2,ft-1);if((ut.toString("hex")!=="0002"&&!lt||ut.toString("hex")!=="0001"&&lt)&&mt++,ht.length<8&&mt++,mt)throw new Error("decryption error");return at.slice(ft)}function ot(st,at){st=tt.from(st),at=tt.from(at);var lt=0,ut=st.length;st.length!==at.length&&(lt++,ut=Math.min(st.length,at.length));for(var ft=-1;++ft<ut;)lt+=st[ft]^at[ft];return lt}return privateDecrypt}var hasRequiredBrowser$1;function requireBrowser$1(){return hasRequiredBrowser$1||(hasRequiredBrowser$1=1,function(o){o.publicEncrypt=requirePublicEncrypt(),o.privateDecrypt=requirePrivateDecrypt(),o.privateEncrypt=function(a,_){return o.publicEncrypt(a,_,!0)},o.publicDecrypt=function(a,_){return o.privateDecrypt(a,_,!0)}}(browser$1)),browser$1}var browser={},hasRequiredBrowser;function requireBrowser(){if(hasRequiredBrowser)return browser;hasRequiredBrowser=1;function o(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var e=requireSafeBuffer$2(),a=requireBrowser$b(),_=e.Buffer,b=e.kMaxLength,_e=commonjsGlobal.crypto||commonjsGlobal.msCrypto,et=Math.pow(2,32)-1;function tt(at,lt){if(typeof at!="number"||at!==at)throw new TypeError("offset must be a number");if(at>et||at<0)throw new TypeError("offset must be a uint32");if(at>b||at>lt)throw new RangeError("offset out of range")}function nt(at,lt,ut){if(typeof at!="number"||at!==at)throw new TypeError("size must be a number");if(at>et||at<0)throw new TypeError("size must be a uint32");if(at+lt>ut||at>b)throw new RangeError("buffer too small")}_e&&_e.getRandomValues||!process$1$1.browser?(browser.randomFill=it,browser.randomFillSync=st):(browser.randomFill=o,browser.randomFillSync=o);function it(at,lt,ut,ft){if(!_.isBuffer(at)&&!(at instanceof commonjsGlobal.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof lt=="function")ft=lt,lt=0,ut=at.length;else if(typeof ut=="function")ft=ut,ut=at.length-lt;else if(typeof ft!="function")throw new TypeError('"cb" argument must be a function');return tt(lt,at.length),nt(ut,lt,at.length),ot(at,lt,ut,ft)}function ot(at,lt,ut,ft){if(process$1$1.browser){var mt=at.buffer,ht=new Uint8Array(mt,lt,ut);if(_e.getRandomValues(ht),ft){process$1$1.nextTick(function(){ft(null,at)});return}return at}if(ft){a(ut,function(Et,At){if(Et)return ft(Et);At.copy(at,lt),ft(null,at)});return}var vt=a(ut);return vt.copy(at,lt),at}function st(at,lt,ut){if(typeof lt>"u"&&(lt=0),!_.isBuffer(at)&&!(at instanceof commonjsGlobal.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return tt(lt,at.length),ut===void 0&&(ut=at.length-lt),nt(ut,lt,at.length),ot(at,lt,ut)}return browser}var hasRequiredCryptoBrowserify;function requireCryptoBrowserify(){if(hasRequiredCryptoBrowserify)return cryptoBrowserify;hasRequiredCryptoBrowserify=1,cryptoBrowserify.randomBytes=cryptoBrowserify.rng=cryptoBrowserify.pseudoRandomBytes=cryptoBrowserify.prng=requireBrowser$b(),cryptoBrowserify.createHash=cryptoBrowserify.Hash=requireBrowser$9(),cryptoBrowserify.createHmac=cryptoBrowserify.Hmac=requireBrowser$8();var o=requireAlgos(),e=Object.keys(o),a=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(e);cryptoBrowserify.getHashes=function(){return a};var _=requireBrowser$7();cryptoBrowserify.pbkdf2=_.pbkdf2,cryptoBrowserify.pbkdf2Sync=_.pbkdf2Sync;var b=requireBrowser$5();cryptoBrowserify.Cipher=b.Cipher,cryptoBrowserify.createCipher=b.createCipher,cryptoBrowserify.Cipheriv=b.Cipheriv,cryptoBrowserify.createCipheriv=b.createCipheriv,cryptoBrowserify.Decipher=b.Decipher,cryptoBrowserify.createDecipher=b.createDecipher,cryptoBrowserify.Decipheriv=b.Decipheriv,cryptoBrowserify.createDecipheriv=b.createDecipheriv,cryptoBrowserify.getCiphers=b.getCiphers,cryptoBrowserify.listCiphers=b.listCiphers;var _e=requireBrowser$4();cryptoBrowserify.DiffieHellmanGroup=_e.DiffieHellmanGroup,cryptoBrowserify.createDiffieHellmanGroup=_e.createDiffieHellmanGroup,cryptoBrowserify.getDiffieHellman=_e.getDiffieHellman,cryptoBrowserify.createDiffieHellman=_e.createDiffieHellman,cryptoBrowserify.DiffieHellman=_e.DiffieHellman;var et=requireBrowser$3();cryptoBrowserify.createSign=et.createSign,cryptoBrowserify.Sign=et.Sign,cryptoBrowserify.createVerify=et.createVerify,cryptoBrowserify.Verify=et.Verify,cryptoBrowserify.createECDH=requireBrowser$2();var tt=requireBrowser$1();cryptoBrowserify.publicEncrypt=tt.publicEncrypt,cryptoBrowserify.privateEncrypt=tt.privateEncrypt,cryptoBrowserify.publicDecrypt=tt.publicDecrypt,cryptoBrowserify.privateDecrypt=tt.privateDecrypt;var nt=requireBrowser();return cryptoBrowserify.randomFill=nt.randomFill,cryptoBrowserify.randomFillSync=nt.randomFillSync,cryptoBrowserify.createCredentials=function(){throw new Error(`sorry, createCredentials is not implemented yet
we accept pull requests
https://github.com/browserify/crypto-browserify`)},cryptoBrowserify.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6},cryptoBrowserify}var hasRequiredBrorand;function requireBrorand(){if(hasRequiredBrorand)return brorand.exports;hasRequiredBrorand=1;var o;brorand.exports=function(b){return o||(o=new e(null)),o.generate(b)};function e(_){this.rand=_}if(brorand.exports.Rand=e,e.prototype.generate=function(b){return this._rand(b)},e.prototype._rand=function(b){if(this.rand.getBytes)return this.rand.getBytes(b);for(var _e=new Uint8Array(b),et=0;et<_e.length;et++)_e[et]=this.rand.getByte();return _e},typeof self=="object")self.crypto&&self.crypto.getRandomValues?e.prototype._rand=function(b){var _e=new Uint8Array(b);return self.crypto.getRandomValues(_e),_e}:self.msCrypto&&self.msCrypto.getRandomValues?e.prototype._rand=function(b){var _e=new Uint8Array(b);return self.msCrypto.getRandomValues(_e),_e}:typeof window=="object"&&(e.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var a=requireCryptoBrowserify();if(typeof a.randomBytes!="function")throw new Error("Not supported");e.prototype._rand=function(b){return a.randomBytes(b)}}catch{}return brorand.exports}var brorandExports=requireBrorand();const rand=getDefaultExportFromCjs$1(brorandExports);var ellipticExports=requireElliptic(),extendStatics=function(o,e){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,_){a.__proto__=_}||function(a,_){for(var b in _)Object.prototype.hasOwnProperty.call(_,b)&&(a[b]=_[b])},extendStatics(o,e)};function __extends(o,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");extendStatics(o,e);function a(){this.constructor=o}o.prototype=e===null?Object.create(e):(a.prototype=e.prototype,new a)}function __decorate$1(o,e,a,_){var b=arguments.length,_e=b<3?e:_===null?_=Object.getOwnPropertyDescriptor(e,a):_,et;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_e=Reflect.decorate(o,e,a,_);else for(var tt=o.length-1;tt>=0;tt--)(et=o[tt])&&(_e=(b<3?et(_e):b>3?et(e,a,_e):et(e,a))||_e);return b>3&&_e&&Object.defineProperty(e,a,_e),_e}function __awaiter(o,e,a,_){function b(_e){return _e instanceof a?_e:new a(function(et){et(_e)})}return new(a||(a=Promise))(function(_e,et){function tt(ot){try{it(_.next(ot))}catch(st){et(st)}}function nt(ot){try{it(_.throw(ot))}catch(st){et(st)}}function it(ot){ot.done?_e(ot.value):b(ot.value).then(tt,nt)}it((_=_.apply(o,e||[])).next())})}function __generator(o,e){var a={label:0,sent:function(){if(_e[0]&1)throw _e[1];return _e[1]},trys:[],ops:[]},_,b,_e,et=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return et.next=tt(0),et.throw=tt(1),et.return=tt(2),typeof Symbol=="function"&&(et[Symbol.iterator]=function(){return this}),et;function tt(it){return function(ot){return nt([it,ot])}}function nt(it){if(_)throw new TypeError("Generator is already executing.");for(;et&&(et=0,it[0]&&(a=0)),a;)try{if(_=1,b&&(_e=it[0]&2?b.return:it[0]?b.throw||((_e=b.return)&&_e.call(b),0):b.next)&&!(_e=_e.call(b,it[1])).done)return _e;switch(b=0,_e&&(it=[it[0]&2,_e.value]),it[0]){case 0:case 1:_e=it;break;case 4:return a.label++,{value:it[1],done:!1};case 5:a.label++,b=it[1],it=[0];continue;case 7:it=a.ops.pop(),a.trys.pop();continue;default:if(_e=a.trys,!(_e=_e.length>0&&_e[_e.length-1])&&(it[0]===6||it[0]===2)){a=0;continue}if(it[0]===3&&(!_e||it[1]>_e[0]&&it[1]<_e[3])){a.label=it[1];break}if(it[0]===6&&a.label<_e[1]){a.label=_e[1],_e=it;break}if(_e&&a.label<_e[2]){a.label=_e[2],a.ops.push(it);break}_e[2]&&a.ops.pop(),a.trys.pop();continue}it=e.call(o,a)}catch(ot){it=[6,ot],b=0}finally{_=_e=0}if(it[0]&5)throw it[1];return{value:it[0]?it[1]:void 0,done:!0}}}function __values(o){var e=typeof Symbol=="function"&&Symbol.iterator,a=e&&o[e],_=0;if(a)return a.call(o);if(o&&typeof o.length=="number")return{next:function(){return o&&_>=o.length&&(o=void 0),{value:o&&o[_++],done:!o}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(o,e){var a=typeof Symbol=="function"&&o[Symbol.iterator];if(!a)return o;var _=a.call(o),b,_e=[],et;try{for(;(e===void 0||e-- >0)&&!(b=_.next()).done;)_e.push(b.value)}catch(tt){et={error:tt}}finally{try{b&&!b.done&&(a=_.return)&&a.call(_)}finally{if(et)throw et.error}}return _e}function __spreadArray(o,e,a){if(a||arguments.length===2)for(var _=0,b=e.length,_e;_<b;_++)(_e||!(_ in e))&&(_e||(_e=Array.prototype.slice.call(e,0,_)),_e[_]=e[_]);return o.concat(_e||Array.prototype.slice.call(e))}function __await(o){return this instanceof __await?(this.v=o,this):new __await(o)}function __asyncGenerator(o,e,a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var _=a.apply(o,e||[]),b,_e=[];return b=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),tt("next"),tt("throw"),tt("return",et),b[Symbol.asyncIterator]=function(){return this},b;function et(lt){return function(ut){return Promise.resolve(ut).then(lt,st)}}function tt(lt,ut){_[lt]&&(b[lt]=function(ft){return new Promise(function(mt,ht){_e.push([lt,ft,mt,ht])>1||nt(lt,ft)})},ut&&(b[lt]=ut(b[lt])))}function nt(lt,ut){try{it(_[lt](ut))}catch(ft){at(_e[0][3],ft)}}function it(lt){lt.value instanceof __await?Promise.resolve(lt.value.v).then(ot,st):at(_e[0][2],lt)}function ot(lt){nt("next",lt)}function st(lt){nt("throw",lt)}function at(lt,ut){lt(ut),_e.shift(),_e.length&&nt(_e[0][0],_e[0][1])}}function __asyncValues(o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=o[Symbol.asyncIterator],a;return e?e.call(o):(o=typeof __values=="function"?__values(o):o[Symbol.iterator](),a={},_("next"),_("throw"),_("return"),a[Symbol.asyncIterator]=function(){return this},a);function _(_e){a[_e]=o[_e]&&function(et){return new Promise(function(tt,nt){et=o[_e](et),b(tt,nt,et.done,et.value)})}}function b(_e,et,tt,nt){Promise.resolve(nt).then(function(it){_e({value:it,done:tt})},et)}}typeof SuppressedError=="function"&&SuppressedError;/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const Z_FIXED$1=4,Z_BINARY=0,Z_TEXT=1,Z_UNKNOWN$1=2;function zero$1(o){let e=o.length;for(;--e>=0;)o[e]=0}const STORED_BLOCK=0,STATIC_TREES=1,DYN_TREES=2,MIN_MATCH$1=3,MAX_MATCH$1=258,LENGTH_CODES$1=29,LITERALS$1=256,L_CODES$1=LITERALS$1+1+LENGTH_CODES$1,D_CODES$1=30,BL_CODES$1=19,HEAP_SIZE$1=2*L_CODES$1+1,MAX_BITS$1=15,Buf_size=16,MAX_BL_BITS=7,END_BLOCK=256,REP_3_6=16,REPZ_3_10=17,REPZ_11_138=18,extra_lbits=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),extra_dbits=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),extra_blbits=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),bl_order=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),DIST_CODE_LEN=512,static_ltree=new Array((L_CODES$1+2)*2);zero$1(static_ltree);const static_dtree=new Array(D_CODES$1*2);zero$1(static_dtree);const _dist_code=new Array(DIST_CODE_LEN);zero$1(_dist_code);const _length_code=new Array(MAX_MATCH$1-MIN_MATCH$1+1);zero$1(_length_code);const base_length=new Array(LENGTH_CODES$1);zero$1(base_length);const base_dist=new Array(D_CODES$1);zero$1(base_dist);function StaticTreeDesc(o,e,a,_,b){this.static_tree=o,this.extra_bits=e,this.extra_base=a,this.elems=_,this.max_length=b,this.has_stree=o&&o.length}let static_l_desc,static_d_desc,static_bl_desc;function TreeDesc(o,e){this.dyn_tree=o,this.max_code=0,this.stat_desc=e}const d_code=o=>o<256?_dist_code[o]:_dist_code[256+(o>>>7)],put_short=(o,e)=>{o.pending_buf[o.pending++]=e&255,o.pending_buf[o.pending++]=e>>>8&255},send_bits=(o,e,a)=>{o.bi_valid>Buf_size-a?(o.bi_buf|=e<<o.bi_valid&65535,put_short(o,o.bi_buf),o.bi_buf=e>>Buf_size-o.bi_valid,o.bi_valid+=a-Buf_size):(o.bi_buf|=e<<o.bi_valid&65535,o.bi_valid+=a)},send_code=(o,e,a)=>{send_bits(o,a[e*2],a[e*2+1])},bi_reverse=(o,e)=>{let a=0;do a|=o&1,o>>>=1,a<<=1;while(--e>0);return a>>>1},bi_flush=o=>{o.bi_valid===16?(put_short(o,o.bi_buf),o.bi_buf=0,o.bi_valid=0):o.bi_valid>=8&&(o.pending_buf[o.pending++]=o.bi_buf&255,o.bi_buf>>=8,o.bi_valid-=8)},gen_bitlen=(o,e)=>{const a=e.dyn_tree,_=e.max_code,b=e.stat_desc.static_tree,_e=e.stat_desc.has_stree,et=e.stat_desc.extra_bits,tt=e.stat_desc.extra_base,nt=e.stat_desc.max_length;let it,ot,st,at,lt,ut,ft=0;for(at=0;at<=MAX_BITS$1;at++)o.bl_count[at]=0;for(a[o.heap[o.heap_max]*2+1]=0,it=o.heap_max+1;it<HEAP_SIZE$1;it++)ot=o.heap[it],at=a[a[ot*2+1]*2+1]+1,at>nt&&(at=nt,ft++),a[ot*2+1]=at,!(ot>_)&&(o.bl_count[at]++,lt=0,ot>=tt&&(lt=et[ot-tt]),ut=a[ot*2],o.opt_len+=ut*(at+lt),_e&&(o.static_len+=ut*(b[ot*2+1]+lt)));if(ft!==0){do{for(at=nt-1;o.bl_count[at]===0;)at--;o.bl_count[at]--,o.bl_count[at+1]+=2,o.bl_count[nt]--,ft-=2}while(ft>0);for(at=nt;at!==0;at--)for(ot=o.bl_count[at];ot!==0;)st=o.heap[--it],!(st>_)&&(a[st*2+1]!==at&&(o.opt_len+=(at-a[st*2+1])*a[st*2],a[st*2+1]=at),ot--)}},gen_codes=(o,e,a)=>{const _=new Array(MAX_BITS$1+1);let b=0,_e,et;for(_e=1;_e<=MAX_BITS$1;_e++)b=b+a[_e-1]<<1,_[_e]=b;for(et=0;et<=e;et++){let tt=o[et*2+1];tt!==0&&(o[et*2]=bi_reverse(_[tt]++,tt))}},tr_static_init=()=>{let o,e,a,_,b;const _e=new Array(MAX_BITS$1+1);for(a=0,_=0;_<LENGTH_CODES$1-1;_++)for(base_length[_]=a,o=0;o<1<<extra_lbits[_];o++)_length_code[a++]=_;for(_length_code[a-1]=_,b=0,_=0;_<16;_++)for(base_dist[_]=b,o=0;o<1<<extra_dbits[_];o++)_dist_code[b++]=_;for(b>>=7;_<D_CODES$1;_++)for(base_dist[_]=b<<7,o=0;o<1<<extra_dbits[_]-7;o++)_dist_code[256+b++]=_;for(e=0;e<=MAX_BITS$1;e++)_e[e]=0;for(o=0;o<=143;)static_ltree[o*2+1]=8,o++,_e[8]++;for(;o<=255;)static_ltree[o*2+1]=9,o++,_e[9]++;for(;o<=279;)static_ltree[o*2+1]=7,o++,_e[7]++;for(;o<=287;)static_ltree[o*2+1]=8,o++,_e[8]++;for(gen_codes(static_ltree,L_CODES$1+1,_e),o=0;o<D_CODES$1;o++)static_dtree[o*2+1]=5,static_dtree[o*2]=bi_reverse(o,5);static_l_desc=new StaticTreeDesc(static_ltree,extra_lbits,LITERALS$1+1,L_CODES$1,MAX_BITS$1),static_d_desc=new StaticTreeDesc(static_dtree,extra_dbits,0,D_CODES$1,MAX_BITS$1),static_bl_desc=new StaticTreeDesc(new Array(0),extra_blbits,0,BL_CODES$1,MAX_BL_BITS)},init_block=o=>{let e;for(e=0;e<L_CODES$1;e++)o.dyn_ltree[e*2]=0;for(e=0;e<D_CODES$1;e++)o.dyn_dtree[e*2]=0;for(e=0;e<BL_CODES$1;e++)o.bl_tree[e*2]=0;o.dyn_ltree[END_BLOCK*2]=1,o.opt_len=o.static_len=0,o.sym_next=o.matches=0},bi_windup=o=>{o.bi_valid>8?put_short(o,o.bi_buf):o.bi_valid>0&&(o.pending_buf[o.pending++]=o.bi_buf),o.bi_buf=0,o.bi_valid=0},smaller=(o,e,a,_)=>{const b=e*2,_e=a*2;return o[b]<o[_e]||o[b]===o[_e]&&_[e]<=_[a]},pqdownheap=(o,e,a)=>{const _=o.heap[a];let b=a<<1;for(;b<=o.heap_len&&(b<o.heap_len&&smaller(e,o.heap[b+1],o.heap[b],o.depth)&&b++,!smaller(e,_,o.heap[b],o.depth));)o.heap[a]=o.heap[b],a=b,b<<=1;o.heap[a]=_},compress_block=(o,e,a)=>{let _,b,_e=0,et,tt;if(o.sym_next!==0)do _=o.pending_buf[o.sym_buf+_e++]&255,_+=(o.pending_buf[o.sym_buf+_e++]&255)<<8,b=o.pending_buf[o.sym_buf+_e++],_===0?send_code(o,b,e):(et=_length_code[b],send_code(o,et+LITERALS$1+1,e),tt=extra_lbits[et],tt!==0&&(b-=base_length[et],send_bits(o,b,tt)),_--,et=d_code(_),send_code(o,et,a),tt=extra_dbits[et],tt!==0&&(_-=base_dist[et],send_bits(o,_,tt)));while(_e<o.sym_next);send_code(o,END_BLOCK,e)},build_tree=(o,e)=>{const a=e.dyn_tree,_=e.stat_desc.static_tree,b=e.stat_desc.has_stree,_e=e.stat_desc.elems;let et,tt,nt=-1,it;for(o.heap_len=0,o.heap_max=HEAP_SIZE$1,et=0;et<_e;et++)a[et*2]!==0?(o.heap[++o.heap_len]=nt=et,o.depth[et]=0):a[et*2+1]=0;for(;o.heap_len<2;)it=o.heap[++o.heap_len]=nt<2?++nt:0,a[it*2]=1,o.depth[it]=0,o.opt_len--,b&&(o.static_len-=_[it*2+1]);for(e.max_code=nt,et=o.heap_len>>1;et>=1;et--)pqdownheap(o,a,et);it=_e;do et=o.heap[1],o.heap[1]=o.heap[o.heap_len--],pqdownheap(o,a,1),tt=o.heap[1],o.heap[--o.heap_max]=et,o.heap[--o.heap_max]=tt,a[it*2]=a[et*2]+a[tt*2],o.depth[it]=(o.depth[et]>=o.depth[tt]?o.depth[et]:o.depth[tt])+1,a[et*2+1]=a[tt*2+1]=it,o.heap[1]=it++,pqdownheap(o,a,1);while(o.heap_len>=2);o.heap[--o.heap_max]=o.heap[1],gen_bitlen(o,e),gen_codes(a,nt,o.bl_count)},scan_tree=(o,e,a)=>{let _,b=-1,_e,et=e[0*2+1],tt=0,nt=7,it=4;for(et===0&&(nt=138,it=3),e[(a+1)*2+1]=65535,_=0;_<=a;_++)_e=et,et=e[(_+1)*2+1],!(++tt<nt&&_e===et)&&(tt<it?o.bl_tree[_e*2]+=tt:_e!==0?(_e!==b&&o.bl_tree[_e*2]++,o.bl_tree[REP_3_6*2]++):tt<=10?o.bl_tree[REPZ_3_10*2]++:o.bl_tree[REPZ_11_138*2]++,tt=0,b=_e,et===0?(nt=138,it=3):_e===et?(nt=6,it=3):(nt=7,it=4))},send_tree=(o,e,a)=>{let _,b=-1,_e,et=e[0*2+1],tt=0,nt=7,it=4;for(et===0&&(nt=138,it=3),_=0;_<=a;_++)if(_e=et,et=e[(_+1)*2+1],!(++tt<nt&&_e===et)){if(tt<it)do send_code(o,_e,o.bl_tree);while(--tt!==0);else _e!==0?(_e!==b&&(send_code(o,_e,o.bl_tree),tt--),send_code(o,REP_3_6,o.bl_tree),send_bits(o,tt-3,2)):tt<=10?(send_code(o,REPZ_3_10,o.bl_tree),send_bits(o,tt-3,3)):(send_code(o,REPZ_11_138,o.bl_tree),send_bits(o,tt-11,7));tt=0,b=_e,et===0?(nt=138,it=3):_e===et?(nt=6,it=3):(nt=7,it=4)}},build_bl_tree=o=>{let e;for(scan_tree(o,o.dyn_ltree,o.l_desc.max_code),scan_tree(o,o.dyn_dtree,o.d_desc.max_code),build_tree(o,o.bl_desc),e=BL_CODES$1-1;e>=3&&o.bl_tree[bl_order[e]*2+1]===0;e--);return o.opt_len+=3*(e+1)+5+5+4,e},send_all_trees=(o,e,a,_)=>{let b;for(send_bits(o,e-257,5),send_bits(o,a-1,5),send_bits(o,_-4,4),b=0;b<_;b++)send_bits(o,o.bl_tree[bl_order[b]*2+1],3);send_tree(o,o.dyn_ltree,e-1),send_tree(o,o.dyn_dtree,a-1)},detect_data_type=o=>{let e=4093624447,a;for(a=0;a<=31;a++,e>>>=1)if(e&1&&o.dyn_ltree[a*2]!==0)return Z_BINARY;if(o.dyn_ltree[9*2]!==0||o.dyn_ltree[10*2]!==0||o.dyn_ltree[13*2]!==0)return Z_TEXT;for(a=32;a<LITERALS$1;a++)if(o.dyn_ltree[a*2]!==0)return Z_TEXT;return Z_BINARY};let static_init_done=!1;const _tr_init$1=o=>{static_init_done||(tr_static_init(),static_init_done=!0),o.l_desc=new TreeDesc(o.dyn_ltree,static_l_desc),o.d_desc=new TreeDesc(o.dyn_dtree,static_d_desc),o.bl_desc=new TreeDesc(o.bl_tree,static_bl_desc),o.bi_buf=0,o.bi_valid=0,init_block(o)},_tr_stored_block$1=(o,e,a,_)=>{send_bits(o,(STORED_BLOCK<<1)+(_?1:0),3),bi_windup(o),put_short(o,a),put_short(o,~a),a&&o.pending_buf.set(o.window.subarray(e,e+a),o.pending),o.pending+=a},_tr_align$1=o=>{send_bits(o,STATIC_TREES<<1,3),send_code(o,END_BLOCK,static_ltree),bi_flush(o)},_tr_flush_block$1=(o,e,a,_)=>{let b,_e,et=0;o.level>0?(o.strm.data_type===Z_UNKNOWN$1&&(o.strm.data_type=detect_data_type(o)),build_tree(o,o.l_desc),build_tree(o,o.d_desc),et=build_bl_tree(o),b=o.opt_len+3+7>>>3,_e=o.static_len+3+7>>>3,_e<=b&&(b=_e)):b=_e=a+5,a+4<=b&&e!==-1?_tr_stored_block$1(o,e,a,_):o.strategy===Z_FIXED$1||_e===b?(send_bits(o,(STATIC_TREES<<1)+(_?1:0),3),compress_block(o,static_ltree,static_dtree)):(send_bits(o,(DYN_TREES<<1)+(_?1:0),3),send_all_trees(o,o.l_desc.max_code+1,o.d_desc.max_code+1,et+1),compress_block(o,o.dyn_ltree,o.dyn_dtree)),init_block(o),_&&bi_windup(o)},_tr_tally$1=(o,e,a)=>(o.pending_buf[o.sym_buf+o.sym_next++]=e,o.pending_buf[o.sym_buf+o.sym_next++]=e>>8,o.pending_buf[o.sym_buf+o.sym_next++]=a,e===0?o.dyn_ltree[a*2]++:(o.matches++,e--,o.dyn_ltree[(_length_code[a]+LITERALS$1+1)*2]++,o.dyn_dtree[d_code(e)*2]++),o.sym_next===o.sym_end);var _tr_init_1=_tr_init$1,_tr_stored_block_1=_tr_stored_block$1,_tr_flush_block_1=_tr_flush_block$1,_tr_tally_1=_tr_tally$1,_tr_align_1=_tr_align$1,trees={_tr_init:_tr_init_1,_tr_stored_block:_tr_stored_block_1,_tr_flush_block:_tr_flush_block_1,_tr_tally:_tr_tally_1,_tr_align:_tr_align_1};const adler32=(o,e,a,_)=>{let b=o&65535|0,_e=o>>>16&65535|0,et=0;for(;a!==0;){et=a>2e3?2e3:a,a-=et;do b=b+e[_++]|0,_e=_e+b|0;while(--et);b%=65521,_e%=65521}return b|_e<<16|0};var adler32_1=adler32;const makeTable=()=>{let o,e=[];for(var a=0;a<256;a++){o=a;for(var _=0;_<8;_++)o=o&1?3988292384^o>>>1:o>>>1;e[a]=o}return e},crcTable=new Uint32Array(makeTable()),crc32=(o,e,a,_)=>{const b=crcTable,_e=_+a;o^=-1;for(let et=_;et<_e;et++)o=o>>>8^b[(o^e[et])&255];return o^-1};var crc32_1=crc32,messages={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},constants$2={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init,_tr_stored_block,_tr_flush_block,_tr_tally,_tr_align}=trees,{Z_NO_FLUSH:Z_NO_FLUSH$2,Z_PARTIAL_FLUSH,Z_FULL_FLUSH:Z_FULL_FLUSH$1,Z_FINISH:Z_FINISH$3,Z_BLOCK:Z_BLOCK$1,Z_OK:Z_OK$3,Z_STREAM_END:Z_STREAM_END$3,Z_STREAM_ERROR:Z_STREAM_ERROR$2,Z_DATA_ERROR:Z_DATA_ERROR$2,Z_BUF_ERROR:Z_BUF_ERROR$1,Z_DEFAULT_COMPRESSION:Z_DEFAULT_COMPRESSION$1,Z_FILTERED,Z_HUFFMAN_ONLY,Z_RLE,Z_FIXED,Z_DEFAULT_STRATEGY:Z_DEFAULT_STRATEGY$1,Z_UNKNOWN,Z_DEFLATED:Z_DEFLATED$2}=constants$2,MAX_MEM_LEVEL=9,MAX_WBITS$1=15,DEF_MEM_LEVEL=8,LENGTH_CODES=29,LITERALS=256,L_CODES=LITERALS+1+LENGTH_CODES,D_CODES=30,BL_CODES=19,HEAP_SIZE=2*L_CODES+1,MAX_BITS=15,MIN_MATCH=3,MAX_MATCH=258,MIN_LOOKAHEAD=MAX_MATCH+MIN_MATCH+1,PRESET_DICT=32,INIT_STATE=42,GZIP_STATE=57,EXTRA_STATE=69,NAME_STATE=73,COMMENT_STATE=91,HCRC_STATE=103,BUSY_STATE=113,FINISH_STATE=666,BS_NEED_MORE=1,BS_BLOCK_DONE=2,BS_FINISH_STARTED=3,BS_FINISH_DONE=4,OS_CODE=3,err=(o,e)=>(o.msg=messages[e],e),rank=o=>o*2-(o>4?9:0),zero=o=>{let e=o.length;for(;--e>=0;)o[e]=0},slide_hash=o=>{let e,a,_,b=o.w_size;e=o.hash_size,_=e;do a=o.head[--_],o.head[_]=a>=b?a-b:0;while(--e);e=b,_=e;do a=o.prev[--_],o.prev[_]=a>=b?a-b:0;while(--e)};let HASH_ZLIB=(o,e,a)=>(e<<o.hash_shift^a)&o.hash_mask,HASH=HASH_ZLIB;const flush_pending=o=>{const e=o.state;let a=e.pending;a>o.avail_out&&(a=o.avail_out),a!==0&&(o.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+a),o.next_out),o.next_out+=a,e.pending_out+=a,o.total_out+=a,o.avail_out-=a,e.pending-=a,e.pending===0&&(e.pending_out=0))},flush_block_only=(o,e)=>{_tr_flush_block(o,o.block_start>=0?o.block_start:-1,o.strstart-o.block_start,e),o.block_start=o.strstart,flush_pending(o.strm)},put_byte=(o,e)=>{o.pending_buf[o.pending++]=e},putShortMSB=(o,e)=>{o.pending_buf[o.pending++]=e>>>8&255,o.pending_buf[o.pending++]=e&255},read_buf=(o,e,a,_)=>{let b=o.avail_in;return b>_&&(b=_),b===0?0:(o.avail_in-=b,e.set(o.input.subarray(o.next_in,o.next_in+b),a),o.state.wrap===1?o.adler=adler32_1(o.adler,e,b,a):o.state.wrap===2&&(o.adler=crc32_1(o.adler,e,b,a)),o.next_in+=b,o.total_in+=b,b)},longest_match=(o,e)=>{let a=o.max_chain_length,_=o.strstart,b,_e,et=o.prev_length,tt=o.nice_match;const nt=o.strstart>o.w_size-MIN_LOOKAHEAD?o.strstart-(o.w_size-MIN_LOOKAHEAD):0,it=o.window,ot=o.w_mask,st=o.prev,at=o.strstart+MAX_MATCH;let lt=it[_+et-1],ut=it[_+et];o.prev_length>=o.good_match&&(a>>=2),tt>o.lookahead&&(tt=o.lookahead);do if(b=e,!(it[b+et]!==ut||it[b+et-1]!==lt||it[b]!==it[_]||it[++b]!==it[_+1])){_+=2,b++;do;while(it[++_]===it[++b]&&it[++_]===it[++b]&&it[++_]===it[++b]&&it[++_]===it[++b]&&it[++_]===it[++b]&&it[++_]===it[++b]&&it[++_]===it[++b]&&it[++_]===it[++b]&&_<at);if(_e=MAX_MATCH-(at-_),_=at-MAX_MATCH,_e>et){if(o.match_start=e,et=_e,_e>=tt)break;lt=it[_+et-1],ut=it[_+et]}}while((e=st[e&ot])>nt&&--a!==0);return et<=o.lookahead?et:o.lookahead},fill_window=o=>{const e=o.w_size;let a,_,b;do{if(_=o.window_size-o.lookahead-o.strstart,o.strstart>=e+(e-MIN_LOOKAHEAD)&&(o.window.set(o.window.subarray(e,e+e-_),0),o.match_start-=e,o.strstart-=e,o.block_start-=e,o.insert>o.strstart&&(o.insert=o.strstart),slide_hash(o),_+=e),o.strm.avail_in===0)break;if(a=read_buf(o.strm,o.window,o.strstart+o.lookahead,_),o.lookahead+=a,o.lookahead+o.insert>=MIN_MATCH)for(b=o.strstart-o.insert,o.ins_h=o.window[b],o.ins_h=HASH(o,o.ins_h,o.window[b+1]);o.insert&&(o.ins_h=HASH(o,o.ins_h,o.window[b+MIN_MATCH-1]),o.prev[b&o.w_mask]=o.head[o.ins_h],o.head[o.ins_h]=b,b++,o.insert--,!(o.lookahead+o.insert<MIN_MATCH)););}while(o.lookahead<MIN_LOOKAHEAD&&o.strm.avail_in!==0)},deflate_stored=(o,e)=>{let a=o.pending_buf_size-5>o.w_size?o.w_size:o.pending_buf_size-5,_,b,_e,et=0,tt=o.strm.avail_in;do{if(_=65535,_e=o.bi_valid+42>>3,o.strm.avail_out<_e||(_e=o.strm.avail_out-_e,b=o.strstart-o.block_start,_>b+o.strm.avail_in&&(_=b+o.strm.avail_in),_>_e&&(_=_e),_<a&&(_===0&&e!==Z_FINISH$3||e===Z_NO_FLUSH$2||_!==b+o.strm.avail_in)))break;et=e===Z_FINISH$3&&_===b+o.strm.avail_in?1:0,_tr_stored_block(o,0,0,et),o.pending_buf[o.pending-4]=_,o.pending_buf[o.pending-3]=_>>8,o.pending_buf[o.pending-2]=~_,o.pending_buf[o.pending-1]=~_>>8,flush_pending(o.strm),b&&(b>_&&(b=_),o.strm.output.set(o.window.subarray(o.block_start,o.block_start+b),o.strm.next_out),o.strm.next_out+=b,o.strm.avail_out-=b,o.strm.total_out+=b,o.block_start+=b,_-=b),_&&(read_buf(o.strm,o.strm.output,o.strm.next_out,_),o.strm.next_out+=_,o.strm.avail_out-=_,o.strm.total_out+=_)}while(et===0);return tt-=o.strm.avail_in,tt&&(tt>=o.w_size?(o.matches=2,o.window.set(o.strm.input.subarray(o.strm.next_in-o.w_size,o.strm.next_in),0),o.strstart=o.w_size,o.insert=o.strstart):(o.window_size-o.strstart<=tt&&(o.strstart-=o.w_size,o.window.set(o.window.subarray(o.w_size,o.w_size+o.strstart),0),o.matches<2&&o.matches++,o.insert>o.strstart&&(o.insert=o.strstart)),o.window.set(o.strm.input.subarray(o.strm.next_in-tt,o.strm.next_in),o.strstart),o.strstart+=tt,o.insert+=tt>o.w_size-o.insert?o.w_size-o.insert:tt),o.block_start=o.strstart),o.high_water<o.strstart&&(o.high_water=o.strstart),et?BS_FINISH_DONE:e!==Z_NO_FLUSH$2&&e!==Z_FINISH$3&&o.strm.avail_in===0&&o.strstart===o.block_start?BS_BLOCK_DONE:(_e=o.window_size-o.strstart,o.strm.avail_in>_e&&o.block_start>=o.w_size&&(o.block_start-=o.w_size,o.strstart-=o.w_size,o.window.set(o.window.subarray(o.w_size,o.w_size+o.strstart),0),o.matches<2&&o.matches++,_e+=o.w_size,o.insert>o.strstart&&(o.insert=o.strstart)),_e>o.strm.avail_in&&(_e=o.strm.avail_in),_e&&(read_buf(o.strm,o.window,o.strstart,_e),o.strstart+=_e,o.insert+=_e>o.w_size-o.insert?o.w_size-o.insert:_e),o.high_water<o.strstart&&(o.high_water=o.strstart),_e=o.bi_valid+42>>3,_e=o.pending_buf_size-_e>65535?65535:o.pending_buf_size-_e,a=_e>o.w_size?o.w_size:_e,b=o.strstart-o.block_start,(b>=a||(b||e===Z_FINISH$3)&&e!==Z_NO_FLUSH$2&&o.strm.avail_in===0&&b<=_e)&&(_=b>_e?_e:b,et=e===Z_FINISH$3&&o.strm.avail_in===0&&_===b?1:0,_tr_stored_block(o,o.block_start,_,et),o.block_start+=_,flush_pending(o.strm)),et?BS_FINISH_STARTED:BS_NEED_MORE)},deflate_fast=(o,e)=>{let a,_;for(;;){if(o.lookahead<MIN_LOOKAHEAD){if(fill_window(o),o.lookahead<MIN_LOOKAHEAD&&e===Z_NO_FLUSH$2)return BS_NEED_MORE;if(o.lookahead===0)break}if(a=0,o.lookahead>=MIN_MATCH&&(o.ins_h=HASH(o,o.ins_h,o.window[o.strstart+MIN_MATCH-1]),a=o.prev[o.strstart&o.w_mask]=o.head[o.ins_h],o.head[o.ins_h]=o.strstart),a!==0&&o.strstart-a<=o.w_size-MIN_LOOKAHEAD&&(o.match_length=longest_match(o,a)),o.match_length>=MIN_MATCH)if(_=_tr_tally(o,o.strstart-o.match_start,o.match_length-MIN_MATCH),o.lookahead-=o.match_length,o.match_length<=o.max_lazy_match&&o.lookahead>=MIN_MATCH){o.match_length--;do o.strstart++,o.ins_h=HASH(o,o.ins_h,o.window[o.strstart+MIN_MATCH-1]),a=o.prev[o.strstart&o.w_mask]=o.head[o.ins_h],o.head[o.ins_h]=o.strstart;while(--o.match_length!==0);o.strstart++}else o.strstart+=o.match_length,o.match_length=0,o.ins_h=o.window[o.strstart],o.ins_h=HASH(o,o.ins_h,o.window[o.strstart+1]);else _=_tr_tally(o,0,o.window[o.strstart]),o.lookahead--,o.strstart++;if(_&&(flush_block_only(o,!1),o.strm.avail_out===0))return BS_NEED_MORE}return o.insert=o.strstart<MIN_MATCH-1?o.strstart:MIN_MATCH-1,e===Z_FINISH$3?(flush_block_only(o,!0),o.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):o.sym_next&&(flush_block_only(o,!1),o.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_slow=(o,e)=>{let a,_,b;for(;;){if(o.lookahead<MIN_LOOKAHEAD){if(fill_window(o),o.lookahead<MIN_LOOKAHEAD&&e===Z_NO_FLUSH$2)return BS_NEED_MORE;if(o.lookahead===0)break}if(a=0,o.lookahead>=MIN_MATCH&&(o.ins_h=HASH(o,o.ins_h,o.window[o.strstart+MIN_MATCH-1]),a=o.prev[o.strstart&o.w_mask]=o.head[o.ins_h],o.head[o.ins_h]=o.strstart),o.prev_length=o.match_length,o.prev_match=o.match_start,o.match_length=MIN_MATCH-1,a!==0&&o.prev_length<o.max_lazy_match&&o.strstart-a<=o.w_size-MIN_LOOKAHEAD&&(o.match_length=longest_match(o,a),o.match_length<=5&&(o.strategy===Z_FILTERED||o.match_length===MIN_MATCH&&o.strstart-o.match_start>4096)&&(o.match_length=MIN_MATCH-1)),o.prev_length>=MIN_MATCH&&o.match_length<=o.prev_length){b=o.strstart+o.lookahead-MIN_MATCH,_=_tr_tally(o,o.strstart-1-o.prev_match,o.prev_length-MIN_MATCH),o.lookahead-=o.prev_length-1,o.prev_length-=2;do++o.strstart<=b&&(o.ins_h=HASH(o,o.ins_h,o.window[o.strstart+MIN_MATCH-1]),a=o.prev[o.strstart&o.w_mask]=o.head[o.ins_h],o.head[o.ins_h]=o.strstart);while(--o.prev_length!==0);if(o.match_available=0,o.match_length=MIN_MATCH-1,o.strstart++,_&&(flush_block_only(o,!1),o.strm.avail_out===0))return BS_NEED_MORE}else if(o.match_available){if(_=_tr_tally(o,0,o.window[o.strstart-1]),_&&flush_block_only(o,!1),o.strstart++,o.lookahead--,o.strm.avail_out===0)return BS_NEED_MORE}else o.match_available=1,o.strstart++,o.lookahead--}return o.match_available&&(_=_tr_tally(o,0,o.window[o.strstart-1]),o.match_available=0),o.insert=o.strstart<MIN_MATCH-1?o.strstart:MIN_MATCH-1,e===Z_FINISH$3?(flush_block_only(o,!0),o.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):o.sym_next&&(flush_block_only(o,!1),o.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_rle=(o,e)=>{let a,_,b,_e;const et=o.window;for(;;){if(o.lookahead<=MAX_MATCH){if(fill_window(o),o.lookahead<=MAX_MATCH&&e===Z_NO_FLUSH$2)return BS_NEED_MORE;if(o.lookahead===0)break}if(o.match_length=0,o.lookahead>=MIN_MATCH&&o.strstart>0&&(b=o.strstart-1,_=et[b],_===et[++b]&&_===et[++b]&&_===et[++b])){_e=o.strstart+MAX_MATCH;do;while(_===et[++b]&&_===et[++b]&&_===et[++b]&&_===et[++b]&&_===et[++b]&&_===et[++b]&&_===et[++b]&&_===et[++b]&&b<_e);o.match_length=MAX_MATCH-(_e-b),o.match_length>o.lookahead&&(o.match_length=o.lookahead)}if(o.match_length>=MIN_MATCH?(a=_tr_tally(o,1,o.match_length-MIN_MATCH),o.lookahead-=o.match_length,o.strstart+=o.match_length,o.match_length=0):(a=_tr_tally(o,0,o.window[o.strstart]),o.lookahead--,o.strstart++),a&&(flush_block_only(o,!1),o.strm.avail_out===0))return BS_NEED_MORE}return o.insert=0,e===Z_FINISH$3?(flush_block_only(o,!0),o.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):o.sym_next&&(flush_block_only(o,!1),o.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_huff=(o,e)=>{let a;for(;;){if(o.lookahead===0&&(fill_window(o),o.lookahead===0)){if(e===Z_NO_FLUSH$2)return BS_NEED_MORE;break}if(o.match_length=0,a=_tr_tally(o,0,o.window[o.strstart]),o.lookahead--,o.strstart++,a&&(flush_block_only(o,!1),o.strm.avail_out===0))return BS_NEED_MORE}return o.insert=0,e===Z_FINISH$3?(flush_block_only(o,!0),o.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):o.sym_next&&(flush_block_only(o,!1),o.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE};function Config$1(o,e,a,_,b){this.good_length=o,this.max_lazy=e,this.nice_length=a,this.max_chain=_,this.func=b}const configuration_table=[new Config$1(0,0,0,0,deflate_stored),new Config$1(4,4,8,4,deflate_fast),new Config$1(4,5,16,8,deflate_fast),new Config$1(4,6,32,32,deflate_fast),new Config$1(4,4,16,16,deflate_slow),new Config$1(8,16,32,32,deflate_slow),new Config$1(8,16,128,128,deflate_slow),new Config$1(8,32,128,256,deflate_slow),new Config$1(32,128,258,1024,deflate_slow),new Config$1(32,258,258,4096,deflate_slow)],lm_init=o=>{o.window_size=2*o.w_size,zero(o.head),o.max_lazy_match=configuration_table[o.level].max_lazy,o.good_match=configuration_table[o.level].good_length,o.nice_match=configuration_table[o.level].nice_length,o.max_chain_length=configuration_table[o.level].max_chain,o.strstart=0,o.block_start=0,o.lookahead=0,o.insert=0,o.match_length=o.prev_length=MIN_MATCH-1,o.match_available=0,o.ins_h=0};function DeflateState(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z_DEFLATED$2,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(HEAP_SIZE*2),this.dyn_dtree=new Uint16Array((2*D_CODES+1)*2),this.bl_tree=new Uint16Array((2*BL_CODES+1)*2),zero(this.dyn_ltree),zero(this.dyn_dtree),zero(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(MAX_BITS+1),this.heap=new Uint16Array(2*L_CODES+1),zero(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*L_CODES+1),zero(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const deflateStateCheck=o=>{if(!o)return 1;const e=o.state;return!e||e.strm!==o||e.status!==INIT_STATE&&e.status!==GZIP_STATE&&e.status!==EXTRA_STATE&&e.status!==NAME_STATE&&e.status!==COMMENT_STATE&&e.status!==HCRC_STATE&&e.status!==BUSY_STATE&&e.status!==FINISH_STATE?1:0},deflateResetKeep=o=>{if(deflateStateCheck(o))return err(o,Z_STREAM_ERROR$2);o.total_in=o.total_out=0,o.data_type=Z_UNKNOWN;const e=o.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap===2?GZIP_STATE:e.wrap?INIT_STATE:BUSY_STATE,o.adler=e.wrap===2?0:1,e.last_flush=-2,_tr_init(e),Z_OK$3},deflateReset=o=>{const e=deflateResetKeep(o);return e===Z_OK$3&&lm_init(o.state),e},deflateSetHeader=(o,e)=>deflateStateCheck(o)||o.state.wrap!==2?Z_STREAM_ERROR$2:(o.state.gzhead=e,Z_OK$3),deflateInit2=(o,e,a,_,b,_e)=>{if(!o)return Z_STREAM_ERROR$2;let et=1;if(e===Z_DEFAULT_COMPRESSION$1&&(e=6),_<0?(et=0,_=-_):_>15&&(et=2,_-=16),b<1||b>MAX_MEM_LEVEL||a!==Z_DEFLATED$2||_<8||_>15||e<0||e>9||_e<0||_e>Z_FIXED||_===8&&et!==1)return err(o,Z_STREAM_ERROR$2);_===8&&(_=9);const tt=new DeflateState;return o.state=tt,tt.strm=o,tt.status=INIT_STATE,tt.wrap=et,tt.gzhead=null,tt.w_bits=_,tt.w_size=1<<tt.w_bits,tt.w_mask=tt.w_size-1,tt.hash_bits=b+7,tt.hash_size=1<<tt.hash_bits,tt.hash_mask=tt.hash_size-1,tt.hash_shift=~~((tt.hash_bits+MIN_MATCH-1)/MIN_MATCH),tt.window=new Uint8Array(tt.w_size*2),tt.head=new Uint16Array(tt.hash_size),tt.prev=new Uint16Array(tt.w_size),tt.lit_bufsize=1<<b+6,tt.pending_buf_size=tt.lit_bufsize*4,tt.pending_buf=new Uint8Array(tt.pending_buf_size),tt.sym_buf=tt.lit_bufsize,tt.sym_end=(tt.lit_bufsize-1)*3,tt.level=e,tt.strategy=_e,tt.method=a,deflateReset(o)},deflateInit=(o,e)=>deflateInit2(o,e,Z_DEFLATED$2,MAX_WBITS$1,DEF_MEM_LEVEL,Z_DEFAULT_STRATEGY$1),deflate$2=(o,e)=>{if(deflateStateCheck(o)||e>Z_BLOCK$1||e<0)return o?err(o,Z_STREAM_ERROR$2):Z_STREAM_ERROR$2;const a=o.state;if(!o.output||o.avail_in!==0&&!o.input||a.status===FINISH_STATE&&e!==Z_FINISH$3)return err(o,o.avail_out===0?Z_BUF_ERROR$1:Z_STREAM_ERROR$2);const _=a.last_flush;if(a.last_flush=e,a.pending!==0){if(flush_pending(o),o.avail_out===0)return a.last_flush=-1,Z_OK$3}else if(o.avail_in===0&&rank(e)<=rank(_)&&e!==Z_FINISH$3)return err(o,Z_BUF_ERROR$1);if(a.status===FINISH_STATE&&o.avail_in!==0)return err(o,Z_BUF_ERROR$1);if(a.status===INIT_STATE&&a.wrap===0&&(a.status=BUSY_STATE),a.status===INIT_STATE){let b=Z_DEFLATED$2+(a.w_bits-8<<4)<<8,_e=-1;if(a.strategy>=Z_HUFFMAN_ONLY||a.level<2?_e=0:a.level<6?_e=1:a.level===6?_e=2:_e=3,b|=_e<<6,a.strstart!==0&&(b|=PRESET_DICT),b+=31-b%31,putShortMSB(a,b),a.strstart!==0&&(putShortMSB(a,o.adler>>>16),putShortMSB(a,o.adler&65535)),o.adler=1,a.status=BUSY_STATE,flush_pending(o),a.pending!==0)return a.last_flush=-1,Z_OK$3}if(a.status===GZIP_STATE){if(o.adler=0,put_byte(a,31),put_byte(a,139),put_byte(a,8),a.gzhead)put_byte(a,(a.gzhead.text?1:0)+(a.gzhead.hcrc?2:0)+(a.gzhead.extra?4:0)+(a.gzhead.name?8:0)+(a.gzhead.comment?16:0)),put_byte(a,a.gzhead.time&255),put_byte(a,a.gzhead.time>>8&255),put_byte(a,a.gzhead.time>>16&255),put_byte(a,a.gzhead.time>>24&255),put_byte(a,a.level===9?2:a.strategy>=Z_HUFFMAN_ONLY||a.level<2?4:0),put_byte(a,a.gzhead.os&255),a.gzhead.extra&&a.gzhead.extra.length&&(put_byte(a,a.gzhead.extra.length&255),put_byte(a,a.gzhead.extra.length>>8&255)),a.gzhead.hcrc&&(o.adler=crc32_1(o.adler,a.pending_buf,a.pending,0)),a.gzindex=0,a.status=EXTRA_STATE;else if(put_byte(a,0),put_byte(a,0),put_byte(a,0),put_byte(a,0),put_byte(a,0),put_byte(a,a.level===9?2:a.strategy>=Z_HUFFMAN_ONLY||a.level<2?4:0),put_byte(a,OS_CODE),a.status=BUSY_STATE,flush_pending(o),a.pending!==0)return a.last_flush=-1,Z_OK$3}if(a.status===EXTRA_STATE){if(a.gzhead.extra){let b=a.pending,_e=(a.gzhead.extra.length&65535)-a.gzindex;for(;a.pending+_e>a.pending_buf_size;){let tt=a.pending_buf_size-a.pending;if(a.pending_buf.set(a.gzhead.extra.subarray(a.gzindex,a.gzindex+tt),a.pending),a.pending=a.pending_buf_size,a.gzhead.hcrc&&a.pending>b&&(o.adler=crc32_1(o.adler,a.pending_buf,a.pending-b,b)),a.gzindex+=tt,flush_pending(o),a.pending!==0)return a.last_flush=-1,Z_OK$3;b=0,_e-=tt}let et=new Uint8Array(a.gzhead.extra);a.pending_buf.set(et.subarray(a.gzindex,a.gzindex+_e),a.pending),a.pending+=_e,a.gzhead.hcrc&&a.pending>b&&(o.adler=crc32_1(o.adler,a.pending_buf,a.pending-b,b)),a.gzindex=0}a.status=NAME_STATE}if(a.status===NAME_STATE){if(a.gzhead.name){let b=a.pending,_e;do{if(a.pending===a.pending_buf_size){if(a.gzhead.hcrc&&a.pending>b&&(o.adler=crc32_1(o.adler,a.pending_buf,a.pending-b,b)),flush_pending(o),a.pending!==0)return a.last_flush=-1,Z_OK$3;b=0}a.gzindex<a.gzhead.name.length?_e=a.gzhead.name.charCodeAt(a.gzindex++)&255:_e=0,put_byte(a,_e)}while(_e!==0);a.gzhead.hcrc&&a.pending>b&&(o.adler=crc32_1(o.adler,a.pending_buf,a.pending-b,b)),a.gzindex=0}a.status=COMMENT_STATE}if(a.status===COMMENT_STATE){if(a.gzhead.comment){let b=a.pending,_e;do{if(a.pending===a.pending_buf_size){if(a.gzhead.hcrc&&a.pending>b&&(o.adler=crc32_1(o.adler,a.pending_buf,a.pending-b,b)),flush_pending(o),a.pending!==0)return a.last_flush=-1,Z_OK$3;b=0}a.gzindex<a.gzhead.comment.length?_e=a.gzhead.comment.charCodeAt(a.gzindex++)&255:_e=0,put_byte(a,_e)}while(_e!==0);a.gzhead.hcrc&&a.pending>b&&(o.adler=crc32_1(o.adler,a.pending_buf,a.pending-b,b))}a.status=HCRC_STATE}if(a.status===HCRC_STATE){if(a.gzhead.hcrc){if(a.pending+2>a.pending_buf_size&&(flush_pending(o),a.pending!==0))return a.last_flush=-1,Z_OK$3;put_byte(a,o.adler&255),put_byte(a,o.adler>>8&255),o.adler=0}if(a.status=BUSY_STATE,flush_pending(o),a.pending!==0)return a.last_flush=-1,Z_OK$3}if(o.avail_in!==0||a.lookahead!==0||e!==Z_NO_FLUSH$2&&a.status!==FINISH_STATE){let b=a.level===0?deflate_stored(a,e):a.strategy===Z_HUFFMAN_ONLY?deflate_huff(a,e):a.strategy===Z_RLE?deflate_rle(a,e):configuration_table[a.level].func(a,e);if((b===BS_FINISH_STARTED||b===BS_FINISH_DONE)&&(a.status=FINISH_STATE),b===BS_NEED_MORE||b===BS_FINISH_STARTED)return o.avail_out===0&&(a.last_flush=-1),Z_OK$3;if(b===BS_BLOCK_DONE&&(e===Z_PARTIAL_FLUSH?_tr_align(a):e!==Z_BLOCK$1&&(_tr_stored_block(a,0,0,!1),e===Z_FULL_FLUSH$1&&(zero(a.head),a.lookahead===0&&(a.strstart=0,a.block_start=0,a.insert=0))),flush_pending(o),o.avail_out===0))return a.last_flush=-1,Z_OK$3}return e!==Z_FINISH$3?Z_OK$3:a.wrap<=0?Z_STREAM_END$3:(a.wrap===2?(put_byte(a,o.adler&255),put_byte(a,o.adler>>8&255),put_byte(a,o.adler>>16&255),put_byte(a,o.adler>>24&255),put_byte(a,o.total_in&255),put_byte(a,o.total_in>>8&255),put_byte(a,o.total_in>>16&255),put_byte(a,o.total_in>>24&255)):(putShortMSB(a,o.adler>>>16),putShortMSB(a,o.adler&65535)),flush_pending(o),a.wrap>0&&(a.wrap=-a.wrap),a.pending!==0?Z_OK$3:Z_STREAM_END$3)},deflateEnd=o=>{if(deflateStateCheck(o))return Z_STREAM_ERROR$2;const e=o.state.status;return o.state=null,e===BUSY_STATE?err(o,Z_DATA_ERROR$2):Z_OK$3},deflateSetDictionary=(o,e)=>{let a=e.length;if(deflateStateCheck(o))return Z_STREAM_ERROR$2;const _=o.state,b=_.wrap;if(b===2||b===1&&_.status!==INIT_STATE||_.lookahead)return Z_STREAM_ERROR$2;if(b===1&&(o.adler=adler32_1(o.adler,e,a,0)),_.wrap=0,a>=_.w_size){b===0&&(zero(_.head),_.strstart=0,_.block_start=0,_.insert=0);let nt=new Uint8Array(_.w_size);nt.set(e.subarray(a-_.w_size,a),0),e=nt,a=_.w_size}const _e=o.avail_in,et=o.next_in,tt=o.input;for(o.avail_in=a,o.next_in=0,o.input=e,fill_window(_);_.lookahead>=MIN_MATCH;){let nt=_.strstart,it=_.lookahead-(MIN_MATCH-1);do _.ins_h=HASH(_,_.ins_h,_.window[nt+MIN_MATCH-1]),_.prev[nt&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=nt,nt++;while(--it);_.strstart=nt,_.lookahead=MIN_MATCH-1,fill_window(_)}return _.strstart+=_.lookahead,_.block_start=_.strstart,_.insert=_.lookahead,_.lookahead=0,_.match_length=_.prev_length=MIN_MATCH-1,_.match_available=0,o.next_in=et,o.input=tt,o.avail_in=_e,_.wrap=b,Z_OK$3};var deflateInit_1=deflateInit,deflateInit2_1=deflateInit2,deflateReset_1=deflateReset,deflateResetKeep_1=deflateResetKeep,deflateSetHeader_1=deflateSetHeader,deflate_2$1=deflate$2,deflateEnd_1=deflateEnd,deflateSetDictionary_1=deflateSetDictionary,deflateInfo="pako deflate (from Nodeca project)",deflate_1$2={deflateInit:deflateInit_1,deflateInit2:deflateInit2_1,deflateReset:deflateReset_1,deflateResetKeep:deflateResetKeep_1,deflateSetHeader:deflateSetHeader_1,deflate:deflate_2$1,deflateEnd:deflateEnd_1,deflateSetDictionary:deflateSetDictionary_1,deflateInfo};const _has=(o,e)=>Object.prototype.hasOwnProperty.call(o,e);var assign$2=function(o){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const a=e.shift();if(a){if(typeof a!="object")throw new TypeError(a+"must be non-object");for(const _ in a)_has(a,_)&&(o[_]=a[_])}}return o},flattenChunks=o=>{let e=0;for(let _=0,b=o.length;_<b;_++)e+=o[_].length;const a=new Uint8Array(e);for(let _=0,b=0,_e=o.length;_<_e;_++){let et=o[_];a.set(et,b),b+=et.length}return a},common={assign:assign$2,flattenChunks};let STR_APPLY_UIA_OK=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(o){STR_APPLY_UIA_OK=!1}const _utf8len=new Uint8Array(256);for(let o=0;o<256;o++)_utf8len[o]=o>=252?6:o>=248?5:o>=240?4:o>=224?3:o>=192?2:1;_utf8len[254]=_utf8len[254]=1;var string2buf=o=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(o);let e,a,_,b,_e,et=o.length,tt=0;for(b=0;b<et;b++)a=o.charCodeAt(b),(a&64512)===55296&&b+1<et&&(_=o.charCodeAt(b+1),(_&64512)===56320&&(a=65536+(a-55296<<10)+(_-56320),b++)),tt+=a<128?1:a<2048?2:a<65536?3:4;for(e=new Uint8Array(tt),_e=0,b=0;_e<tt;b++)a=o.charCodeAt(b),(a&64512)===55296&&b+1<et&&(_=o.charCodeAt(b+1),(_&64512)===56320&&(a=65536+(a-55296<<10)+(_-56320),b++)),a<128?e[_e++]=a:a<2048?(e[_e++]=192|a>>>6,e[_e++]=128|a&63):a<65536?(e[_e++]=224|a>>>12,e[_e++]=128|a>>>6&63,e[_e++]=128|a&63):(e[_e++]=240|a>>>18,e[_e++]=128|a>>>12&63,e[_e++]=128|a>>>6&63,e[_e++]=128|a&63);return e};const buf2binstring=(o,e)=>{if(e<65534&&o.subarray&&STR_APPLY_UIA_OK)return String.fromCharCode.apply(null,o.length===e?o:o.subarray(0,e));let a="";for(let _=0;_<e;_++)a+=String.fromCharCode(o[_]);return a};var buf2string=(o,e)=>{const a=e||o.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(o.subarray(0,e));let _,b;const _e=new Array(a*2);for(b=0,_=0;_<a;){let et=o[_++];if(et<128){_e[b++]=et;continue}let tt=_utf8len[et];if(tt>4){_e[b++]=65533,_+=tt-1;continue}for(et&=tt===2?31:tt===3?15:7;tt>1&&_<a;)et=et<<6|o[_++]&63,tt--;if(tt>1){_e[b++]=65533;continue}et<65536?_e[b++]=et:(et-=65536,_e[b++]=55296|et>>10&1023,_e[b++]=56320|et&1023)}return buf2binstring(_e,b)},utf8border=(o,e)=>{e=e||o.length,e>o.length&&(e=o.length);let a=e-1;for(;a>=0&&(o[a]&192)===128;)a--;return a<0||a===0?e:a+_utf8len[o[a]]>e?a:e},strings={string2buf,buf2string,utf8border};function ZStream(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var zstream=ZStream;const toString$1=Object.prototype.toString,{Z_NO_FLUSH:Z_NO_FLUSH$1,Z_SYNC_FLUSH,Z_FULL_FLUSH,Z_FINISH:Z_FINISH$2,Z_OK:Z_OK$2,Z_STREAM_END:Z_STREAM_END$2,Z_DEFAULT_COMPRESSION,Z_DEFAULT_STRATEGY,Z_DEFLATED:Z_DEFLATED$1}=constants$2;function Deflate$1(o){this.options=common.assign({level:Z_DEFAULT_COMPRESSION,method:Z_DEFLATED$1,chunkSize:16384,windowBits:15,memLevel:8,strategy:Z_DEFAULT_STRATEGY},o||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;let a=deflate_1$2.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(a!==Z_OK$2)throw new Error(messages[a]);if(e.header&&deflate_1$2.deflateSetHeader(this.strm,e.header),e.dictionary){let _;if(typeof e.dictionary=="string"?_=strings.string2buf(e.dictionary):toString$1.call(e.dictionary)==="[object ArrayBuffer]"?_=new Uint8Array(e.dictionary):_=e.dictionary,a=deflate_1$2.deflateSetDictionary(this.strm,_),a!==Z_OK$2)throw new Error(messages[a]);this._dict_set=!0}}Deflate$1.prototype.push=function(o,e){const a=this.strm,_=this.options.chunkSize;let b,_e;if(this.ended)return!1;for(e===~~e?_e=e:_e=e===!0?Z_FINISH$2:Z_NO_FLUSH$1,typeof o=="string"?a.input=strings.string2buf(o):toString$1.call(o)==="[object ArrayBuffer]"?a.input=new Uint8Array(o):a.input=o,a.next_in=0,a.avail_in=a.input.length;;){if(a.avail_out===0&&(a.output=new Uint8Array(_),a.next_out=0,a.avail_out=_),(_e===Z_SYNC_FLUSH||_e===Z_FULL_FLUSH)&&a.avail_out<=6){this.onData(a.output.subarray(0,a.next_out)),a.avail_out=0;continue}if(b=deflate_1$2.deflate(a,_e),b===Z_STREAM_END$2)return a.next_out>0&&this.onData(a.output.subarray(0,a.next_out)),b=deflate_1$2.deflateEnd(this.strm),this.onEnd(b),this.ended=!0,b===Z_OK$2;if(a.avail_out===0){this.onData(a.output);continue}if(_e>0&&a.next_out>0){this.onData(a.output.subarray(0,a.next_out)),a.avail_out=0;continue}if(a.avail_in===0)break}return!0};Deflate$1.prototype.onData=function(o){this.chunks.push(o)};Deflate$1.prototype.onEnd=function(o){o===Z_OK$2&&(this.result=common.flattenChunks(this.chunks)),this.chunks=[],this.err=o,this.msg=this.strm.msg};function deflate$1(o,e){const a=new Deflate$1(e);if(a.push(o,!0),a.err)throw a.msg||messages[a.err];return a.result}function deflateRaw$1(o,e){return e=e||{},e.raw=!0,deflate$1(o,e)}function gzip$1(o,e){return e=e||{},e.gzip=!0,deflate$1(o,e)}var Deflate_1$1=Deflate$1,deflate_2=deflate$1,deflateRaw_1$1=deflateRaw$1,gzip_1$1=gzip$1,deflate_1$1={Deflate:Deflate_1$1,deflate:deflate_2,deflateRaw:deflateRaw_1$1,gzip:gzip_1$1};const BAD$1=16209,TYPE$1=16191;var inffast=function o(e,a){let _,b,_e,et,tt,nt,it,ot,st,at,lt,ut,ft,mt,ht,vt,Et,At,Ct,Mt,Bt,Lt,jt,Vt;const Nt=e.state;_=e.next_in,jt=e.input,b=_+(e.avail_in-5),_e=e.next_out,Vt=e.output,et=_e-(a-e.avail_out),tt=_e+(e.avail_out-257),nt=Nt.dmax,it=Nt.wsize,ot=Nt.whave,st=Nt.wnext,at=Nt.window,lt=Nt.hold,ut=Nt.bits,ft=Nt.lencode,mt=Nt.distcode,ht=(1<<Nt.lenbits)-1,vt=(1<<Nt.distbits)-1;e:do{ut<15&&(lt+=jt[_++]<<ut,ut+=8,lt+=jt[_++]<<ut,ut+=8),Et=ft[lt&ht];t:for(;;){if(At=Et>>>24,lt>>>=At,ut-=At,At=Et>>>16&255,At===0)Vt[_e++]=Et&65535;else if(At&16){Ct=Et&65535,At&=15,At&&(ut<At&&(lt+=jt[_++]<<ut,ut+=8),Ct+=lt&(1<<At)-1,lt>>>=At,ut-=At),ut<15&&(lt+=jt[_++]<<ut,ut+=8,lt+=jt[_++]<<ut,ut+=8),Et=mt[lt&vt];r:for(;;){if(At=Et>>>24,lt>>>=At,ut-=At,At=Et>>>16&255,At&16){if(Mt=Et&65535,At&=15,ut<At&&(lt+=jt[_++]<<ut,ut+=8,ut<At&&(lt+=jt[_++]<<ut,ut+=8)),Mt+=lt&(1<<At)-1,Mt>nt){e.msg="invalid distance too far back",Nt.mode=BAD$1;break e}if(lt>>>=At,ut-=At,At=_e-et,Mt>At){if(At=Mt-At,At>ot&&Nt.sane){e.msg="invalid distance too far back",Nt.mode=BAD$1;break e}if(Bt=0,Lt=at,st===0){if(Bt+=it-At,At<Ct){Ct-=At;do Vt[_e++]=at[Bt++];while(--At);Bt=_e-Mt,Lt=Vt}}else if(st<At){if(Bt+=it+st-At,At-=st,At<Ct){Ct-=At;do Vt[_e++]=at[Bt++];while(--At);if(Bt=0,st<Ct){At=st,Ct-=At;do Vt[_e++]=at[Bt++];while(--At);Bt=_e-Mt,Lt=Vt}}}else if(Bt+=st-At,At<Ct){Ct-=At;do Vt[_e++]=at[Bt++];while(--At);Bt=_e-Mt,Lt=Vt}for(;Ct>2;)Vt[_e++]=Lt[Bt++],Vt[_e++]=Lt[Bt++],Vt[_e++]=Lt[Bt++],Ct-=3;Ct&&(Vt[_e++]=Lt[Bt++],Ct>1&&(Vt[_e++]=Lt[Bt++]))}else{Bt=_e-Mt;do Vt[_e++]=Vt[Bt++],Vt[_e++]=Vt[Bt++],Vt[_e++]=Vt[Bt++],Ct-=3;while(Ct>2);Ct&&(Vt[_e++]=Vt[Bt++],Ct>1&&(Vt[_e++]=Vt[Bt++]))}}else if(At&64){e.msg="invalid distance code",Nt.mode=BAD$1;break e}else{Et=mt[(Et&65535)+(lt&(1<<At)-1)];continue r}break}}else if(At&64)if(At&32){Nt.mode=TYPE$1;break e}else{e.msg="invalid literal/length code",Nt.mode=BAD$1;break e}else{Et=ft[(Et&65535)+(lt&(1<<At)-1)];continue t}break}}while(_<b&&_e<tt);Ct=ut>>3,_-=Ct,ut-=Ct<<3,lt&=(1<<ut)-1,e.next_in=_,e.next_out=_e,e.avail_in=_<b?5+(b-_):5-(_-b),e.avail_out=_e<tt?257+(tt-_e):257-(_e-tt),Nt.hold=lt,Nt.bits=ut};const MAXBITS=15,ENOUGH_LENS$1=852,ENOUGH_DISTS$1=592,CODES$1=0,LENS$1=1,DISTS$1=2,lbase=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),lext=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),dbase=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),dext=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),inflate_table=(o,e,a,_,b,_e,et,tt)=>{const nt=tt.bits;let it=0,ot=0,st=0,at=0,lt=0,ut=0,ft=0,mt=0,ht=0,vt=0,Et,At,Ct,Mt,Bt,Lt=null,jt;const Vt=new Uint16Array(MAXBITS+1),Nt=new Uint16Array(MAXBITS+1);let kt=null,_t,ct,dt;for(it=0;it<=MAXBITS;it++)Vt[it]=0;for(ot=0;ot<_;ot++)Vt[e[a+ot]]++;for(lt=nt,at=MAXBITS;at>=1&&Vt[at]===0;at--);if(lt>at&&(lt=at),at===0)return b[_e++]=1<<24|64<<16|0,b[_e++]=1<<24|64<<16|0,tt.bits=1,0;for(st=1;st<at&&Vt[st]===0;st++);for(lt<st&&(lt=st),mt=1,it=1;it<=MAXBITS;it++)if(mt<<=1,mt-=Vt[it],mt<0)return-1;if(mt>0&&(o===CODES$1||at!==1))return-1;for(Nt[1]=0,it=1;it<MAXBITS;it++)Nt[it+1]=Nt[it]+Vt[it];for(ot=0;ot<_;ot++)e[a+ot]!==0&&(et[Nt[e[a+ot]]++]=ot);if(o===CODES$1?(Lt=kt=et,jt=20):o===LENS$1?(Lt=lbase,kt=lext,jt=257):(Lt=dbase,kt=dext,jt=0),vt=0,ot=0,it=st,Bt=_e,ut=lt,ft=0,Ct=-1,ht=1<<lt,Mt=ht-1,o===LENS$1&&ht>ENOUGH_LENS$1||o===DISTS$1&&ht>ENOUGH_DISTS$1)return 1;for(;;){_t=it-ft,et[ot]+1<jt?(ct=0,dt=et[ot]):et[ot]>=jt?(ct=kt[et[ot]-jt],dt=Lt[et[ot]-jt]):(ct=96,dt=0),Et=1<<it-ft,At=1<<ut,st=At;do At-=Et,b[Bt+(vt>>ft)+At]=_t<<24|ct<<16|dt|0;while(At!==0);for(Et=1<<it-1;vt&Et;)Et>>=1;if(Et!==0?(vt&=Et-1,vt+=Et):vt=0,ot++,--Vt[it]===0){if(it===at)break;it=e[a+et[ot]]}if(it>lt&&(vt&Mt)!==Ct){for(ft===0&&(ft=lt),Bt+=st,ut=it-ft,mt=1<<ut;ut+ft<at&&(mt-=Vt[ut+ft],!(mt<=0));)ut++,mt<<=1;if(ht+=1<<ut,o===LENS$1&&ht>ENOUGH_LENS$1||o===DISTS$1&&ht>ENOUGH_DISTS$1)return 1;Ct=vt&Mt,b[Ct]=lt<<24|ut<<16|Bt-_e|0}}return vt!==0&&(b[Bt+vt]=it-ft<<24|64<<16|0),tt.bits=lt,0};var inftrees=inflate_table;const CODES=0,LENS=1,DISTS=2,{Z_FINISH:Z_FINISH$1,Z_BLOCK,Z_TREES,Z_OK:Z_OK$1,Z_STREAM_END:Z_STREAM_END$1,Z_NEED_DICT:Z_NEED_DICT$1,Z_STREAM_ERROR:Z_STREAM_ERROR$1,Z_DATA_ERROR:Z_DATA_ERROR$1,Z_MEM_ERROR:Z_MEM_ERROR$1,Z_BUF_ERROR,Z_DEFLATED}=constants$2,HEAD=16180,FLAGS=16181,TIME=16182,OS=16183,EXLEN=16184,EXTRA=16185,NAME=16186,COMMENT=16187,HCRC=16188,DICTID=16189,DICT=16190,TYPE=16191,TYPEDO=16192,STORED=16193,COPY_=16194,COPY=16195,TABLE=16196,LENLENS=16197,CODELENS=16198,LEN_=16199,LEN=16200,LENEXT=16201,DIST=16202,DISTEXT=16203,MATCH=16204,LIT=16205,CHECK=16206,LENGTH=16207,DONE=16208,BAD=16209,MEM=16210,SYNC=16211,ENOUGH_LENS=852,ENOUGH_DISTS=592,MAX_WBITS=15,DEF_WBITS=MAX_WBITS,zswap32=o=>(o>>>24&255)+(o>>>8&65280)+((o&65280)<<8)+((o&255)<<24);function InflateState(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const inflateStateCheck=o=>{if(!o)return 1;const e=o.state;return!e||e.strm!==o||e.mode<HEAD||e.mode>SYNC?1:0},inflateResetKeep=o=>{if(inflateStateCheck(o))return Z_STREAM_ERROR$1;const e=o.state;return o.total_in=o.total_out=e.total=0,o.msg="",e.wrap&&(o.adler=e.wrap&1),e.mode=HEAD,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(ENOUGH_LENS),e.distcode=e.distdyn=new Int32Array(ENOUGH_DISTS),e.sane=1,e.back=-1,Z_OK$1},inflateReset=o=>{if(inflateStateCheck(o))return Z_STREAM_ERROR$1;const e=o.state;return e.wsize=0,e.whave=0,e.wnext=0,inflateResetKeep(o)},inflateReset2=(o,e)=>{let a;if(inflateStateCheck(o))return Z_STREAM_ERROR$1;const _=o.state;return e<0?(a=0,e=-e):(a=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Z_STREAM_ERROR$1:(_.window!==null&&_.wbits!==e&&(_.window=null),_.wrap=a,_.wbits=e,inflateReset(o))},inflateInit2=(o,e)=>{if(!o)return Z_STREAM_ERROR$1;const a=new InflateState;o.state=a,a.strm=o,a.window=null,a.mode=HEAD;const _=inflateReset2(o,e);return _!==Z_OK$1&&(o.state=null),_},inflateInit=o=>inflateInit2(o,DEF_WBITS);let virgin=!0,lenfix,distfix;const fixedtables=o=>{if(virgin){lenfix=new Int32Array(512),distfix=new Int32Array(32);let e=0;for(;e<144;)o.lens[e++]=8;for(;e<256;)o.lens[e++]=9;for(;e<280;)o.lens[e++]=7;for(;e<288;)o.lens[e++]=8;for(inftrees(LENS,o.lens,0,288,lenfix,0,o.work,{bits:9}),e=0;e<32;)o.lens[e++]=5;inftrees(DISTS,o.lens,0,32,distfix,0,o.work,{bits:5}),virgin=!1}o.lencode=lenfix,o.lenbits=9,o.distcode=distfix,o.distbits=5},updatewindow=(o,e,a,_)=>{let b;const _e=o.state;return _e.window===null&&(_e.wsize=1<<_e.wbits,_e.wnext=0,_e.whave=0,_e.window=new Uint8Array(_e.wsize)),_>=_e.wsize?(_e.window.set(e.subarray(a-_e.wsize,a),0),_e.wnext=0,_e.whave=_e.wsize):(b=_e.wsize-_e.wnext,b>_&&(b=_),_e.window.set(e.subarray(a-_,a-_+b),_e.wnext),_-=b,_?(_e.window.set(e.subarray(a-_,a),0),_e.wnext=_,_e.whave=_e.wsize):(_e.wnext+=b,_e.wnext===_e.wsize&&(_e.wnext=0),_e.whave<_e.wsize&&(_e.whave+=b))),0},inflate$2=(o,e)=>{let a,_,b,_e,et,tt,nt,it,ot,st,at,lt,ut,ft,mt=0,ht,vt,Et,At,Ct,Mt,Bt,Lt;const jt=new Uint8Array(4);let Vt,Nt;const kt=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(inflateStateCheck(o)||!o.output||!o.input&&o.avail_in!==0)return Z_STREAM_ERROR$1;a=o.state,a.mode===TYPE&&(a.mode=TYPEDO),et=o.next_out,b=o.output,nt=o.avail_out,_e=o.next_in,_=o.input,tt=o.avail_in,it=a.hold,ot=a.bits,st=tt,at=nt,Lt=Z_OK$1;e:for(;;)switch(a.mode){case HEAD:if(a.wrap===0){a.mode=TYPEDO;break}for(;ot<16;){if(tt===0)break e;tt--,it+=_[_e++]<<ot,ot+=8}if(a.wrap&2&&it===35615){a.wbits===0&&(a.wbits=15),a.check=0,jt[0]=it&255,jt[1]=it>>>8&255,a.check=crc32_1(a.check,jt,2,0),it=0,ot=0,a.mode=FLAGS;break}if(a.head&&(a.head.done=!1),!(a.wrap&1)||(((it&255)<<8)+(it>>8))%31){o.msg="incorrect header check",a.mode=BAD;break}if((it&15)!==Z_DEFLATED){o.msg="unknown compression method",a.mode=BAD;break}if(it>>>=4,ot-=4,Bt=(it&15)+8,a.wbits===0&&(a.wbits=Bt),Bt>15||Bt>a.wbits){o.msg="invalid window size",a.mode=BAD;break}a.dmax=1<<a.wbits,a.flags=0,o.adler=a.check=1,a.mode=it&512?DICTID:TYPE,it=0,ot=0;break;case FLAGS:for(;ot<16;){if(tt===0)break e;tt--,it+=_[_e++]<<ot,ot+=8}if(a.flags=it,(a.flags&255)!==Z_DEFLATED){o.msg="unknown compression method",a.mode=BAD;break}if(a.flags&57344){o.msg="unknown header flags set",a.mode=BAD;break}a.head&&(a.head.text=it>>8&1),a.flags&512&&a.wrap&4&&(jt[0]=it&255,jt[1]=it>>>8&255,a.check=crc32_1(a.check,jt,2,0)),it=0,ot=0,a.mode=TIME;case TIME:for(;ot<32;){if(tt===0)break e;tt--,it+=_[_e++]<<ot,ot+=8}a.head&&(a.head.time=it),a.flags&512&&a.wrap&4&&(jt[0]=it&255,jt[1]=it>>>8&255,jt[2]=it>>>16&255,jt[3]=it>>>24&255,a.check=crc32_1(a.check,jt,4,0)),it=0,ot=0,a.mode=OS;case OS:for(;ot<16;){if(tt===0)break e;tt--,it+=_[_e++]<<ot,ot+=8}a.head&&(a.head.xflags=it&255,a.head.os=it>>8),a.flags&512&&a.wrap&4&&(jt[0]=it&255,jt[1]=it>>>8&255,a.check=crc32_1(a.check,jt,2,0)),it=0,ot=0,a.mode=EXLEN;case EXLEN:if(a.flags&1024){for(;ot<16;){if(tt===0)break e;tt--,it+=_[_e++]<<ot,ot+=8}a.length=it,a.head&&(a.head.extra_len=it),a.flags&512&&a.wrap&4&&(jt[0]=it&255,jt[1]=it>>>8&255,a.check=crc32_1(a.check,jt,2,0)),it=0,ot=0}else a.head&&(a.head.extra=null);a.mode=EXTRA;case EXTRA:if(a.flags&1024&&(lt=a.length,lt>tt&&(lt=tt),lt&&(a.head&&(Bt=a.head.extra_len-a.length,a.head.extra||(a.head.extra=new Uint8Array(a.head.extra_len)),a.head.extra.set(_.subarray(_e,_e+lt),Bt)),a.flags&512&&a.wrap&4&&(a.check=crc32_1(a.check,_,lt,_e)),tt-=lt,_e+=lt,a.length-=lt),a.length))break e;a.length=0,a.mode=NAME;case NAME:if(a.flags&2048){if(tt===0)break e;lt=0;do Bt=_[_e+lt++],a.head&&Bt&&a.length<65536&&(a.head.name+=String.fromCharCode(Bt));while(Bt&&lt<tt);if(a.flags&512&&a.wrap&4&&(a.check=crc32_1(a.check,_,lt,_e)),tt-=lt,_e+=lt,Bt)break e}else a.head&&(a.head.name=null);a.length=0,a.mode=COMMENT;case COMMENT:if(a.flags&4096){if(tt===0)break e;lt=0;do Bt=_[_e+lt++],a.head&&Bt&&a.length<65536&&(a.head.comment+=String.fromCharCode(Bt));while(Bt&&lt<tt);if(a.flags&512&&a.wrap&4&&(a.check=crc32_1(a.check,_,lt,_e)),tt-=lt,_e+=lt,Bt)break e}else a.head&&(a.head.comment=null);a.mode=HCRC;case HCRC:if(a.flags&512){for(;ot<16;){if(tt===0)break e;tt--,it+=_[_e++]<<ot,ot+=8}if(a.wrap&4&&it!==(a.check&65535)){o.msg="header crc mismatch",a.mode=BAD;break}it=0,ot=0}a.head&&(a.head.hcrc=a.flags>>9&1,a.head.done=!0),o.adler=a.check=0,a.mode=TYPE;break;case DICTID:for(;ot<32;){if(tt===0)break e;tt--,it+=_[_e++]<<ot,ot+=8}o.adler=a.check=zswap32(it),it=0,ot=0,a.mode=DICT;case DICT:if(a.havedict===0)return o.next_out=et,o.avail_out=nt,o.next_in=_e,o.avail_in=tt,a.hold=it,a.bits=ot,Z_NEED_DICT$1;o.adler=a.check=1,a.mode=TYPE;case TYPE:if(e===Z_BLOCK||e===Z_TREES)break e;case TYPEDO:if(a.last){it>>>=ot&7,ot-=ot&7,a.mode=CHECK;break}for(;ot<3;){if(tt===0)break e;tt--,it+=_[_e++]<<ot,ot+=8}switch(a.last=it&1,it>>>=1,ot-=1,it&3){case 0:a.mode=STORED;break;case 1:if(fixedtables(a),a.mode=LEN_,e===Z_TREES){it>>>=2,ot-=2;break e}break;case 2:a.mode=TABLE;break;case 3:o.msg="invalid block type",a.mode=BAD}it>>>=2,ot-=2;break;case STORED:for(it>>>=ot&7,ot-=ot&7;ot<32;){if(tt===0)break e;tt--,it+=_[_e++]<<ot,ot+=8}if((it&65535)!==(it>>>16^65535)){o.msg="invalid stored block lengths",a.mode=BAD;break}if(a.length=it&65535,it=0,ot=0,a.mode=COPY_,e===Z_TREES)break e;case COPY_:a.mode=COPY;case COPY:if(lt=a.length,lt){if(lt>tt&&(lt=tt),lt>nt&&(lt=nt),lt===0)break e;b.set(_.subarray(_e,_e+lt),et),tt-=lt,_e+=lt,nt-=lt,et+=lt,a.length-=lt;break}a.mode=TYPE;break;case TABLE:for(;ot<14;){if(tt===0)break e;tt--,it+=_[_e++]<<ot,ot+=8}if(a.nlen=(it&31)+257,it>>>=5,ot-=5,a.ndist=(it&31)+1,it>>>=5,ot-=5,a.ncode=(it&15)+4,it>>>=4,ot-=4,a.nlen>286||a.ndist>30){o.msg="too many length or distance symbols",a.mode=BAD;break}a.have=0,a.mode=LENLENS;case LENLENS:for(;a.have<a.ncode;){for(;ot<3;){if(tt===0)break e;tt--,it+=_[_e++]<<ot,ot+=8}a.lens[kt[a.have++]]=it&7,it>>>=3,ot-=3}for(;a.have<19;)a.lens[kt[a.have++]]=0;if(a.lencode=a.lendyn,a.lenbits=7,Vt={bits:a.lenbits},Lt=inftrees(CODES,a.lens,0,19,a.lencode,0,a.work,Vt),a.lenbits=Vt.bits,Lt){o.msg="invalid code lengths set",a.mode=BAD;break}a.have=0,a.mode=CODELENS;case CODELENS:for(;a.have<a.nlen+a.ndist;){for(;mt=a.lencode[it&(1<<a.lenbits)-1],ht=mt>>>24,vt=mt>>>16&255,Et=mt&65535,!(ht<=ot);){if(tt===0)break e;tt--,it+=_[_e++]<<ot,ot+=8}if(Et<16)it>>>=ht,ot-=ht,a.lens[a.have++]=Et;else{if(Et===16){for(Nt=ht+2;ot<Nt;){if(tt===0)break e;tt--,it+=_[_e++]<<ot,ot+=8}if(it>>>=ht,ot-=ht,a.have===0){o.msg="invalid bit length repeat",a.mode=BAD;break}Bt=a.lens[a.have-1],lt=3+(it&3),it>>>=2,ot-=2}else if(Et===17){for(Nt=ht+3;ot<Nt;){if(tt===0)break e;tt--,it+=_[_e++]<<ot,ot+=8}it>>>=ht,ot-=ht,Bt=0,lt=3+(it&7),it>>>=3,ot-=3}else{for(Nt=ht+7;ot<Nt;){if(tt===0)break e;tt--,it+=_[_e++]<<ot,ot+=8}it>>>=ht,ot-=ht,Bt=0,lt=11+(it&127),it>>>=7,ot-=7}if(a.have+lt>a.nlen+a.ndist){o.msg="invalid bit length repeat",a.mode=BAD;break}for(;lt--;)a.lens[a.have++]=Bt}}if(a.mode===BAD)break;if(a.lens[256]===0){o.msg="invalid code -- missing end-of-block",a.mode=BAD;break}if(a.lenbits=9,Vt={bits:a.lenbits},Lt=inftrees(LENS,a.lens,0,a.nlen,a.lencode,0,a.work,Vt),a.lenbits=Vt.bits,Lt){o.msg="invalid literal/lengths set",a.mode=BAD;break}if(a.distbits=6,a.distcode=a.distdyn,Vt={bits:a.distbits},Lt=inftrees(DISTS,a.lens,a.nlen,a.ndist,a.distcode,0,a.work,Vt),a.distbits=Vt.bits,Lt){o.msg="invalid distances set",a.mode=BAD;break}if(a.mode=LEN_,e===Z_TREES)break e;case LEN_:a.mode=LEN;case LEN:if(tt>=6&&nt>=258){o.next_out=et,o.avail_out=nt,o.next_in=_e,o.avail_in=tt,a.hold=it,a.bits=ot,inffast(o,at),et=o.next_out,b=o.output,nt=o.avail_out,_e=o.next_in,_=o.input,tt=o.avail_in,it=a.hold,ot=a.bits,a.mode===TYPE&&(a.back=-1);break}for(a.back=0;mt=a.lencode[it&(1<<a.lenbits)-1],ht=mt>>>24,vt=mt>>>16&255,Et=mt&65535,!(ht<=ot);){if(tt===0)break e;tt--,it+=_[_e++]<<ot,ot+=8}if(vt&&!(vt&240)){for(At=ht,Ct=vt,Mt=Et;mt=a.lencode[Mt+((it&(1<<At+Ct)-1)>>At)],ht=mt>>>24,vt=mt>>>16&255,Et=mt&65535,!(At+ht<=ot);){if(tt===0)break e;tt--,it+=_[_e++]<<ot,ot+=8}it>>>=At,ot-=At,a.back+=At}if(it>>>=ht,ot-=ht,a.back+=ht,a.length=Et,vt===0){a.mode=LIT;break}if(vt&32){a.back=-1,a.mode=TYPE;break}if(vt&64){o.msg="invalid literal/length code",a.mode=BAD;break}a.extra=vt&15,a.mode=LENEXT;case LENEXT:if(a.extra){for(Nt=a.extra;ot<Nt;){if(tt===0)break e;tt--,it+=_[_e++]<<ot,ot+=8}a.length+=it&(1<<a.extra)-1,it>>>=a.extra,ot-=a.extra,a.back+=a.extra}a.was=a.length,a.mode=DIST;case DIST:for(;mt=a.distcode[it&(1<<a.distbits)-1],ht=mt>>>24,vt=mt>>>16&255,Et=mt&65535,!(ht<=ot);){if(tt===0)break e;tt--,it+=_[_e++]<<ot,ot+=8}if(!(vt&240)){for(At=ht,Ct=vt,Mt=Et;mt=a.distcode[Mt+((it&(1<<At+Ct)-1)>>At)],ht=mt>>>24,vt=mt>>>16&255,Et=mt&65535,!(At+ht<=ot);){if(tt===0)break e;tt--,it+=_[_e++]<<ot,ot+=8}it>>>=At,ot-=At,a.back+=At}if(it>>>=ht,ot-=ht,a.back+=ht,vt&64){o.msg="invalid distance code",a.mode=BAD;break}a.offset=Et,a.extra=vt&15,a.mode=DISTEXT;case DISTEXT:if(a.extra){for(Nt=a.extra;ot<Nt;){if(tt===0)break e;tt--,it+=_[_e++]<<ot,ot+=8}a.offset+=it&(1<<a.extra)-1,it>>>=a.extra,ot-=a.extra,a.back+=a.extra}if(a.offset>a.dmax){o.msg="invalid distance too far back",a.mode=BAD;break}a.mode=MATCH;case MATCH:if(nt===0)break e;if(lt=at-nt,a.offset>lt){if(lt=a.offset-lt,lt>a.whave&&a.sane){o.msg="invalid distance too far back",a.mode=BAD;break}lt>a.wnext?(lt-=a.wnext,ut=a.wsize-lt):ut=a.wnext-lt,lt>a.length&&(lt=a.length),ft=a.window}else ft=b,ut=et-a.offset,lt=a.length;lt>nt&&(lt=nt),nt-=lt,a.length-=lt;do b[et++]=ft[ut++];while(--lt);a.length===0&&(a.mode=LEN);break;case LIT:if(nt===0)break e;b[et++]=a.length,nt--,a.mode=LEN;break;case CHECK:if(a.wrap){for(;ot<32;){if(tt===0)break e;tt--,it|=_[_e++]<<ot,ot+=8}if(at-=nt,o.total_out+=at,a.total+=at,a.wrap&4&&at&&(o.adler=a.check=a.flags?crc32_1(a.check,b,at,et-at):adler32_1(a.check,b,at,et-at)),at=nt,a.wrap&4&&(a.flags?it:zswap32(it))!==a.check){o.msg="incorrect data check",a.mode=BAD;break}it=0,ot=0}a.mode=LENGTH;case LENGTH:if(a.wrap&&a.flags){for(;ot<32;){if(tt===0)break e;tt--,it+=_[_e++]<<ot,ot+=8}if(a.wrap&4&&it!==(a.total&4294967295)){o.msg="incorrect length check",a.mode=BAD;break}it=0,ot=0}a.mode=DONE;case DONE:Lt=Z_STREAM_END$1;break e;case BAD:Lt=Z_DATA_ERROR$1;break e;case MEM:return Z_MEM_ERROR$1;case SYNC:default:return Z_STREAM_ERROR$1}return o.next_out=et,o.avail_out=nt,o.next_in=_e,o.avail_in=tt,a.hold=it,a.bits=ot,(a.wsize||at!==o.avail_out&&a.mode<BAD&&(a.mode<CHECK||e!==Z_FINISH$1))&&updatewindow(o,o.output,o.next_out,at-o.avail_out),st-=o.avail_in,at-=o.avail_out,o.total_in+=st,o.total_out+=at,a.total+=at,a.wrap&4&&at&&(o.adler=a.check=a.flags?crc32_1(a.check,b,at,o.next_out-at):adler32_1(a.check,b,at,o.next_out-at)),o.data_type=a.bits+(a.last?64:0)+(a.mode===TYPE?128:0)+(a.mode===LEN_||a.mode===COPY_?256:0),(st===0&&at===0||e===Z_FINISH$1)&&Lt===Z_OK$1&&(Lt=Z_BUF_ERROR),Lt},inflateEnd=o=>{if(inflateStateCheck(o))return Z_STREAM_ERROR$1;let e=o.state;return e.window&&(e.window=null),o.state=null,Z_OK$1},inflateGetHeader=(o,e)=>{if(inflateStateCheck(o))return Z_STREAM_ERROR$1;const a=o.state;return a.wrap&2?(a.head=e,e.done=!1,Z_OK$1):Z_STREAM_ERROR$1},inflateSetDictionary=(o,e)=>{const a=e.length;let _,b,_e;return inflateStateCheck(o)||(_=o.state,_.wrap!==0&&_.mode!==DICT)?Z_STREAM_ERROR$1:_.mode===DICT&&(b=1,b=adler32_1(b,e,a,0),b!==_.check)?Z_DATA_ERROR$1:(_e=updatewindow(o,e,a,a),_e?(_.mode=MEM,Z_MEM_ERROR$1):(_.havedict=1,Z_OK$1))};var inflateReset_1=inflateReset,inflateReset2_1=inflateReset2,inflateResetKeep_1=inflateResetKeep,inflateInit_1=inflateInit,inflateInit2_1=inflateInit2,inflate_2$1=inflate$2,inflateEnd_1=inflateEnd,inflateGetHeader_1=inflateGetHeader,inflateSetDictionary_1=inflateSetDictionary,inflateInfo="pako inflate (from Nodeca project)",inflate_1$2={inflateReset:inflateReset_1,inflateReset2:inflateReset2_1,inflateResetKeep:inflateResetKeep_1,inflateInit:inflateInit_1,inflateInit2:inflateInit2_1,inflate:inflate_2$1,inflateEnd:inflateEnd_1,inflateGetHeader:inflateGetHeader_1,inflateSetDictionary:inflateSetDictionary_1,inflateInfo};function GZheader(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var gzheader=GZheader;const toString=Object.prototype.toString,{Z_NO_FLUSH,Z_FINISH,Z_OK,Z_STREAM_END,Z_NEED_DICT,Z_STREAM_ERROR,Z_DATA_ERROR,Z_MEM_ERROR}=constants$2;function Inflate$1(o){this.options=common.assign({chunkSize:1024*64,windowBits:15,to:""},o||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(o&&o.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;let a=inflate_1$2.inflateInit2(this.strm,e.windowBits);if(a!==Z_OK)throw new Error(messages[a]);if(this.header=new gzheader,inflate_1$2.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=strings.string2buf(e.dictionary):toString.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(a=inflate_1$2.inflateSetDictionary(this.strm,e.dictionary),a!==Z_OK)))throw new Error(messages[a])}Inflate$1.prototype.push=function(o,e){const a=this.strm,_=this.options.chunkSize,b=this.options.dictionary;let _e,et,tt;if(this.ended)return!1;for(e===~~e?et=e:et=e===!0?Z_FINISH:Z_NO_FLUSH,toString.call(o)==="[object ArrayBuffer]"?a.input=new Uint8Array(o):a.input=o,a.next_in=0,a.avail_in=a.input.length;;){for(a.avail_out===0&&(a.output=new Uint8Array(_),a.next_out=0,a.avail_out=_),_e=inflate_1$2.inflate(a,et),_e===Z_NEED_DICT&&b&&(_e=inflate_1$2.inflateSetDictionary(a,b),_e===Z_OK?_e=inflate_1$2.inflate(a,et):_e===Z_DATA_ERROR&&(_e=Z_NEED_DICT));a.avail_in>0&&_e===Z_STREAM_END&&a.state.wrap>0&&o[a.next_in]!==0;)inflate_1$2.inflateReset(a),_e=inflate_1$2.inflate(a,et);switch(_e){case Z_STREAM_ERROR:case Z_DATA_ERROR:case Z_NEED_DICT:case Z_MEM_ERROR:return this.onEnd(_e),this.ended=!0,!1}if(tt=a.avail_out,a.next_out&&(a.avail_out===0||_e===Z_STREAM_END))if(this.options.to==="string"){let nt=strings.utf8border(a.output,a.next_out),it=a.next_out-nt,ot=strings.buf2string(a.output,nt);a.next_out=it,a.avail_out=_-it,it&&a.output.set(a.output.subarray(nt,nt+it),0),this.onData(ot)}else this.onData(a.output.length===a.next_out?a.output:a.output.subarray(0,a.next_out));if(!(_e===Z_OK&&tt===0)){if(_e===Z_STREAM_END)return _e=inflate_1$2.inflateEnd(this.strm),this.onEnd(_e),this.ended=!0,!0;if(a.avail_in===0)break}}return!0};Inflate$1.prototype.onData=function(o){this.chunks.push(o)};Inflate$1.prototype.onEnd=function(o){o===Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=common.flattenChunks(this.chunks)),this.chunks=[],this.err=o,this.msg=this.strm.msg};function inflate$1(o,e){const a=new Inflate$1(e);if(a.push(o),a.err)throw a.msg||messages[a.err];return a.result}function inflateRaw$1(o,e){return e=e||{},e.raw=!0,inflate$1(o,e)}var Inflate_1$1=Inflate$1,inflate_2=inflate$1,inflateRaw_1$1=inflateRaw$1,ungzip$1=inflate$1,inflate_1$1={Inflate:Inflate_1$1,inflate:inflate_2,inflateRaw:inflateRaw_1$1,ungzip:ungzip$1};const{Deflate,deflate,deflateRaw,gzip}=deflate_1$1,{Inflate,inflate,inflateRaw,ungzip}=inflate_1$1;var Deflate_1=Deflate,deflate_1=deflate,deflateRaw_1=deflateRaw,gzip_1=gzip,Inflate_1=Inflate,inflate_1=inflate,inflateRaw_1=inflateRaw,ungzip_1=ungzip,constants_1=constants$2,pako={Deflate:Deflate_1,deflate:deflate_1,deflateRaw:deflateRaw_1,gzip:gzip_1,Inflate:Inflate_1,inflate:inflate_1,inflateRaw:inflateRaw_1,ungzip:ungzip_1,constants:constants_1};function arrayEquals(o,e){const a=o.length;if(a!==e.length)return!1;for(let _=0;_<a;_++)if(o[_]!==e[_])return!1;return!0}function arrayEquatableEquals(o,e){const a=o.length;if(a!==e.length)return!1;for(let _=0;_<a;_++)if(!o[_].equals(e[_]))return!1;return!0}const hexLookup={};function buildHexLookup(){hexLookup.enc=new Array(255),hexLookup.dec={};for(let o=0;o<=255;++o){const e=o.toString(16).padStart(2,"0");hexLookup.enc[o]=e,hexLookup.dec[e]=o}}function arrayToHex(o){hexLookup.enc||buildHexLookup();const e=o.length,a=new Array(e);for(let _=0;_<e;++_)a[_]=hexLookup.enc[o[_]];return a.join("")}function hexToArray(o){if(hexLookup.dec||buildHexLookup(),typeof o!="string")throw new Error("Expected string containing hex digits");if(o.length%2)throw new Error("Odd number of hex digits");o=o.toLowerCase();const e=o.length/2,a=new Uint8Array(e);for(let _=0;_<e;_++){const b=hexLookup.dec[o[_*2]+o[_*2+1]];if(b===void 0)throw new Error("Expected hex string");a[_]=b}return a}function secureRandom(o){return rand(o)}let didWarn=!1;function isInstanceOf(o,e){if(o instanceof e)return!0;if(o==null||typeof o!="object")return!1;const a=e.__className||e.abiName;if(!a)return!1;let _=o.constructor,b=!1;for(;_&&!b;){const _e=_.__className||_.abiName;if(!_e)break;b=a==_e,_=Object.getPrototypeOf(_)}return b&&!didWarn&&(console.warn(`Detected alien instance of ${a}, this usually means more than one version of @wharfkit/antelope has been included in your bundle.`),didWarn=!0),b}let Blob$1=class{static from(e){if(isInstanceOf(e,this))return e;if(typeof e=="string")return this.fromString(e);throw new Error("Invalid blob")}static fromString(e){if(typeof Buffer=="function")return new this(new Uint8Array(Buffer.from(e,"base64")));switch(e.length%4){case 2:e+="==";break;case 3:e+="=";break;case 1:e=e.substring(0,e.length-1);break}const a=atob(e),_=new Uint8Array(a.length);for(let b=0;b<a.length;b++)_[b]=a.charCodeAt(b);return new this(_)}constructor(e){this.array=e}equals(e){const a=this.constructor;try{return arrayEquals(this.array,a.from(e).array)}catch{return!1}}get base64String(){return typeof Buffer=="function"?Buffer.from(this.array).toString("base64"):btoa(this.utf8String)}get utf8String(){return new TextDecoder().decode(this.array)}toABI(e){e.writeArray(this.array)}toString(){return this.base64String}toJSON(){return this.toString()}};Blob$1.abiName="blob";class Bytes{static from(e,a){return isInstanceOf(e,this)?e:typeof e=="string"?this.fromString(e,a):ArrayBuffer.isView(e)?new this(new Uint8Array(e.buffer,e.byteOffset,e.byteLength)):isInstanceOf(e.array,Uint8Array)?new this(e.array):new this(new Uint8Array(e))}static fromString(e,a="hex"){if(a==="hex"){const _=hexToArray(e);return new this(_)}else if(a=="utf8"){const _=new TextEncoder;return new this(_.encode(e))}else throw new Error(`Unknown encoding: ${a}`)}static fromABI(e){const a=e.readVaruint32();return new this(e.readArray(a))}static abiDefault(){return new Bytes}static equal(e,a){return this.from(e).equals(this.from(a))}static random(e){return new this(secureRandom(e))}static isBytes(e){return!!(isInstanceOf(e,Bytes)||isInstanceOf(e,Uint8Array)||Array.isArray(e)&&e.every(a=>typeof a=="number")||typeof e=="string"&&(/[\da-f]/i.test(e)||e===""))}constructor(e=new Uint8Array){this.array=e}get length(){return this.array.byteLength}get hexString(){return arrayToHex(this.array)}get utf8String(){return new TextDecoder().decode(this.array)}append(e){e=Bytes.from(e);const a=this.array.byteLength+e.array.byteLength,_=new ArrayBuffer(a),b=new Uint8Array(_);b.set(this.array),b.set(e.array,this.array.byteLength),this.array=b}appending(e){const a=new Bytes(this.array);return a.append(e),a}zeropad(e,a=!1){const _=a?e:Math.max(e,this.array.byteLength),b=new ArrayBuffer(_),_e=new Uint8Array(b);_e.fill(0),a&&this.array.byteLength>_?_e.set(this.array.slice(0,_),0):_e.set(this.array,_-this.array.byteLength),this.array=_e}zeropadded(e,a=!1){const _=new Bytes(this.array);return _.zeropad(e,a),_}dropFirst(e=1){this.array=this.array.subarray(e)}droppingFirst(e=1){return new Bytes(this.array.subarray(e))}copy(){const e=new ArrayBuffer(this.array.byteLength),a=new Uint8Array(e);return a.set(this.array),new Bytes(a)}equals(e){return arrayEquals(this.array,Bytes.from(e).array)}toString(e="hex"){if(e==="hex")return this.hexString;if(e==="utf8")return this.utf8String;throw new Error(`Unknown encoding: ${e}`)}toABI(e){e.writeVaruint32(this.array.byteLength),e.writeArray(this.array)}toJSON(){return this.hexString}}Bytes.abiName="bytes";class Checksum{static from(e){return isInstanceOf(e,this)?e:isInstanceOf(e,Checksum)?new this(e.array):new this(Bytes.from(e).array)}static fromABI(e){return new this(e.readArray(this.byteSize))}static abiDefault(){return new this(new Uint8Array(this.byteSize))}constructor(e){const a=this.constructor.byteSize;if(e.byteLength!==a)throw new Error(`Checksum size mismatch, expected ${a} bytes got ${e.byteLength}`);this.array=e}equals(e){const a=this.constructor;try{return arrayEquals(this.array,a.from(e).array)}catch{return!1}}get hexString(){return arrayToHex(this.array)}toABI(e){e.writeArray(this.array)}toString(){return this.hexString}toJSON(){return this.toString()}}Checksum.abiName="__checksum";class Checksum256 extends Checksum{static from(e){return super.from(e)}static hash(e){const a=new Uint8Array(hash$3.sha256().update(Bytes.from(e).array).digest());return new Checksum256(a)}}Checksum256.abiName="checksum256";Checksum256.byteSize=32;class Checksum512 extends Checksum{static from(e){return super.from(e)}static hash(e){const a=new Uint8Array(hash$3.sha512().update(Bytes.from(e).array).digest());return new Checksum512(a)}}Checksum512.abiName="checksum512";Checksum512.byteSize=64;class Checksum160 extends Checksum{static from(e){return super.from(e)}static hash(e){const a=new Uint8Array(hash$3.ripemd160().update(Bytes.from(e).array).digest());return new Checksum160(a)}}Checksum160.abiName="checksum160";Checksum160.byteSize=20;var KeyType;(function(o){o.K1="K1",o.R1="R1",o.WA="WA"})(KeyType||(KeyType={}));(function(o){function e(_){switch(_){case o.K1:return 0;case o.R1:return 1;case o.WA:return 2;default:throw new Error(`Unknown curve type: ${_}`)}}o.indexFor=e;function a(_){let b;switch(typeof _!="number"?b=o.indexFor(_):b=_,b){case 0:return o.K1;case 1:return o.R1;case 2:return o.WA;default:throw new Error("Unknown curve type")}}o.from=a})(KeyType||(KeyType={}));class Int{static get max(){return new BN$7(2).pow(new BN$7(this.byteWidth*8-(this.isSigned?1:0))).isubn(1)}static get min(){return this.isSigned?this.max.ineg().isubn(1):new BN$7(0)}static get zero(){return this.from(0)}static add(e,a,_="truncate"){return Int.operator(e,a,_,(b,_e)=>b.add(_e))}static sub(e,a,_){return Int.operator(e,a,_,(b,_e)=>b.sub(_e))}static mul(e,a,_){return Int.operator(e,a,_,(b,_e)=>b.mul(_e))}static div(e,a,_){return Int.operator(e,a,_,(b,_e)=>{if(_e.isZero())throw new Error("Division by zero");return b.div(_e)})}static divRound(e,a,_){return Int.operator(e,a,_,(b,_e)=>{if(_e.isZero())throw new Error("Division by zero");return b.divRound(_e)})}static divCeil(e,a,_){return Int.operator(e,a,_,(b,_e)=>{if(_e.isZero())throw new Error("Division by zero");const et=b.divmod(_e);return et.mod.isZero()?et.div:et.div.negative!==0?et.div.isubn(1):et.div.iaddn(1)})}static gt(e,a){return e.value.gt(a.value)}static lt(e,a){return e.value.lt(a.value)}static gte(e,a){return e.value.gte(a.value)}static lte(e,a){return e.value.lte(a.value)}static operator(e,a,_="truncate",b){const{a:_e,b:et}=convert(e,a),tt=_e.constructor,nt=b(_e.value,et.value);return tt.from(nt,_)}static from(e,a){if(isInstanceOf(e,this))return e;let _=this,b;if(isInstanceOf(e,Int))_=e.constructor,b=e.value.clone();else if(e instanceof Uint8Array)b=new BN$7(e,void 0,"le"),_.isSigned&&(b=b.fromTwos(_.byteWidth*8));else{if(typeof e=="string"&&!/[0-9]+/.test(e)||typeof e=="number"&&!Number.isFinite(e))throw new Error("Invalid number");b=BN$7.isBN(e)?e.clone():new BN$7(e,10),b.isNeg()&&!_.isSigned&&(_={byteWidth:_.byteWidth,isSigned:!0})}switch(a){case"clamp":b=clamp(b,this.min,this.max);break;case"truncate":b=truncate(b,_,this);break}return new this(b)}static fromABI(e){return this.from(e.readArray(this.byteWidth))}static abiDefault(){return this.from(0)}static random(){return this.from(secureRandom(this.byteWidth))}constructor(e){const a=this.constructor;if(a.isSigned===void 0||a.byteWidth===void 0)throw new Error("Cannot instantiate abstract class Int");if(e.gt(a.max))throw new Error(`Number ${e} overflows ${a.abiName}`);if(e.lt(a.min))throw new Error(`Number ${e} underflows ${a.abiName}`);this.value=e}cast(e,a="truncate"){return this.constructor===e?this:e.from(this,a)}get byteArray(){const e=this.constructor;return(e.isSigned?this.value.toTwos(e.byteWidth*8):this.value).toArrayLike(Uint8Array,"le",e.byteWidth)}equals(e,a=!1){const _=this.constructor;if(a===!0&&isInstanceOf(e,Int)){const b=e.constructor;if(_.byteWidth!==b.byteWidth||_.isSigned!==b.isSigned)return!1}try{return this.value.eq(_.from(e).value)}catch{return!1}}add(e){this.value=this.operator(e,Int.add).value}adding(e){return this.operator(e,Int.add)}subtract(e){this.value=this.operator(e,Int.sub).value}subtracting(e){return this.operator(e,Int.sub)}multiply(e){this.value=this.operator(e,Int.mul).value}multiplying(e){return this.operator(e,Int.mul)}divide(e,a){this.value=this.dividing(e,a).value}dividing(e,a){let _=Int.div;switch(a){case"ceil":_=Int.divCeil;break;case"round":_=Int.divRound;break}return this.operator(e,_)}gt(e){return Int.gt(this,e)}lt(e){return Int.lt(this,e)}gte(e){return Int.gte(this,e)}lte(e){return Int.lte(this,e)}operator(e,a){let _;return isInstanceOf(e,Int)?_=e:_=Int64.from(e,"truncate"),a(this,_).cast(this.constructor)}toNumber(){return this.value.toNumber()}toString(){return this.value.toString()}[Symbol.toPrimitive](e){return e==="number"?this.toNumber():this.toString()}toABI(e){e.writeArray(this.byteArray)}toJSON(){return this.value.bitLength()>32?this.value.toString():this.value.toNumber()}}Int.abiName="__int";class Int8 extends Int{}Int8.abiName="int8";Int8.byteWidth=1;Int8.isSigned=!0;class Int16 extends Int{}Int16.abiName="int16";Int16.byteWidth=2;Int16.isSigned=!0;class Int32 extends Int{}Int32.abiName="int32";Int32.byteWidth=4;Int32.isSigned=!0;class Int64 extends Int{}Int64.abiName="int64";Int64.byteWidth=8;Int64.isSigned=!0;class Int128 extends Int{}Int128.abiName="int128";Int128.byteWidth=16;Int128.isSigned=!0;class UInt8 extends Int{}UInt8.abiName="uint8";UInt8.byteWidth=1;UInt8.isSigned=!1;class UInt16 extends Int{}UInt16.abiName="uint16";UInt16.byteWidth=2;UInt16.isSigned=!1;class UInt32 extends Int{}UInt32.abiName="uint32";UInt32.byteWidth=4;UInt32.isSigned=!1;class UInt64 extends Int{}UInt64.abiName="uint64";UInt64.byteWidth=8;UInt64.isSigned=!1;class UInt128 extends Int{}UInt128.abiName="uint128";UInt128.byteWidth=16;UInt128.isSigned=!1;class VarInt extends Int{static fromABI(e){return new this(new BN$7(e.readVarint32()))}toABI(e){e.writeVarint32(Number(this))}}VarInt.abiName="varint32";VarInt.byteWidth=32;VarInt.isSigned=!0;class VarUInt extends Int{static fromABI(e){return new this(new BN$7(e.readVaruint32()))}toABI(e){e.writeVaruint32(Number(this))}}VarUInt.abiName="varuint32";VarUInt.byteWidth=32;VarUInt.isSigned=!1;function clamp(o,e,a){return BN$7.min(BN$7.max(o,e),a)}function truncate(o,e,a){const _=o.isNeg()?255:0,_e=(e.isSigned?o.toTwos(e.byteWidth*8):o).toArrayLike(Uint8Array,"le"),et=new Uint8Array(a.byteWidth);et.fill(_),et.set(_e.slice(0,a.byteWidth));const tt=new BN$7(et,void 0,"le");return a.isSigned?tt.fromTwos(a.byteWidth*8):tt}function convert(o,e){o=promote(o),e=promote(e);const a=o.constructor,_=e.constructor;return a!==_&&(a.isSigned===_.isSigned?a.byteWidth>_.byteWidth?e=e.cast(a):_.byteWidth>a.byteWidth&&(o=o.cast(_)):a.isSigned===!1&&a.byteWidth>=_.byteWidth?e=e.cast(a):_.isSigned===!1&&_.byteWidth>=a.byteWidth?o=o.cast(_):a.isSigned===!0&&a.max.gte(_.max)&&a.min.lte(_.min)?e=e.cast(a):_.isSigned===!0&&_.max.gte(a.max)&&_.min.lte(a.min)&&(o=o.cast(_))),{a:o,b:e}}function promote(o){let e=o;return o.constructor.byteWidth<4&&(e=o.cast(Int32)),e}function synthesizeABI(o){const e=[],a=[],_=[],b=new Set,_e=nt=>{let it;return typeof nt.type!="string"?it=et(nt.type):it=nt.type,nt.array===!0&&(nt.size?it+=`[${nt.size}]`:it+="[]"),nt.optional===!0&&(it+="?"),nt.extension===!0&&(it+="$"),it},et=nt=>{if(nt.abiName){if(nt.abiName==="__struct")throw new Error("Misconfigured Struct subclass, did you forget @Struct.type?")}else throw new Error("Encountered non-conforming type");if(b.has(nt))return nt.abiName;if(b.add(nt),nt.abiAlias)_.push({new_type_name:nt.abiName,type:_e(nt.abiAlias)});else if(nt.abiFields){const it=nt.abiFields.map(st=>({name:st.name,type:_e(st)})),ot={base:nt.abiBase?et(nt.abiBase):"",name:nt.abiName,fields:it};e.push(ot)}else if(nt.abiVariant){const it={name:nt.abiName,types:nt.abiVariant.map(_e)};a.push(it)}return nt.abiName},tt=et(o);return{abi:ABI.from({structs:e,variants:a,types:_}),types:Array.from(b),root:tt}}function abiTypeString(o){let e=typeof o.type=="string"?o.type:o.type.abiName;return o.array===!0&&(o.size?e+=`[${o.size}]`:e+="[]"),o.optional===!0&&(e+="?"),o.extension===!0&&(e+="$"),e}function isTypeDescriptor(o){return typeof o!="string"&&o.abiName===void 0&&o.type!==void 0}function toTypeDescriptor(o){return typeof o=="string"?{type:o}:typeof o.abiName<"u"?{type:o}:o}const StringType={abiName:"string",abiDefault:()=>"",fromABI:o=>o.readString(),from:o=>o,toABI:(o,e)=>{e.writeString(o)}},BoolType={abiName:"bool",abiDefault:()=>!1,fromABI:o=>o.readByte()===1,from:o=>o,toABI:(o,e)=>{e.writeByte(o===!0?1:0)}};function getBuiltins(){return[BoolType,StringType,Asset$1,Asset$1.Symbol,Asset$1.SymbolCode,BlockTimestamp,Bytes,Checksum160,Checksum256,Checksum512,ExtendedAsset,Float128,Float32,Float64,Int128,Int16,Int32,Int64,Int8,Name,PublicKey,Signature,TimePoint,TimePointSec,UInt128,UInt16,UInt32,UInt64,UInt8,VarInt,VarUInt]}function buildTypeLookup(o=[]){const e={},a=getBuiltins();for(const _ of a)e[_.abiName]=_;for(const _ of o){if(!_.abiName)throw new Error("Invalid type");e[_.abiName]=_}return e}function getTypeName(o){if(o.constructor&&o.constructor.abiName!==void 0)return o.constructor.abiName;if(Array.isArray(o)){const e=o.map(getTypeName),a=e[0];return!a||!e.every(_=>_===a)?void 0:a+"[]"}switch(typeof o){case"boolean":return"bool";case"string":return"string"}}function getType(o,e="jsobj"){var a;if(o.constructor&&o.constructor.abiName!==void 0)return o.constructor;if(Array.isArray(o)){const b=o.map(et=>getType(et,e)),_e=b[0];return!_e||!b.every(et=>et&&et.abiName===_e.abiName)?void 0:_e}const _=typeof o;if(_==="object"&&o!==null){const b=Object.keys(o).map(_e=>({name:_e,type:getType(o[_e],e+"_nested")}));return b.find(_e=>!_e.type)?void 0:(a=class extends Struct{},a.abiName=e,a.abiFields=b,a)}switch(_){case"boolean":return BoolType;case"string":return StringType}}class DecodingError extends Error{constructor(e,a){const _=e.codingPath.map(({field:b,type:_e})=>typeof b=="number"?b:`${b}<${_e.typeName}>`).join(".");super(`Decoding error at ${_}: ${a.message}`),this.stack=a.stack,this.ctx=e,this.underlyingError=a}}DecodingError.__className="DecodingError";function abiDecode(o){const e=toTypeDescriptor(o.type),a=abiTypeString(e),_=o.customTypes||[];let b;if(o.abi)b=ABI.from(o.abi);else try{let tt;if(typeof e.type=="string"){const it=buildTypeLookup(_),ot=new ABI.ResolvedType(e.type).name;if(tt=it[ot],!tt)throw new Error(`Unknown type: ${e.type}`)}else tt=e.type;const nt=synthesizeABI(tt);b=nt.abi,_.push(...nt.types)}catch(tt){throw Error(`Unable to synthesize ABI for: ${a} (${tt.message}). To decode non-class types you need to pass the ABI definition manually.`)}const _e=b.resolveType(a);typeof e.type!="string"&&_.unshift(e.type);const et={types:buildTypeLookup(_),strictExtensions:o.strictExtensions||!1,codingPath:[{field:"root",type:_e}]};try{if(o.data||o.data===""){let tt;if(isInstanceOf(o.data,ABIDecoder))tt=o.data;else{const nt=Bytes.from(o.data),it=o.ignoreInvalidUTF8===void 0?!0:!o.ignoreInvalidUTF8;tt=new ABIDecoder(nt.array,new TextDecoder("utf-8",{fatal:it}))}return o.metadata&&(tt.metadata=o.metadata),decodeBinary(_e,tt,et)}else{if(o.object!==void 0)return decodeObject(o.object,_e,et);if(o.json)return decodeObject(JSON.parse(o.json),_e,et);throw new Error("Nothing to decode, you must set one of data, json, object")}}catch(tt){throw new DecodingError(et,tt)}}const Resolved=Symbol("Resolved");function decodeBinary(o,e,a){if(a.codingPath.length>32)throw new Error("Maximum decoding depth exceeded");if(o.isExtension&&!e.canRead())return a.strictExtensions?defaultValue(o,a):null;if(o.isOptional&&e.readByte()===0)return null;if(o.isArray){const b=e.readVaruint32(),_e=[];for(let et=0;et<b;et++)a.codingPath.push({field:et,type:o}),_e.push(_()),a.codingPath.pop();return _e}else return _();function _(){const b=a.types[o.name];if(b&&b.fromABI)return b.fromABI(e);if(o.ref){a.codingPath.push({field:"",type:o.ref});const _e=decodeBinary(o.ref,e,a);return a.codingPath.pop(),_e}else if(o.fields){const _e=o.allFields;if(!_e)throw new Error("Invalid struct fields");const et={};for(const tt of _e)a.codingPath.push({field:tt.name,type:tt.type}),et[tt.name]=decodeBinary(tt.type,e,a),a.codingPath.pop();return b?(et[Resolved]=!0,b.from(et)):et}else if(o.variant){const _e=e.readByte(),et=o.variant[_e];if(!et)throw new Error(`Unknown variant idx: ${_e}`);a.codingPath.push({field:`v${_e}`,type:et});const tt=[et.typeName,decodeBinary(et,e,a)];return a.codingPath.pop(),b?b.from(tt):tt}else throw b?new Error("Invalid type"):new Error(o.name==="any"?"Unable to decode 'any' type from binary":"Unknown type")}}function decodeObject(o,e,a){if(o==null){if(e.isOptional)return null;if(e.isExtension)return a.strictExtensions?defaultValue(e,a):null;throw new Error(`Unexpectedly encountered ${o} for non-optional (${a.codingPath.map(b=>b.field).join(".")})`)}else if(e.isArray){if(!Array.isArray(o))throw new Error("Expected array");const b=[],_e=o.length;for(let et=0;et<_e;et++)a.codingPath.push({field:et,type:e}),b.push(_(o[et])),a.codingPath.pop();return b}else return _(o);function _(b){const _e=a.types[e.name];if(e.ref&&!_e)return decodeObject(b,e.ref,a);if(e.fields){if(typeof b!="object")throw new Error("Expected object");if(typeof _e=="function"&&isInstanceOf(b,_e))return b;const et=e.allFields;if(!et)throw new Error("Invalid struct fields");const tt={};for(const nt of et)a.codingPath.push({field:nt.name,type:nt.type}),tt[nt.name]=decodeObject(b[nt.name],nt.type,a),a.codingPath.pop();return _e?(tt[Resolved]=!0,_e.from(tt)):tt}else if(e.variant){let et;Array.isArray(b)&&b.length===2&&typeof b[0]=="string"?(et=b[0],b=b[1]):isInstanceOf(b,Variant)?(et=b.variantName,b=b.value):et=getTypeName(b);const tt=e.variant.findIndex(ot=>ot.typeName===et);if(tt===-1)throw new Error(`Unknown variant type: ${et}`);const nt=e.variant[tt];a.codingPath.push({field:`v${tt}`,type:nt});const it=[nt.typeName,decodeObject(b,nt,a)];return a.codingPath.pop(),_e?(it[Resolved]=!0,_e.from(it)):it}else{if(!_e){if(e.name==="any")return b;throw new Error("Unknown type")}return _e.from(b)}}}function defaultValue(o,e,a=new Set){if(o.isArray)return[];if(o.isOptional)return null;const _=e.types[o.name];if(_&&_.abiDefault)return _.abiDefault();if(a.has(o.name))throw new Error("Circular type reference");if(a.add(o.name),o.allFields){const b={};for(const _e of o.allFields)e.codingPath.push({field:_e.name,type:_e.type}),b[_e.name]=defaultValue(_e.type,e,a),e.codingPath.pop();return _?(b[Resolved]=!0,_.from(b)):b}if(o.variant&&o.variant.length>0){const b=[o.variant[0].typeName,defaultValue(o.variant[0],e)];return _?(b[Resolved]=!0,_.from(b)):b}if(o.ref){e.codingPath.push({field:"",type:o.ref});const b=defaultValue(o.ref,e,a);return e.codingPath.pop(),b}throw new Error("Unable to determine default value")}class ABIDecoder{constructor(e,a){this.array=e,this.pos=0,this.metadata={},this.textDecoder=a||new TextDecoder("utf-8",{fatal:!0}),this.data=new DataView(e.buffer,e.byteOffset,e.byteLength)}canRead(e=1){return!(this.pos+e>this.array.byteLength)}ensure(e){if(!this.canRead(e))throw new Error("Read past end of buffer")}setPosition(e){if(e<0||e>this.array.byteLength)throw new Error("Invalid position");this.pos=e}getPosition(){return this.pos}advance(e){this.ensure(e),this.pos+=e}readByte(){return this.ensure(1),this.array[this.pos++]}readFloat(e){this.ensure(e);let a;switch(e){case 4:a=this.data.getFloat32(this.pos,!0);break;case 8:a=this.data.getFloat64(this.pos,!0);break;default:throw new Error("Invalid float size")}return this.pos+=e,a}readVaruint32(){let e=0,a=0;for(;;){const _=this.readByte();if(e|=(_&127)<<a,a+=7,!(_&128))break}return e>>>0}readVarint32(){const e=this.readVaruint32();return e&1?~e>>1|2147483648:e>>>1}readArray(e){this.ensure(e);const a=this.array.subarray(this.pos,this.pos+e);return this.pos+=e,a}readString(){const e=this.readVaruint32();return this.textDecoder.decode(this.readArray(e))}}ABIDecoder.__className="ABIDecoder";class EncodingError extends Error{constructor(e,a){const _=e.codingPath.map(({field:b,type:_e})=>typeof b=="number"?b:`${b}<${_e.typeName}>`).join(".");super(`Encoding error at ${_}: ${a.message}`),this.stack=a.stack,this.ctx=e,this.underlyingError=a}}EncodingError.__className="EncodingError";function abiEncode(o){let e,a;typeof o.type=="string"?a=o.type:o.type&&isTypeDescriptor(o.type)?(typeof o.type.type!="string"&&(e=o.type.type),a=abiTypeString(o.type)):o.type&&o.type.abiName!==void 0?(e=o.type,a=o.type.abiName):(e=getType(o.object),e&&(a=e.abiName,Array.isArray(o.object)&&(a+="[]")));const _=o.customTypes?o.customTypes.slice():[];if(e)_.unshift(e);else if(a){const nt=new ABI.ResolvedType(a).name;e=_.find(it=>it.abiName===nt)}let b;if(o.abi&&a)b=ABI.from(o.abi).resolveType(a);else if(e){const nt=synthesizeABI(e);b=nt.abi.resolveType(a||e.abiName),_.push(...nt.types)}else if(a)b=new ABI.ResolvedType(a);else throw new Error("Unable to determine the type of the object to be encoded. To encode custom ABI types you must pass the type argument.");const _e=buildTypeLookup(_),et=o.encoder||new ABIEncoder;o.metadata&&(et.metadata=o.metadata);const tt={types:_e,encoder:et,codingPath:[{field:"root",type:b}]};try{encodeAny(o.object,b,tt)}catch(nt){throw new EncodingError(tt,nt)}return Bytes.from(et.getData())}function encodeAny(o,e,a){const _=o!=null;if(e.isOptional&&(a.encoder.writeByte(_?1:0),!_))return;if(e.isArray){if(!Array.isArray(o))throw new Error(`Expected array for: ${e.typeName}`);const _e=o.length;e.size||a.encoder.writeVaruint32(_e);for(let et=0;et<_e;et++)a.codingPath.push({field:et,type:e}),b(o[et]),a.codingPath.pop()}else b(o);function b(_e){const et=a.types[e.name];if(e.ref&&!et){encodeAny(_e,e.ref,a);return}if(!_){if(e.isExtension)return;throw new Error(`Found ${_e} for non-optional type: ${e.typeName} (${a.codingPath.map(tt=>tt.field).join(".")})`)}if(et&&et.toABI)et.toABI(_e,a.encoder);else if(typeof _e.toABI=="function"&&_e.constructor.abiName===e.name)_e.toABI(a.encoder);else if(e.fields){if(typeof _e!="object")throw new Error(`Expected object for: ${e.name}`);const tt=e.allFields;if(!tt)throw new Error("Invalid struct fields");for(const nt of tt)a.codingPath.push({field:nt.name,type:nt.type}),encodeAny(_e[nt.name],nt.type,a),a.codingPath.pop()}else if(e.variant){let tt;Array.isArray(_e)&&_e.length===2&&typeof _e[0]=="string"?(tt=_e[0],_e=_e[1]):isInstanceOf(_e,Variant)?(tt=_e.variantName,_e=_e.value):tt=getTypeName(_e);const nt=e.variant.findIndex(ot=>ot.typeName===tt);if(nt===-1){const ot=e.variant.map(st=>`'${st.typeName}'`).join(", ");throw new Error(`Unknown variant type '${tt}', expected one of ${ot}`)}const it=e.variant[nt];a.encoder.writeVaruint32(nt),a.codingPath.push({field:`v${nt}`,type:it}),encodeAny(_e,it,a),a.codingPath.pop()}else{if(!et)throw new Error(e.name==="any"?"Unable to encode any type to binary":"Unknown type");const tt=et.from(_e);if(!tt.toABI)throw new Error(`Invalid type ${e.name}, no encoding methods implemented`);tt.toABI(a.encoder)}}}class ABIEncoder{constructor(e=1024){this.pageSize=e,this.pos=0,this.textEncoder=new TextEncoder,this.metadata={};const a=new ArrayBuffer(e);this.data=new DataView(a),this.array=new Uint8Array(a)}ensure(e){if(this.data.byteLength>=this.pos+e)return;const a=Math.ceil(e/this.pageSize),_=this.data.byteLength+this.pageSize*a,b=new ArrayBuffer(_),_e=new DataView(b),et=new Uint8Array(b);et.set(this.array),this.data=_e,this.array=et}writeByte(e){this.ensure(1),this.array[this.pos++]=e}writeArray(e){const a=e.length;this.ensure(a),this.array.set(e,this.pos),this.pos+=a}writeFloat(e,a){switch(this.ensure(a),a){case 4:this.data.setFloat32(this.pos,e,!0);break;case 8:this.data.setFloat64(this.pos,e,!0);break;default:throw new Error("Invalid float size")}this.pos+=a}writeVaruint32(e){for(this.ensure(4);;)if(e>>>7)this.array[this.pos++]=128|e&127,e=e>>>7;else{this.array[this.pos++]=e;break}}writeVarint32(e){this.writeVaruint32(e<<1^e>>31)}writeString(e){const a=this.textEncoder.encode(e);this.writeVaruint32(a.byteLength),this.writeArray(a)}getData(){return new Uint8Array(this.array.buffer,this.array.byteOffset,this.pos)}getBytes(){return new Bytes(this.getData())}}ABIEncoder.__className="ABIEncoder";class ABI{constructor(e){this.version=e.version||ABI.version,this.types=e.types||[],this.variants=e.variants||[],this.structs=e.structs||[],this.actions=e.actions||[],this.tables=e.tables||[],this.ricardian_clauses=e.ricardian_clauses||[],this.action_results=e.action_results||[]}static from(e){return isInstanceOf(e,ABI)?e:isInstanceOf(e,Blob$1)?abiDecode({data:e.array,type:this}):typeof e=="string"?new ABI(JSON.parse(e)):new ABI(e)}static fromABI(e){const a=e.readString(),_=[],b=e.readVaruint32();for(let ht=0;ht<b;ht++)_.push({new_type_name:e.readString(),type:e.readString()});const _e=[],et=e.readVaruint32();for(let ht=0;ht<et;ht++){const vt=e.readString(),Et=e.readString(),At=e.readVaruint32(),Ct=[];for(let Mt=0;Mt<At;Mt++)Ct.push({name:e.readString(),type:e.readString()});_e.push({base:Et,name:vt,fields:Ct})}const tt=[],nt=e.readVaruint32();for(let ht=0;ht<nt;ht++){const vt=Name.fromABI(e),Et=e.readString(),At=e.readString();tt.push({name:vt,type:Et,ricardian_contract:At})}const it=[],ot=e.readVaruint32();for(let ht=0;ht<ot;ht++){const vt=Name.fromABI(e),Et=e.readString(),At=[],Ct=e.readVaruint32();for(let jt=0;jt<Ct;jt++)At.push(e.readString());const Mt=[],Bt=e.readVaruint32();for(let jt=0;jt<Bt;jt++)Mt.push(e.readString());const Lt=e.readString();it.push({name:vt,index_type:Et,key_names:At,key_types:Mt,type:Lt})}const st=[],at=e.readVaruint32();for(let ht=0;ht<at;ht++){const vt=e.readString(),Et=e.readString();st.push({id:vt,body:Et})}const lt=e.readVaruint32();for(let ht=0;ht<lt;ht++)e.advance(8),e.advance(e.readVaruint32());const ut=e.readVaruint32();for(let ht=0;ht<ut;ht++)e.advance(2),e.advance(e.readVaruint32());const ft=[];if(e.canRead()){const ht=e.readVaruint32();for(let vt=0;vt<ht;vt++){const Et=e.readString(),At=[],Ct=e.readVaruint32();for(let Mt=0;Mt<Ct;Mt++)At.push(e.readString());ft.push({name:Et,types:At})}}const mt=[];if(e.canRead()){const ht=e.readVaruint32();for(let vt=0;vt<ht;vt++){const Et=Name.fromABI(e),At=e.readString();mt.push({name:Et,result_type:At})}}return new ABI({version:a,types:_,structs:_e,actions:tt,tables:it,ricardian_clauses:st,variants:ft,action_results:mt})}toABI(e){e.writeString(this.version),e.writeVaruint32(this.types.length);for(const a of this.types)e.writeString(a.new_type_name),e.writeString(a.type);e.writeVaruint32(this.structs.length);for(const a of this.structs){e.writeString(a.name),e.writeString(a.base),e.writeVaruint32(a.fields.length);for(const _ of a.fields)e.writeString(_.name),e.writeString(_.type)}e.writeVaruint32(this.actions.length);for(const a of this.actions)Name.from(a.name).toABI(e),e.writeString(a.type),e.writeString(a.ricardian_contract);e.writeVaruint32(this.tables.length);for(const a of this.tables){Name.from(a.name).toABI(e),e.writeString(a.index_type),e.writeVaruint32(a.key_names.length);for(const _ of a.key_names)e.writeString(_);e.writeVaruint32(a.key_types.length);for(const _ of a.key_types)e.writeString(_);e.writeString(a.type)}e.writeVaruint32(this.ricardian_clauses.length);for(const a of this.ricardian_clauses)e.writeString(a.id),e.writeString(a.body);e.writeVaruint32(0),e.writeVaruint32(0),e.writeVaruint32(this.variants.length);for(const a of this.variants){e.writeString(a.name),e.writeVaruint32(a.types.length);for(const _ of a.types)e.writeString(_)}e.writeVaruint32(this.action_results.length);for(const a of this.action_results)Name.from(a.name).toABI(e),e.writeString(a.result_type)}resolveType(e){const a={};return this.resolve({name:e,types:a},{id:0})}resolveAll(){const e={},a={id:0};return{types:this.types.map(_=>this.resolve({name:_.new_type_name,types:e},a)),variants:this.variants.map(_=>this.resolve({name:_.name,types:e},a)),structs:this.structs.map(_=>this.resolve({name:_.name,types:e},a))}}resolve({name:e,types:a},_){const b=a[e];if(b)return b;const _e=new ABI.ResolvedType(e,++_.id);a[_e.typeName]=_e;const et=this.types.find(it=>it.new_type_name==_e.name);if(et)return _e.ref=this.resolve({name:et.type,types:a},_),_e;const tt=this.getStruct(_e.name);if(tt)return tt.base&&(_e.base=this.resolve({name:tt.base,types:a},_)),_e.fields=tt.fields.map(it=>({name:it.name,type:this.resolve({name:it.type,types:a},_)})),_e;const nt=this.getVariant(_e.name);return nt&&(_e.variant=nt.types.map(it=>this.resolve({name:it,types:a},_))),_e}getStruct(e){return this.structs.find(a=>a.name==e)}getVariant(e){return this.variants.find(a=>a.name==e)}getActionType(e){const a=Name.from(e).toString(),_=this.actions.find(b=>b.name.toString()===a);if(_)return _.type}equals(e){const a=ABI.from(e);return this.version!=a.version||this.types.length!=a.types.length||this.structs.length!=a.structs.length||this.actions.length!=a.actions.length||this.tables.length!=a.tables.length||this.ricardian_clauses.length!=a.ricardian_clauses.length||this.variants.length!=a.variants.length||this.action_results.length!=a.action_results.length?!1:abiEncode({object:this}).equals(abiEncode({object:a}))}toJSON(){return{version:this.version,types:this.types,structs:this.structs,actions:this.actions,tables:this.tables,ricardian_clauses:this.ricardian_clauses,error_messages:[],abi_extensions:[],variants:this.variants,action_results:this.action_results}}}ABI.abiName="abi";ABI.version="eosio::abi/1.1";(function(o){class e{constructor(_,b=0){let _e=_;_e.endsWith("$")?(_e=_e.slice(0,-1),this.isExtension=!0):this.isExtension=!1,_e.endsWith("?")?(_e=_e.slice(0,-1),this.isOptional=!0):this.isOptional=!1,this.isArray=!1,_e.endsWith("[]")&&(_e=_e.slice(0,-2),this.isArray=!0);const et=_e.match(/(.*)\[(\d+)\]/);if(et){const[,tt,nt]=et;_e=tt,this.isArray=!0,this.size=Number(nt)}this.id=b,this.name=_e}get typeName(){let _=this.name;return this.isArray&&(this.size?_+=`[${this.size}]`:_+="[]"),this.isOptional&&(_+="?"),this.isExtension&&(_+="$"),_}get allFields(){let _=this;const b=[],_e=new Set;do{if(!_.fields||_e.has(_.name))return;for(let et=_.fields.length-1;et>=0;et--)b.unshift(_.fields[et]);_e.add(_.name),_=_.base}while(_!==void 0);return b}}o.ResolvedType=e})(ABI||(ABI={}));class Struct{static from(e){return e[Resolved]===!0?new this(e):isInstanceOf(e,this)?e:abiDecode({object:e,type:this})}static get structFields(){const e=[],a=_=>{_.abiBase&&a(_.abiBase);for(const b of _.abiFields||[])e.push(b)};return a(this),e}constructor(e){const a=this.constructor;for(const _ of a.structFields){const b=typeof _.type=="string"?new ABI.ResolvedType(String(_.type)).isOptional:_.optional,_e=e[_.name];b&&!_e||(this[_.name]=_e)}}equals(e){const a=this.constructor;return e.constructor&&typeof e.constructor.abiName=="string"&&e.constructor.abiName!==a.abiName?!1:abiEncode({object:this}).equals(abiEncode({object:a.from(e)}))}toJSON(){const e=this.constructor,a={};for(const _ of e.structFields)_.optional&&!this[_.name]||(a[_.name]=this[_.name]);return a}}Struct.abiName="__struct";(function(o){const e=Symbol("FieldsOwner");function a(b){return function(_e){return _e.abiName=b,_e}}o.type=a;function _(b,_e={}){return(et,tt)=>{const nt=et.constructor;nt.abiFields?nt.abiFields[e]!==nt&&(nt.abiBase=nt.abiFields[e],nt.abiFields=[],nt.abiFields[e]=nt):(nt.abiFields=[],nt.abiFields[e]=nt),nt.abiFields.push({..._e,name:tt,type:b})}}o.field=_})(Struct||(Struct={}));function TypeAlias(o){return function(e){return e.abiAlias={type:Object.getPrototypeOf(e.prototype).constructor},e.abiName=o,e}}class Variant{static from(e){return e[Resolved]?new this(e):isInstanceOf(e,this)?e:abiDecode({object:e,type:this})}constructor(e){const a=this.constructor.abiVariant;this.value=e[1];const _=a.map(abiTypeString).findIndex(b=>b===e[0]);if(0>_||a.length<=_)throw new Error(`Unknown variant ${e[0]}`);this.variantIdx=_}equals(e){const _=this.constructor.from(e);return this.variantIdx!==_.variantIdx?!1:abiEncode({object:this}).equals(abiEncode({object:_}))}get variantName(){const e=this.constructor.abiVariant[this.variantIdx];return abiTypeString(e)}toJSON(){return[this.variantName,this.value]}}Variant.abiName="__variant";Variant.abiVariant=[];(function(o){function e(a,_){return function(b){return b.abiName=a,b.abiVariant=_.map(toTypeDescriptor),b}}o.type=e})(Variant||(Variant={}));class Float{static from(e){return isInstanceOf(e,this)?e:(typeof e=="string"?e=Number.parseFloat(e):isInstanceOf(e,Float)&&(e=e.value),new this(e))}static fromABI(e){return new this(e.readFloat(this.byteWidth))}static abiDefault(){return this.from(0)}static random(){const e=secureRandom(this.byteWidth),a=new ABIDecoder(e);return this.fromABI(a)}constructor(e){this.value=e}equals(e){const a=this.constructor;return this.value===a.from(e).value}toABI(e){const a=this.constructor;e.writeFloat(this.value,a.byteWidth)}toString(){return this.value.toString()}toJSON(){return this.toString()}}Float.abiName="__float";class Float32 extends Float{toString(){return this.value.toFixed(7)}}Float32.abiName="float32";Float32.byteWidth=4;class Float64 extends Float{}Float64.abiName="float64";Float64.byteWidth=8;class Float128{static from(e){return isInstanceOf(e,this)?e:(typeof e=="string"&&e.startsWith("0x")&&(e=e.slice(2)),new this(Bytes.from(e)))}static fromABI(e){return new this(new Bytes(e.readArray(this.byteWidth)))}static random(){const e=secureRandom(16),a=new ABIDecoder(e);return this.fromABI(a)}constructor(e){if(e.array.length!==16)throw new Error("Invalid float128");this.data=e}equals(e){const a=this.constructor;return this.data.equals(a.from(e).data)}toABI(e){e.writeArray(this.data.array)}toString(){return"0x"+this.data.hexString}toJSON(){return this.toString()}}Float128.abiName="float128";Float128.byteWidth=16;class Name{get rawValue(){return this.value}static from(e){if(isInstanceOf(e,Name))return e;if(typeof e=="string")return new Name(stringToName(e));if(isInstanceOf(e,UInt64))return new Name(e);throw new Error("Invalid name")}static fromABI(e){return new Name(UInt64.fromABI(e))}static abiDefault(){return new this(UInt64.from(0))}constructor(e){this.value=e}equals(e){return this.value.equals(Name.from(e).value)}toString(){return nameToString(this.value)}toABI(e){this.value.toABI(e)}toJSON(){return this.toString()}}Name.abiName="name";Name.pattern=/^[a-z1-5.]{0,13}$/;function stringToName(o){function e(b){return b>=97&&b<=122?b-97+6:b>=49&&b<=53?b-49+1:0}const a=new Uint8Array(8);let _=63;for(let b=0;b<o.length;++b){let _e=e(o.charCodeAt(b));_<5&&(_e=_e<<1);for(let et=4;et>=0;--et)_>=0&&(a[Math.floor(_/8)]|=(_e>>et&1)<<_%8,--_)}return UInt64.from(a)}function nameToString(o){const e=o.value.toArray("le",8);let a="";for(let _=63;_>=0;){let b=0;for(let _e=0;_e<5;++_e)_>=0&&(b=b<<1|e[Math.floor(_/8)]>>_%8&1,--_);b>=6?a+=String.fromCharCode(b+97-6):b>=1?a+=String.fromCharCode(b+49-1):a+="."}for(;a.endsWith(".");)a=a.substr(0,a.length-1);return a}class TimePointBase{static from(e){return isInstanceOf(e,this)?e:isInstanceOf(e,TimePointBase)?this.fromMilliseconds(e.toMilliseconds()):isInstanceOf(e,Date)?this.fromDate(e):typeof e=="string"?this.fromString(e):this.fromInteger(e)}static fromString(e){const a=Date.parse(e+"Z");if(!Number.isFinite(a))throw new Error("Invalid date string");return this.fromMilliseconds(a)}static fromDate(e){return this.fromMilliseconds(e.getTime())}static abiDefault(){return this.from(0)}toABI(e){this.value.toABI(e)}equals(e){const a=this.constructor;return this.toMilliseconds()===a.from(e).toMilliseconds()}toMilliseconds(){throw new Error("Not implemented")}toDate(){return new Date(this.toMilliseconds())}toJSON(){return this.toString()}}TimePointBase.abiName="__time_point_base";class TimePoint extends TimePointBase{static fromMilliseconds(e){return new this(Int64.from(Math.round(e*1e3)))}static fromInteger(e){return new this(Int64.from(e))}static fromABI(e){return new this(Int64.fromABI(e))}constructor(e){super(),this.value=e}toString(){return this.toDate().toISOString().slice(0,-1)}toMilliseconds(){return Number(this.value.dividing(1e3,"round"))}}TimePoint.abiName="time_point";class TimePointSec extends TimePointBase{static fromMilliseconds(e){return new this(UInt32.from(Math.round(e/1e3)))}static fromInteger(e){return new this(UInt32.from(e))}static fromABI(e){return new this(UInt32.fromABI(e))}constructor(e){super(),this.value=e}toString(){return this.toDate().toISOString().slice(0,-5)}toMilliseconds(){return Number(this.value.cast(UInt64).multiplying(1e3))}}TimePointSec.abiName="time_point_sec";class BlockTimestamp extends TimePointBase{static fromMilliseconds(e){return new this(UInt32.from(Math.round((e-9466848e5)/500)))}static fromInteger(e){return new this(UInt32.from(e))}static fromABI(e){return new this(UInt32.fromABI(e))}constructor(e){super(),this.value=e}toString(){return this.toDate().toISOString().slice(0,-1)}toMilliseconds(){return Number(this.value.cast(UInt64).multiplying(500).adding(9466848e5))}}BlockTimestamp.abiName="block_timestamp_type";let Asset$1=class Hr{static from(e,a){if(isInstanceOf(e,Hr))return e;switch(typeof e){case"number":if(!a)throw new Error("Symbol is required when creating Asset from number");return this.fromFloat(e,a);case"string":return this.fromString(e);default:throw new Error("Invalid asset")}}static fromString(e){const a=(typeof e=="string"?e:"").split(" ");if(a.length!==2)throw new Error("Invalid asset string");const _=a[0].replace(".",""),b=(a[0].split(".")[1]||"").length,_e=Hr.Symbol.fromParts(a[1],b);return new Hr(Int64.from(_),_e)}static fromFloat(e,a){const _=Hr.Symbol.from(a);return new Hr(_.convertFloat(e),_)}static fromUnits(e,a){return new Hr(Int64.from(e),Hr.Symbol.from(a))}static fromABI(e){const a=Int64.fromABI(e),_=Hr.Symbol.fromABI(e);return new Hr(a,_)}static abiDefault(){return new this(Int64.from(0),Hr.Symbol.abiDefault())}static formatUnits(e,a){const _=Int64.from(e).toString().split("");let b=!1;for(_[0]==="-"&&(b=!0,_.shift());_.length<=a;)_.unshift("0");a>0&&_.splice(_.length-a,0,".");let _e=_.join("");return b&&(_e="-"+_e),_e}constructor(e,a){this.units=e,this.symbol=a}equals(e){const{symbol:a,units:_}=Hr.from(e);return this.symbol.value.equals(a.value)&&this.units.equals(_)}get value(){return this.symbol.convertUnits(this.units)}set value(e){this.units=this.symbol.convertFloat(e)}get quantity(){return Hr.formatUnits(this.units,this.symbol.precision)}toABI(e){this.units.toABI(e),this.symbol.toABI(e)}toString(){return this.quantity+" "+this.symbol.name}toJSON(){return this.toString()}};Asset$1.abiName="asset";(function(o){class e{static from(b){if(isInstanceOf(b,e))return b;if(isInstanceOf(b,UInt64))return new e(b);const _e=b.split(",");if(_e.length!==2&&b!=="0,")throw new Error("Invalid symbol string");b==="0,"&&_e.push("");const et=Number.parseInt(_e[0]);return e.fromParts(_e[1],et)}static fromParts(b,_e){return new e(toRawSymbol(b,_e))}static fromABI(b){return new e(UInt64.fromABI(b))}static abiDefault(){return this.from("4,SYS")}constructor(b){if(toSymbolPrecision(b)>e.maxPrecision)throw new Error("Invalid asset symbol, precision too large");if(!b.equals(0)&&!a.pattern.test(toSymbolName(b)))throw new Error("Invalid asset symbol, name must be uppercase A-Z");this.value=b}equals(b){return this.value.equals(e.from(b).value)}get name(){return toSymbolName(this.value)}get precision(){return toSymbolPrecision(this.value)}get code(){return new a(UInt64.from(this.value.value.clone().iushrn(8)))}toABI(b){this.value.toABI(b)}convertUnits(b){return b.value.toNumber()/Math.pow(10,this.precision)}convertFloat(b){return Int64.from(b.toFixed(this.precision).replace(".",""))}toString(){return`${this.precision},${this.name}`}toJSON(){return this.toString()}}e.abiName="symbol",e.maxPrecision=18,o.Symbol=e;class a{static from(b){return isInstanceOf(b,a)?b:(typeof b=="string"&&(b=UInt64.from(toRawSymbolCode(b))),new this(UInt64.from(b)))}static fromABI(b){return new a(UInt64.fromABI(b))}static abiDefault(){return this.from("SYS")}constructor(b){if(!b.equals(0)&&!a.pattern.test(toSymbolName(b)))throw new Error("Invalid asset symbol, name must be uppercase A-Z");this.value=b}equals(b){return this.value.equals(a.from(b).value)}toABI(b){this.value.toABI(b)}toString(){return charsToSymbolName(this.value.value.toArray("be"))}toJSON(){return this.toString()}}a.abiName="symbol_code",a.pattern=/^[A-Z]{0,7}$/,o.SymbolCode=a})(Asset$1||(Asset$1={}));class ExtendedAsset{static from(e){return isInstanceOf(e,ExtendedAsset)?e:new this(Asset$1.from(e.quantity),Name.from(e.contract))}static fromABI(e){return new ExtendedAsset(Asset$1.fromABI(e),Name.fromABI(e))}constructor(e,a){this.quantity=e,this.contract=a}equals(e){return this.quantity.equals(e.quantity)&&this.contract.equals(e.contract)}toABI(e){this.quantity.toABI(e),this.contract.toABI(e)}toJSON(){return{quantity:this.quantity,contract:this.contract}}}ExtendedAsset.abiName="extended_asset";function toSymbolPrecision(o){return o.value.and(UInt64.from(255).value).toNumber()}function toSymbolName(o){const e=o.value.toArray("be").slice(0,-1);return charsToSymbolName(e)}function charsToSymbolName(o){return o.map(e=>String.fromCharCode(e)).reverse().join("")}function toRawSymbol(o,e){const a=toRawSymbolCode(o),_=new Uint8Array(a.length+1);return _[0]=e,_.set(a,1),UInt64.from(_)}function toRawSymbolCode(o){const e=Math.min(o.length,7),a=new Uint8Array(e);for(let _=0;_<e;_++)a[_]=o.charCodeAt(_);return a}var Base58;(function(o){let e;(function(ut){ut.E_CHECKSUM="E_CHECKSUM",ut.E_INVALID="E_INVALID"})(e=o.ErrorCode||(o.ErrorCode={}));class a extends Error{constructor(ft,mt,ht={}){super(ft),this.code=mt,this.info=ht}}a.__className="DecodingError",o.DecodingError=a;const _="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",b=new Int16Array(255).fill(-1);for(let ut=0;ut<58;++ut)b[_.charCodeAt(ut)]=ut;function _e(ut,ft){if(ft==null)return st(ut);const mt=new Uint8Array(ft);for(let ht=0;ht<ut.length;++ht){let vt=b[ut.charCodeAt(ht)];if(vt<0)throw new a("Invalid Base58 character encountered",e.E_INVALID,{char:ut[ht]});for(let Et=0;Et<ft;++Et){const At=mt[Et]*58+vt;mt[Et]=At,vt=At>>8}if(vt)throw new a("Base58 value is out of range",e.E_INVALID)}return mt.reverse(),new Bytes(mt)}o.decode=_e;function et(ut,ft){const mt=_e(ut,ft!=null?ft+4:ft),ht=mt.array.subarray(0,-4),vt=mt.array.subarray(-4),Et=lt(ht);if(!arrayEquals(vt,Et))throw new a("Checksum mismatch",e.E_CHECKSUM,{actual:Et,expected:vt,data:ht,hash:"double_sha256"});return new Bytes(ht)}o.decodeCheck=et;function tt(ut,ft,mt){const ht=_e(ut,ft!=null?ft+4:ft),vt=ht.array.subarray(0,-4),Et=ht.array.subarray(-4),At=at(vt,mt);if(!arrayEquals(Et,At))throw new a("Checksum mismatch",e.E_CHECKSUM,{actual:At,expected:Et,data:vt,hash:"ripemd160"});return new Bytes(vt)}o.decodeRipemd160Check=tt;function nt(ut){ut=Bytes.from(ut);const ft=[];for(const mt of ut.array){let ht=mt;for(let vt=0;vt<ft.length;++vt){const Et=(b[ft[vt]]<<8)+ht;ft[vt]=_.charCodeAt(Et%58),ht=Et/58|0}for(;ht;)ft.push(_.charCodeAt(ht%58)),ht=ht/58|0}for(const mt of ut.array){if(mt)break;ft.push(49)}return ft.reverse(),String.fromCharCode(...ft)}o.encode=nt;function it(ut){return ut=Bytes.from(ut),ut=ut.appending(lt(ut.array)),nt(ut)}o.encodeCheck=it;function ot(ut,ft){return ut=Bytes.from(ut),ut=ut.appending(at(ut.array,ft)),nt(ut)}o.encodeRipemd160Check=ot;function st(ut){const ft=[];for(let mt=0;mt<ut.length;++mt){let ht=b[ut.charCodeAt(mt)];if(ht<0)throw new a("Invalid Base58 character encountered",e.E_INVALID,{char:ut[mt]});for(let vt=0;vt<ft.length;++vt){const Et=ft[vt]*58+ht;ft[vt]=Et&255,ht=Et>>8}ht&&ft.push(ht)}for(const mt of ut)if(mt==="1")ft.push(0);else break;return ft.reverse(),Bytes.from(ft)}function at(ut,ft){const mt=hash$3.ripemd160().update(ut);return ft&&mt.update(ft),new Uint8Array(mt.digest().slice(0,4))}function lt(ut){const ft=hash$3.sha256().update(ut).digest(),mt=hash$3.sha256().update(ft).digest();return new Uint8Array(mt.slice(0,4))}})(Base58||(Base58={}));class PublicKey{static from(e){if(isInstanceOf(e,PublicKey))return e;if(typeof e=="object"&&e.type&&e.compressed)return new PublicKey(KeyType.from(e.type),new Bytes(e.compressed));if(typeof e!="string")throw new Error("Invalid public key");if(e.startsWith("PUB_")){const a=e.split("_");if(a.length!==3)throw new Error("Invalid public key string");const _=KeyType.from(a[1]),b=_===KeyType.K1||_===KeyType.R1?33:void 0,_e=Base58.decodeRipemd160Check(a[2],b,_);return new PublicKey(_,_e)}else if(e.length>=50){const a=Base58.decodeRipemd160Check(e.slice(-50));return new PublicKey(KeyType.K1,a)}else throw new Error("Invalid public key string")}static fromABI(e){const a=KeyType.from(e.readByte());if(a==KeyType.WA){const _=e.getPosition();e.advance(33),e.advance(1),e.advance(e.readVaruint32());const b=e.getPosition()-_;e.setPosition(_);const _e=Bytes.from(e.readArray(b));return new PublicKey(KeyType.WA,_e)}return new PublicKey(a,new Bytes(e.readArray(33)))}constructor(e,a){this.type=e,this.data=a}getCompressedKeyBytes(){return this.type===KeyType.WA?this.data.array.slice(0,33):this.data.array}equals(e){const a=PublicKey.from(e);return this.type===a.type&&this.data.equals(a.data)}toLegacyString(e="EOS"){if(this.type!==KeyType.K1)throw new Error("Unable to create legacy formatted string for non-K1 key");return`${e}${Base58.encodeRipemd160Check(this.data)}`}toString(){return`PUB_${this.type}_${Base58.encodeRipemd160Check(this.data,this.type)}`}toABI(e){e.writeByte(KeyType.indexFor(this.type)),e.writeArray(this.data.array)}toJSON(){return this.toString()}}PublicKey.abiName="public_key";const curves={};function getCurve(o){let e=curves[o];if(!e)if(o==="K1")e=curves[o]=new ellipticExports.ec("secp256k1");else if(o==="R1")e=curves[o]=new ellipticExports.ec("p256");else if(o==="WA")e=curves[o]=new ellipticExports.ec("p256");else throw new Error(`Unknown curve type: ${o}`);return e}function recover(o,e,a){if(a===KeyType.WA)throw new Error("can't recover webauthn public keys, please use @wharfkit/webauthn.");const _=getCurve(a),b=o[0]-31,_e=o.subarray(1,33),et=o.subarray(33,65),tt=_.recoverPubKey(e,{r:_e,s:et},b);return new Uint8Array(tt.encodeCompressed())}function verify(o,e,a,_){const b=getCurve(_),_e=o.subarray(1,33),et=o.subarray(33,65);return b.verify(e,{r:_e,s:et},a)}class Signature{static from(e){if(isInstanceOf(e,Signature))return e;if(typeof e=="object"&&e.r&&e.s){const a=new Uint8Array(65);let _=e.recid;const b=KeyType.from(e.type);return(e.type===KeyType.K1||e.type===KeyType.R1)&&(_+=31),a[0]=_,a.set(e.r,1),a.set(e.s,33),new Signature(b,new Bytes(a))}if(typeof e!="string")throw new Error("Invalid signature");if(e.startsWith("SIG_")){const a=e.split("_");if(a.length!==3)throw new Error("Invalid signature string");const _=KeyType.from(a[1]),b=_===KeyType.K1||_===KeyType.R1?65:void 0,_e=Base58.decodeRipemd160Check(a[2],b,_);return new Signature(_,_e)}else throw new Error("Invalid signature string")}static fromABI(e){const a=KeyType.from(e.readByte());if(a===KeyType.WA){const _=e.getPosition();e.advance(65),e.advance(e.readVaruint32()),e.advance(e.readVaruint32());const b=e.getPosition()-_;e.setPosition(_);const _e=Bytes.from(e.readArray(b));return new Signature(KeyType.WA,_e)}return new Signature(a,new Bytes(e.readArray(65)))}constructor(e,a){this.type=e,this.data=a}equals(e){const a=Signature.from(e);return this.type===a.type&&this.data.equals(a.data)}recoverDigest(e){e=Checksum256.from(e);const a=recover(this.data.array,e.array,this.type);return PublicKey.from({compressed:a,type:this.type})}recoverMessage(e){return this.recoverDigest(Checksum256.hash(e))}verifyDigest(e,a){return e=Checksum256.from(e),verify(this.data.array,e.array,a.getCompressedKeyBytes(),this.type)}verifyMessage(e,a){return this.verifyDigest(Checksum256.hash(e),a)}toString(){return`SIG_${this.type}_${Base58.encodeRipemd160Check(this.data,this.type)}`}toABI(e){e.writeByte(KeyType.indexFor(this.type)),e.writeArray(this.data.array)}toJSON(){return this.toString()}}Signature.abiName="signature";var PermissionLevel_1;let PermissionLevel=PermissionLevel_1=class extends Struct{static from(e){if(typeof e=="string"){const a=e.split("@");if(a.length!==2&&a[0].length>0&&a[1].length>0)throw new Error("Invalid permission level string, should be in the format <actor>@<permission>");e={actor:a[0],permission:a[1]}}return super.from(e)}equals(e){const a=PermissionLevel_1.from(e);return this.actor.equals(a.actor)&&this.permission.equals(a.permission)}toString(){return`${this.actor}@${this.permission}`}};__decorate$1([Struct.field("name")],PermissionLevel.prototype,"actor",void 0);__decorate$1([Struct.field("name")],PermissionLevel.prototype,"permission",void 0);PermissionLevel=PermissionLevel_1=__decorate$1([Struct.type("permission_level")],PermissionLevel);var Action_1;let Action=Action_1=class extends Struct{static from(e,a){let _={...e};const b=_.data;if(!Bytes.isBytes(b)){let et;if(a){if(et=ABI.from(a).getActionType(_.name),!et)throw new Error(`The action "${_.name}" does not exist on the ABI provided.`)}else if(!b.constructor||b.constructor.abiName===void 0)throw new Error("Missing ABI definition when creating action with untyped action data");_={..._,data:abiEncode({object:b,type:et,abi:a})}}const _e=super.from(_);if(a)_e.abi=ABI.from(a);else{const et=getType(b);et&&(_e.abi=ABI.from({...synthesizeABI(et).abi,actions:[{name:_e.name,type:et.abiName,ricardian_contract:""}]}))}return _e}equals(e){const a=Action_1.from(e,this.abi);return this.account.equals(a.account)&&this.name.equals(a.name)&&arrayEquatableEquals(this.authorization,a.authorization)&&this.data.equals(a.data)}decodeData(e){if(typeof e=="string"||e.abiName)return abiDecode({data:this.data,type:e});{const a=ABI.from(e),_=a.getActionType(this.name);if(!_)throw new Error(`Action ${this.name} does not exist in provided ABI`);return abiDecode({data:this.data,type:_,abi:a})}}get decoded(){if(!this.abi)throw new Error("Missing ABI definition when decoding action data");return{...this.toJSON(),data:this.decodeData(this.abi)}}};__decorate$1([Struct.field("name")],Action.prototype,"account",void 0);__decorate$1([Struct.field("name")],Action.prototype,"name",void 0);__decorate$1([Struct.field(PermissionLevel,{array:!0})],Action.prototype,"authorization",void 0);__decorate$1([Struct.field("bytes")],Action.prototype,"data",void 0);Action=Action_1=__decorate$1([Struct.type("action")],Action);var Transaction_1;let TransactionExtension=class extends Struct{};__decorate$1([Struct.field("uint16")],TransactionExtension.prototype,"type",void 0);__decorate$1([Struct.field("bytes")],TransactionExtension.prototype,"data",void 0);TransactionExtension=__decorate$1([Struct.type("transaction_extension")],TransactionExtension);let TransactionHeader=class extends Struct{static from(e){return super.from({max_net_usage_words:0,max_cpu_usage_ms:0,delay_sec:0,...e})}};__decorate$1([Struct.field("time_point_sec")],TransactionHeader.prototype,"expiration",void 0);__decorate$1([Struct.field("uint16")],TransactionHeader.prototype,"ref_block_num",void 0);__decorate$1([Struct.field("uint32")],TransactionHeader.prototype,"ref_block_prefix",void 0);__decorate$1([Struct.field("varuint32")],TransactionHeader.prototype,"max_net_usage_words",void 0);__decorate$1([Struct.field("uint8")],TransactionHeader.prototype,"max_cpu_usage_ms",void 0);__decorate$1([Struct.field("varuint32")],TransactionHeader.prototype,"delay_sec",void 0);TransactionHeader=__decorate$1([Struct.type("transaction_header")],TransactionHeader);let Transaction=Transaction_1=class extends TransactionHeader{static from(e,a){const _=nt=>{if(a)return Array.isArray(a)?a.filter(it=>Name.from(it.contract).equals(nt)).map(({abi:it})=>it)[0]:a},b=nt=>nt instanceof Action?nt:Action.from(nt,_(nt.account)),_e=(e.actions||[]).map(b),et=(e.context_free_actions||[]).map(b),tt={transaction_extensions:[],...e,context_free_actions:et,actions:_e};return super.from(tt)}equals(e){const a=Transaction_1.from(e);return this.id.equals(a.id)}get id(){return Checksum256.hash(abiEncode({object:this}))}signingDigest(e){const a=this.signingData(e);return Checksum256.hash(a)}signingData(e){let a=Bytes.from(Checksum256.from(e).array);return a=a.appending(abiEncode({object:this})),a=a.appending(new Uint8Array(32)),a}};__decorate$1([Struct.field(Action,{array:!0})],Transaction.prototype,"context_free_actions",void 0);__decorate$1([Struct.field(Action,{array:!0})],Transaction.prototype,"actions",void 0);__decorate$1([Struct.field(TransactionExtension,{array:!0})],Transaction.prototype,"transaction_extensions",void 0);Transaction=Transaction_1=__decorate$1([Struct.type("transaction")],Transaction);let SignedTransaction=class extends Transaction{get transaction(){return Transaction.from({...this,signatures:void 0,context_free_data:void 0})}get id(){return this.transaction.id}static from(e){return super.from({signatures:[],context_free_data:[],...e})}};__decorate$1([Struct.field("signature[]")],SignedTransaction.prototype,"signatures",void 0);__decorate$1([Struct.field("bytes[]")],SignedTransaction.prototype,"context_free_data",void 0);SignedTransaction=__decorate$1([Struct.type("signed_transaction")],SignedTransaction);var CompressionType;(function(o){o[o.none=0]="none",o[o.zlib=1]="zlib"})(CompressionType||(CompressionType={}));let PackedTransaction=class extends Struct{static from(e){return super.from({signatures:[],packed_context_free_data:"",compression:0,...e})}static fromSigned(e,a=1){let _=abiEncode({object:Transaction.from(e)}),b=abiEncode({object:e.context_free_data,type:"bytes[]"});switch(a){case CompressionType.zlib:{_=pako.deflate(_.array),b=pako.deflate(b.array);break}case CompressionType.none:break}return this.from({compression:a,signatures:e.signatures,packed_context_free_data:b,packed_trx:_})}getTransaction(){switch(Number(this.compression)){case CompressionType.none:return abiDecode({data:this.packed_trx,type:Transaction});case CompressionType.zlib:{const e=pako.inflate(this.packed_trx.array);return abiDecode({data:e,type:Transaction})}default:throw new Error(`Unknown transaction compression ${this.compression}`)}}getSignedTransaction(){const e=this.getTransaction();return SignedTransaction.from({...e,signatures:this.signatures})}};__decorate$1([Struct.field("signature[]")],PackedTransaction.prototype,"signatures",void 0);__decorate$1([Struct.field("uint8")],PackedTransaction.prototype,"compression",void 0);__decorate$1([Struct.field("bytes")],PackedTransaction.prototype,"packed_context_free_data",void 0);__decorate$1([Struct.field("bytes")],PackedTransaction.prototype,"packed_trx",void 0);PackedTransaction=__decorate$1([Struct.type("packed_transaction")],PackedTransaction);let TransactionReceipt=class extends Struct{};__decorate$1([Struct.field("string")],TransactionReceipt.prototype,"status",void 0);__decorate$1([Struct.field("uint32")],TransactionReceipt.prototype,"cpu_usage_us",void 0);__decorate$1([Struct.field("uint32")],TransactionReceipt.prototype,"net_usage_words",void 0);TransactionReceipt=__decorate$1([Struct.type("transaction_receipt")],TransactionReceipt);var Authority_1;let Weight=class extends UInt16{};Weight=__decorate$1([TypeAlias("weight_type")],Weight);let KeyWeight=class extends Struct{};__decorate$1([Struct.field(PublicKey)],KeyWeight.prototype,"key",void 0);__decorate$1([Struct.field(Weight)],KeyWeight.prototype,"weight",void 0);KeyWeight=__decorate$1([Struct.type("key_weight")],KeyWeight);let PermissionLevelWeight=class extends Struct{};__decorate$1([Struct.field(PermissionLevel)],PermissionLevelWeight.prototype,"permission",void 0);__decorate$1([Struct.field(Weight)],PermissionLevelWeight.prototype,"weight",void 0);PermissionLevelWeight=__decorate$1([Struct.type("permission_level_weight")],PermissionLevelWeight);let WaitWeight=class extends Struct{};__decorate$1([Struct.field(UInt32)],WaitWeight.prototype,"wait_sec",void 0);__decorate$1([Struct.field(Weight)],WaitWeight.prototype,"weight",void 0);WaitWeight=__decorate$1([Struct.type("wait_weight")],WaitWeight);let Authority=Authority_1=class extends Struct{static from(e){if(isInstanceOf(e,Authority_1))return e;const a=super.from({keys:[],accounts:[],waits:[],...e});return a.sort(),a}get waitThreshold(){return this.waits.reduce((e,a)=>e+a.weight.toNumber(),0)}get keyThreshold(){return this.threshold.toNumber()-this.waitThreshold}keyWeight(e){const a=this.keys.find(({key:_})=>_.equals(e));return a?a.weight.toNumber():0}hasPermission(e,a=!1){const _=a?1:this.keyThreshold;return this.keyWeight(e)>=_}sort(){this.keys.sort((e,a)=>String(e.key).localeCompare(String(a.key))),this.accounts.sort((e,a)=>String(e.permission).localeCompare(String(a.permission))),this.waits.sort((e,a)=>String(e.wait_sec).localeCompare(String(a.wait_sec)))}};__decorate$1([Struct.field(UInt32)],Authority.prototype,"threshold",void 0);__decorate$1([Struct.field(KeyWeight,{array:!0})],Authority.prototype,"keys",void 0);__decorate$1([Struct.field(PermissionLevelWeight,{array:!0})],Authority.prototype,"accounts",void 0);__decorate$1([Struct.field(WaitWeight,{array:!0})],Authority.prototype,"waits",void 0);Authority=Authority_1=__decorate$1([Struct.type("authority")],Authority);class BlockId{static from(e){return isInstanceOf(e,this)?e:Bytes.isBytes(e)?new this(Bytes.from(e).array):this.fromBlockChecksum(e.checksum,e.blockNum)}static fromABI(e){return new this(e.readArray(32))}static fromBlockChecksum(e,a){const _=new BlockId(Checksum256.from(e).array),b=new Uint8Array(4);return b[0]=Number(a)>>24&255,b[1]=Number(a)>>16&255,b[2]=Number(a)>>8&255,b[3]=Number(a)&255,_.array.set(b,0),_}constructor(e){if(e.byteLength!==32)throw new Error(`BlockId size mismatch, expected 32 bytes got ${e.byteLength}`);this.array=e}equals(e){const a=this.constructor;try{return arrayEquals(this.array,a.from(e).array)}catch{return!1}}toABI(e){e.writeArray(this.array)}toString(){return this.hexString}toJSON(){return this.toString()}get hexString(){return arrayToHex(this.array)}get blockNum(){const e=this.array.slice(0,4);let a=0;for(let _=0;_<4;_++)a=(a<<8)+e[_];return UInt32.from(a)}}BlockId.abiName="block_id_type";var Serializer;(function(o){o.encode=abiEncode,o.decode=abiDecode;function e(b){return synthesizeABI(b).abi}o.synthesize=e;function a(b){return JSON.stringify(b)}o.stringify=a;function _(b){const _e=et=>{switch(typeof et){case"boolean":case"number":case"string":return et;case"object":{if(et===null)return et;if(typeof et.toJSON=="function")return _e(et.toJSON());if(Array.isArray(et))return et.map(_e);const tt={};for(const nt of Object.keys(et))tt[nt]=_e(et[nt]);return tt}}};return _e(b)}o.objectify=_})(Serializer||(Serializer={}));class FetchProvider{constructor(e,a={}){if(this.headers={},e=e.trim(),e.endsWith("/")&&(e=e.slice(0,-1)),this.url=e,a.headers&&(this.headers=a.headers),a.fetch)this.fetch=a.fetch;else if(typeof window<"u"&&window.fetch)this.fetch=window.fetch.bind(window);else if(typeof global$1<"u"&&global$1.fetch)this.fetch=global$1.fetch.bind(global$1);else throw new Error("Missing fetch")}async call(e){const a=this.url+e.path,_=e.params!==void 0?JSON.stringify(e.params):void 0,b={...this.headers,...e.headers},_e=await this.fetch(a,{method:e.method||"POST",body:_,headers:b}),et=await _e.text();let tt;try{tt=JSON.parse(et)}catch{}const nt={};for(const[it,ot]of _e.headers.entries())nt[it]=ot;return{headers:nt,status:_e.status,json:tt,text:et}}}let AccountLinkedAction=class extends Struct{};__decorate$1([Struct.field("name")],AccountLinkedAction.prototype,"account",void 0);__decorate$1([Struct.field("name",{optional:!0})],AccountLinkedAction.prototype,"action",void 0);AccountLinkedAction=__decorate$1([Struct.type("account_linked_action")],AccountLinkedAction);let AccountPermission=class extends Struct{};__decorate$1([Struct.field("name")],AccountPermission.prototype,"perm_name",void 0);__decorate$1([Struct.field("name")],AccountPermission.prototype,"parent",void 0);__decorate$1([Struct.field(Authority)],AccountPermission.prototype,"required_auth",void 0);__decorate$1([Struct.field(AccountLinkedAction,{optional:!0,array:!0})],AccountPermission.prototype,"linked_actions",void 0);AccountPermission=__decorate$1([Struct.type("account_permission")],AccountPermission);let AccountResourceLimit=class extends Struct{};__decorate$1([Struct.field("int64")],AccountResourceLimit.prototype,"used",void 0);__decorate$1([Struct.field("int64")],AccountResourceLimit.prototype,"available",void 0);__decorate$1([Struct.field("int64")],AccountResourceLimit.prototype,"max",void 0);__decorate$1([Struct.field("time_point",{optional:!0})],AccountResourceLimit.prototype,"last_usage_update_time",void 0);__decorate$1([Struct.field("int64",{optional:!0})],AccountResourceLimit.prototype,"current_used",void 0);AccountResourceLimit=__decorate$1([Struct.type("account_resource_limit")],AccountResourceLimit);let AccountTotalResources=class extends Struct{};__decorate$1([Struct.field("name")],AccountTotalResources.prototype,"owner",void 0);__decorate$1([Struct.field("asset")],AccountTotalResources.prototype,"net_weight",void 0);__decorate$1([Struct.field("asset")],AccountTotalResources.prototype,"cpu_weight",void 0);__decorate$1([Struct.field("uint64")],AccountTotalResources.prototype,"ram_bytes",void 0);AccountTotalResources=__decorate$1([Struct.type("account_total_resources")],AccountTotalResources);let AccountSelfDelegatedBandwidth=class extends Struct{};__decorate$1([Struct.field("name")],AccountSelfDelegatedBandwidth.prototype,"from",void 0);__decorate$1([Struct.field("name")],AccountSelfDelegatedBandwidth.prototype,"to",void 0);__decorate$1([Struct.field("asset")],AccountSelfDelegatedBandwidth.prototype,"net_weight",void 0);__decorate$1([Struct.field("asset")],AccountSelfDelegatedBandwidth.prototype,"cpu_weight",void 0);AccountSelfDelegatedBandwidth=__decorate$1([Struct.type("account_self_delegated_bandwidth")],AccountSelfDelegatedBandwidth);let AccountRefundRequest=class extends Struct{};__decorate$1([Struct.field("name")],AccountRefundRequest.prototype,"owner",void 0);__decorate$1([Struct.field("time_point")],AccountRefundRequest.prototype,"request_time",void 0);__decorate$1([Struct.field("asset")],AccountRefundRequest.prototype,"net_amount",void 0);__decorate$1([Struct.field("asset")],AccountRefundRequest.prototype,"cpu_amount",void 0);AccountRefundRequest=__decorate$1([Struct.type("account_refund_request")],AccountRefundRequest);let AccountVoterInfo=class extends Struct{};__decorate$1([Struct.field("name")],AccountVoterInfo.prototype,"owner",void 0);__decorate$1([Struct.field("name")],AccountVoterInfo.prototype,"proxy",void 0);__decorate$1([Struct.field("name",{array:!0})],AccountVoterInfo.prototype,"producers",void 0);__decorate$1([Struct.field("int64",{optional:!0})],AccountVoterInfo.prototype,"staked",void 0);__decorate$1([Struct.field("float64")],AccountVoterInfo.prototype,"last_vote_weight",void 0);__decorate$1([Struct.field("float64")],AccountVoterInfo.prototype,"proxied_vote_weight",void 0);__decorate$1([Struct.field("bool")],AccountVoterInfo.prototype,"is_proxy",void 0);__decorate$1([Struct.field("uint32",{optional:!0})],AccountVoterInfo.prototype,"flags1",void 0);__decorate$1([Struct.field("uint32")],AccountVoterInfo.prototype,"reserved2",void 0);__decorate$1([Struct.field("string")],AccountVoterInfo.prototype,"reserved3",void 0);AccountVoterInfo=__decorate$1([Struct.type("account_voter_info")],AccountVoterInfo);let AccountRexInfoMaturities=class extends Struct{};__decorate$1([Struct.field("time_point",{optional:!0})],AccountRexInfoMaturities.prototype,"key",void 0);__decorate$1([Struct.field("int64",{optional:!0})],AccountRexInfoMaturities.prototype,"value",void 0);__decorate$1([Struct.field("time_point",{optional:!0})],AccountRexInfoMaturities.prototype,"first",void 0);__decorate$1([Struct.field("int64",{optional:!0})],AccountRexInfoMaturities.prototype,"second",void 0);AccountRexInfoMaturities=__decorate$1([Struct.type("account_rex_info_maturities")],AccountRexInfoMaturities);let AccountRexInfo=class extends Struct{};__decorate$1([Struct.field("uint32")],AccountRexInfo.prototype,"version",void 0);__decorate$1([Struct.field("name")],AccountRexInfo.prototype,"owner",void 0);__decorate$1([Struct.field("asset")],AccountRexInfo.prototype,"vote_stake",void 0);__decorate$1([Struct.field("asset")],AccountRexInfo.prototype,"rex_balance",void 0);__decorate$1([Struct.field("int64")],AccountRexInfo.prototype,"matured_rex",void 0);__decorate$1([Struct.field(AccountRexInfoMaturities,{array:!0})],AccountRexInfo.prototype,"rex_maturities",void 0);AccountRexInfo=__decorate$1([Struct.type("account_rex_info")],AccountRexInfo);let GetRawAbiResponse=class extends Struct{};__decorate$1([Struct.field("name")],GetRawAbiResponse.prototype,"account_name",void 0);__decorate$1([Struct.field("checksum256")],GetRawAbiResponse.prototype,"code_hash",void 0);__decorate$1([Struct.field("checksum256")],GetRawAbiResponse.prototype,"abi_hash",void 0);__decorate$1([Struct.field(Blob$1)],GetRawAbiResponse.prototype,"abi",void 0);GetRawAbiResponse=__decorate$1([Struct.type("get_raw_abi_response")],GetRawAbiResponse);let AccountObject=class extends Struct{getPermission(e){const a=Name.from(e),_=this.permissions.find(b=>b.perm_name.equals(a));if(!_)throw new Error(`Unknown permission ${a} on account ${this.account_name}.`);return _}};__decorate$1([Struct.field("name")],AccountObject.prototype,"account_name",void 0);__decorate$1([Struct.field("uint32")],AccountObject.prototype,"head_block_num",void 0);__decorate$1([Struct.field("time_point")],AccountObject.prototype,"head_block_time",void 0);__decorate$1([Struct.field("bool")],AccountObject.prototype,"privileged",void 0);__decorate$1([Struct.field("time_point")],AccountObject.prototype,"last_code_update",void 0);__decorate$1([Struct.field("time_point")],AccountObject.prototype,"created",void 0);__decorate$1([Struct.field("asset?")],AccountObject.prototype,"core_liquid_balance",void 0);__decorate$1([Struct.field("int64")],AccountObject.prototype,"ram_quota",void 0);__decorate$1([Struct.field("int64")],AccountObject.prototype,"net_weight",void 0);__decorate$1([Struct.field("int64")],AccountObject.prototype,"cpu_weight",void 0);__decorate$1([Struct.field(AccountResourceLimit)],AccountObject.prototype,"net_limit",void 0);__decorate$1([Struct.field(AccountResourceLimit)],AccountObject.prototype,"cpu_limit",void 0);__decorate$1([Struct.field(AccountResourceLimit,{optional:!0})],AccountObject.prototype,"subjective_cpu_bill_limit",void 0);__decorate$1([Struct.field("uint64")],AccountObject.prototype,"ram_usage",void 0);__decorate$1([Struct.field(AccountPermission,{array:!0})],AccountObject.prototype,"permissions",void 0);__decorate$1([Struct.field(AccountTotalResources,{optional:!0})],AccountObject.prototype,"total_resources",void 0);__decorate$1([Struct.field(AccountSelfDelegatedBandwidth,{optional:!0})],AccountObject.prototype,"self_delegated_bandwidth",void 0);__decorate$1([Struct.field(AccountRefundRequest,{optional:!0})],AccountObject.prototype,"refund_request",void 0);__decorate$1([Struct.field(AccountVoterInfo,{optional:!0})],AccountObject.prototype,"voter_info",void 0);__decorate$1([Struct.field(AccountRexInfo,{optional:!0})],AccountObject.prototype,"rex_info",void 0);AccountObject=__decorate$1([Struct.type("account_object")],AccountObject);let AccountByAuthorizersRow=class extends Struct{};__decorate$1([Struct.field(Name)],AccountByAuthorizersRow.prototype,"account_name",void 0);__decorate$1([Struct.field(Name)],AccountByAuthorizersRow.prototype,"permission_name",void 0);__decorate$1([Struct.field(PublicKey,{optional:!0})],AccountByAuthorizersRow.prototype,"authorizing_key",void 0);__decorate$1([Struct.field(PermissionLevel,{optional:!0})],AccountByAuthorizersRow.prototype,"authorizing_account",void 0);__decorate$1([Struct.field(Weight)],AccountByAuthorizersRow.prototype,"weight",void 0);__decorate$1([Struct.field(UInt32)],AccountByAuthorizersRow.prototype,"threshold",void 0);AccountByAuthorizersRow=__decorate$1([Struct.type("account_by_authorizers_row")],AccountByAuthorizersRow);let AccountsByAuthorizers=class extends Struct{};__decorate$1([Struct.field(AccountByAuthorizersRow,{array:!0})],AccountsByAuthorizers.prototype,"accounts",void 0);AccountsByAuthorizers=__decorate$1([Struct.type("account_by_authorizers")],AccountsByAuthorizers);let NewProducersEntry$1=class extends Struct{};__decorate$1([Struct.field("name")],NewProducersEntry$1.prototype,"producer_name",void 0);__decorate$1([Struct.field("public_key")],NewProducersEntry$1.prototype,"block_signing_key",void 0);NewProducersEntry$1=__decorate$1([Struct.type("new_producers_entry")],NewProducersEntry$1);let NewProducers$1=class extends Struct{};__decorate$1([Struct.field("uint32")],NewProducers$1.prototype,"version",void 0);__decorate$1([Struct.field(NewProducersEntry$1,{array:!0})],NewProducers$1.prototype,"producers",void 0);NewProducers$1=__decorate$1([Struct.type("new_producers")],NewProducers$1);let BlockExtension$1=class extends Struct{};__decorate$1([Struct.field("uint16")],BlockExtension$1.prototype,"type",void 0);__decorate$1([Struct.field("bytes")],BlockExtension$1.prototype,"data",void 0);BlockExtension$1=__decorate$1([Struct.type("block_extension")],BlockExtension$1);let HeaderExtension$1=class extends Struct{};__decorate$1([Struct.field("uint16")],HeaderExtension$1.prototype,"type",void 0);__decorate$1([Struct.field("bytes")],HeaderExtension$1.prototype,"data",void 0);HeaderExtension$1=__decorate$1([Struct.type("header_extension")],HeaderExtension$1);let TrxVariant$1=class{static from(e){let a,_;return typeof e=="string"?(a=Checksum256.from(e),_={}):(a=Checksum256.from(e.id),_=e),new this(a,_)}constructor(e,a){this.id=e,this.extra=a}get transaction(){if(this.extra.packed_trx)switch(this.extra.compression){case"zlib":{const e=pako.inflate(Bytes.from(this.extra.packed_trx,"hex").array);return Serializer.decode({data:e,type:Transaction})}case"none":return Serializer.decode({data:this.extra.packed_trx,type:Transaction});default:throw new Error(`Unsupported compression type ${this.extra.compression}`)}}get signatures(){if(this.extra.signatures)return this.extra.signatures.map(Signature.from)}equals(e){return this.id.equals(e.id)}toJSON(){return this.id}};TrxVariant$1.abiName="trx_variant";let GetBlockResponseTransactionReceipt=class extends TransactionReceipt{get id(){return this.trx.id}};__decorate$1([Struct.field(TrxVariant$1)],GetBlockResponseTransactionReceipt.prototype,"trx",void 0);GetBlockResponseTransactionReceipt=__decorate$1([Struct.type("get_block_response_receipt")],GetBlockResponseTransactionReceipt);let GetBlockResponse=class extends Struct{};__decorate$1([Struct.field("time_point")],GetBlockResponse.prototype,"timestamp",void 0);__decorate$1([Struct.field("name")],GetBlockResponse.prototype,"producer",void 0);__decorate$1([Struct.field("uint16")],GetBlockResponse.prototype,"confirmed",void 0);__decorate$1([Struct.field(BlockId)],GetBlockResponse.prototype,"previous",void 0);__decorate$1([Struct.field("checksum256")],GetBlockResponse.prototype,"transaction_mroot",void 0);__decorate$1([Struct.field("checksum256")],GetBlockResponse.prototype,"action_mroot",void 0);__decorate$1([Struct.field("uint32")],GetBlockResponse.prototype,"schedule_version",void 0);__decorate$1([Struct.field(NewProducers$1,{optional:!0})],GetBlockResponse.prototype,"new_producers",void 0);__decorate$1([Struct.field("any",{optional:!0})],GetBlockResponse.prototype,"header_extensions",void 0);__decorate$1([Struct.field("any",{optional:!0})],GetBlockResponse.prototype,"new_protocol_features",void 0);__decorate$1([Struct.field("signature")],GetBlockResponse.prototype,"producer_signature",void 0);__decorate$1([Struct.field(GetBlockResponseTransactionReceipt,{array:!0})],GetBlockResponse.prototype,"transactions",void 0);__decorate$1([Struct.field("block_extension",{optional:!0})],GetBlockResponse.prototype,"block_extensions",void 0);__decorate$1([Struct.field(BlockId)],GetBlockResponse.prototype,"id",void 0);__decorate$1([Struct.field("uint32")],GetBlockResponse.prototype,"block_num",void 0);__decorate$1([Struct.field("uint32")],GetBlockResponse.prototype,"ref_block_prefix",void 0);GetBlockResponse=__decorate$1([Struct.type("get_block_response")],GetBlockResponse);let GetBlockInfoResponse=class extends Struct{};__decorate$1([Struct.field("uint32")],GetBlockInfoResponse.prototype,"block_num",void 0);__decorate$1([Struct.field("uint32")],GetBlockInfoResponse.prototype,"ref_block_num",void 0);__decorate$1([Struct.field(BlockId)],GetBlockInfoResponse.prototype,"id",void 0);__decorate$1([Struct.field("time_point")],GetBlockInfoResponse.prototype,"timestamp",void 0);__decorate$1([Struct.field("name")],GetBlockInfoResponse.prototype,"producer",void 0);__decorate$1([Struct.field("uint16")],GetBlockInfoResponse.prototype,"confirmed",void 0);__decorate$1([Struct.field(BlockId)],GetBlockInfoResponse.prototype,"previous",void 0);__decorate$1([Struct.field("checksum256")],GetBlockInfoResponse.prototype,"transaction_mroot",void 0);__decorate$1([Struct.field("checksum256")],GetBlockInfoResponse.prototype,"action_mroot",void 0);__decorate$1([Struct.field("uint32")],GetBlockInfoResponse.prototype,"schedule_version",void 0);__decorate$1([Struct.field("signature")],GetBlockInfoResponse.prototype,"producer_signature",void 0);__decorate$1([Struct.field("uint32")],GetBlockInfoResponse.prototype,"ref_block_prefix",void 0);GetBlockInfoResponse=__decorate$1([Struct.type("get_block_response")],GetBlockInfoResponse);let ActiveScheduleProducerAuthority=class extends Struct{};__decorate$1([Struct.field("name")],ActiveScheduleProducerAuthority.prototype,"producer_name",void 0);__decorate$1([Struct.field("any")],ActiveScheduleProducerAuthority.prototype,"authority",void 0);ActiveScheduleProducerAuthority=__decorate$1([Struct.type("active_schedule_producer_authority")],ActiveScheduleProducerAuthority);let ActiveScheduleProducer=class extends Struct{};__decorate$1([Struct.field("name")],ActiveScheduleProducer.prototype,"producer_name",void 0);__decorate$1([Struct.field(ActiveScheduleProducerAuthority)],ActiveScheduleProducer.prototype,"authority",void 0);ActiveScheduleProducer=__decorate$1([Struct.type("active_schedule_producer")],ActiveScheduleProducer);let ActiveSchedule=class extends Struct{};__decorate$1([Struct.field("uint32")],ActiveSchedule.prototype,"version",void 0);__decorate$1([Struct.field(ActiveScheduleProducer,{array:!0})],ActiveSchedule.prototype,"producers",void 0);ActiveSchedule=__decorate$1([Struct.type("active_schedule")],ActiveSchedule);let BlockStateHeader=class extends Struct{};__decorate$1([Struct.field("time_point")],BlockStateHeader.prototype,"timestamp",void 0);__decorate$1([Struct.field("name")],BlockStateHeader.prototype,"producer",void 0);__decorate$1([Struct.field("uint16")],BlockStateHeader.prototype,"confirmed",void 0);__decorate$1([Struct.field(BlockId)],BlockStateHeader.prototype,"previous",void 0);__decorate$1([Struct.field("checksum256")],BlockStateHeader.prototype,"transaction_mroot",void 0);__decorate$1([Struct.field("checksum256")],BlockStateHeader.prototype,"action_mroot",void 0);__decorate$1([Struct.field("uint32")],BlockStateHeader.prototype,"schedule_version",void 0);__decorate$1([Struct.field("any",{array:!0,optional:!0})],BlockStateHeader.prototype,"header_extensions",void 0);__decorate$1([Struct.field("signature")],BlockStateHeader.prototype,"producer_signature",void 0);BlockStateHeader=__decorate$1([Struct.type("block_state_header")],BlockStateHeader);let GetBlockHeaderStateResponse=class extends Struct{};__decorate$1([Struct.field("uint32")],GetBlockHeaderStateResponse.prototype,"block_num",void 0);__decorate$1([Struct.field("uint32")],GetBlockHeaderStateResponse.prototype,"dpos_proposed_irreversible_blocknum",void 0);__decorate$1([Struct.field("uint32")],GetBlockHeaderStateResponse.prototype,"dpos_irreversible_blocknum",void 0);__decorate$1([Struct.field(BlockId)],GetBlockHeaderStateResponse.prototype,"id",void 0);__decorate$1([Struct.field(BlockStateHeader)],GetBlockHeaderStateResponse.prototype,"header",void 0);__decorate$1([Struct.field("any")],GetBlockHeaderStateResponse.prototype,"active_schedule",void 0);__decorate$1([Struct.field("any")],GetBlockHeaderStateResponse.prototype,"blockroot_merkle",void 0);__decorate$1([Struct.field("any")],GetBlockHeaderStateResponse.prototype,"producer_to_last_produced",void 0);__decorate$1([Struct.field("any")],GetBlockHeaderStateResponse.prototype,"producer_to_last_implied_irb",void 0);__decorate$1([Struct.field("any")],GetBlockHeaderStateResponse.prototype,"valid_block_signing_authority",void 0);__decorate$1([Struct.field("any")],GetBlockHeaderStateResponse.prototype,"confirm_count",void 0);__decorate$1([Struct.field("any")],GetBlockHeaderStateResponse.prototype,"pending_schedule",void 0);__decorate$1([Struct.field("any",{optional:!0})],GetBlockHeaderStateResponse.prototype,"activated_protocol_features",void 0);__decorate$1([Struct.field("any")],GetBlockHeaderStateResponse.prototype,"additional_signatures",void 0);GetBlockHeaderStateResponse=__decorate$1([Struct.type("get_block_header_state_response")],GetBlockHeaderStateResponse);let GetInfoResponse=class extends Struct{getTransactionHeader(e=120){const a=TimePointSec.fromMilliseconds(this.head_block_time.toMilliseconds()+e*1e3),b=this.last_irreversible_block_id.array.subarray(8,12),_e=new Uint32Array(b.buffer,b.byteOffset,1)[0];return TransactionHeader.from({expiration:a,ref_block_num:Number(this.last_irreversible_block_num)&65535,ref_block_prefix:_e})}};__decorate$1([Struct.field("string")],GetInfoResponse.prototype,"server_version",void 0);__decorate$1([Struct.field("checksum256")],GetInfoResponse.prototype,"chain_id",void 0);__decorate$1([Struct.field("uint32")],GetInfoResponse.prototype,"head_block_num",void 0);__decorate$1([Struct.field("uint32")],GetInfoResponse.prototype,"last_irreversible_block_num",void 0);__decorate$1([Struct.field(BlockId)],GetInfoResponse.prototype,"last_irreversible_block_id",void 0);__decorate$1([Struct.field(BlockId)],GetInfoResponse.prototype,"head_block_id",void 0);__decorate$1([Struct.field("time_point")],GetInfoResponse.prototype,"head_block_time",void 0);__decorate$1([Struct.field("name")],GetInfoResponse.prototype,"head_block_producer",void 0);__decorate$1([Struct.field("uint64")],GetInfoResponse.prototype,"virtual_block_cpu_limit",void 0);__decorate$1([Struct.field("uint64")],GetInfoResponse.prototype,"virtual_block_net_limit",void 0);__decorate$1([Struct.field("uint64")],GetInfoResponse.prototype,"block_cpu_limit",void 0);__decorate$1([Struct.field("uint64")],GetInfoResponse.prototype,"block_net_limit",void 0);__decorate$1([Struct.field("string?")],GetInfoResponse.prototype,"server_version_string",void 0);__decorate$1([Struct.field("uint32?")],GetInfoResponse.prototype,"fork_db_head_block_num",void 0);__decorate$1([Struct.field("block_id_type?")],GetInfoResponse.prototype,"fork_db_head_block_id",void 0);GetInfoResponse=__decorate$1([Struct.type("get_info_response")],GetInfoResponse);let GetTableByScopeResponseRow=class extends Struct{};__decorate$1([Struct.field("name")],GetTableByScopeResponseRow.prototype,"code",void 0);__decorate$1([Struct.field("name")],GetTableByScopeResponseRow.prototype,"scope",void 0);__decorate$1([Struct.field("name")],GetTableByScopeResponseRow.prototype,"table",void 0);__decorate$1([Struct.field("name")],GetTableByScopeResponseRow.prototype,"payer",void 0);__decorate$1([Struct.field("uint32")],GetTableByScopeResponseRow.prototype,"count",void 0);GetTableByScopeResponseRow=__decorate$1([Struct.type("get_table_by_scope_response_row")],GetTableByScopeResponseRow);let GetTableByScopeResponse=class extends Struct{};__decorate$1([Struct.field(GetTableByScopeResponseRow,{array:!0})],GetTableByScopeResponse.prototype,"rows",void 0);__decorate$1([Struct.field("string")],GetTableByScopeResponse.prototype,"more",void 0);GetTableByScopeResponse=__decorate$1([Struct.type("get_table_by_scope_response")],GetTableByScopeResponse);let OrderedActionsResult=class extends Struct{};__decorate$1([Struct.field(UInt64)],OrderedActionsResult.prototype,"global_action_seq",void 0);__decorate$1([Struct.field(Int64)],OrderedActionsResult.prototype,"account_action_seq",void 0);__decorate$1([Struct.field(UInt32)],OrderedActionsResult.prototype,"block_num",void 0);__decorate$1([Struct.field(BlockTimestamp)],OrderedActionsResult.prototype,"block_time",void 0);__decorate$1([Struct.field("any")],OrderedActionsResult.prototype,"action_trace",void 0);__decorate$1([Struct.field("boolean?")],OrderedActionsResult.prototype,"irrevirsible",void 0);OrderedActionsResult=__decorate$1([Struct.type("ordered_action_result")],OrderedActionsResult);let GetActionsResponse=class extends Struct{};__decorate$1([Struct.field(OrderedActionsResult,{array:!0})],GetActionsResponse.prototype,"actions",void 0);__decorate$1([Struct.field(Int32)],GetActionsResponse.prototype,"last_irreversible_block",void 0);__decorate$1([Struct.field(Int32)],GetActionsResponse.prototype,"head_block_num",void 0);__decorate$1([Struct.field("boolean?")],GetActionsResponse.prototype,"time_limit_exceeded_error",void 0);GetActionsResponse=__decorate$1([Struct.type("get_actions_response")],GetActionsResponse);let TransactionTrace=class extends Struct{};TransactionTrace=__decorate$1([Struct.type("transaction_trace")],TransactionTrace);let Trx=class extends Struct{};__decorate$1([Struct.field("any")],Trx.prototype,"actions",void 0);__decorate$1([Struct.field("any")],Trx.prototype,"context_free_actions",void 0);__decorate$1([Struct.field("any")],Trx.prototype,"context_free_data",void 0);__decorate$1([Struct.field("number")],Trx.prototype,"delay_sec",void 0);__decorate$1([Struct.field("string")],Trx.prototype,"expiration",void 0);__decorate$1([Struct.field("number")],Trx.prototype,"max_cpu_usage_ms",void 0);__decorate$1([Struct.field("number")],Trx.prototype,"max_net_usage_words",void 0);__decorate$1([Struct.field("number")],Trx.prototype,"ref_block_num",void 0);__decorate$1([Struct.field("number")],Trx.prototype,"ref_block_prefix",void 0);__decorate$1([Struct.field("string",{array:!0})],Trx.prototype,"signatures",void 0);Trx=__decorate$1([Struct.type("trx")],Trx);let TransactionInfo=class extends Struct{};__decorate$1([Struct.field(TransactionReceipt)],TransactionInfo.prototype,"receipt",void 0);__decorate$1([Struct.field("trx")],TransactionInfo.prototype,"trx",void 0);TransactionInfo=__decorate$1([Struct.type("transaction_info")],TransactionInfo);let GetTransactionResponse=class extends Struct{};__decorate$1([Struct.field(Checksum256)],GetTransactionResponse.prototype,"id",void 0);__decorate$1([Struct.field(UInt32)],GetTransactionResponse.prototype,"block_num",void 0);__decorate$1([Struct.field(BlockTimestamp)],GetTransactionResponse.prototype,"block_time",void 0);__decorate$1([Struct.field(UInt32)],GetTransactionResponse.prototype,"last_irreversible_block",void 0);__decorate$1([Struct.field("any?")],GetTransactionResponse.prototype,"traces",void 0);__decorate$1([Struct.field("any")],GetTransactionResponse.prototype,"trx",void 0);GetTransactionResponse=__decorate$1([Struct.type("get_transaction_response")],GetTransactionResponse);let GetKeyAccountsResponse=class extends Struct{};__decorate$1([Struct.field("name",{array:!0})],GetKeyAccountsResponse.prototype,"account_names",void 0);GetKeyAccountsResponse=__decorate$1([Struct.type("get_key_accounts_response")],GetKeyAccountsResponse);let GetCodeResponse=class extends Struct{};__decorate$1([Struct.field(ABI)],GetCodeResponse.prototype,"abi",void 0);__decorate$1([Struct.field("name")],GetCodeResponse.prototype,"account_name",void 0);__decorate$1([Struct.field("checksum256")],GetCodeResponse.prototype,"code_hash",void 0);__decorate$1([Struct.field("string")],GetCodeResponse.prototype,"wast",void 0);__decorate$1([Struct.field("string")],GetCodeResponse.prototype,"wasm",void 0);GetCodeResponse=__decorate$1([Struct.type("get_code_response")],GetCodeResponse);let GetControlledAccountsResponse=class extends Struct{};__decorate$1([Struct.field("name",{array:!0})],GetControlledAccountsResponse.prototype,"controlled_accounts",void 0);GetControlledAccountsResponse=__decorate$1([Struct.type("get_controlled_accounts_response")],GetControlledAccountsResponse);let GetCurrencyStatsItemResponse=class extends Struct{};__decorate$1([Struct.field("asset")],GetCurrencyStatsItemResponse.prototype,"supply",void 0);__decorate$1([Struct.field("asset")],GetCurrencyStatsItemResponse.prototype,"max_supply",void 0);__decorate$1([Struct.field("name")],GetCurrencyStatsItemResponse.prototype,"issuer",void 0);GetCurrencyStatsItemResponse=__decorate$1([Struct.type("get_currency_stats_item_response")],GetCurrencyStatsItemResponse);let GetTransactionStatusResponse=class extends Struct{};__decorate$1([Struct.field("string")],GetTransactionStatusResponse.prototype,"state",void 0);__decorate$1([Struct.field("uint32")],GetTransactionStatusResponse.prototype,"head_number",void 0);__decorate$1([Struct.field(BlockId)],GetTransactionStatusResponse.prototype,"head_id",void 0);__decorate$1([Struct.field("time_point")],GetTransactionStatusResponse.prototype,"head_timestamp",void 0);__decorate$1([Struct.field("uint32")],GetTransactionStatusResponse.prototype,"irreversible_number",void 0);__decorate$1([Struct.field(BlockId)],GetTransactionStatusResponse.prototype,"irreversible_id",void 0);__decorate$1([Struct.field("time_point")],GetTransactionStatusResponse.prototype,"irreversible_timestamp",void 0);__decorate$1([Struct.field(BlockId)],GetTransactionStatusResponse.prototype,"earliest_tracked_block_id",void 0);__decorate$1([Struct.field("uint32")],GetTransactionStatusResponse.prototype,"earliest_tracked_block_number",void 0);GetTransactionStatusResponse=__decorate$1([Struct.type("get_transaction_status_response")],GetTransactionStatusResponse);let ProducerAuthority=class extends Struct{};__decorate$1([Struct.field(UInt32)],ProducerAuthority.prototype,"threshold",void 0);__decorate$1([Struct.field(KeyWeight,{array:!0})],ProducerAuthority.prototype,"keys",void 0);ProducerAuthority=__decorate$1([Struct.type("producer_authority")],ProducerAuthority);let Producer=class extends Struct{static from(e){return super.from({...e,authority:[e.authority[0],ProducerAuthority.from(e.authority[1])]})}};__decorate$1([Struct.field("name")],Producer.prototype,"producer_name",void 0);__decorate$1([Struct.field("any",{array:!0})],Producer.prototype,"authority",void 0);Producer=__decorate$1([Struct.type("producer")],Producer);let ProducerSchedule=class extends Struct{};__decorate$1([Struct.field("uint32")],ProducerSchedule.prototype,"version",void 0);__decorate$1([Struct.field(Producer,{array:!0})],ProducerSchedule.prototype,"producers",void 0);ProducerSchedule=__decorate$1([Struct.type("producer_schedule")],ProducerSchedule);let GetProducerScheduleResponse=class extends Struct{};__decorate$1([Struct.field(ProducerSchedule,{optional:!0})],GetProducerScheduleResponse.prototype,"active",void 0);__decorate$1([Struct.field(ProducerSchedule,{optional:!0})],GetProducerScheduleResponse.prototype,"pending",void 0);__decorate$1([Struct.field(ProducerSchedule,{optional:!0})],GetProducerScheduleResponse.prototype,"proposed",void 0);GetProducerScheduleResponse=__decorate$1([Struct.type("get_producer_schedule_response")],GetProducerScheduleResponse);let ProtocolFeature=class extends Struct{};__decorate$1([Struct.field("checksum256")],ProtocolFeature.prototype,"feature_digest",void 0);__decorate$1([Struct.field("uint32")],ProtocolFeature.prototype,"activation_ordinal",void 0);__decorate$1([Struct.field("uint32")],ProtocolFeature.prototype,"activation_block_num",void 0);__decorate$1([Struct.field("checksum256")],ProtocolFeature.prototype,"description_digest",void 0);__decorate$1([Struct.field("string",{array:!0})],ProtocolFeature.prototype,"dependencies",void 0);__decorate$1([Struct.field("string")],ProtocolFeature.prototype,"protocol_feature_type",void 0);__decorate$1([Struct.field("any",{array:!0})],ProtocolFeature.prototype,"specification",void 0);ProtocolFeature=__decorate$1([Struct.type("protocol_feature")],ProtocolFeature);let GetProtocolFeaturesResponse=class extends Struct{};__decorate$1([Struct.field(ProtocolFeature,{array:!0})],GetProtocolFeaturesResponse.prototype,"activated_protocol_features",void 0);__decorate$1([Struct.field("uint32",{optional:!0})],GetProtocolFeaturesResponse.prototype,"more",void 0);GetProtocolFeaturesResponse=__decorate$1([Struct.type("get_protocol_features_response")],GetProtocolFeaturesResponse);var types$2=Object.freeze({__proto__:null,get AccountByAuthorizersRow(){return AccountByAuthorizersRow},get AccountLinkedAction(){return AccountLinkedAction},get AccountObject(){return AccountObject},get AccountPermission(){return AccountPermission},get AccountRefundRequest(){return AccountRefundRequest},get AccountResourceLimit(){return AccountResourceLimit},get AccountRexInfo(){return AccountRexInfo},get AccountRexInfoMaturities(){return AccountRexInfoMaturities},get AccountSelfDelegatedBandwidth(){return AccountSelfDelegatedBandwidth},get AccountTotalResources(){return AccountTotalResources},get AccountVoterInfo(){return AccountVoterInfo},get AccountsByAuthorizers(){return AccountsByAuthorizers},get ActiveSchedule(){return ActiveSchedule},get ActiveScheduleProducer(){return ActiveScheduleProducer},get ActiveScheduleProducerAuthority(){return ActiveScheduleProducerAuthority},get BlockExtension(){return BlockExtension$1},get BlockStateHeader(){return BlockStateHeader},get GetActionsResponse(){return GetActionsResponse},get GetBlockHeaderStateResponse(){return GetBlockHeaderStateResponse},get GetBlockInfoResponse(){return GetBlockInfoResponse},get GetBlockResponse(){return GetBlockResponse},get GetBlockResponseTransactionReceipt(){return GetBlockResponseTransactionReceipt},get GetCodeResponse(){return GetCodeResponse},get GetControlledAccountsResponse(){return GetControlledAccountsResponse},get GetCurrencyStatsItemResponse(){return GetCurrencyStatsItemResponse},get GetInfoResponse(){return GetInfoResponse},get GetKeyAccountsResponse(){return GetKeyAccountsResponse},get GetProducerScheduleResponse(){return GetProducerScheduleResponse},get GetProtocolFeaturesResponse(){return GetProtocolFeaturesResponse},get GetRawAbiResponse(){return GetRawAbiResponse},get GetTableByScopeResponse(){return GetTableByScopeResponse},get GetTableByScopeResponseRow(){return GetTableByScopeResponseRow},get GetTransactionResponse(){return GetTransactionResponse},get GetTransactionStatusResponse(){return GetTransactionStatusResponse},get HeaderExtension(){return HeaderExtension$1},get NewProducers(){return NewProducers$1},get NewProducersEntry(){return NewProducersEntry$1},get OrderedActionsResult(){return OrderedActionsResult},get Producer(){return Producer},get ProducerAuthority(){return ProducerAuthority},get ProducerSchedule(){return ProducerSchedule},get ProtocolFeature(){return ProtocolFeature},get TransactionInfo(){return TransactionInfo},get TransactionTrace(){return TransactionTrace},get Trx(){return Trx},TrxVariant:TrxVariant$1});class ChainAPI{constructor(e){this.client=e}async get_abi(e){return this.client.call({path:"/v1/chain/get_abi",params:{account_name:Name.from(e)}})}async get_code(e){return this.client.call({path:"/v1/chain/get_code",params:{account_name:Name.from(e)},responseType:GetCodeResponse})}async get_raw_abi(e){return this.client.call({path:"/v1/chain/get_raw_abi",params:{account_name:Name.from(e)},responseType:GetRawAbiResponse})}async get_account(e,a=AccountObject){return this.client.call({path:"/v1/chain/get_account",params:{account_name:Name.from(e)},responseType:a})}async get_accounts_by_authorizers(e){return this.client.call({path:"/v1/chain/get_accounts_by_authorizers",params:e,responseType:AccountsByAuthorizers})}async get_activated_protocol_features(e){return this.client.call({path:"/v1/chain/get_activated_protocol_features",params:e,responseType:GetProtocolFeaturesResponse})}async get_block(e){return this.client.call({path:"/v1/chain/get_block",params:{block_num_or_id:e},responseType:GetBlockResponse})}async get_block_header_state(e){return this.client.call({path:"/v1/chain/get_block_header_state",params:{block_num_or_id:e},responseType:GetBlockHeaderStateResponse})}async get_block_info(e){return this.client.call({path:"/v1/chain/get_block_info",params:{block_num:e},responseType:GetBlockInfoResponse})}async get_currency_balance(e,a,_){const b={account:Name.from(a),code:Name.from(e)};return _&&(b.symbol=_),this.client.call({path:"/v1/chain/get_currency_balance",params:b,responseType:"asset[]"})}async get_currency_stats(e,a){const _={code:Name.from(e),symbol:a},b=await this.client.call({path:"/v1/chain/get_currency_stats",params:_}),_e={};return Object.keys(b).forEach(et=>_e[et]=GetCurrencyStatsItemResponse.from(b[et])),_e}async get_info(){return this.client.call({path:"/v1/chain/get_info",responseType:GetInfoResponse,method:"GET"})}async get_producer_schedule(){return this.client.call({path:"/v1/chain/get_producer_schedule",responseType:GetProducerScheduleResponse})}async compute_transaction(e){return isInstanceOf(e,PackedTransaction)||(e=PackedTransaction.fromSigned(SignedTransaction.from(e))),this.client.call({path:"/v1/chain/compute_transaction",params:{transaction:e}})}async send_read_only_transaction(e){return isInstanceOf(e,PackedTransaction)||(e=PackedTransaction.fromSigned(SignedTransaction.from(e))),this.client.call({path:"/v1/chain/send_read_only_transaction",params:{transaction:e}})}async push_transaction(e){return isInstanceOf(e,PackedTransaction)||(e=PackedTransaction.fromSigned(SignedTransaction.from(e))),this.client.call({path:"/v1/chain/push_transaction",params:e})}async send_transaction(e){return isInstanceOf(e,PackedTransaction)||(e=PackedTransaction.fromSigned(SignedTransaction.from(e))),this.client.call({path:"/v1/chain/send_transaction",params:e})}async send_transaction2(e,a){return isInstanceOf(e,PackedTransaction)||(e=PackedTransaction.fromSigned(SignedTransaction.from(e))),this.client.call({path:"/v1/chain/send_transaction2",params:{return_failure_trace:!0,retry_trx:!1,retry_trx_num_blocks:0,transaction:e,...a}})}async get_table_rows(e){const a=e.type;let _=e.key_type;const b=e.lower_bound||e.upper_bound;!_&&b&&(isInstanceOf(b,UInt64)?_="i64":isInstanceOf(b,UInt128)?_="i128":isInstanceOf(b,Checksum256)?_="sha256":isInstanceOf(b,Checksum160)&&(_="ripemd160")),_||(_="name");let _e=e.json;_e===void 0&&(_e=a===void 0);let et=e.upper_bound;et&&typeof et!="string"&&(et=String(et));let tt=e.lower_bound;tt&&typeof tt!="string"&&(tt=String(tt));let nt=e.scope;typeof nt>"u"?nt=String(Name.from(e.code)):typeof nt!="string"&&(nt=String(nt));let{rows:it,more:ot,next_key:st}=await this.client.call({path:"/v1/chain/get_table_rows",params:{...e,code:Name.from(e.code),table:Name.from(e.table),limit:e.limit!==void 0?UInt32.from(e.limit):void 0,scope:nt,key_type:_,json:_e,upper_bound:et,lower_bound:tt}}),at;if(e.show_payer&&(at=[],it=it.map(({data:lt,payer:ut})=>(at.push(Name.from(ut)),lt))),a&&(_e?it=it.map(lt=>typeof lt=="string"&&Bytes.isBytes(lt)?Serializer.decode({data:Bytes.from(lt),type:a}):Serializer.decode({object:lt,type:a})):it=it.map(lt=>Bytes.from(lt)).map(lt=>Serializer.decode({data:lt,type:a}))),st&&st.length>0){let lt;switch(_){case"i64":lt=UInt64;break;case"i128":lt=UInt128;break;case"name":lt=Name;break;case"float64":lt=Float64;break;case"float128":lt=Float128;break;case"sha256":lt=Checksum256;break;case"ripemd160":lt=Checksum160;break;default:throw new Error(`Unsupported key type: ${_}`)}lt===Name?st=Name.from(Serializer.decode({object:st,type:UInt64})):st=Serializer.decode({object:st,type:lt})}else st=void 0;return{rows:it,more:ot,next_key:st,ram_payers:at}}async get_table_by_scope(e){return this.client.call({path:"/v1/chain/get_table_by_scope",params:e,responseType:GetTableByScopeResponse})}async get_transaction_status(e){return this.client.call({path:"/v1/chain/get_transaction_status",params:{id:Checksum256.from(e)},responseType:GetTransactionStatusResponse})}}class HistoryAPI{constructor(e){this.client=e}async get_actions(e,a,_){return this.client.call({path:"/v1/history/get_actions",params:{account_name:Name.from(e),pos:Int32.from(a),offset:Int32.from(_)},responseType:GetActionsResponse})}async get_transaction(e,a={}){return this.client.call({path:"/v1/history/get_transaction",params:{id:Checksum256.from(e),block_num_hint:a.blockNumHint&&UInt32.from(a.blockNumHint),traces:a.excludeTraces===!0?!1:void 0},responseType:GetTransactionResponse})}async get_key_accounts(e){return this.client.call({path:"/v1/history/get_key_accounts",params:{public_key:PublicKey.from(e)},responseType:GetKeyAccountsResponse})}async get_controlled_accounts(e){return this.client.call({path:"/v1/history/get_controlled_accounts",params:{controlling_account:Name.from(e)},responseType:GetControlledAccountsResponse})}}class APIError extends Error{static formatError(e){return e.what==="unspecified"&&e.details[0].file&&e.details[0].file==="http_plugin.cpp"&&e.details[0].message.slice(0,11)==="unknown key"?"Account not found":e.what==="unspecified"&&e.details&&e.details.length>0?e.details[0].message:e.what&&e.what.length>0?e.what:"Unknown API error"}constructor(e,a){let _;a.json&&a.json.error?_=`${APIError.formatError(a.json.error)} at ${e}`:_=`HTTP ${a.status} at ${e}`,super(_),this.path=e,this.response=a}get error(){const{json:e}=this.response;return e?e.error:void 0}get name(){const{error:e}=this;return e?e.name:"unspecified"}get code(){const{error:e}=this;return e?e.code:0}get details(){const{error:e}=this;return e?e.details:[]}}APIError.__className="APIError";class APIClient{constructor(e){if(this.v1={chain:new ChainAPI(this),history:new HistoryAPI(this)},e.provider)this.provider=e.provider;else if(e.url)this.provider=new FetchProvider(e.url,e);else throw new Error("Missing url or provider")}async call(e){const a=await this.provider.call(e),{json:_}=a;if(Math.floor(a.status/100)!==2||_&&typeof _.error=="object")throw new APIError(e.path,a);return e.responseType?abiDecode({type:e.responseType,object:a.json}):a.json||a.text}}APIClient.__className="APIClient";var types$1=Object.freeze({__proto__:null,v1:types$2}),BlockHeader_1;let HandshakeMessage=class extends Struct{};__decorate$1([Struct.field("uint16")],HandshakeMessage.prototype,"networkVersion",void 0);__decorate$1([Struct.field("checksum256")],HandshakeMessage.prototype,"chainId",void 0);__decorate$1([Struct.field("checksum256")],HandshakeMessage.prototype,"nodeId",void 0);__decorate$1([Struct.field("public_key")],HandshakeMessage.prototype,"key",void 0);__decorate$1([Struct.field("int64")],HandshakeMessage.prototype,"time",void 0);__decorate$1([Struct.field("checksum256")],HandshakeMessage.prototype,"token",void 0);__decorate$1([Struct.field("signature")],HandshakeMessage.prototype,"sig",void 0);__decorate$1([Struct.field("string")],HandshakeMessage.prototype,"p2pAddress",void 0);__decorate$1([Struct.field("uint32")],HandshakeMessage.prototype,"lastIrreversibleBlockNumber",void 0);__decorate$1([Struct.field(BlockId)],HandshakeMessage.prototype,"lastIrreversibleBlockId",void 0);__decorate$1([Struct.field("uint32")],HandshakeMessage.prototype,"headNum",void 0);__decorate$1([Struct.field(BlockId)],HandshakeMessage.prototype,"headId",void 0);__decorate$1([Struct.field("string")],HandshakeMessage.prototype,"os",void 0);__decorate$1([Struct.field("string")],HandshakeMessage.prototype,"agent",void 0);__decorate$1([Struct.field("int16")],HandshakeMessage.prototype,"generation",void 0);HandshakeMessage=__decorate$1([Struct.type("handshake_message")],HandshakeMessage);let ChainSizeMessage=class extends Struct{};__decorate$1([Struct.field("uint32")],ChainSizeMessage.prototype,"lastIrreversibleBlockNumber",void 0);__decorate$1([Struct.field(BlockId)],ChainSizeMessage.prototype,"lastIrreversibleBlockId",void 0);__decorate$1([Struct.field("uint32")],ChainSizeMessage.prototype,"headNum",void 0);__decorate$1([Struct.field(BlockId)],ChainSizeMessage.prototype,"headId",void 0);ChainSizeMessage=__decorate$1([Struct.type("chain_size_message")],ChainSizeMessage);let GoAwayMessage=class extends Struct{};__decorate$1([Struct.field("uint8")],GoAwayMessage.prototype,"reason",void 0);__decorate$1([Struct.field("checksum256")],GoAwayMessage.prototype,"nodeId",void 0);GoAwayMessage=__decorate$1([Struct.type("go_away_message")],GoAwayMessage);let TimeMessage=class extends Struct{};__decorate$1([Struct.field("int64")],TimeMessage.prototype,"org",void 0);__decorate$1([Struct.field("int64")],TimeMessage.prototype,"rec",void 0);__decorate$1([Struct.field("int64")],TimeMessage.prototype,"xmt",void 0);__decorate$1([Struct.field("int64")],TimeMessage.prototype,"dst",void 0);TimeMessage=__decorate$1([Struct.type("time_message")],TimeMessage);let NoticeMessage=class extends Struct{};__decorate$1([Struct.field("checksum256",{array:!0})],NoticeMessage.prototype,"knownTrx",void 0);__decorate$1([Struct.field(BlockId,{array:!0})],NoticeMessage.prototype,"knownBlocks",void 0);NoticeMessage=__decorate$1([Struct.type("notice_message")],NoticeMessage);let RequestMessage=class extends Struct{};__decorate$1([Struct.field("checksum256",{array:!0})],RequestMessage.prototype,"reqTrx",void 0);__decorate$1([Struct.field(BlockId,{array:!0})],RequestMessage.prototype,"reqBlocks",void 0);RequestMessage=__decorate$1([Struct.type("request_message")],RequestMessage);let SyncRequestMessage=class extends Struct{};__decorate$1([Struct.field("uint32")],SyncRequestMessage.prototype,"startBlock",void 0);__decorate$1([Struct.field("uint32")],SyncRequestMessage.prototype,"endBlock",void 0);SyncRequestMessage=__decorate$1([Struct.type("sync_request_message")],SyncRequestMessage);let NewProducersEntry=class extends Struct{};__decorate$1([Struct.field("name")],NewProducersEntry.prototype,"producer_name",void 0);__decorate$1([Struct.field("public_key")],NewProducersEntry.prototype,"block_signing_key",void 0);NewProducersEntry=__decorate$1([Struct.type("new_producers_entry")],NewProducersEntry);let NewProducers=class extends Struct{};__decorate$1([Struct.field("uint32")],NewProducers.prototype,"version",void 0);__decorate$1([Struct.field(NewProducersEntry,{array:!0})],NewProducers.prototype,"producers",void 0);NewProducers=__decorate$1([Struct.type("new_producers")],NewProducers);let BlockExtension=class extends Struct{};__decorate$1([Struct.field("uint16")],BlockExtension.prototype,"type",void 0);__decorate$1([Struct.field("bytes")],BlockExtension.prototype,"data",void 0);BlockExtension=__decorate$1([Struct.type("block_extension")],BlockExtension);let HeaderExtension=class extends Struct{};__decorate$1([Struct.field("uint16")],HeaderExtension.prototype,"type",void 0);__decorate$1([Struct.field("bytes")],HeaderExtension.prototype,"data",void 0);HeaderExtension=__decorate$1([Struct.type("header_extension")],HeaderExtension);let TrxVariant=class extends Variant{};TrxVariant=__decorate$1([Variant.type("trx_variant",[Checksum256,PackedTransaction])],TrxVariant);let FullTransactionReceipt=class extends Struct{};__decorate$1([Struct.field(UInt8)],FullTransactionReceipt.prototype,"status",void 0);__decorate$1([Struct.field(UInt32)],FullTransactionReceipt.prototype,"cpu_usage_us",void 0);__decorate$1([Struct.field(VarUInt)],FullTransactionReceipt.prototype,"net_usage_words",void 0);__decorate$1([Struct.field(TrxVariant)],FullTransactionReceipt.prototype,"trx",void 0);FullTransactionReceipt=__decorate$1([Struct.type("full_transaction_receipt")],FullTransactionReceipt);let BlockHeader=BlockHeader_1=class extends Struct{get blockNum(){return this.previous.blockNum.adding(1)}get id(){const e=Checksum256.hash(Serializer.encode({object:this,type:BlockHeader_1}));return BlockId.fromBlockChecksum(e,this.blockNum)}};__decorate$1([Struct.field("uint32")],BlockHeader.prototype,"timeSlot",void 0);__decorate$1([Struct.field("name")],BlockHeader.prototype,"producer",void 0);__decorate$1([Struct.field("uint16")],BlockHeader.prototype,"confirmed",void 0);__decorate$1([Struct.field(BlockId)],BlockHeader.prototype,"previous",void 0);__decorate$1([Struct.field(BlockId)],BlockHeader.prototype,"transaction_mroot",void 0);__decorate$1([Struct.field(BlockId)],BlockHeader.prototype,"action_mroot",void 0);__decorate$1([Struct.field("uint32")],BlockHeader.prototype,"schedule_version",void 0);__decorate$1([Struct.field(NewProducers,{optional:!0})],BlockHeader.prototype,"new_producers",void 0);__decorate$1([Struct.field("any",{array:!0})],BlockHeader.prototype,"header_extensions",void 0);BlockHeader=BlockHeader_1=__decorate$1([Struct.type("block_header")],BlockHeader);let SignedBlock=class extends BlockHeader{};__decorate$1([Struct.field("signature")],SignedBlock.prototype,"producer_signature",void 0);__decorate$1([Struct.field(FullTransactionReceipt,{array:!0})],SignedBlock.prototype,"transactions",void 0);__decorate$1([Struct.field(BlockExtension,{array:!0})],SignedBlock.prototype,"block_extensions",void 0);SignedBlock=__decorate$1([Struct.type("signed_block")],SignedBlock);let NetMessage=class extends Variant{};NetMessage=__decorate$1([Variant.type("net_message",[HandshakeMessage,ChainSizeMessage,GoAwayMessage,TimeMessage,NoticeMessage,RequestMessage,SyncRequestMessage,SignedBlock,PackedTransaction])],NetMessage);class Canceled extends Error{constructor(e,a=!1){super(e),this.silent=!1,this.silent=a,Object.setPrototypeOf(this,Canceled.prototype)}}function cancelable(o,e){let a=null;const _=new Promise((b,_e)=>{a=(et="",tt=!1)=>{try{e&&e(new Canceled(et,tt))}catch(nt){_e(nt)}return _},o.then(b,_e)});return a&&(_.cancel=a),_}function __decorate(o,e,a,_){var b=arguments.length,_e=b<3?e:_,et;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_e=Reflect.decorate(o,e,a,_);else for(var tt=o.length-1;tt>=0;tt--)(et=o[tt])&&(_e=(b<3?et(_e):b>3?et(e,a,_e):et(e,a))||_e);return b>3&&_e&&Object.defineProperty(e,a,_e),_e}typeof SuppressedError=="function"&&SuppressedError;let ExplorerDefinition=class extends Struct{url(e){return`${this.prefix}${e}${this.suffix}`}};__decorate([Struct.field("string")],ExplorerDefinition.prototype,"prefix",void 0);__decorate([Struct.field("string")],ExplorerDefinition.prototype,"suffix",void 0);ExplorerDefinition=__decorate([Struct.type("explorer_definition")],ExplorerDefinition);var Logo_1;let Logo=Logo_1=class extends Struct{static from(e){return typeof e=="string"?new Logo_1({light:e,dark:e}):super.from(e)}getVariant(e){return this[e]}toString(){return this.light}};__decorate([Struct.field("string")],Logo.prototype,"dark",void 0);__decorate([Struct.field("string")],Logo.prototype,"light",void 0);Logo=Logo_1=__decorate([Struct.type("logo")],Logo);let TokenIdentifier=class extends Struct{};__decorate([Struct.field(Checksum256)],TokenIdentifier.prototype,"chain",void 0);__decorate([Struct.field(Name)],TokenIdentifier.prototype,"contract",void 0);__decorate([Struct.field(Asset$1.Symbol)],TokenIdentifier.prototype,"symbol",void 0);TokenIdentifier=__decorate([Struct.type("token_identifier")],TokenIdentifier);let TokenMeta=class extends Struct{};__decorate([Struct.field(TokenIdentifier)],TokenMeta.prototype,"id",void 0);__decorate([Struct.field("string",{optional:!0})],TokenMeta.prototype,"logo",void 0);TokenMeta=__decorate([Struct.type("token_meta")],TokenMeta);let TokenBalance=class extends Struct{};__decorate([Struct.field(Asset$1)],TokenBalance.prototype,"asset",void 0);__decorate([Struct.field(Name)],TokenBalance.prototype,"contract",void 0);__decorate([Struct.field(TokenMeta)],TokenBalance.prototype,"metadata",void 0);TokenBalance=__decorate([Struct.type("token_balance")],TokenBalance);class ChainDefinition{constructor(e){this.id=Checksum256.from(e.id),this.url=e.url,this.logo=e.logo,this.explorer=e.explorer,this.accountDataType=e.accountDataType,this.coinType=e.coinType,e.systemTokenContract&&e.systemTokenSymbol&&(this.systemToken=TokenIdentifier.from({chain:this.id,contract:e.systemTokenContract,symbol:e.systemTokenSymbol})),e.systemToken&&(this.systemToken=e.systemToken)}static from(e){return new ChainDefinition({...e,explorer:e.explorer?ExplorerDefinition.from(e.explorer):void 0,logo:e.logo?Logo.from(e.logo):void 0})}get name(){const e=chainIdsToIndices.get(String(this.id));return e?ChainNames[e]:"Unknown blockchain"}getLogo(){const e=String(this.id);if(this.logo)return Logo.from(this.logo);if(chainLogos.has(e)){const a=chainLogos.get(e);if(a)return Logo.from(a)}}equals(e){const a=ChainDefinition.from(e);return this.id.equals(a.id)&&this.url===a.url}}const ChainNames={EOS:"EOS",FIO:"FIO",FIOTestnet:"FIO (Testnet)",Jungle4:"Jungle 4 (Testnet)",KylinTestnet:"Kylin (Testnet)",Libre:"Libre",LibreTestnet:"Libre (Testnet)",Proton:"XPR Network",ProtonTestnet:"XPR Network (Testnet)",Telos:"Telos",TelosTestnet:"Telos (Testnet)",UX:"UX Network",Vaulta:"Vaulta",WAX:"WAX",WAXTestnet:"WAX (Testnet)",XPR:"XPR Network",XPRTestnet:"XPR Network (Testnet)"};let TelosAccountVoterInfo=class extends types$1.v1.AccountVoterInfo{};__decorate([Struct.field(Int64)],TelosAccountVoterInfo.prototype,"last_stake",void 0);TelosAccountVoterInfo=__decorate([Struct.type("telos_account_voter_info")],TelosAccountVoterInfo);let TelosAccountObject=class extends types$1.v1.AccountObject{};__decorate([Struct.field(TelosAccountVoterInfo,{optional:!0})],TelosAccountObject.prototype,"voter_info",void 0);TelosAccountObject=__decorate([Struct.type("telos_account_object")],TelosAccountObject);let WAXAccountVoterInfo=class extends types$1.v1.AccountVoterInfo{};__decorate([Struct.field(Float64)],WAXAccountVoterInfo.prototype,"unpaid_voteshare",void 0);__decorate([Struct.field(TimePoint)],WAXAccountVoterInfo.prototype,"unpaid_voteshare_last_updated",void 0);__decorate([Struct.field(Float64)],WAXAccountVoterInfo.prototype,"unpaid_voteshare_change_rate",void 0);__decorate([Struct.field(TimePoint)],WAXAccountVoterInfo.prototype,"last_claim_time",void 0);WAXAccountVoterInfo=__decorate([Struct.type("wax_account_voter_info")],WAXAccountVoterInfo);let WAXAccountObject=class extends types$1.v1.AccountObject{};__decorate([Struct.field(WAXAccountVoterInfo,{optional:!0})],WAXAccountObject.prototype,"voter_info",void 0);WAXAccountObject=__decorate([Struct.type("wax_account_object")],WAXAccountObject);var Chains;(function(o){o.EOS=ChainDefinition.from({id:"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906",url:"https://eos.greymass.com",coinType:194,systemTokenSymbol:"4,EOS",systemTokenContract:"eosio.token"}),o.FIO=ChainDefinition.from({id:"21dcae42c0182200e93f954a074011f9048a7624c6fe81d3c9541a614a88bd1c",url:"https://fio.greymass.com",coinType:235,systemTokenSymbol:"9,FIO",systemTokenContract:"eosio.token"}),o.FIOTestnet=ChainDefinition.from({id:"b20901380af44ef59c5918439a1f9a41d83669020319a80574b804a5f95cbd7e",url:"https://fiotestnet.greymass.com",systemTokenSymbol:"9,FIO",systemTokenContract:"fio.token"}),o.Jungle4=ChainDefinition.from({id:"73e4385a2708e6d7048834fbc1079f2fabb17b3c125b146af438971e90716c4d",url:"https://jungle4.greymass.com",coinType:194,systemTokenSymbol:"4,EOS",systemTokenContract:"eosio.token"}),o.KylinTestnet=ChainDefinition.from({id:"5fff1dae8dc8e2fc4d5b23b2c7665c97f9e9d8edf2b6485a86ba311c25639191",url:"https://kylintestnet.greymass.com",coinType:194,systemTokenSymbol:"4,EOS",systemTokenContract:"eosio.token"}),o.Libre=ChainDefinition.from({id:"38b1d7815474d0c60683ecbea321d723e83f5da6ae5f1c1f9fecc69d9ba96465",url:"https://libre.greymass.com",systemTokenSymbol:"4,LIBRE",systemTokenContract:"eosio.token"}),o.LibreTestnet=ChainDefinition.from({id:"b64646740308df2ee06c6b72f34c0f7fa066d940e831f752db2006fcc2b78dee",url:"https://libretestnet.greymass.com",systemTokenSymbol:"4,LIBRE",systemTokenContract:"eosio.token"}),o.Proton=ChainDefinition.from({id:"384da888112027f0321850a169f737c33e53b388aad48b5adace4bab97f437e0",url:"https://proton.greymass.com",systemTokenSymbol:"4,XPR",systemTokenContract:"eosio.token"}),o.ProtonTestnet=ChainDefinition.from({id:"71ee83bcf52142d61019d95f9cc5427ba6a0d7ff8accd9e2088ae2abeaf3d3dd",url:"https://proton-testnet.greymass.com",systemTokenSymbol:"4,XPR",systemTokenContract:"eosio.token"}),o.Telos=ChainDefinition.from({id:"4667b205c6838ef70ff7988f6e8257e8be0e1284a2f59699054a018f743b1d11",url:"https://telos.greymass.com",accountDataType:TelosAccountObject,coinType:977,systemTokenSymbol:"4,TLOS",systemTokenContract:"eosio.token"}),o.TelosTestnet=ChainDefinition.from({id:"1eaa0824707c8c16bd25145493bf062aecddfeb56c736f6ba6397f3195f33c9f",url:"https://telostestnet.greymass.com",accountDataType:TelosAccountObject,coinType:977,systemTokenSymbol:"4,TLOS",systemTokenContract:"eosio.token"}),o.UX=ChainDefinition.from({id:"8fc6dce7942189f842170de953932b1f66693ad3788f766e777b6f9d22335c02",url:"https://api.uxnetwork.io",systemTokenSymbol:"4,UTX",systemTokenContract:"eosio.token"}),o.Vaulta=ChainDefinition.from({id:"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906",url:"https://eos.greymass.com",coinType:194,systemTokenSymbol:"4,A",systemTokenContract:"core.vaulta"}),o.WAX=ChainDefinition.from({id:"1064487b3cd1a897ce03ae5b6a865651747e2e152090f99c1d19d44e01aea5a4",url:"https://wax.greymass.com",accountDataType:WAXAccountObject,coinType:14001,systemTokenSymbol:"8,WAX",systemTokenContract:"eosio.token"}),o.WAXTestnet=ChainDefinition.from({id:"f16b1833c747c43682f4386fca9cbb327929334a762755ebec17f6f23c9b8a12",url:"https://waxtestnet.greymass.com",accountDataType:WAXAccountObject,coinType:14001,systemTokenSymbol:"8,WAX",systemTokenContract:"eosio.token"}),o.XPR=ChainDefinition.from({id:"384da888112027f0321850a169f737c33e53b388aad48b5adace4bab97f437e0",url:"https://proton.greymass.com",systemTokenSymbol:"4,XPR",systemTokenContract:"eosio.token"}),o.XPRTestnet=ChainDefinition.from({id:"71ee83bcf52142d61019d95f9cc5427ba6a0d7ff8accd9e2088ae2abeaf3d3dd",url:"https://proton-testnet.greymass.com",systemTokenSymbol:"4,XPR",systemTokenContract:"eosio.token"})})(Chains||(Chains={}));const chainIdsToIndices=new Map([["21dcae42c0182200e93f954a074011f9048a7624c6fe81d3c9541a614a88bd1c","FIO"],["b20901380af44ef59c5918439a1f9a41d83669020319a80574b804a5f95cbd7e","FIOTestnet"],["73e4385a2708e6d7048834fbc1079f2fabb17b3c125b146af438971e90716c4d","Jungle4"],["5fff1dae8dc8e2fc4d5b23b2c7665c97f9e9d8edf2b6485a86ba311c25639191","KylinTestnet"],["38b1d7815474d0c60683ecbea321d723e83f5da6ae5f1c1f9fecc69d9ba96465","Libre"],["b64646740308df2ee06c6b72f34c0f7fa066d940e831f752db2006fcc2b78dee","LibreTestnet"],["384da888112027f0321850a169f737c33e53b388aad48b5adace4bab97f437e0","XPR"],["71ee83bcf52142d61019d95f9cc5427ba6a0d7ff8accd9e2088ae2abeaf3d3dd","XPRTestnet"],["4667b205c6838ef70ff7988f6e8257e8be0e1284a2f59699054a018f743b1d11","Telos"],["1eaa0824707c8c16bd25145493bf062aecddfeb56c736f6ba6397f3195f33c9f","TelosTestnet"],["8fc6dce7942189f842170de953932b1f66693ad3788f766e777b6f9d22335c02","UX"],["aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906","Vaulta"],["1064487b3cd1a897ce03ae5b6a865651747e2e152090f99c1d19d44e01aea5a4","WAX"],["f16b1833c747c43682f4386fca9cbb327929334a762755ebec17f6f23c9b8a12","WAXTestnet"]]),chainLogos=new Map([["21dcae42c0182200e93f954a074011f9048a7624c6fe81d3c9541a614a88bd1c","https://assets.wharfkit.com/chain/fio.png"],["b20901380af44ef59c5918439a1f9a41d83669020319a80574b804a5f95cbd7e","https://assets.wharfkit.com/chain/fio.png"],["2a02a0053e5a8cf73a56ba0fda11e4d92e0238a4a2aa74fccf46d5a910746840","https://assets.wharfkit.com/chain/jungle.png"],["73e4385a2708e6d7048834fbc1079f2fabb17b3c125b146af438971e90716c4d","https://assets.wharfkit.com/chain/jungle.png"],["38b1d7815474d0c60683ecbea321d723e83f5da6ae5f1c1f9fecc69d9ba96465","https://assets.wharfkit.com/chain/libre.png"],["b64646740308df2ee06c6b72f34c0f7fa066d940e831f752db2006fcc2b78dee","https://assets.wharfkit.com/chain/libre.png"],["384da888112027f0321850a169f737c33e53b388aad48b5adace4bab97f437e0","https://assets.wharfkit.com/chain/xprnetwork.png"],["71ee83bcf52142d61019d95f9cc5427ba6a0d7ff8accd9e2088ae2abeaf3d3dd","https://assets.wharfkit.com/chain/xprnetwork.png"],["4667b205c6838ef70ff7988f6e8257e8be0e1284a2f59699054a018f743b1d11","https://assets.wharfkit.com/chain/telos.png"],["1eaa0824707c8c16bd25145493bf062aecddfeb56c736f6ba6397f3195f33c9f","https://assets.wharfkit.com/chain/telos.png"],["aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906","https://assets.wharfkit.com/chain/vaulta.png"],["8fc6dce7942189f842170de953932b1f66693ad3788f766e777b6f9d22335c02","https://assets.wharfkit.com/chain/ux.png"],["1064487b3cd1a897ce03ae5b6a865651747e2e152090f99c1d19d44e01aea5a4","https://assets.wharfkit.com/chain/wax.png"],["f16b1833c747c43682f4386fca9cbb327929334a762755ebec17f6f23c9b8a12","https://assets.wharfkit.com/chain/wax.png"]]);/**
 * EOSIO Signing Request v3.4.0
 * https://github.com/greymass/eosio-signing-request
 *
 * @license
 * Copyright  2021 Greymass Inc.
 * 
 * Permission is hereby granted, free of charge, to any person
 * obtaining a copy of this software and associated documentation
 * files (the Software), to deal in the Software without
 * restriction, including without limitation the rights to use,
 * copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the
 * Software is furnished to do so, subject to the following
 * conditions:
 * 
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED AS IS, WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 * OTHER DEALINGS IN THE SOFTWARE.
 * 
 * YOU ACKNOWLEDGE THAT THIS SOFTWARE IS NOT DESIGNED, LICENSED OR
 * INTENDED FOR USE IN THE DESIGN, CONSTRUCTION, OPERATION OR
 * MAINTENANCE OF ANY MILITARY FACILITY.
 */const baseCharset="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",lookup=new Uint8Array(256);for(let o=0;o<62;o++)lookup[baseCharset.charCodeAt(o)]=o;lookup[43]=lookup[45]=62;lookup[47]=lookup[95]=63;function encode(o,e=!0){const a=o.byteLength,_=a%3,b=a-_,_e=baseCharset+(e?"-_":"+/"),et=[];let tt,nt,it,ot,st;for(let at=0;at<b;at+=3)st=o[at]<<16|o[at+1]<<8|o[at+2],tt=(st&16515072)>>18,nt=(st&258048)>>12,it=(st&4032)>>6,ot=st&63,et.push(_e[tt]+_e[nt]+_e[it]+_e[ot]);return _===1?(st=o[b],tt=(st&252)>>2,nt=(st&3)<<4,et.push(_e[tt]+_e[nt])):_===2&&(st=o[b]<<8|o[b+1],tt=(st&64512)>>10,nt=(st&1008)>>4,it=(st&15)<<2,et.push(_e[tt]+_e[nt]+_e[it])),et.join("")}function decode(o){const e=o.length*.75,a=new Uint8Array(e);let _,b,_e,et,tt=0;for(let nt=0;nt<o.length;nt+=4)_=lookup[o.charCodeAt(nt)],b=lookup[o.charCodeAt(nt+1)],_e=lookup[o.charCodeAt(nt+2)],et=lookup[o.charCodeAt(nt+3)],a[tt++]=_<<2|b>>4,a[tt++]=(b&15)<<4|_e>>2,a[tt++]=(_e&3)<<6|et&63;return a}var ChainName;(function(o){o[o.UNKNOWN=0]="UNKNOWN",o[o.EOS=1]="EOS",o[o.TELOS=2]="TELOS",o[o.JUNGLE=3]="JUNGLE",o[o.KYLIN=4]="KYLIN",o[o.WORBLI=5]="WORBLI",o[o.BOS=6]="BOS",o[o.MEETONE=7]="MEETONE",o[o.INSIGHTS=8]="INSIGHTS",o[o.BEOS=9]="BEOS",o[o.WAX=10]="WAX",o[o.PROTON=11]="PROTON",o[o.FIO=12]="FIO"})(ChainName||(ChainName={}));let ChainId=class extends Checksum256{static from(e){if(isInstanceOf(e,this))return e;if(typeof e=="number"&&(e=ChainIdLookup.get(e),!e))throw new Error("Unknown chain id alias");return super.from(e)}get chainVariant(){const e=this.chainName;return e!==ChainName.UNKNOWN?ChainIdVariant.from(["chain_alias",e]):ChainIdVariant.from(this)}get chainName(){const e=this.hexString;for(const[a,_]of ChainIdLookup)if(_===e)return a;return ChainName.UNKNOWN}};ChainId=__decorate$1([TypeAlias("chain_id")],ChainId);let ChainAlias=class extends UInt8{};ChainAlias=__decorate$1([TypeAlias("chain_alias")],ChainAlias);let ChainIdVariant=class extends Variant{get chainId(){return isInstanceOf(this.value,ChainId)?this.value:ChainId.from(Number(this.value.value))}};ChainIdVariant=__decorate$1([Variant.type("variant_id",[ChainAlias,ChainId])],ChainIdVariant);const ChainIdLookup=new Map([[ChainName.EOS,"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906"],[ChainName.TELOS,"4667b205c6838ef70ff7988f6e8257e8be0e1284a2f59699054a018f743b1d11"],[ChainName.JUNGLE,"e70aaab8997e1dfce58fbfac80cbbb8fecec7b99cf982a9444273cbc64c41473"],[ChainName.KYLIN,"5fff1dae8dc8e2fc4d5b23b2c7665c97f9e9d8edf2b6485a86ba311c25639191"],[ChainName.WORBLI,"73647cde120091e0a4b85bced2f3cfdb3041e266cbbe95cee59b73235a1b3b6f"],[ChainName.BOS,"d5a3d18fbb3c084e3b1f3fa98c21014b5f3db536cc15d08f9f6479517c6a3d86"],[ChainName.MEETONE,"cfe6486a83bad4962f232d48003b1824ab5665c36778141034d75e57b956e422"],[ChainName.INSIGHTS,"b042025541e25a472bffde2d62edd457b7e70cee943412b1ea0f044f88591664"],[ChainName.BEOS,"b912d19a6abd2b1b05611ae5be473355d64d95aeff0c09bedc8c166cd6468fe4"],[ChainName.WAX,"1064487b3cd1a897ce03ae5b6a865651747e2e152090f99c1d19d44e01aea5a4"],[ChainName.PROTON,"384da888112027f0321850a169f737c33e53b388aad48b5adace4bab97f437e0"],[ChainName.FIO,"21dcae42c0182200e93f954a074011f9048a7624c6fe81d3c9541a614a88bd1c"]]);var RequestFlags_1;let AccountName=class extends Name{};AccountName=__decorate$1([TypeAlias("account_name")],AccountName);let PermissionName=class extends Name{};PermissionName=__decorate$1([TypeAlias("permission_name")],PermissionName);let IdentityV2=class extends Struct{};__decorate$1([Struct.field(PermissionLevel,{optional:!0})],IdentityV2.prototype,"permission",void 0);IdentityV2=__decorate$1([Struct.type("identity")],IdentityV2);let IdentityV3=class extends Struct{};__decorate$1([Struct.field("name")],IdentityV3.prototype,"scope",void 0);__decorate$1([Struct.field(PermissionLevel,{optional:!0})],IdentityV3.prototype,"permission",void 0);IdentityV3=__decorate$1([Struct.type("identity")],IdentityV3);let RequestVariantV2=class extends Variant{};RequestVariantV2=__decorate$1([Variant.type("variant_req",[Action,{type:Action,array:!0},Transaction,IdentityV2])],RequestVariantV2);let RequestVariantV3=class extends Variant{};RequestVariantV3=__decorate$1([Variant.type("variant_req",[Action,{type:Action,array:!0},Transaction,IdentityV3])],RequestVariantV3);let RequestFlags=RequestFlags_1=class extends UInt8{get broadcast(){return(Number(this)&RequestFlags_1.broadcast)!==0}set broadcast(e){this.setFlag(RequestFlags_1.broadcast,e)}get background(){return(Number(this)&RequestFlags_1.background)!==0}set background(e){this.setFlag(RequestFlags_1.background,e)}setFlag(e,a){a?this.value=UInt8.from(Number(this)|e).value:this.value=UInt8.from(Number(this)&~e).value}};RequestFlags.broadcast=1;RequestFlags.background=2;RequestFlags=RequestFlags_1=__decorate$1([TypeAlias("request_flags")],RequestFlags);let InfoPair=class extends Struct{};__decorate$1([Struct.field("string")],InfoPair.prototype,"key",void 0);__decorate$1([Struct.field("bytes")],InfoPair.prototype,"value",void 0);InfoPair=__decorate$1([Struct.type("info_pair")],InfoPair);let RequestDataV2=class extends Struct{};__decorate$1([Struct.field(ChainIdVariant)],RequestDataV2.prototype,"chain_id",void 0);__decorate$1([Struct.field(RequestVariantV2)],RequestDataV2.prototype,"req",void 0);__decorate$1([Struct.field(RequestFlags)],RequestDataV2.prototype,"flags",void 0);__decorate$1([Struct.field("string")],RequestDataV2.prototype,"callback",void 0);__decorate$1([Struct.field(InfoPair,{array:!0})],RequestDataV2.prototype,"info",void 0);RequestDataV2=__decorate$1([Struct.type("signing_request")],RequestDataV2);let RequestDataV3=class extends Struct{};__decorate$1([Struct.field(ChainIdVariant)],RequestDataV3.prototype,"chain_id",void 0);__decorate$1([Struct.field(RequestVariantV3)],RequestDataV3.prototype,"req",void 0);__decorate$1([Struct.field(RequestFlags)],RequestDataV3.prototype,"flags",void 0);__decorate$1([Struct.field("string")],RequestDataV3.prototype,"callback",void 0);__decorate$1([Struct.field(InfoPair,{array:!0})],RequestDataV3.prototype,"info",void 0);RequestDataV3=__decorate$1([Struct.type("signing_request")],RequestDataV3);let RequestSignature=class extends Struct{};__decorate$1([Struct.field("name")],RequestSignature.prototype,"signer",void 0);__decorate$1([Struct.field("signature")],RequestSignature.prototype,"signature",void 0);RequestSignature=__decorate$1([Struct.type("request_signature")],RequestSignature);var IdentityProof_1;let IdentityProof=IdentityProof_1=class extends Struct{static from(e){return isInstanceOf(e,IdentityProof_1)?e:typeof e=="string"?IdentityProof_1.fromString(e):super.from(e)}static fromString(e){const a=e.split(" ");if(a.length!==2||a[0]!=="EOSIO")throw new Error("Invalid IdentityProof string");const _=decode(a[1]);return Serializer.decode({data:_,type:IdentityProof_1})}static fromPayload(e,a={}){const _=SigningRequest.from(e.req,a);if(!(_.version>=3&&_.isIdentity()))throw new Error("Not an identity request");return this.from({chainId:e.cid||_.getChainId(),scope:_.getIdentityScope(),expiration:e.ex,signer:{actor:e.sa,permission:e.sp},signature:e.sig})}get transaction(){const e=Action.from({account:"",name:"identity",authorization:[this.signer],data:IdentityV3.from({scope:this.scope,permission:this.signer})});return Transaction.from({ref_block_num:0,ref_block_prefix:0,expiration:this.expiration,actions:[e]})}recover(){return this.signature.recoverDigest(this.transaction.signingDigest(this.chainId))}verify(e,a){return TimePointSec.from(a||new Date).toMilliseconds()<this.expiration.toMilliseconds()&&Authority.from(e).hasPermission(this.recover())}toString(){const e=Serializer.encode({object:this});return`EOSIO ${encode(e.array,!1)}`}};__decorate$1([Struct.field(ChainId)],IdentityProof.prototype,"chainId",void 0);__decorate$1([Struct.field(Name)],IdentityProof.prototype,"scope",void 0);__decorate$1([Struct.field(TimePointSec)],IdentityProof.prototype,"expiration",void 0);__decorate$1([Struct.field(PermissionLevel)],IdentityProof.prototype,"signer",void 0);__decorate$1([Struct.field(Signature)],IdentityProof.prototype,"signature",void 0);IdentityProof=IdentityProof_1=__decorate$1([Struct.type("identity_proof")],IdentityProof);const PlaceholderName=Name.from("............1"),PlaceholderPermission=Name.from("............2"),PlaceholderAuth=PermissionLevel.from({actor:PlaceholderName,permission:PlaceholderPermission});class SigningRequest{constructor(e,a,_,b,_e){if(a.flags.broadcast&&a.req.variantName==="identity")throw new Error("Invalid request (identity request cannot be broadcast)");this.version=e,this.data=a,this.zlib=_,this.abiProvider=b,this.signature=_e}static identityAbi(e){const a=Serializer.synthesize(this.identityType(e));return a.actions=[{name:"identity",type:"identity",ricardian_contract:""}],a}static identityType(e){return e===2?IdentityV2:IdentityV3}static storageType(e){return e===2?RequestDataV2:RequestDataV3}static async create(e,a={}){let _;e.action?_=[e.action]:e.actions?_=e.actions:e.transaction?_=e.transaction.actions||[]:_=[];const b=_.filter(et=>!Bytes.isBytes(et.data)&&et.data.constructor.abiName===void 0).map(et=>Name.from(et.account)),_e={};if(b.length>0){const et=a.abiProvider;if(!et)throw new Error("Missing abi provider");const tt=await Promise.all(b.map(nt=>et.getAbi(nt)));for(const[nt,it]of tt.entries())_e[b[nt].toString()]=it}return this.createSync(e,a,_e)}static createSync(e,a={},_={}){let b=2;const _e={},et=ot=>encodeAction(ot,_);if(e.chainId===null&&(b=3),e.identity!==void 0)e.identity.scope&&(b=3),_e.req=["identity",this.identityType(b).from(e.identity)];else if(e.action&&!e.actions&&!e.transaction)_e.req=["action",et(e.action)];else if(e.actions&&!e.action&&!e.transaction)e.actions.length===1?_e.req=["action",et(e.actions[0])]:_e.req=["action[]",e.actions.map(et)];else if(e.transaction&&!e.action&&!e.actions){const ot=e.transaction;ot.expiration===void 0&&(ot.expiration="1970-01-01T00:00:00.000"),ot.ref_block_num===void 0&&(ot.ref_block_num=0),ot.ref_block_prefix===void 0&&(ot.ref_block_prefix=0),ot.context_free_actions===void 0&&(ot.context_free_actions=[]),ot.transaction_extensions===void 0&&(ot.transaction_extensions=[]),ot.delay_sec===void 0&&(ot.delay_sec=0),ot.max_cpu_usage_ms===void 0&&(ot.max_cpu_usage_ms=0),ot.max_net_usage_words===void 0&&(ot.max_net_usage_words=0),ot.actions===void 0&&(ot.actions=[]),ot.context_free_actions===void 0&&(ot.context_free_actions=[]),ot.actions=ot.actions.map(et),_e.req=["transaction",ot]}else throw new TypeError("Invalid arguments: Must have exactly one of action, actions or transaction");e.chainId===null?_e.chain_id=ChainIdVariant.from(["chain_alias",0]):_e.chain_id=ChainId.from(e.chainId||ChainName.EOS).chainVariant;const tt=RequestFlags.from(0);let nt="";if(tt.broadcast=e.broadcast!==void 0?e.broadcast:_e.req[0]!=="identity",typeof e.callback=="string"?nt=e.callback:typeof e.callback=="object"&&(nt=e.callback.url,tt.background=e.callback.background||!1),_e.flags=tt,_e.callback=nt,_e.info=[],typeof e.info=="object"){for(const ot in e.info)if(Object.prototype.hasOwnProperty.call(e.info,ot)){let at=e.info[ot];typeof at=="string"?at=Bytes.from(at,"utf8"):at instanceof Bytes||(at=Serializer.encode({object:at})),_e.info.push({key:ot,value:at})}}if(e.chainIds&&e.chainId===null){const ot=e.chainIds.map(st=>ChainId.from(st).chainVariant);_e.info.push({key:"chain_ids",value:Serializer.encode({object:ot,type:{type:ChainIdVariant,array:!0}})})}const it=new SigningRequest(b,this.storageType(b).from(_e),a.zlib,a.abiProvider);return a.signatureProvider&&it.sign(a.signatureProvider),it}static identity(e,a={}){let _={actor:e.account||PlaceholderName,permission:e.permission||PlaceholderPermission};return _.actor===PlaceholderName&&_.permission===PlaceholderPermission&&(_=void 0),this.createSync({...e,identity:{permission:_,scope:e.scope},broadcast:!1},a)}static fromTransaction(e,a,_={}){const b=ChainId.from(e);a=Bytes.from(a);const _e=new ABIEncoder;return _e.writeByte(2),_e.writeArray(Serializer.encode({object:b.chainVariant}).array),_e.writeByte(2),_e.writeArray(Bytes.from(a).array),_e.writeByte(RequestFlags.broadcast),_e.writeByte(0),_e.writeByte(0),SigningRequest.fromData(_e.getData(),_)}static from(e,a={}){if(typeof e!="string")throw new Error("Invalid request uri");const[,_]=e.split(":"),b=decode(_.startsWith("//")?_.slice(2):_);return SigningRequest.fromData(b,a)}static fromData(e,a={}){e=Bytes.from(e);const _=e.array[0],b=_&-129;if(b!==2&&b!==3)throw new Error("Unsupported protocol version");let _e=e.droppingFirst(1);if(_&128){if(!a.zlib)throw new Error("Compressed URI needs zlib");_e=Bytes.from(a.zlib.inflateRaw(_e.array))}const et=new ABIDecoder(_e.array),tt=Serializer.decode({data:et,type:this.storageType(b)});let nt;return et.canRead()&&(nt=Serializer.decode({data:et,type:RequestSignature})),new SigningRequest(b,tt,a.zlib,a.abiProvider,nt)}sign(e){const a=this.getSignatureDigest();this.signature=RequestSignature.from(e.sign(a))}getSignatureDigest(){const e=[this.version,114,101,113,117,101,115,116];return Checksum256.hash(Bytes.from(e).appending(this.getData()))}setSignature(e,a){this.signature=RequestSignature.from({signer:e,signature:a})}setCallback(e,a){this.data.callback=e,this.data.flags.background=a}setBroadcast(e){this.data.flags.broadcast=e}encode(e,a,_="esr:"){const b=e!==void 0?e:this.zlib!==void 0;if(b&&this.zlib===void 0)throw new Error("Need zlib to compress");let _e=this.version;const et=this.getData(),tt=this.getSignatureData();let nt=new Uint8Array(et.byteLength+tt.byteLength);if(nt.set(et,0),nt.set(tt,et.byteLength),b){const ot=this.zlib.deflateRaw(nt);nt.byteLength>ot.byteLength&&(_e|=128,nt=ot)}const it=new Uint8Array(1+nt.byteLength);return it[0]=_e,it.set(nt,1),a!==!1&&(_+="//"),_+encode(it)}getData(){return Serializer.encode({object:this.data}).array}getSignatureData(){return this.signature?Serializer.encode({object:this.signature}).array:new Uint8Array(0)}getRequiredAbis(){return this.getRawActions().filter(e=>!isIdentity(e)).map(e=>e.account).filter((e,a,_)=>_.indexOf(e)===a)}requiresTapos(){const e=this.getRawTransaction();return!this.isIdentity()&&!hasTapos(e)}async fetchAbis(e){const a=this.getRequiredAbis();if(a.length>0){const _=e||this.abiProvider;if(!_)throw new Error("Missing ABI provider");const b=new Map;return await Promise.all(a.map(async _e=>{b.set(_e.toString(),ABI.from(await _.getAbi(_e)))})),b}else return new Map}resolveActions(e,a){return this.getRawActions().map(_=>{let b;if(isIdentity(_))b=this.constructor.identityAbi(this.version);else{const nt=e.get(_.account.toString());if(!nt)throw new Error(`Missing ABI definition for ${_.account}`);b=ABI.from(nt)}if(!b.getActionType(_.name))throw new Error(`Missing type for action ${_.account}:${_.name} in ABI`);let et=_.decodeData(b),tt=_.authorization;if(a){const nt=PermissionLevel.from(a),it=ot=>{if(ot instanceof Name)return ot.equals(PlaceholderName)?nt.actor:ot.equals(PlaceholderPermission)?nt.permission:ot;if(Array.isArray(ot))return ot.map(it);if(typeof ot=="object"&&ot!==null){for(const st of Object.keys(ot))ot[st]=it(ot[st]);return ot}else return ot};et=it(et),tt=tt.map(ot=>{let{actor:st,permission:at}=ot;return st.equals(PlaceholderName)&&(st=nt.actor),at.equals(PlaceholderPermission)&&(at=nt.permission),at.equals(PlaceholderName)&&(at=nt.permission),PermissionLevel.from({actor:st,permission:at})})}return{..._,authorization:tt,data:et}})}resolveTransaction(e,a,_={}){const b=this.getRawTransaction();if(!this.isIdentity()&&!hasTapos(b))if(_.expiration!==void 0&&_.ref_block_num!==void 0&&_.ref_block_prefix!==void 0)b.expiration=TimePointSec.from(_.expiration),b.ref_block_num=UInt16.from(_.ref_block_num,"truncate"),b.ref_block_prefix=UInt32.from(_.ref_block_prefix);else if(_.block_num!==void 0&&_.ref_block_prefix!==void 0&&_.timestamp!==void 0)b.expiration=expirationTime(_.timestamp,_.expire_seconds),b.ref_block_num=UInt16.from(_.block_num,"truncate"),b.ref_block_prefix=UInt32.from(_.ref_block_prefix);else throw new Error("Invalid transaction context, need either a reference block or explicit TaPoS values");else this.isIdentity()&&this.version>2&&(b.expiration=_.expiration?TimePointSec.from(_.expiration):expirationTime(_.timestamp,_.expire_seconds));const _e=this.resolveActions(e,a),et=b.context_free_actions;return{...b,context_free_actions:et,actions:_e}}resolve(e,a,_={}){const b=this.resolveTransaction(e,a,_),_e=b.actions.map(nt=>{let it;if(isIdentity(nt)?it=this.constructor.identityAbi(this.version):it=e.get(nt.account.toString()),!it)throw new Error(`Missing ABI definition for ${nt.account}`);const ot=it.getActionType(nt.name),st=Serializer.encode({object:nt.data,type:ot,abi:it});return Action.from({...nt,data:st})}),et=Transaction.from({...b,actions:_e});let tt;if(this.isMultiChain()){if(!_.chainId)throw new Error("Missing chosen chain ID for multi-chain request");tt=ChainId.from(_.chainId);const nt=this.getChainIds();if(nt&&!nt.some(it=>tt.equals(it)))throw new Error("Trying to resolve for chain ID not defined in request")}else tt=this.getChainId();return new ResolvedSigningRequest(this,PermissionLevel.from(a),et,b,tt)}getChainId(){return this.data.chain_id.chainId}getChainIds(){if(!this.isMultiChain())return null;const e=this.getInfoKey("chain_ids",{type:ChainIdVariant,array:!0});return e?e.map(a=>a.chainId):null}setChainIds(e){const a=e.map(_=>ChainId.from(_).chainVariant);this.setInfoKey("chain_ids",a,{type:ChainIdVariant,array:!0})}isMultiChain(){return this.data.chain_id.variantIdx===0&&this.data.chain_id.value.equals(ChainName.UNKNOWN)}getRawActions(){const e=this.data.req;switch(e.variantName){case"action":return[e.value];case"action[]":return e.value;case"identity":if(this.version===2){const a=e.value;let _="0101000000000000000200000000000000",b=[PlaceholderAuth];a.permission&&(_=Serializer.encode({object:a}),b=[a.permission]);const _e=Action.from({account:"",name:"identity",authorization:b,data:_});return delete _e.abi,[_e]}else{let{scope:a,permission:_}=e.value;_||(_=PlaceholderAuth);const b=Serializer.encode({object:{scope:a,permission:_},type:IdentityV3}),_e=Action.from({account:"",name:"identity",authorization:[_],data:b});return delete _e.abi,[_e]}case"transaction":return e.value.actions;default:throw new Error("Invalid signing request data")}}getRawTransaction(){const e=this.data.req;switch(e.variantName){case"transaction":return Transaction.from({...e.value});case"action":case"action[]":case"identity":return Transaction.from({actions:this.getRawActions(),context_free_actions:[],transaction_extensions:[],expiration:"1970-01-01T00:00:00.000",ref_block_num:0,ref_block_prefix:0,max_cpu_usage_ms:0,max_net_usage_words:0,delay_sec:0});default:throw new Error("Invalid signing request data")}}isIdentity(){return this.data.req.variantName==="identity"}shouldBroadcast(){return this.isIdentity()?!1:this.data.flags.broadcast}getIdentity(){if(!this.isIdentity())return null;const e=this.data.req.value;return e.permission&&!e.permission.actor.equals(PlaceholderName)?e.permission.actor:null}getIdentityPermission(){if(!this.isIdentity())return null;const e=this.data.req.value;return e.permission&&!e.permission.permission.equals(PlaceholderPermission)?e.permission.permission:null}getIdentityScope(){return!this.isIdentity()||this.version<=2?null:this.data.req.value.scope}getRawInfo(){const e={};for(const{key:a,value:_}of this.data.info)e[a]=_;return e}getRawInfoKey(e){const a=this.data.info.find(_=>_.key===e);if(a)return a.value}setRawInfoKey(e,a){let _=this.data.info.find(b=>b.key===e);_?_.value=Bytes.from(a):(_=InfoPair.from({key:e,value:a}),this.data.info.push(_))}setInfoKey(e,a,_){let b;typeof a=="string"&&!_?b=Bytes.from(a,"utf8"):b=Serializer.encode({object:a,type:_}),this.setRawInfoKey(e,b)}getInfoKey(e,a){const _=this.getRawInfoKey(e);if(_)return a?Serializer.decode({data:_,type:a}):_.utf8String}clone(){let e;this.signature&&(e=RequestSignature.from(JSON.parse(JSON.stringify(this.signature))));const _=this.constructor.storageType(this.version).from(JSON.parse(JSON.stringify(this.data)));return new SigningRequest(this.version,_,this.zlib,this.abiProvider,e)}toString(){return this.encode()}toJSON(){return this.encode()}}class ResolvedSigningRequest{constructor(e,a,_,b,_e){this.request=e,this.signer=a,this.transaction=_,this.resolvedTransaction=b,this.chainId=_e}static async fromPayload(e,a={}){const _=SigningRequest.from(e.req,a),b=await _.fetchAbis();return _.resolve(b,{actor:e.sa,permission:e.sp},{ref_block_num:e.rbn,ref_block_prefix:e.rid,expiration:e.ex,chainId:e.cid||_.getChainId()})}get serializedTransaction(){return Serializer.encode({object:this.transaction}).array}get signingDigest(){return this.transaction.signingDigest(this.chainId)}get signingData(){return this.transaction.signingData(this.chainId)}getCallback(e,a){const{callback:_,flags:b}=this.request.data;if(!_||_.length===0)return null;if(!e||e.length===0)throw new Error("Must have at least one signature to resolve callback");const _e=e.map(nt=>Signature.from(nt)),et={sig:String(_e[0]),tx:String(this.transaction.id),rbn:String(this.transaction.ref_block_num),rid:String(this.transaction.ref_block_prefix),ex:String(this.transaction.expiration),req:this.request.encode(),sa:String(this.signer.actor),sp:String(this.signer.permission),cid:String(this.chainId)};for(const[nt,it]of _e.slice(1).entries())et[`sig${nt}`]=String(it);a&&(et.bn=String(UInt32.from(a)));const tt=_.replace(/({{([a-z0-9]+)}})/g,(nt,it,ot)=>et[ot]||"");return{background:b.background,payload:et,url:tt}}getIdentityProof(e){if(!this.request.isIdentity())throw new Error("Not a identity request");return IdentityProof.from({chainId:this.chainId,scope:this.request.getIdentityScope(),expiration:this.transaction.expiration,signer:this.signer,signature:e})}}function encodeAction(o,e){if(Bytes.isBytes(o.data)||o.data.constructor.abiName!==void 0)return Action.from(o);const a=e[String(Name.from(o.account))];if(!a)throw new Error(`Missing ABI for ${o.account}`);const _=Action.from(o,a);return delete _.abi,_}function isIdentity(o){const e=Name.from(o.account),a=Name.from(o.name);return e.rawValue.equals(0)&&a.equals("identity")}function hasTapos(o){return!(o.expiration.equals(0)&&o.ref_block_num.equals(0)&&o.ref_block_prefix.equals(0))}function expirationTime(o,e=60){const a=TimePointSec.from(o||new Date),_=UInt32.from(e);return TimePointSec.fromInteger(a.value.adding(_))}class ABICache{constructor(e){this.client=e,this.cache=new Map,this.pending=new Map}async getAbi(e){const a=String(e);let _=this.cache.get(a);if(!_){let b=this.pending.get(a);b||(b=this.client.v1.chain.get_raw_abi(e),this.pending.set(a,b));const _e=await b;if(this.pending.delete(a),_e.abi)_=ABI.from(_e.abi),this.cache.set(a,_);else throw new Error(`ABI for ${a} could not be loaded.`)}return _}setAbi(e,a,_=!1){const b=String(e),_e=ABI.from(a),et=this.cache.get(b);_&&et?this.cache.set(b,ABI.from({action_results:mergeAndDeduplicate(et.action_results,_e.action_results),types:mergeAndDeduplicate(et.types,_e.types,"new_type_name"),structs:mergeAndDeduplicate(et.structs,_e.structs),actions:mergeAndDeduplicate(et.actions,_e.actions),tables:mergeAndDeduplicate(et.tables,_e.tables),ricardian_clauses:mergeAndDeduplicate(et.ricardian_clauses,_e.ricardian_clauses,"id"),variants:mergeAndDeduplicate(et.variants,_e.variants),version:_e.version})):this.cache.set(b,_e)}}function mergeAndDeduplicate(o,e,a="name"){return e.reduce((_,b)=>(_.some(_e=>String(_e[a])===String(b[a]))||_.push(b),_),o.slice())}var LoginHookTypes;(function(o){o.beforeLogin="beforeLogin",o.afterLogin="afterLogin"})(LoginHookTypes||(LoginHookTypes={}));class LoginContext{constructor(e){var a;this.arbitrary={},this.chains=[],this.hooks={afterLogin:[],beforeLogin:[]},this.uiRequirements={requiresChainSelect:!0,requiresPermissionSelect:!0,requiresPermissionEntry:!1,requiresWalletSelect:!0},this.walletPlugins=[],this.appName=String(e.appName),e.arbitrary&&(this.arbitrary=e.arbitrary),e.chains&&(this.chains=e.chains),e.chain&&(this.chain=e.chain),this.fetch=e.fetch,this.permissionLevel=e.permissionLevel,this.walletPlugins=e.walletPlugins||[],this.ui=e.ui,(a=e.loginPlugins)==null||a.forEach(_=>{_.register(this)})}addHook(e,a){this.hooks[e].push(a)}getClient(e){return new APIClient({provider:new FetchProvider(e.url,{fetch:this.fetch})})}get esrOptions(){return{zlib:pako}}}class AbstractLoginPlugin{}class BaseLoginPlugin extends AbstractLoginPlugin{register(){}}var TransactHookTypes;(function(o){o.beforeSign="beforeSign",o.afterSign="afterSign",o.afterBroadcast="afterBroadcast"})(TransactHookTypes||(TransactHookTypes={}));class TransactContext{constructor(e){var a;this.hooks={afterBroadcast:[],afterSign:[],beforeSign:[]},this.abiCache=e.abiCache,this.appName=String(e.appName),this.chain=e.chain,this.client=e.client,this.createRequest=e.createRequest,this.fetch=e.fetch,this.permissionLevel=e.permissionLevel,e.storage&&(this.storage=e.storage),this.transactPluginsOptions=e.transactPluginsOptions||{},this.ui=e.ui,(a=e.transactPlugins)==null||a.forEach(_=>{_.register(this)})}get accountName(){return this.permissionLevel.actor}get permissionName(){return this.permissionLevel.permission}get esrOptions(){return{abiProvider:this.abiCache,zlib:pako}}addHook(e,a){switch(e){case TransactHookTypes.beforeSign:{this.hooks[e].push(a);break}case TransactHookTypes.afterSign:case TransactHookTypes.afterBroadcast:{this.hooks[e].push(a);break}}}async getInfo(){let e=this.info;return this.info?e=this.info:this.info=e=await this.client.v1.chain.get_info(),e}async resolve(e,a=120){let _={chainId:this.chain.id};if(e.requiresTapos()){const et=(await this.getInfo()).getTransactionHeader(a);_={..._,...et}}const b=await e.fetchAbis(this.abiCache);return e.resolve(b,this.permissionLevel,_)}}class TransactRevisions{constructor(e){this.revisions=[],this.addRevision({request:e,signatures:[]},"original",!0)}addRevision(e,a,_){let b=!1;const _e=this.revisions[this.revisions.length-1];_e&&(b=_e.response.request!==String(e.request)),this.revisions.push({allowModify:_,code:String(a),modified:b,response:{request:String(e.request),signatures:e.signatures?Serializer.objectify(e.signatures):[]}})}}class AbstractTransactPlugin{}class BaseTransactPlugin extends AbstractTransactPlugin{get id(){return"base-transact-plugin"}register(){}}function getFetch(o){if(o&&o.fetch)return o.fetch;if(typeof window<"u"&&window.fetch)return window.fetch.bind(window);if(typeof global$1<"u"&&global$1.fetch)return global$1.fetch.bind(global$1);throw new Error("Missing fetch")}function getPluginTranslations(o){if(!o.translations)return{};const e={};return Object.keys(o.translations).forEach(_=>{o.translations&&(e[_]={[o.id]:o.translations[_]})}),e}class Session{get data(){return this._data}set data(e){this._data=e}constructor(e,a={}){if(this.abis=[],this.allowModify=!0,this.broadcast=!0,this.expireSeconds=120,this.transactPluginsOptions={},this._data={},this.serialize=()=>{const _={chain:this.chain.id,actor:this.permissionLevel.actor,permission:this.permissionLevel.permission,walletPlugin:{id:this.walletPlugin.id,data:this.walletPlugin.data}};return Object.keys(this._data).length>0&&(_.data=this.data),Serializer.objectify(_)},this.chain=ChainDefinition.from(e.chain),e.permissionLevel)this.permissionLevel=PermissionLevel.from(e.permissionLevel);else if(e.actor&&e.permission)this.permissionLevel=PermissionLevel.from(`${e.actor}@${e.permission}`);else throw new Error("Either a permissionLevel or actor/permission must be provided when creating a new Session.");this.walletPlugin=e.walletPlugin,a.appName&&(this.appName=String(a.appName)),a.abis&&(this.abis=[...a.abis]),a.contracts&&this.abis.push(...a.contracts.map(_=>({account:_.account,abi:_.abi}))),a.allowModify!==void 0&&(this.allowModify=a.allowModify),a.broadcast!==void 0&&(this.broadcast=a.broadcast),a.expireSeconds&&(this.expireSeconds=a.expireSeconds),a.fetch?this.fetch=a.fetch:this.fetch=getFetch(a),a.storage&&(this.storage=a.storage),a.transactPlugins?this.transactPlugins=a.transactPlugins:this.transactPlugins=[new BaseTransactPlugin],a.transactPluginsOptions&&(this.transactPluginsOptions=a.transactPluginsOptions),a.abiCache?this.abiCache=a.abiCache:this.abiCache=new ABICache(this.client),a.ui&&(this.ui=a.ui)}get actor(){return this.permissionLevel.actor}get permission(){return this.permissionLevel.permission}get client(){return new APIClient({provider:new FetchProvider(this.chain.url,{fetch:this.fetch})})}setEndpoint(e){this.chain.url=e}upgradeTransaction(e){const a=e;if(e.actions&&(a.expiration||a.ref_block_num||a.ref_block_prefix||a.max_net_usage_words||a.max_cpu_usage_ms||a.delay_sec))return e={transaction:{expiration:"1970-01-01T00:00:00",ref_block_num:0,ref_block_prefix:0,max_net_usage_words:0,max_cpu_usage_ms:0,delay_sec:0,...a}};if(e.context_free_actions||e.context_free_data){const _=e.actions||[e.action];return delete e.action,{transaction:{expiration:"1970-01-01T00:00:00",ref_block_num:0,ref_block_prefix:0,max_net_usage_words:0,max_cpu_usage_ms:0,delay_sec:0,context_free_actions:[],context_free_data:[],actions:_,...a}}}return e}storageType(e){return e===2?RequestDataV2:RequestDataV3}cloneRequest(e,a){let _;e.signature&&(_=RequestSignature.from(JSON.parse(JSON.stringify(e.signature))));const _e=this.storageType(e.version).from(JSON.parse(JSON.stringify(e.data)));return new SigningRequest(e.version,_e,pako,a,_)}async createRequest(e,a){let _;const b={abiProvider:a,zlib:pako};return e.request&&e.request instanceof SigningRequest?_=this.cloneRequest(e.request,a):e.request?_=SigningRequest.from(e.request,b):(e=this.upgradeTransaction(e),_=await SigningRequest.create({...e,chainId:this.chain.id},b)),_.setBroadcast(!1),_}async updateRequest(e,a,_){const b=this.cloneRequest(a,_),_e=b.getRawInfo();return e.data.info.forEach(et=>{_e[et.key]&&console.warn(`During an updateRequest call, the previous request had already set the metadata key of "${et.key}" which will not be overwritten.`),b.setRawInfoKey(et.key,et.value)}),b}async transact(e,a){try{const _=a&&a.expireSeconds?a.expireSeconds:this.expireSeconds,b=a&&typeof a.broadcast<"u"?a.broadcast:this.broadcast,_e=this.getMergedAbiCache(e,a),et=(a==null?void 0:a.transactPlugins)||this.transactPlugins,tt=(a==null?void 0:a.transactPluginsOptions)||this.transactPluginsOptions;let nt=a&&typeof a.allowModify<"u"?a.allowModify:this.allowModify;const it=new TransactContext({abiCache:_e,appName:this.appName,chain:this.chain,client:this.client,createRequest:lt=>this.createRequest(lt,_e),fetch:this.fetch,permissionLevel:this.permissionLevel,storage:this.storage,transactPlugins:et,transactPluginsOptions:tt,ui:this.ui});if(it.ui){await it.ui.onTransact();for(const lt of et.map(ut=>getPluginTranslations(ut)))it.ui.addTranslations(lt)}let ot=await this.createRequest(e,_e);const st={chain:this.chain,request:ot,resolved:void 0,returns:[],revisions:new TransactRevisions(ot),signatures:[],signer:this.permissionLevel,transaction:void 0};for(const lt of it.hooks.beforeSign){const ut=await lt(ot.clone(),it);ut&&(st.revisions.addRevision(ut,String(lt),nt),nt&&(ot=await this.updateRequest(ot,ut.request,_e)),ut.signatures&&(st.signatures=[...st.signatures,...ut.signatures],nt=!1))}st.request=ot,st.resolved=await it.resolve(ot,_),st.transaction=st.resolved.resolvedTransaction,it.ui&&(await it.ui.onSign(),it.ui.addTranslations(getPluginTranslations(this.walletPlugin)));const at=await this.walletPlugin.sign(st.resolved,it);if(st.signatures.push(...at.signatures),at.resolved){const{resolved:lt}=at;if(!st.resolved.transaction.equals(lt.transaction))if(nt)st.request=lt.request,st.resolved=lt,st.transaction=lt.resolvedTransaction;else throw new Error(`The ${this.walletPlugin.metadata.name} plugin modified the transaction when it was not allowed to.`)}for(const lt of it.hooks.afterSign)await lt(st,it);if(it.ui&&await it.ui.onSignComplete(),b){it.ui&&await it.ui.onBroadcast();const lt=SignedTransaction.from({...st.resolved.transaction,signatures:st.signatures});st.response=await it.client.v1.chain.send_transaction(lt),st.response.processed&&st.response.processed.action_traces&&(st.returns=await processReturnValues(st.response,_e));for(const ut of it.hooks.afterBroadcast)await ut(st,it);it.ui&&await it.ui.onBroadcastComplete()}return it.ui&&await it.ui.onTransactComplete(),st}catch(_){if(_.response&&_.response.json){const{json:b}=_.response;if(b.error&&b.error.details){const _e=new Error(b.error.details[0].message);throw this.ui&&await this.ui.onError(_e),_e}}else this.ui&&await this.ui.onError(_);throw new Error(_)}}async signTransaction(e){const a=new TransactContext({abiCache:this.abiCache,chain:this.chain,client:this.client,createRequest:et=>this.createRequest(et,this.abiCache),fetch:this.fetch,permissionLevel:this.permissionLevel}),_=await SigningRequest.create({transaction:e,chainId:this.chain.id},a.esrOptions);_.setBroadcast(!1);const b=new ResolvedSigningRequest(_,this.permissionLevel,Transaction.from(e),Serializer.objectify(Transaction.from(e)),ChainId.from(this.chain.id));return(await this.walletPlugin.sign(b,a)).signatures}getMergedAbiCache(e,a){const _=(a==null?void 0:a.abiCache)||this.abiCache;if(!_.setAbi)throw new Error("Custom `abiCache` does not support `setAbi` method.");return this.abis.forEach(b=>_.setAbi(b.account,b.abi)),a!=null&&a.abis&&a.abis.forEach(b=>_.setAbi(b.account,b.abi)),a!=null&&a.contracts&&a.contracts.forEach(b=>_.setAbi(b.account,b.abi)),e.action&&e.action.abi&&_.setAbi(e.action.account,e.action.abi,!0),e.actions&&e.actions.forEach(b=>{b.abi&&_.setAbi(b.account,b.abi,!0)}),e.transaction&&e.transaction.actions&&e.transaction.actions.forEach(b=>{b.abi&&_.setAbi(b.account,b.abi,!0)}),_}}async function processReturnValues(o,e){const a=[];for(const _ of o.processed.action_traces)if(_.return_value_hex_data){const b=Name.from(_.act.account),_e=Name.from(_.act.name),et=await e.getAbi(b),tt=et.action_results.find(nt=>Name.from(nt.name).equals(_e));if(tt)try{const nt=Serializer.decode({data:_.return_value_hex_data,type:tt.result_type,abi:et});a.push({contract:b,action:_e,hex:_.return_value_hex_data,data:nt,returnType:tt})}catch(nt){console.warn(`Error decoding return value for ${b}::${_e}:`,nt),a.push({contract:b,action:_e,hex:_.return_value_hex_data,data:"",returnType:tt})}else console.warn(`No return type found for ${b}::${_e}`),a.push({contract:b,action:_e,hex:_.return_value_hex_data,data:"",returnType:{name:_e,result_type:""}})}return a}class BrowserLocalStorage{constructor(e=""){this.keyPrefix=e}async write(e,a){localStorage.setItem(this.storageKey(e),a)}async read(e){return localStorage.getItem(this.storageKey(e))}async remove(e){localStorage.removeItem(this.storageKey(e))}storageKey(e){return`wharf-${this.keyPrefix}-${e}`}}var WalletPluginMetadata_1;let WalletPluginMetadata=WalletPluginMetadata_1=class extends Struct{static from(e){return new WalletPluginMetadata_1({...e,logo:e.logo?Logo.from(e.logo):void 0})}};__decorate$1([Struct.field("string",{optional:!0})],WalletPluginMetadata.prototype,"name",void 0);__decorate$1([Struct.field("string",{optional:!0})],WalletPluginMetadata.prototype,"description",void 0);__decorate$1([Struct.field(Logo,{optional:!0})],WalletPluginMetadata.prototype,"logo",void 0);__decorate$1([Struct.field("string",{optional:!0})],WalletPluginMetadata.prototype,"homepage",void 0);__decorate$1([Struct.field("string",{optional:!0})],WalletPluginMetadata.prototype,"download",void 0);__decorate$1([Struct.field("string",{optional:!0})],WalletPluginMetadata.prototype,"publicKey",void 0);WalletPluginMetadata=WalletPluginMetadata_1=__decorate$1([Struct.type("wallet_plugin_metadata")],WalletPluginMetadata);class AbstractWalletPlugin{constructor(){this._data={},this.config={requiresChainSelect:!0,requiresPermissionSelect:!1,requiresPermissionEntry:!1},this.metadata=new WalletPluginMetadata({})}get data(){return this._data}set data(e){this._data=e}serialize(){return{id:this.id,data:this.data}}}var AccountCreationPluginMetadata_1;let AccountCreationPluginMetadata=AccountCreationPluginMetadata_1=class extends Struct{static from(e){return new AccountCreationPluginMetadata_1({...e,logo:e.logo?Logo.from(e.logo):void 0})}};__decorate$1([Struct.field("string")],AccountCreationPluginMetadata.prototype,"name",void 0);__decorate$1([Struct.field("string",{optional:!0})],AccountCreationPluginMetadata.prototype,"description",void 0);__decorate$1([Struct.field(Logo,{optional:!0})],AccountCreationPluginMetadata.prototype,"logo",void 0);__decorate$1([Struct.field("string",{optional:!0})],AccountCreationPluginMetadata.prototype,"homepage",void 0);AccountCreationPluginMetadata=AccountCreationPluginMetadata_1=__decorate$1([Struct.type("account_creation_plugin_metadata")],AccountCreationPluginMetadata);class CreateAccountContext{constructor(e){this.accountCreationPlugins=[],this.uiRequirements={requiresChainSelect:!0,requiresPluginSelect:!0},this.appName=String(e.appName),e.chains&&(this.chains=e.chains),e.chain&&(this.chain=e.chain),this.fetch=e.fetch,this.ui=e.ui,e.accountCreationPlugins&&(this.accountCreationPlugins=e.accountCreationPlugins),e.uiRequirements&&(this.uiRequirements=e.uiRequirements)}getClient(e){return new APIClient({provider:new FetchProvider(e.url,{fetch:this.fetch})})}}class SessionKit{constructor(e,a={}){this.abis=[],this.allowModify=!0,this.expireSeconds=120,this.transactPluginsOptions={},this.accountCreationPlugins=[],this.appName=String(e.appName),this.chains=e.chains.map(_=>ChainDefinition.from(_)),this.ui=e.ui,this.walletPlugins=e.walletPlugins,a.fetch?this.fetch=a.fetch:this.fetch=getFetch(a),a.abis&&(this.abis=[...a.abis]),a.contracts&&this.abis.push(...a.contracts.map(_=>({account:_.account,abi:_.abi}))),a.loginPlugins?this.loginPlugins=a.loginPlugins:this.loginPlugins=[new BaseLoginPlugin],a.storage?this.storage=a.storage:this.storage=new BrowserLocalStorage,a.transactPlugins?this.transactPlugins=a.transactPlugins:this.transactPlugins=[new BaseTransactPlugin],typeof a.allowModify<"u"&&(this.allowModify=a.allowModify),a.expireSeconds&&(this.expireSeconds=a.expireSeconds),a.transactPluginsOptions&&(this.transactPluginsOptions=a.transactPluginsOptions),a.accountCreationPlugins&&(this.accountCreationPlugins=a.accountCreationPlugins)}setEndpoint(e,a){const _=[...this.chains],b=Checksum256.from(e),_e=this.chains.findIndex(et=>et.id.equals(b));if(_e<0)throw new Error("Chain with specified ID not found.");_[_e].url=a,this.chains=_}getChainDefinition(e,a){const _=a||this.chains,b=Checksum256.from(e),_e=_.find(et=>et.id.equals(b));if(!_e)throw new Error(`No chain defined with an ID of: ${b}`);return _e}async createAccount(e){var a;try{if(this.accountCreationPlugins.length===0)throw new Error("No account creation plugins available.");let _=e==null?void 0:e.chain,b=!_,_e=!(e!=null&&e.pluginId),et;if(e!=null&&e.pluginId){if(_e=!1,et=this.accountCreationPlugins.find(ot=>ot.id===e.pluginId),!et)throw new Error("Invalid account creation plugin selected.");(et==null?void 0:et.config.requiresChainSelect)!==void 0&&(b=et==null?void 0:et.config.requiresChainSelect),!et.config.requiresChainSelect&&et.config.supportedChains&&et.config.supportedChains.length===1&&(_=et.config.supportedChains[0])}let tt=this.chains;et&&((a=et==null?void 0:et.config.supportedChains)!=null&&a.length)&&(tt=tt.filter(ot=>{var st;return(st=et==null?void 0:et.config.supportedChains)==null?void 0:st.find(at=>at.id.equals(ot.id))}));const nt=new CreateAccountContext({accountCreationPlugins:this.accountCreationPlugins,appName:this.appName,chain:_,chains:tt,fetch:this.fetch,ui:this.ui,uiRequirements:{requiresChainSelect:b,requiresPluginSelect:_e}});if(_e||b){const ot=await nt.ui.onAccountCreate(nt),st=(e==null?void 0:e.pluginId)||ot.pluginId;if(!st)throw new Error("No account creation plugin selected.");if(et=nt.accountCreationPlugins.find(at=>at.id===st),!et)throw new Error("No account creation plugin selected.");if(!et.config.requiresChainSelect&&et.config.supportedChains&&et.config.supportedChains.length===1&&(nt.chain=et.config.supportedChains[0]),ot.chain&&(nt.chain=this.getChainDefinition(ot.chain,nt.chains)),et.config.requiresChainSelect&&!nt.chain)throw new Error(`Account creation plugin (${st}) requires chain selection, and no chain was selected.`)}if(!et)throw new Error("No account creation plugin selected");const it=await et.create(nt);return await nt.ui.onAccountCreateComplete(),it}catch(_){throw await this.ui.onError(_),new Error(_)}}async login(e){try{const a=new LoginContext({appName:this.appName,arbitrary:(e==null?void 0:e.arbitrary)||{},chain:void 0,chains:e&&(e!=null&&e.chains)?e.chains.map(tt=>this.getChainDefinition(tt)):this.chains,fetch:this.fetch,loginPlugins:this.loginPlugins,ui:this.ui,walletPlugins:this.walletPlugins.map(tt=>{var nt;return{config:tt.config,metadata:WalletPluginMetadata.from(tt.metadata),retrievePublicKey:(nt=tt.retrievePublicKey)==null?void 0:nt.bind(tt)}})});await a.ui.onLogin();let _;if(this.walletPlugins.length===1)_=this.walletPlugins[0],a.walletPluginIndex=0,a.uiRequirements.requiresWalletSelect=!1;else if(e!=null&&e.walletPlugin){const tt=this.walletPlugins.findIndex(nt=>nt.id===e.walletPlugin);tt>=0&&(_=this.walletPlugins[tt],a.walletPluginIndex=tt,a.uiRequirements.requiresWalletSelect=!1)}if(_&&(a.uiRequirements={...a.uiRequirements,..._.config},a.ui.addTranslations(getPluginTranslations(_))),e&&e.chain?(e.chain instanceof ChainDefinition?a.chain=e.chain:a.chain=this.getChainDefinition(e.chain,a.chains),a.uiRequirements.requiresChainSelect=!1):a.chains.length===1?(a.chain=a.chains[0],a.uiRequirements.requiresChainSelect=!1):a.uiRequirements.requiresChainSelect=!0,e!=null&&e.permissionLevel&&(a.permissionLevel=PermissionLevel.from(e.permissionLevel),a.uiRequirements.requiresPermissionSelect=!1),a.uiRequirements.requiresChainSelect||a.uiRequirements.requiresPermissionSelect||a.uiRequirements.requiresPermissionEntry||a.uiRequirements.requiresWalletSelect){const tt=await a.ui.login(a);if(tt.walletPluginIndex!==void 0&&(_=this.walletPlugins[tt.walletPluginIndex]),!_)throw new Error("UserInterface did not return a valid WalletPlugin index.");if(tt.chainId){if(!a.chains.some(nt=>nt.id.equals(tt.chainId)))throw new Error("UserInterface did not return a chain ID matching the subset of chains.");a.chain=this.getChainDefinition(tt.chainId,a.chains)}tt.permissionLevel&&(a.permissionLevel=PermissionLevel.from(tt.permissionLevel))}if(!_)throw new Error("No WalletPlugin available to perform the login.");const{supportedChains:b}=_.config;if(a.chain&&b&&b.length&&!b.includes(String(a.chain.id)))throw new Error(`The wallet plugin '${_.metadata.name}' does not support the chain '${a.chain.id}'`);for(const tt of a.hooks.beforeLogin)await tt(a);const _e=await _.login(a),et=new Session({chain:this.getChainDefinition(_e.chain),permissionLevel:_e.permissionLevel,walletPlugin:_},this.getSessionOptions(e));for(const tt of a.hooks.afterLogin)await tt(a);return this.persistSession(et,e==null?void 0:e.setAsDefault),await a.ui.onLoginComplete(),{context:a,response:_e,session:et}}catch(a){throw await this.ui.onError(a),new Error(a)}}logoutParams(e,a){return e instanceof Session?{session:e,appName:this.appName}:{session:new Session({chain:this.getChainDefinition(e.chain),permissionLevel:PermissionLevel.from({actor:e.actor,permission:e.permission}),walletPlugin:a}),appName:this.appName}}async logout(e){if(!this.storage)throw new Error("An instance of Storage must be provided to utilize the logout method.");if(await this.storage.remove("session"),e){const a=this.walletPlugins.find(b=>(e==null?void 0:e.walletPlugin.id)===b.id);a!=null&&a.logout&&await a.logout(this.logoutParams(e,a));const _=await this.getSessions();if(_){let b=e;e instanceof Session&&(b=e.serialize());const _e=_.filter(et=>!Checksum256.from(et.chain).equals(Checksum256.from(String(b.chain)))||!Name.from(et.actor).equals(Name.from(b.actor))||!Name.from(et.permission).equals(Name.from(b.permission)));await this.storage.write("sessions",JSON.stringify(_e))}}else{const a=await this.getSessions();await this.storage.remove("sessions"),a&&Promise.all(a.map(_=>{const b=this.walletPlugins.find(_e=>_.walletPlugin.id===_e.id);return b!=null&&b.logout?b.logout(this.logoutParams(_,b)):Promise.resolve()}))}}async restore(e,a){if(!e){const nt=await this.storage.read("session");if(nt)e=JSON.parse(nt);else return}if(!e)throw new Error("Either a RestoreArgs object or a Storage instance must be provided.");const _=Checksum256.from(e.chain instanceof ChainDefinition?e.chain.id:e.chain);let b;const _e=await this.storage.read("sessions");if(_e){const nt=JSON.parse(_e);e.actor&&e.permission?b=nt.find(it=>e&&_.equals(it.chain)&&it.actor===e.actor&&it.permission===e.permission):b=nt.find(it=>e&&_.equals(it.chain)&&it.default)}else if(e.actor&&e.permission&&e.walletPlugin)b={chain:String(_),actor:e.actor,permission:e.permission,walletPlugin:{id:e.walletPlugin.id,data:e.walletPlugin.data},data:e.data};else throw new Error("No sessions found in storage. A wallet plugin must be provided.");if(!b)return;const et=this.walletPlugins.find(nt=>e?nt.id===b.walletPlugin.id:!1);if(!et)throw new Error(`No WalletPlugin found with the ID of: '${b.walletPlugin.id}'`);b.walletPlugin.data&&(et.data=b.walletPlugin.data),e.walletPlugin&&e.walletPlugin.data&&(et.data=e.walletPlugin.data);const tt=new Session({chain:this.getChainDefinition(b.chain),permissionLevel:PermissionLevel.from({actor:b.actor,permission:b.permission}),walletPlugin:et},this.getSessionOptions(a));return b.data&&(tt.data=b.data),this.persistSession(tt,a==null?void 0:a.setAsDefault),tt}async restoreAll(){const e=[],a=await this.getSessions();if(a)for(const _ of a){const b=await this.restore(_);b&&e.push(b)}return e}async persistSession(e,a=!0){if(!this.storage)return;const _=e.serialize();_.default=a,a&&this.storage.write("session",JSON.stringify(_));const b=await this.storage.read("sessions");if(b){const tt=[...JSON.parse(b).filter(nt=>!Checksum256.from(nt.chain).equals(Checksum256.from(_.chain))||!Name.from(nt.actor).equals(Name.from(_.actor))||!Name.from(nt.permission).equals(Name.from(_.permission))).map(nt=>(e.chain.id.equals(nt.chain)&&(nt.default=!1),nt)),_];tt.sort((nt,it)=>{const ot=String(nt.chain).localeCompare(String(it.chain)),st=String(nt.actor).localeCompare(String(it.actor)),at=String(nt.permission).localeCompare(String(it.permission));return ot||st||at}),this.storage.write("sessions",JSON.stringify(tt))}else this.storage.write("sessions",JSON.stringify([_]))}async getSessions(){if(!this.storage)throw new Error("No storage instance is available to retrieve sessions from.");const e=await this.storage.read("sessions");if(!e)return[];try{return JSON.parse(e).filter(b=>this.walletPlugins.some(_e=>_e.id===b.walletPlugin.id))}catch(a){throw new Error(`Failed to parse sessions from storage (${a})`)}}getSessionOptions(e){return{abis:this.abis,allowModify:this.allowModify,appName:this.appName,expireSeconds:this.expireSeconds,fetch:this.fetch,storage:this.storage,transactPlugins:(e==null?void 0:e.transactPlugins)||this.transactPlugins,transactPluginsOptions:(e==null?void 0:e.transactPluginsOptions)||this.transactPluginsOptions,ui:this.ui}}}class AbstractUserInterface{translate(e,a,_){throw new Error("The `translate` method must be implemented in this UserInterface. Called with: "+JSON.stringify({key:e,options:a,namespace:_}))}getTranslate(e){return(a,_)=>this.translate(a,_,e)}addTranslations(e){throw new Error("The `addTranslations` method must be implemented in this UserInterface. Called with: "+JSON.stringify(e))}}function noop$2(){}const identity$1=o=>o;function assign$1(o,e){for(const a in e)o[a]=e[a];return o}function run(o){return o()}function blank_object(){return Object.create(null)}function run_all(o){o.forEach(run)}function is_function(o){return typeof o=="function"}function safe_not_equal(o,e){return o!=o?e==e:o!==e||o&&typeof o=="object"||typeof o=="function"}let src_url_equal_anchor;function src_url_equal(o,e){return o===e?!0:(src_url_equal_anchor||(src_url_equal_anchor=document.createElement("a")),src_url_equal_anchor.href=e,o===src_url_equal_anchor.href)}function is_empty(o){return Object.keys(o).length===0}function subscribe(o,...e){if(o==null){for(const _ of e)_(void 0);return noop$2}const a=o.subscribe(...e);return a.unsubscribe?()=>a.unsubscribe():a}function get_store_value(o){let e;return subscribe(o,a=>e=a)(),e}function component_subscribe(o,e,a){o.$$.on_destroy.push(subscribe(e,a))}function create_slot(o,e,a,_){if(o){const b=get_slot_context(o,e,a,_);return o[0](b)}}function get_slot_context(o,e,a,_){return o[1]&&_?assign$1(a.ctx.slice(),o[1](_(e))):a.ctx}function get_slot_changes(o,e,a,_){if(o[2]&&_){const b=o[2](_(a));if(e.dirty===void 0)return b;if(typeof b=="object"){const _e=[],et=Math.max(e.dirty.length,b.length);for(let tt=0;tt<et;tt+=1)_e[tt]=e.dirty[tt]|b[tt];return _e}return e.dirty|b}return e.dirty}function update_slot_base(o,e,a,_,b,_e){if(b){const et=get_slot_context(e,a,_,_e);o.p(et,b)}}function get_all_dirty_from_scope(o){if(o.ctx.length>32){const e=[],a=o.ctx.length/32;for(let _=0;_<a;_++)e[_]=-1;return e}return-1}function null_to_empty(o){return o??""}function set_store_value(o,e,a){return o.set(a),e}function split_css_unit(o){const e=typeof o=="string"&&o.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[o,"px"]}const is_client=typeof window<"u";let now=is_client?()=>window.performance.now():()=>Date.now(),raf=is_client?o=>requestAnimationFrame(o):noop$2;const tasks=new Set;function run_tasks(o){tasks.forEach(e=>{e.c(o)||(tasks.delete(e),e.f())}),tasks.size!==0&&raf(run_tasks)}function loop(o){let e;return tasks.size===0&&raf(run_tasks),{promise:new Promise(a=>{tasks.add(e={c:o,f:a})}),abort(){tasks.delete(e)}}}function append(o,e){o.appendChild(e)}function append_styles(o,e,a){const _=get_root_for_style(o);if(!_.getElementById(e)){const b=element("style");b.id=e,b.textContent=a,append_stylesheet(_,b)}}function get_root_for_style(o){if(!o)return document;const e=o.getRootNode?o.getRootNode():o.ownerDocument;return e&&e.host?e:o.ownerDocument}function append_empty_stylesheet(o){const e=element("style");return e.textContent="/* empty */",append_stylesheet(get_root_for_style(o),e),e.sheet}function append_stylesheet(o,e){return append(o.head||o,e),e.sheet}function insert(o,e,a){o.insertBefore(e,a||null)}function detach(o){o.parentNode&&o.parentNode.removeChild(o)}function destroy_each(o,e){for(let a=0;a<o.length;a+=1)o[a]&&o[a].d(e)}function element(o){return document.createElement(o)}function svg_element(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function text(o){return document.createTextNode(o)}function space(){return text(" ")}function empty(){return text("")}function listen(o,e,a,_){return o.addEventListener(e,a,_),()=>o.removeEventListener(e,a,_)}function prevent_default(o){return function(e){return e.preventDefault(),o.call(this,e)}}function stop_propagation(o){return function(e){return e.stopPropagation(),o.call(this,e)}}function self$1(o){return function(e){e.target===this&&o.call(this,e)}}function attr(o,e,a){a==null?o.removeAttribute(e):o.getAttribute(e)!==a&&o.setAttribute(e,a)}function children(o){return Array.from(o.childNodes)}function set_data(o,e){e=""+e,o.data!==e&&(o.data=e)}function set_input_value(o,e){o.value=e??""}function set_style(o,e,a,_){a==null?o.style.removeProperty(e):o.style.setProperty(e,a,"")}function toggle_class(o,e,a){o.classList.toggle(e,!!a)}function custom_event(o,e,{bubbles:a=!1,cancelable:_=!1}={}){return new CustomEvent(o,{detail:e,bubbles:a,cancelable:_})}function construct_svelte_component(o,e){return new o(e)}const managed_styles=new Map;let active$1=0;function hash(o){let e=5381,a=o.length;for(;a--;)e=(e<<5)-e^o.charCodeAt(a);return e>>>0}function create_style_information(o,e){const a={stylesheet:append_empty_stylesheet(e),rules:{}};return managed_styles.set(o,a),a}function create_rule(o,e,a,_,b,_e,et,tt=0){const nt=16.666/_;let it=`{
`;for(let mt=0;mt<=1;mt+=nt){const ht=e+(a-e)*_e(mt);it+=mt*100+`%{${et(ht,1-ht)}}
`}const ot=it+`100% {${et(a,1-a)}}
}`,st=`__svelte_${hash(ot)}_${tt}`,at=get_root_for_style(o),{stylesheet:lt,rules:ut}=managed_styles.get(at)||create_style_information(at,o);ut[st]||(ut[st]=!0,lt.insertRule(`@keyframes ${st} ${ot}`,lt.cssRules.length));const ft=o.style.animation||"";return o.style.animation=`${ft?`${ft}, `:""}${st} ${_}ms linear ${b}ms 1 both`,active$1+=1,st}function delete_rule(o,e){const a=(o.style.animation||"").split(", "),_=a.filter(e?_e=>_e.indexOf(e)<0:_e=>_e.indexOf("__svelte")===-1),b=a.length-_.length;b&&(o.style.animation=_.join(", "),active$1-=b,active$1||clear_rules())}function clear_rules(){raf(()=>{active$1||(managed_styles.forEach(o=>{const{ownerNode:e}=o.stylesheet;e&&detach(e)}),managed_styles.clear())})}let current_component;function set_current_component(o){current_component=o}function get_current_component(){if(!current_component)throw new Error("Function called outside component initialization");return current_component}function onMount(o){get_current_component().$$.on_mount.push(o)}function onDestroy(o){get_current_component().$$.on_destroy.push(o)}function createEventDispatcher(){const o=get_current_component();return(e,a,{cancelable:_=!1}={})=>{const b=o.$$.callbacks[e];if(b){const _e=custom_event(e,a,{cancelable:_});return b.slice().forEach(et=>{et.call(o,_e)}),!_e.defaultPrevented}return!0}}function setContext(o,e){return get_current_component().$$.context.set(o,e),e}function getContext(o){return get_current_component().$$.context.get(o)}const dirty_components=[],binding_callbacks=[];let render_callbacks=[];const flush_callbacks=[],resolved_promise=Promise.resolve();let update_scheduled=!1;function schedule_update(){update_scheduled||(update_scheduled=!0,resolved_promise.then(flush))}function add_render_callback(o){render_callbacks.push(o)}function add_flush_callback(o){flush_callbacks.push(o)}const seen_callbacks=new Set;let flushidx=0;function flush(){if(flushidx!==0)return;const o=current_component;do{try{for(;flushidx<dirty_components.length;){const e=dirty_components[flushidx];flushidx++,set_current_component(e),update(e.$$)}}catch(e){throw dirty_components.length=0,flushidx=0,e}for(set_current_component(null),dirty_components.length=0,flushidx=0;binding_callbacks.length;)binding_callbacks.pop()();for(let e=0;e<render_callbacks.length;e+=1){const a=render_callbacks[e];seen_callbacks.has(a)||(seen_callbacks.add(a),a())}render_callbacks.length=0}while(dirty_components.length);for(;flush_callbacks.length;)flush_callbacks.pop()();update_scheduled=!1,seen_callbacks.clear(),set_current_component(o)}function update(o){if(o.fragment!==null){o.update(),run_all(o.before_update);const e=o.dirty;o.dirty=[-1],o.fragment&&o.fragment.p(o.ctx,e),o.after_update.forEach(add_render_callback)}}function flush_render_callbacks(o){const e=[],a=[];render_callbacks.forEach(_=>o.indexOf(_)===-1?e.push(_):a.push(_)),a.forEach(_=>_()),render_callbacks=e}let promise;function wait(){return promise||(promise=Promise.resolve(),promise.then(()=>{promise=null})),promise}function dispatch(o,e,a){o.dispatchEvent(custom_event(`${e?"intro":"outro"}${a}`))}const outroing=new Set;let outros;function group_outros(){outros={r:0,c:[],p:outros}}function check_outros(){outros.r||run_all(outros.c),outros=outros.p}function transition_in(o,e){o&&o.i&&(outroing.delete(o),o.i(e))}function transition_out(o,e,a,_){if(o&&o.o){if(outroing.has(o))return;outroing.add(o),outros.c.push(()=>{outroing.delete(o),_&&(a&&o.d(1),_())}),o.o(e)}else _&&_()}const null_transition={duration:0};function create_in_transition(o,e,a){const _={direction:"in"};let b=e(o,a,_),_e=!1,et,tt,nt=0;function it(){et&&delete_rule(o,et)}function ot(){const{delay:at=0,duration:lt=300,easing:ut=identity$1,tick:ft=noop$2,css:mt}=b||null_transition;mt&&(et=create_rule(o,0,1,lt,at,ut,mt,nt++)),ft(0,1);const ht=now()+at,vt=ht+lt;tt&&tt.abort(),_e=!0,add_render_callback(()=>dispatch(o,!0,"start")),tt=loop(Et=>{if(_e){if(Et>=vt)return ft(1,0),dispatch(o,!0,"end"),it(),_e=!1;if(Et>=ht){const At=ut((Et-ht)/lt);ft(At,1-At)}}return _e})}let st=!1;return{start(){st||(st=!0,delete_rule(o),is_function(b)?(b=b(_),wait().then(ot)):ot())},invalidate(){st=!1},end(){_e&&(it(),_e=!1)}}}function create_bidirectional_transition(o,e,a,_){let _e=e(o,a,{direction:"both"}),et=_?0:1,tt=null,nt=null,it=null,ot;function st(){it&&delete_rule(o,it)}function at(ut,ft){const mt=ut.b-et;return ft*=Math.abs(mt),{a:et,b:ut.b,d:mt,duration:ft,start:ut.start,end:ut.start+ft,group:ut.group}}function lt(ut){const{delay:ft=0,duration:mt=300,easing:ht=identity$1,tick:vt=noop$2,css:Et}=_e||null_transition,At={start:now()+ft,b:ut};ut||(At.group=outros,outros.r+=1),"inert"in o&&(ut?ot!==void 0&&(o.inert=ot):(ot=o.inert,o.inert=!0)),tt||nt?nt=At:(Et&&(st(),it=create_rule(o,et,ut,mt,ft,ht,Et)),ut&&vt(0,1),tt=at(At,mt),add_render_callback(()=>dispatch(o,ut,"start")),loop(Ct=>{if(nt&&Ct>nt.start&&(tt=at(nt,mt),nt=null,dispatch(o,tt.b,"start"),Et&&(st(),it=create_rule(o,et,tt.b,tt.duration,0,ht,_e.css))),tt){if(Ct>=tt.end)vt(et=tt.b,1-et),dispatch(o,tt.b,"end"),nt||(tt.b?st():--tt.group.r||run_all(tt.group.c)),tt=null;else if(Ct>=tt.start){const Mt=Ct-tt.start;et=tt.a+tt.d*ht(Mt/tt.duration),vt(et,1-et)}}return!!(tt||nt)}))}return{run(ut){is_function(_e)?wait().then(()=>{_e=_e({direction:ut?"in":"out"}),lt(ut)}):lt(ut)},end(){st(),tt=nt=null}}}function ensure_array_like(o){return(o==null?void 0:o.length)!==void 0?o:Array.from(o)}function get_spread_update(o,e){const a={},_={},b={$$scope:1};let _e=o.length;for(;_e--;){const et=o[_e],tt=e[_e];if(tt){for(const nt in et)nt in tt||(_[nt]=1);for(const nt in tt)b[nt]||(a[nt]=tt[nt],b[nt]=1);o[_e]=tt}else for(const nt in et)b[nt]=1}for(const et in _)et in a||(a[et]=void 0);return a}function get_spread_object(o){return typeof o=="object"&&o!==null?o:{}}function bind(o,e,a){const _=o.$$.props[e];_!==void 0&&(o.$$.bound[_]=a,a(o.$$.ctx[_]))}function create_component(o){o&&o.c()}function mount_component(o,e,a){const{fragment:_,after_update:b}=o.$$;_&&_.m(e,a),add_render_callback(()=>{const _e=o.$$.on_mount.map(run).filter(is_function);o.$$.on_destroy?o.$$.on_destroy.push(..._e):run_all(_e),o.$$.on_mount=[]}),b.forEach(add_render_callback)}function destroy_component(o,e){const a=o.$$;a.fragment!==null&&(flush_render_callbacks(a.after_update),run_all(a.on_destroy),a.fragment&&a.fragment.d(e),a.on_destroy=a.fragment=null,a.ctx=[])}function make_dirty(o,e){o.$$.dirty[0]===-1&&(dirty_components.push(o),schedule_update(),o.$$.dirty.fill(0)),o.$$.dirty[e/31|0]|=1<<e%31}function init$1(o,e,a,_,b,_e,et,tt=[-1]){const nt=current_component;set_current_component(o);const it=o.$$={fragment:null,ctx:[],props:_e,update:noop$2,not_equal:b,bound:blank_object(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(nt?nt.$$.context:[])),callbacks:blank_object(),dirty:tt,skip_bound:!1,root:e.target||nt.$$.root};et&&et(it.root);let ot=!1;if(it.ctx=a?a(o,e.props||{},(st,at,...lt)=>{const ut=lt.length?lt[0]:at;return it.ctx&&b(it.ctx[st],it.ctx[st]=ut)&&(!it.skip_bound&&it.bound[st]&&it.bound[st](ut),ot&&make_dirty(o,st)),at}):[],it.update(),ot=!0,run_all(it.before_update),it.fragment=_?_(it.ctx):!1,e.target){if(e.hydrate){const st=children(e.target);it.fragment&&it.fragment.l(st),st.forEach(detach)}else it.fragment&&it.fragment.c();e.intro&&transition_in(o.$$.fragment),mount_component(o,e.target,e.anchor),flush()}set_current_component(nt)}class SvelteComponent{constructor(){Br(this,"$$");Br(this,"$$set")}$destroy(){destroy_component(this,1),this.$destroy=noop$2}$on(e,a){if(!is_function(a))return noop$2;const _=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return _.push(a),()=>{const b=_.indexOf(a);b!==-1&&_.splice(b,1)}}$set(e){this.$$set&&!is_empty(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const PUBLIC_VERSION="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(PUBLIC_VERSION);function add_css$p(o){append_styles(o,"svelte-efme7g","h2.svelte-efme7g{color:var(--body-text-color);font-size:var(--fs-2);font-weight:600;text-align:center;margin:0;margin-block-start:var(--space-xs)}")}function create_fragment$A(o){let e,a;const _=o[1].default,b=create_slot(_,o,o[0],null);return{c(){e=element("h2"),b&&b.c(),attr(e,"class","svelte-efme7g")},m(_e,et){insert(_e,e,et),b&&b.m(e,null),a=!0},p(_e,[et]){b&&b.p&&(!a||et&1)&&update_slot_base(b,_,_e,_e[0],a?get_slot_changes(_,_e[0],et,null):get_all_dirty_from_scope(_e[0]),null)},i(_e){a||(transition_in(b,_e),a=!0)},o(_e){transition_out(b,_e),a=!1},d(_e){_e&&detach(e),b&&b.d(_e)}}}function instance$A(o,e,a){let{$$slots:_={},$$scope:b}=e;return o.$$set=_e=>{"$$scope"in _e&&a(0,b=_e.$$scope)},[b,_]}class BodyTitle extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$A,create_fragment$A,safe_not_equal,{},add_css$p)}}function add_css$o(o){append_styles(o,"svelte-fszb3i","p.svelte-fszb3i{color:var(--body-text-color-variant);font-size:var(--fs-1);font-weight:400;text-align:center;margin:0;overflow-wrap:anywhere}")}function create_fragment$z(o){let e,a;const _=o[1].default,b=create_slot(_,o,o[0],null);return{c(){e=element("p"),b&&b.c(),attr(e,"class","svelte-fszb3i")},m(_e,et){insert(_e,e,et),b&&b.m(e,null),a=!0},p(_e,[et]){b&&b.p&&(!a||et&1)&&update_slot_base(b,_,_e,_e[0],a?get_slot_changes(_,_e[0],et,null):get_all_dirty_from_scope(_e[0]),null)},i(_e){a||(transition_in(b,_e),a=!0)},o(_e){transition_out(b,_e),a=!1},d(_e){_e&&detach(e),b&&b.d(_e)}}}function instance$z(o,e,a){let{$$slots:_={},$$scope:b}=e;return o.$$set=_e=>{"$$scope"in _e&&a(0,b=_e.$$scope)},[b,_]}class BodyText extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$z,create_fragment$z,safe_not_equal,{},add_css$o)}}const Alert=`<svg
xmlns="http://www.w3.org/2000/svg"
viewBox="0 0 24 24"
fill="none"
stroke="currentColor"
stroke-width="2"
stroke-linecap="round"
stroke-linejoin="round"
class="lucide lucide-alert-circle"
><circle cx="12" cy="12" r="10" /><line x1="12" x2="12" y1="8" y2="12" /><line
    x1="12"
    x2="12.01"
    y1="16"
    y2="16"
/></svg
>
`,Check=`<svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    fill="none"
    stroke="currentColor"
    stroke-width="2"
    stroke-linecap="round"
    stroke-linejoin="round"><polyline points="20 6 9 17 4 12" /></svg
>
`,ChevronLeft=`<svg
xmlns="http://www.w3.org/2000/svg"
viewBox="0 0 24 24"
fill="none"
stroke="currentColor"
stroke-width="2"
stroke-linecap="round"
stroke-linejoin="round"><polyline points="15 18 9 12 15 6" /></svg
>
`,ChevronRight=`<svg
xmlns="http://www.w3.org/2000/svg"
viewBox="0 0 24 24"
fill="none"
stroke="currentColor"
stroke-width="2"
stroke-linecap="round"
stroke-linejoin="round"><polyline points="9 18 15 12 9 6" /></svg
>
`,Close$1=`<svg
xmlns="http://www.w3.org/2000/svg"
viewBox="0 0 24 24"
fill="none"
stroke="currentColor"
stroke-width="2"
stroke-linecap="round"
stroke-linejoin="round"
><line x1="18" y1="6" x2="6" y2="18" /><line x1="6" y1="6" x2="18" y2="18" /></svg
>
`,Copy=`<svg
xmlns="http://www.w3.org/2000/svg"
viewBox="0 0 24 24"
fill="none"
stroke="currentColor"
stroke-width="2"
stroke-linecap="round"
stroke-linejoin="round"
><rect x="9" y="9" width="13" height="13" rx="2" ry="2" /><path
    d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"
/></svg
>
`,Error$2=`<svg
xmlns="http://www.w3.org/2000/svg"
viewBox="0 0 24 24"
fill="none"
stroke="currentColor"
stroke-width="2"
stroke-linecap="round"
stroke-linejoin="round"
class="lucide lucide-x-octagon"
><polygon
    points="7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"
/><line x1="15" x2="9" y1="9" y2="15" /><line x1="9" x2="15" y1="9" y2="15" /></svg
>
`,ExternalLink=`<svg
xmlns="http://www.w3.org/2000/svg"
viewBox="0 0 24 24"
fill="none"
stroke="currentColor"
stroke-width="2"
stroke-linecap="round"
stroke-linejoin="round"
class="lucide lucide-external-link"
><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6" /><polyline
    points="15 3 21 3 21 9"
/><line x1="10" x2="21" y1="14" y2="3" /></svg
>
`,Expand=`<svg
xmlns="http://www.w3.org/2000/svg"
viewBox="0 0 24 24"
fill="none"
stroke="currentColor"
stroke-width="2"
stroke-linecap="round"
stroke-linejoin="round"
><polyline points="15 3 21 3 21 9" /><polyline points="9 21 3 21 3 15" /><line
    x1="21"
    y1="3"
    x2="14"
    y2="10"
/><line x1="3" y1="21" x2="10" y2="14" /></svg
>
`,FileCode=`<svg
xmlns="http://www.w3.org/2000/svg"
viewBox="0 0 24 24"
fill="none"
stroke="currentColor"
stroke-width="2"
stroke-linecap="round"
stroke-linejoin="round"
><path d="M4 22h14a2 2 0 0 0 2-2V7.5L14.5 2H6a2 2 0 0 0-2 2v4" /><polyline
    points="14 2 14 8 20 8"
/><path d="m9 18 3-3-3-3" /><path d="m5 12-3 3 3 3" /></svg
>
`,Github=`<svg
xmlns="http://www.w3.org/2000/svg"
viewBox="0 0 24 24"
fill="none"
stroke="currentColor"
stroke-width="2"
stroke-linecap="round"
stroke-linejoin="round"
class="lucide lucide-github"
><path
    d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"
/><path d="M9 18c-4.51 2-5-2-7-2" /></svg
>
`,Globe=`<svg
xmlns="http://www.w3.org/2000/svg"
viewBox="0 0 24 24"
fill="none"
stroke="currentColor"
stroke-width="2"
stroke-linecap="round"
stroke-linejoin="round"
class="lucide lucide-globe"
><circle cx="12" cy="12" r="10" /><line x1="2" x2="22" y1="12" y2="12" /><path
    d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"
/></svg
>
`,Info=`<svg
xmlns="http://www.w3.org/2000/svg"
viewBox="0 0 24 24"
fill="none"
stroke="currentColor"
stroke-width="2"
stroke-linecap="round"
stroke-linejoin="round"
class="lucide lucide-info"
><circle cx="12" cy="12" r="10" /><line x1="12" x2="12" y1="16" y2="12" /><line
    x1="12"
    x2="12.01"
    y1="8"
    y2="8"
/></svg
>
`,Login$1=`<svg
xmlns="http://www.w3.org/2000/svg"
viewBox="0 0 24 24"
fill="none"
stroke="currentColor"
stroke-width="2"
stroke-linecap="round"
stroke-linejoin="round"
><path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4" /><polyline
    points="10 17 15 12 10 7"
/><line x1="15" y1="12" x2="3" y2="12" /></svg
>
`,Settings$1=`<svg
xmlns="http://www.w3.org/2000/svg"
viewBox="0 0 24 24"
fill="none"
stroke="currentColor"
stroke-width="2"
stroke-linecap="round"
stroke-linejoin="round"
class="lucide lucide-settings-2"
><path d="M20 7h-9" /><path d="M14 17H5" /><circle cx="17" cy="17" r="3" /><circle
    cx="7"
    cy="7"
    r="3"
/></svg
>
`,Signal=`<svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    fill="none"
    stroke="currentColor"
    stroke-width="2"
    stroke-linecap="round"
    stroke-linejoin="round"
    class="lucide lucide-radio"
    ><path d="M4.9 19.1C1 15.2 1 8.8 4.9 4.9" /><path d="M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5" /><circle
        cx="12"
        cy="12"
        r="2"
    /><path d="M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5" /><path d="M19.1 4.9C23 8.8 23 15.1 19.1 19" /></svg
>
`,Theme=`<svg
xmlns="http://www.w3.org/2000/svg"
viewBox="0 0 24 24"
fill="none"
stroke="currentColor"
stroke-width="2"
stroke-linecap="round"
stroke-linejoin="round"
class="lucide lucide-sun-moon"
><path d="M12 16a4 4 0 1 0 0-8 4 4 0 0 0 0 8z" /><path d="M12 8a2.828 2.828 0 1 0 4 4" /><path
    d="M12 2v2"
/><path d="M12 20v2" /><path d="m4.93 4.93 1.41 1.41" /><path d="m17.66 17.66 1.41 1.41" /><path
    d="M2 12h2"
/><path d="M20 12h2" /><path d="m6.34 17.66-1.41 1.41" /><path d="m19.07 4.93-1.41 1.41" /></svg
>
`,Wallet$1=`<svg
xmlns="http://www.w3.org/2000/svg"
viewBox="0 0 24 24"
fill="none"
stroke="currentColor"
stroke-width="2"
stroke-linecap="round"
stroke-linejoin="round"
><path d="M20 12V8H6a2 2 0 0 1-2-2c0-1.1.9-2 2-2h12v4" /><path
    d="M4 6v12c0 1.1.9 2 2 2h14v-4"
/><path d="M18 12a2 2 0 0 0-2 2c0 1.1.9 2 2 2h4v-4h-4z" /></svg
>
`,Waves=`<svg
xmlns="http://www.w3.org/2000/svg"
viewBox="0 0 24 24"
fill="none"
stroke="currentColor"
stroke-width="2"
stroke-linecap="round"
stroke-linejoin="round"
class="lucide lucide-waves"
><path
    d="M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1"
/><path
    d="M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1"
/><path
    d="M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1"
/></svg
>
`,Wharf=`<svg width="36" height="31" fill="none" xmlns="http://www.w3.org/2000/svg"
><path
    d="M35.54 18.77c-.019.989-.673 1.676-1.319 2.048l-1.388.802c-.663.383-1.438.531-2.132.531-.695 0-1.47-.148-2.132-.531l-1.362-.802v2.722c0 1.008-.664 1.711-1.318 2.089l-1.389.801c-.663.383-1.437.531-2.132.531-.694 0-1.469-.148-2.131-.53l-2.035-1.175-2.034 1.174c-.663.383-1.438.531-2.132.531-.694 0-1.469-.148-2.131-.53l-9.722-5.613c-.645-.372-1.3-1.06-1.317-2.049v-.061 3.626c.018.989.672 1.676 1.317 2.049l9.722 5.612c.662.382 1.437.53 2.131.53.694 0 1.47-.148 2.132-.53l2.034-1.175 2.035 1.175c.662.382 1.437.53 2.131.53.695 0 1.47-.148 2.132-.53l1.389-.802c.654-.378 1.318-1.08 1.318-2.088v-2.722l1.362.801c.663.383 1.437.531 2.132.531.694 0 1.469-.148 2.132-.53l1.388-.802c.646-.373 1.3-1.06 1.318-2.05V18.77Z"
    fill="#7BE7CE"
/><path
    d="M.874 15.362a1.5 1.5 0 0 0-.009.161v3.246c.019.99.673 1.677 1.318 2.05l9.722 5.612c.662.382 1.437.53 2.131.53.694 0 1.47-.148 2.132-.53l2.034-1.175 2.035 1.175c.662.382 1.437.53 2.131.53.695 0 1.47-.148 2.132-.53l1.389-.802c.654-.378 1.318-1.08 1.318-2.089V20.82l1.362.801c.663.383 1.437.531 2.132.531.694 0 1.469-.148 2.132-.53l1.388-.802c.646-.373 1.3-1.06 1.318-2.05v-3.564c-.018.99-.672 1.677-1.318 2.049l-1.388.802c-.663.382-1.438.53-2.132.53-.695 0-1.47-.148-2.132-.53l-1.388-.802a2.943 2.943 0 0 1-.067-.04 2.168 2.168 0 0 1 .085.834c.005.05.008.101.008.152v1.776c0 1.008-.664 1.71-1.318 2.088l-1.389.802c-.663.383-1.437.531-2.132.531-.694 0-1.469-.148-2.131-.53l-2.035-1.175-2.034 1.174c-.663.383-1.438.531-2.132.531-.694 0-1.469-.148-2.131-.53l-9.722-5.613c-.61-.352-1.229-.987-1.31-1.892ZM17.54 5.749l.004.043c.07.6.368 1.074.74 1.424a4.94 4.94 0 0 0-.75.045V5.875c0-.043.002-.085.006-.126Z"
    fill="#B2F2E1"
/><path
    d="m3.573 10.152-1.389.801c-.618.358-1.246 1.006-1.312 1.928a1.364 1.364 0 0 0-.007.136V15.204c.019.99.673 1.677 1.318 2.05l9.722 5.611c.662.383 1.437.532 2.131.532.694 0 1.47-.149 2.132-.532l2.034-1.174 2.035 1.174c.662.383 1.437.532 2.131.532.695 0 1.47-.149 2.132-.532l1.389-.801c.654-.378 1.318-1.08 1.318-2.089v-1.775c0-.052-.003-.102-.008-.153a2.25 2.25 0 0 0-.085-.833l.067.04 1.388.801c.663.383 1.437.531 2.132.531.694 0 1.469-.148 2.132-.53l1.388-.802c.646-.373 1.3-1.06 1.318-2.05v-2.092a2.359 2.359 0 0 0 0-.142V8.29l.001-.058c0-1.009-.664-1.711-1.318-2.089L24.501.531C23.838.15 23.064 0 22.369 0c-.694 0-1.469.149-2.131.531l-1.389.802c-.654.377-1.318 1.08-1.318 2.088 0 .048.001.095.004.14v1.847a2.069 2.069 0 0 0 .01.385c.069.6.367 1.073.739 1.423h-.08c-.695 0-1.47.148-2.133.53l-1.388.802c-.654.378-1.318 1.08-1.318 2.089 0 .065.002.13.008.193a1.485 1.485 0 0 0-.002.073v1.682l-.003.041-.002.045a2.298 2.298 0 0 0 .021.405c.017.112.041.22.072.322l-5.623-3.246C7.174 9.769 6.4 9.62 5.705 9.62c-.695 0-1.47.148-2.132.53Z"
    fill="#F4FAF4"
/><path
    d="M23.758 1.818c-.767-.442-2.01-.442-2.778 0l-1.389.802c-.766.443-.766 1.16 0 1.604l9.553 5.514c.369.213.575.501.575.802v.195c0 .3-.207.589-.575.801l-1.22.705c-.767.443-.767 1.16 0 1.603l1.389.802c.767.443 2.01.443 2.777 0l1.389-.802c.767-.443.767-1.16 0-1.603l-1.22-.705c-.369-.212-.576-.5-.576-.801v-.195c0-.3.207-.59.576-.802l1.22-.704c.767-.443.767-1.16 0-1.604l-9.721-5.612ZM7.093 11.439c-.767-.443-2.01-.443-2.777 0l-1.39.802c-.766.443-.766 1.16 0 1.603l9.722 5.612c.767.443 2.01.443 2.777 0l2.778-1.603-11.11-6.414Z"
    fill="#494E62"
/><path
    d="M23.351 15.545c0 .3.207.589.575.801l1.22.705c.767.443.767 1.16 0 1.603l-1.388.802c-.767.443-2.01.443-2.778 0l-2.777-1.603 2.609-1.507c.368-.212.575-.5.575-.801v-.195c0-.3-.207-.589-.575-.801l-5.387-3.11c-.767-.443-.767-1.16 0-1.603l1.39-.802c.766-.443 2.01-.443 2.776 0l5.555 3.207c.767.443.767 1.16 0 1.603l-1.22.705c-.368.212-.575.5-.575.801v.195Z"
    fill="#494E62"
/></svg
>
`,icons={copy:Copy,check:Check,close:Close$1,"file-code":FileCode,wharf:Wharf,login:Login$1,"chevron-right":ChevronRight,"chevron-left":ChevronLeft,wallet:Wallet$1,expand:Expand,signal:Signal,settings:Settings$1,globe:Globe,github:Github,info:Info,theme:Theme,waves:Waves,"external-link":ExternalLink,error:Error$2,alert:Alert};function add_css$n(o){append_styles(o,"svelte-19w48ux","div.svelte-19w48ux svg{width:100%;height:100%}")}function create_fragment$y(o){let e,a=icons[o[0]]+"";return{c(){e=element("div"),set_style(e,"width",o[1]),set_style(e,"display","grid"),set_style(e,"place-content","center"),set_style(e,"color",o[2]),attr(e,"class","svelte-19w48ux")},m(_,b){insert(_,e,b),e.innerHTML=a},p(_,[b]){b&1&&a!==(a=icons[_[0]]+"")&&(e.innerHTML=a),b&2&&set_style(e,"width",_[1]),b&4&&set_style(e,"color",_[2])},i:noop$2,o:noop$2,d(_){_&&detach(e)}}}function instance$y(o,e,a){let{name:_}=e,{size:b="var(--space-l)"}=e,{color:_e="currentColor"}=e;return o.$$set=et=>{"name"in et&&a(0,_=et.name),"size"in et&&a(1,b=et.size),"color"in et&&a(2,_e=et.color)},[_,b,_e]}class Icon extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$y,create_fragment$y,safe_not_equal,{name:0,size:1,color:2},add_css$n)}}function add_css$m(o){append_styles(o,"svelte-1u0n4gl","div.svelte-1u0n4gl{display:grid;justify-items:center;gap:var(--space-s);text-align:center;color:var(--body-text-color);margin-block:var(--space-s)}")}function create_if_block_2$9(o){let e,a;return e=new Icon({props:{name:o[2],size:"var(--space-3xl)",color:o[3]}}),{c(){create_component(e.$$.fragment)},m(_,b){mount_component(e,_,b),a=!0},p(_,b){const _e={};b&4&&(_e.name=_[2]),b&8&&(_e.color=_[3]),e.$set(_e)},i(_){a||(transition_in(e.$$.fragment,_),a=!0)},o(_){transition_out(e.$$.fragment,_),a=!1},d(_){destroy_component(e,_)}}}function create_if_block_1$9(o){let e,a;return e=new BodyTitle({props:{$$slots:{default:[create_default_slot_1$a]},$$scope:{ctx:o}}}),{c(){create_component(e.$$.fragment)},m(_,b){mount_component(e,_,b),a=!0},p(_,b){const _e={};b&17&&(_e.$$scope={dirty:b,ctx:_}),e.$set(_e)},i(_){a||(transition_in(e.$$.fragment,_),a=!0)},o(_){transition_out(e.$$.fragment,_),a=!1},d(_){destroy_component(e,_)}}}function create_default_slot_1$a(o){let e;return{c(){e=text(o[0])},m(a,_){insert(a,e,_)},p(a,_){_&1&&set_data(e,a[0])},d(a){a&&detach(e)}}}function create_if_block$j(o){let e,a;return e=new BodyText({props:{$$slots:{default:[create_default_slot$c]},$$scope:{ctx:o}}}),{c(){create_component(e.$$.fragment)},m(_,b){mount_component(e,_,b),a=!0},p(_,b){const _e={};b&18&&(_e.$$scope={dirty:b,ctx:_}),e.$set(_e)},i(_){a||(transition_in(e.$$.fragment,_),a=!0)},o(_){transition_out(e.$$.fragment,_),a=!1},d(_){destroy_component(e,_)}}}function create_default_slot$c(o){let e;return{c(){e=text(o[1])},m(a,_){insert(a,e,_)},p(a,_){_&2&&set_data(e,a[1])},d(a){a&&detach(e)}}}function create_fragment$x(o){let e,a,_,b,_e=o[2]&&create_if_block_2$9(o),et=o[0]&&create_if_block_1$9(o),tt=o[1]&&create_if_block$j(o);return{c(){e=element("div"),_e&&_e.c(),a=space(),et&&et.c(),_=space(),tt&&tt.c(),attr(e,"class","svelte-1u0n4gl")},m(nt,it){insert(nt,e,it),_e&&_e.m(e,null),append(e,a),et&&et.m(e,null),append(e,_),tt&&tt.m(e,null),b=!0},p(nt,[it]){nt[2]?_e?(_e.p(nt,it),it&4&&transition_in(_e,1)):(_e=create_if_block_2$9(nt),_e.c(),transition_in(_e,1),_e.m(e,a)):_e&&(group_outros(),transition_out(_e,1,1,()=>{_e=null}),check_outros()),nt[0]?et?(et.p(nt,it),it&1&&transition_in(et,1)):(et=create_if_block_1$9(nt),et.c(),transition_in(et,1),et.m(e,_)):et&&(group_outros(),transition_out(et,1,1,()=>{et=null}),check_outros()),nt[1]?tt?(tt.p(nt,it),it&2&&transition_in(tt,1)):(tt=create_if_block$j(nt),tt.c(),transition_in(tt,1),tt.m(e,null)):tt&&(group_outros(),transition_out(tt,1,1,()=>{tt=null}),check_outros())},i(nt){b||(transition_in(_e),transition_in(et),transition_in(tt),b=!0)},o(nt){transition_out(_e),transition_out(et),transition_out(tt),b=!1},d(nt){nt&&detach(e),_e&&_e.d(),et&&et.d(),tt&&tt.d()}}}function instance$x(o,e,a){let{title:_=void 0}=e,{details:b=void 0}=e,{icon:_e=void 0}=e,{iconColor:et="currentColor"}=e;return o.$$set=tt=>{"title"in tt&&a(0,_=tt.title),"details"in tt&&a(1,b=tt.details),"icon"in tt&&a(2,_e=tt.icon),"iconColor"in tt&&a(3,et=tt.iconColor)},[_,b,_e,et]}class Message extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$x,create_fragment$x,safe_not_equal,{title:0,details:1,icon:2,iconColor:3},add_css$m)}}function create_fragment$w(o){let e,a;return e=new Message({props:{title:o[0],details:o[1],icon:"error",iconColor:"var(--color-error-2)"}}),{c(){create_component(e.$$.fragment)},m(_,b){mount_component(e,_,b),a=!0},p(_,[b]){const _e={};b&1&&(_e.title=_[0]),b&2&&(_e.details=_[1]),e.$set(_e)},i(_){a||(transition_in(e.$$.fragment,_),a=!0)},o(_){transition_out(e.$$.fragment,_),a=!1},d(_){destroy_component(e,_)}}}function instance$w(o,e,a){let{title:_}=e,{details:b}=e;return o.$$set=_e=>{"title"in _e&&a(0,_=_e.title),"details"in _e&&a(1,b=_e.details)},[_,b]}class ErrorMessage extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$w,create_fragment$w,safe_not_equal,{title:0,details:1})}}const subscriber_queue=[];function readable(o,e){return{subscribe:writable(o,e).subscribe}}function writable(o,e=noop$2){let a;const _=new Set;function b(tt){if(safe_not_equal(o,tt)&&(o=tt,a)){const nt=!subscriber_queue.length;for(const it of _)it[1](),subscriber_queue.push(it,o);if(nt){for(let it=0;it<subscriber_queue.length;it+=2)subscriber_queue[it][0](subscriber_queue[it+1]);subscriber_queue.length=0}}}function _e(tt){b(tt(o))}function et(tt,nt=noop$2){const it=[tt,nt];return _.add(it),_.size===1&&(a=e(b,_e)||noop$2),tt(o),()=>{_.delete(it),_.size===0&&a&&(a(),a=null)}}return{set:b,update:_e,subscribe:et}}function derived(o,e,a){const _=!Array.isArray(o),b=_?[o]:o;if(!b.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const _e=e.length<2;return readable(a,(et,tt)=>{let nt=!1;const it=[];let ot=0,st=noop$2;const at=()=>{if(ot)return;st();const ut=e(_?it[0]:it,et,tt);_e?et(ut):st=is_function(ut)?ut:noop$2},lt=b.map((ut,ft)=>subscribe(ut,mt=>{it[ft]=mt,ot&=~(1<<ft),nt&&at()},()=>{ot|=1<<ft}));return nt=!0,at(),function(){run_all(lt),st(),nt=!1}})}function resetState(){active.set(!1),router.set({...defaultUserInterfaceRouter}),props.set({...defaultUserInterfaceProps}),prompt.reset(),cancelablePromises.set([]),transactContext.set(void 0),loginContext.set(void 0),loginPromise.set(void 0),loginResponse.set({...defaultLoginResponse}),accountCreationContext.set(void 0),accountCreationPromise.set(void 0),accountCreationResponse.set({...defaultAccountCreationResponse}),errorDetails.set(void 0),backAction.set(void 0),transitionDirection.set(void 0)}const active=writable(!1),allowSettings=writable(!1),defaultUserInterfaceSettings={language:"",theme:void 0,animations:!0};function makeSettingsStore(o=defaultUserInterfaceSettings){const e=writable(o),{subscribe:a,set:_}=e;let b;return typeof localStorage<"u"&&(b=new BrowserLocalStorage("web.renderer"),b.read("settings").then(_e=>{_e&&_(JSON.parse(_e))})),{subscribe:a,set:_e=>{b&&b.write("settings",JSON.stringify(_e)),_(_e)},update:_e=>{const et=_e(get_store_value(e));b&&b.write("settings",JSON.stringify(et)),_(et)}}}const settings$5=makeSettingsStore(),defaultUserInterfaceProps={title:"Wharf",subtitle:"Status Message"},props=writable(defaultUserInterfaceProps),defaultUserInterfaceRouter={path:"",history:[]},initRouter=()=>{const{set:o,subscribe:e,update:a}=writable(defaultUserInterfaceRouter);return{back:()=>a(_=>({..._,path:_.history[_.history.length-1],history:_.history.slice(0,-1)})),push:_=>a(b=>({...b,path:_,history:[...b.history,b.path]})),set:o,subscribe:e,update:a}},router=initRouter(),cancelablePromises=writable([]),transactContext=writable(void 0),initPrompt=()=>{const{set:o,subscribe:e,update:a}=writable(void 0);return{reset:()=>o(void 0),set:o,subscribe:e,update:a}},prompt=initPrompt(),defaultLoginResponse={chainId:void 0,permissionLevel:void 0,walletPluginIndex:void 0},loginContext=writable(void 0),loginPromise=writable(void 0),loginResponse=writable({...defaultLoginResponse}),defaultAccountCreationResponse={chain:void 0,pluginId:void 0},accountCreationContext=writable(void 0),accountCreationResponse=writable({...defaultAccountCreationResponse}),accountCreationPromise=writable(void 0),errorDetails=writable(void 0),backAction=writable(void 0),transitionDirection=writable(void 0);function create_if_block$i(o){let e,a;return e=new ErrorMessage({props:{title:o[1]("error.title",{default:"Error"}),details:o[0]}}),{c(){create_component(e.$$.fragment)},m(_,b){mount_component(e,_,b),a=!0},p(_,b){const _e={};b&2&&(_e.title=_[1]("error.title",{default:"Error"})),b&1&&(_e.details=_[0]),e.$set(_e)},i(_){a||(transition_in(e.$$.fragment,_),a=!0)},o(_){transition_out(e.$$.fragment,_),a=!1},d(_){destroy_component(e,_)}}}function create_fragment$v(o){let e,a,_=o[0]&&create_if_block$i(o);return{c(){e=element("div"),_&&_.c(),attr(e,"class","error")},m(b,_e){insert(b,e,_e),_&&_.m(e,null),a=!0},p(b,[_e]){b[0]?_?(_.p(b,_e),_e&1&&transition_in(_,1)):(_=create_if_block$i(b),_.c(),transition_in(_,1),_.m(e,null)):_&&(group_outros(),transition_out(_,1,1,()=>{_=null}),check_outros())},i(b){a||(transition_in(_),a=!0)},o(b){transition_out(_),a=!1},d(b){b&&detach(e),_&&_.d()}}}function instance$v(o,e,a){let _,b;component_subscribe(o,errorDetails,et=>a(0,_=et));const{t:_e}=getContext("i18n");return component_subscribe(o,_e,et=>a(1,b=et)),[_,b,_e]}class Error$1 extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$v,create_fragment$v,safe_not_equal,{})}}function add_css$l(o){append_styles(o,"svelte-1q25md2","ul.svelte-1q25md2{list-style:none;padding:0;margin:0}")}function create_fragment$u(o){let e,a;const _=o[1].default,b=create_slot(_,o,o[0],null);return{c(){e=element("ul"),b&&b.c(),attr(e,"class","svelte-1q25md2")},m(_e,et){insert(_e,e,et),b&&b.m(e,null),a=!0},p(_e,[et]){b&&b.p&&(!a||et&1)&&update_slot_base(b,_,_e,_e[0],a?get_slot_changes(_,_e[0],et,null):get_all_dirty_from_scope(_e[0]),null)},i(_e){a||(transition_in(b,_e),a=!0)},o(_e){transition_out(b,_e),a=!1},d(_e){_e&&detach(e),b&&b.d(_e)}}}function instance$u(o,e,a){let{$$slots:_={},$$scope:b}=e;return o.$$set=_e=>{"$$scope"in _e&&a(0,b=_e.$$scope)},[b,_]}class List extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$u,create_fragment$u,safe_not_equal,{},add_css$l)}}function add_css$k(o){append_styles(o,"svelte-1w5zc52","li.svelte-1w5zc52.svelte-1w5zc52{display:flex;height:calc(var(--space-l) * 2);align-items:center;color:var(--body-text-color);font-size:var(--fs-1);font-weight:500}li.svelte-1w5zc52.svelte-1w5zc52:not(:last-child){border-bottom:1px solid var(--list-divider-color)}button.svelte-1w5zc52.svelte-1w5zc52,a.svelte-1w5zc52.svelte-1w5zc52{flex:1;height:100%;display:flex;align-items:center;cursor:pointer;border:none;background:none;color:inherit;font-size:inherit;font-family:inherit;font-weight:inherit;margin:0;padding:0;padding-inline-start:var(--space-3xs);text-decoration:none}.leading.svelte-1w5zc52.svelte-1w5zc52{inline-size:var(--space-xl);block-size:var(--space-xl);display:grid;place-content:center}.leading.svelte-1w5zc52>.svelte-1w5zc52{max-inline-size:30px;max-block-size:30px}.leading.svelte-1w5zc52 img.svelte-1w5zc52{width:100%;height:100%;object-fit:contain}.trailing.svelte-1w5zc52.svelte-1w5zc52{opacity:0.2;padding-inline-end:var(--space-s)}li.svelte-1w5zc52.svelte-1w5zc52:hover{background:var(--list-item-background-color-hover)}li.svelte-1w5zc52:hover .trailing.svelte-1w5zc52{opacity:1}.label.svelte-1w5zc52.svelte-1w5zc52{flex:1;text-align:start;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;padding-inline-start:var(--space-xs)}.value.svelte-1w5zc52.svelte-1w5zc52{font-weight:400;padding-inline-end:var(--space-xs)}")}function create_else_block$5(o){let e,a,_,b,_e,et,tt,nt,it,ot;const st=[create_if_block_7,create_if_block_8],at=[];function lt(mt,ht){return mt[4]?0:mt[2]?1:-1}~(_=lt(o))&&(b=at[_]=st[_](o));let ut=o[5]&&create_if_block_6$1(o),ft=o[3]&&create_if_block_5$1(o);return{c(){e=element("a"),a=element("div"),b&&b.c(),_e=space(),et=element("span"),tt=text(o[0]),nt=space(),ut&&ut.c(),it=space(),ft&&ft.c(),attr(a,"class","leading svelte-1w5zc52"),attr(et,"class","label svelte-1w5zc52"),attr(e,"href",o[6]),attr(e,"target","_blank"),attr(e,"rel","noreferrer"),attr(e,"class","svelte-1w5zc52")},m(mt,ht){insert(mt,e,ht),append(e,a),~_&&at[_].m(a,null),append(e,_e),append(e,et),append(et,tt),append(e,nt),ut&&ut.m(e,null),append(e,it),ft&&ft.m(e,null),ot=!0},p(mt,ht){let vt=_;_=lt(mt),_===vt?~_&&at[_].p(mt,ht):(b&&(group_outros(),transition_out(at[vt],1,1,()=>{at[vt]=null}),check_outros()),~_?(b=at[_],b?b.p(mt,ht):(b=at[_]=st[_](mt),b.c()),transition_in(b,1),b.m(a,null)):b=null),(!ot||ht&1)&&set_data(tt,mt[0]),mt[5]?ut?ut.p(mt,ht):(ut=create_if_block_6$1(mt),ut.c(),ut.m(e,it)):ut&&(ut.d(1),ut=null),mt[3]?ft?(ft.p(mt,ht),ht&8&&transition_in(ft,1)):(ft=create_if_block_5$1(mt),ft.c(),transition_in(ft,1),ft.m(e,null)):ft&&(group_outros(),transition_out(ft,1,1,()=>{ft=null}),check_outros()),(!ot||ht&64)&&attr(e,"href",mt[6])},i(mt){ot||(transition_in(b),transition_in(ft),ot=!0)},o(mt){transition_out(b),transition_out(ft),ot=!1},d(mt){mt&&detach(e),~_&&at[_].d(),ut&&ut.d(),ft&&ft.d()}}}function create_if_block$h(o){let e,a,_,b,_e,et,tt,nt,it,ot,st,at;const lt=[create_if_block_3$6,create_if_block_4$5],ut=[];function ft(vt,Et){return vt[4]?0:vt[2]?1:-1}~(_=ft(o))&&(b=ut[_]=lt[_](o));let mt=o[5]&&create_if_block_2$8(o),ht=o[3]&&create_if_block_1$8(o);return{c(){e=element("button"),a=element("div"),b&&b.c(),_e=space(),et=element("span"),tt=text(o[0]),nt=space(),mt&&mt.c(),it=space(),ht&&ht.c(),attr(a,"class","leading svelte-1w5zc52"),attr(et,"class","label svelte-1w5zc52"),attr(e,"class","svelte-1w5zc52")},m(vt,Et){insert(vt,e,Et),append(e,a),~_&&ut[_].m(a,null),append(e,_e),append(e,et),append(et,tt),append(e,nt),mt&&mt.m(e,null),append(e,it),ht&&ht.m(e,null),ot=!0,st||(at=listen(e,"click",function(){is_function(o[1])&&o[1].apply(this,arguments)}),st=!0)},p(vt,Et){o=vt;let At=_;_=ft(o),_===At?~_&&ut[_].p(o,Et):(b&&(group_outros(),transition_out(ut[At],1,1,()=>{ut[At]=null}),check_outros()),~_?(b=ut[_],b?b.p(o,Et):(b=ut[_]=lt[_](o),b.c()),transition_in(b,1),b.m(a,null)):b=null),(!ot||Et&1)&&set_data(tt,o[0]),o[5]?mt?mt.p(o,Et):(mt=create_if_block_2$8(o),mt.c(),mt.m(e,it)):mt&&(mt.d(1),mt=null),o[3]?ht?(ht.p(o,Et),Et&8&&transition_in(ht,1)):(ht=create_if_block_1$8(o),ht.c(),transition_in(ht,1),ht.m(e,null)):ht&&(group_outros(),transition_out(ht,1,1,()=>{ht=null}),check_outros())},i(vt){ot||(transition_in(b),transition_in(ht),ot=!0)},o(vt){transition_out(b),transition_out(ht),ot=!1},d(vt){vt&&detach(e),~_&&ut[_].d(),mt&&mt.d(),ht&&ht.d(),st=!1,at()}}}function create_if_block_8(o){let e,a,_;return a=new Icon({props:{name:o[2]}}),{c(){e=element("div"),create_component(a.$$.fragment),attr(e,"class","icon svelte-1w5zc52")},m(b,_e){insert(b,e,_e),mount_component(a,e,null),_=!0},p(b,_e){const et={};_e&4&&(et.name=b[2]),a.$set(et)},i(b){_||(transition_in(a.$$.fragment,b),_=!0)},o(b){transition_out(a.$$.fragment,b),_=!1},d(b){b&&detach(e),destroy_component(a)}}}function create_if_block_7(o){let e,a,_,b;return{c(){e=element("div"),a=element("img"),src_url_equal(a.src,_=o[4])||attr(a,"src",_),attr(a,"alt",b=`${o[0]} logo`),attr(a,"class","svelte-1w5zc52"),attr(e,"class","logo svelte-1w5zc52")},m(_e,et){insert(_e,e,et),append(e,a)},p(_e,et){et&16&&!src_url_equal(a.src,_=_e[4])&&attr(a,"src",_),et&1&&b!==(b=`${_e[0]} logo`)&&attr(a,"alt",b)},i:noop$2,o:noop$2,d(_e){_e&&detach(e)}}}function create_if_block_6$1(o){let e,a;return{c(){e=element("span"),a=text(o[5]),attr(e,"class","value svelte-1w5zc52")},m(_,b){insert(_,e,b),append(e,a)},p(_,b){b&32&&set_data(a,_[5])},d(_){_&&detach(e)}}}function create_if_block_5$1(o){let e,a,_;return a=new Icon({props:{name:o[3]}}),{c(){e=element("div"),create_component(a.$$.fragment),attr(e,"class","trailing svelte-1w5zc52")},m(b,_e){insert(b,e,_e),mount_component(a,e,null),_=!0},p(b,_e){const et={};_e&8&&(et.name=b[3]),a.$set(et)},i(b){_||(transition_in(a.$$.fragment,b),_=!0)},o(b){transition_out(a.$$.fragment,b),_=!1},d(b){b&&detach(e),destroy_component(a)}}}function create_if_block_4$5(o){let e,a,_;return a=new Icon({props:{name:o[2]}}),{c(){e=element("div"),create_component(a.$$.fragment),attr(e,"class","icon svelte-1w5zc52")},m(b,_e){insert(b,e,_e),mount_component(a,e,null),_=!0},p(b,_e){const et={};_e&4&&(et.name=b[2]),a.$set(et)},i(b){_||(transition_in(a.$$.fragment,b),_=!0)},o(b){transition_out(a.$$.fragment,b),_=!1},d(b){b&&detach(e),destroy_component(a)}}}function create_if_block_3$6(o){let e,a,_,b;return{c(){e=element("div"),a=element("img"),src_url_equal(a.src,_=o[4])||attr(a,"src",_),attr(a,"alt",b=`${o[0]} logo`),attr(a,"class","svelte-1w5zc52"),attr(e,"class","logo svelte-1w5zc52")},m(_e,et){insert(_e,e,et),append(e,a)},p(_e,et){et&16&&!src_url_equal(a.src,_=_e[4])&&attr(a,"src",_),et&1&&b!==(b=`${_e[0]} logo`)&&attr(a,"alt",b)},i:noop$2,o:noop$2,d(_e){_e&&detach(e)}}}function create_if_block_2$8(o){let e,a;return{c(){e=element("span"),a=text(o[5]),attr(e,"class","value svelte-1w5zc52")},m(_,b){insert(_,e,b),append(e,a)},p(_,b){b&32&&set_data(a,_[5])},d(_){_&&detach(e)}}}function create_if_block_1$8(o){let e,a,_;return a=new Icon({props:{name:o[3]}}),{c(){e=element("div"),create_component(a.$$.fragment),attr(e,"class","trailing svelte-1w5zc52")},m(b,_e){insert(b,e,_e),mount_component(a,e,null),_=!0},p(b,_e){const et={};_e&8&&(et.name=b[3]),a.$set(et)},i(b){_||(transition_in(a.$$.fragment,b),_=!0)},o(b){transition_out(a.$$.fragment,b),_=!1},d(b){b&&detach(e),destroy_component(a)}}}function fallback_block$2(o){let e,a,_,b;const _e=[create_if_block$h,create_else_block$5],et=[];function tt(nt,it){return nt[6]?1:0}return e=tt(o),a=et[e]=_e[e](o),{c(){a.c(),_=empty()},m(nt,it){et[e].m(nt,it),insert(nt,_,it),b=!0},p(nt,it){let ot=e;e=tt(nt),e===ot?et[e].p(nt,it):(group_outros(),transition_out(et[ot],1,1,()=>{et[ot]=null}),check_outros(),a=et[e],a?a.p(nt,it):(a=et[e]=_e[e](nt),a.c()),transition_in(a,1),a.m(_.parentNode,_))},i(nt){b||(transition_in(a),b=!0)},o(nt){transition_out(a),b=!1},d(nt){nt&&detach(_),et[e].d(nt)}}}function create_fragment$t(o){let e,a;const _=o[8].default,b=create_slot(_,o,o[7],null),_e=b||fallback_block$2(o);return{c(){e=element("li"),_e&&_e.c(),attr(e,"class","svelte-1w5zc52")},m(et,tt){insert(et,e,tt),_e&&_e.m(e,null),a=!0},p(et,[tt]){b?b.p&&(!a||tt&128)&&update_slot_base(b,_,et,et[7],a?get_slot_changes(_,et[7],tt,null):get_all_dirty_from_scope(et[7]),null):_e&&_e.p&&(!a||tt&127)&&_e.p(et,a?tt:-1)},i(et){a||(transition_in(_e,et),a=!0)},o(et){transition_out(_e,et),a=!1},d(et){et&&detach(e),_e&&_e.d(et)}}}function instance$t(o,e,a){let{$$slots:_={},$$scope:b}=e,{label:_e=void 0}=e,{onClick:et=()=>{}}=e,{leadingIcon:tt=void 0}=e,{trailingIcon:nt="chevron-right"}=e,{logo:it=void 0}=e,{value:ot=void 0}=e,{link:st=void 0}=e;return o.$$set=at=>{"label"in at&&a(0,_e=at.label),"onClick"in at&&a(1,et=at.onClick),"leadingIcon"in at&&a(2,tt=at.leadingIcon),"trailingIcon"in at&&a(3,nt=at.trailingIcon),"logo"in at&&a(4,it=at.logo),"value"in at&&a(5,ot=at.value),"link"in at&&a(6,st=at.link),"$$scope"in at&&a(7,b=at.$$scope)},[_e,et,tt,nt,it,ot,st,b,_]}class ListItem extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$t,create_fragment$t,safe_not_equal,{label:0,onClick:1,leadingIcon:2,trailingIcon:3,logo:4,value:5,link:6},add_css$k)}}function isUrlImage(o){return o.startsWith("http://")||o.startsWith("https://")}function isBase64Image(o){return o.startsWith("data:image/")}function isValidIcon(o){return o in icons}function getThemedLogo(o){var et,tt;const{name:e,logo:a}=o;let{theme:_}=get_store_value(settings$5);const b=_==="light"?"dark":"light";if(_||(window.matchMedia("(prefers-color-scheme: dark)").matches?_="dark":_="light"),!a){if("getLogo"in o)return((et=o.getLogo())==null?void 0:et[_])??((tt=o.getLogo())==null?void 0:tt[b]);console.warn(`${e} does not have a logo.`);return}const _e=a[_]??a[b];if(!isUrlImage(_e.toString())&&!isBase64Image(_e.toString())){console.warn(`${e} ${_} logo is not a supported image format.`);return}return _e}function add_css$j(o){append_styles(o,"svelte-1d8fcdl","section.svelte-1d8fcdl{display:flex;flex-direction:column;gap:var(--space-s)}")}function get_each_context$5(o,e,a){const _=o.slice();return _[4]=e[a],_}function create_if_block$g(o){let e,a,_,b,_e;return a=new BodyTitle({props:{$$slots:{default:[create_default_slot_1$9]},$$scope:{ctx:o}}}),b=new List({props:{$$slots:{default:[create_default_slot$b]},$$scope:{ctx:o}}}),{c(){e=element("section"),create_component(a.$$.fragment),_=space(),create_component(b.$$.fragment),attr(e,"class","svelte-1d8fcdl")},m(et,tt){insert(et,e,tt),mount_component(a,e,null),append(e,_),mount_component(b,e,null),_e=!0},p(et,tt){const nt={};tt&130&&(nt.$$scope={dirty:tt,ctx:et}),a.$set(nt);const it={};tt&129&&(it.$$scope={dirty:tt,ctx:et}),b.$set(it)},i(et){_e||(transition_in(a.$$.fragment,et),transition_in(b.$$.fragment,et),_e=!0)},o(et){transition_out(a.$$.fragment,et),transition_out(b.$$.fragment,et),_e=!1},d(et){et&&detach(e),destroy_component(a),destroy_component(b)}}}function create_default_slot_1$9(o){let e;return{c(){e=text(o[1])},m(a,_){insert(a,e,_)},p(a,_){_&2&&set_data(e,a[1])},d(a){a&&detach(e)}}}function create_each_block$5(o){let e,a;function _(){return o[3](o[4])}return e=new ListItem({props:{label:o[4].name,onClick:_,leadingIcon:"wharf",logo:getThemedLogo(o[4])}}),{c(){create_component(e.$$.fragment)},m(b,_e){mount_component(e,b,_e),a=!0},p(b,_e){o=b;const et={};_e&1&&(et.label=o[4].name),_e&1&&(et.onClick=_),_e&1&&(et.logo=getThemedLogo(o[4])),e.$set(et)},i(b){a||(transition_in(e.$$.fragment,b),a=!0)},o(b){transition_out(e.$$.fragment,b),a=!1},d(b){destroy_component(e,b)}}}function create_default_slot$b(o){let e,a,_=ensure_array_like(o[0]),b=[];for(let et=0;et<_.length;et+=1)b[et]=create_each_block$5(get_each_context$5(o,_,et));const _e=et=>transition_out(b[et],1,1,()=>{b[et]=null});return{c(){for(let et=0;et<b.length;et+=1)b[et].c();e=empty()},m(et,tt){for(let nt=0;nt<b.length;nt+=1)b[nt]&&b[nt].m(et,tt);insert(et,e,tt),a=!0},p(et,tt){if(tt&5){_=ensure_array_like(et[0]);let nt;for(nt=0;nt<_.length;nt+=1){const it=get_each_context$5(et,_,nt);b[nt]?(b[nt].p(it,tt),transition_in(b[nt],1)):(b[nt]=create_each_block$5(it),b[nt].c(),transition_in(b[nt],1),b[nt].m(e.parentNode,e))}for(group_outros(),nt=_.length;nt<b.length;nt+=1)_e(nt);check_outros()}},i(et){if(!a){for(let tt=0;tt<_.length;tt+=1)transition_in(b[tt]);a=!0}},o(et){b=b.filter(Boolean);for(let tt=0;tt<b.length;tt+=1)transition_out(b[tt]);a=!1},d(et){et&&detach(e),destroy_each(b,et)}}}function create_fragment$s(o){let e,a,_=o[0]&&create_if_block$g(o);return{c(){_&&_.c(),e=empty()},m(b,_e){_&&_.m(b,_e),insert(b,e,_e),a=!0},p(b,[_e]){b[0]?_?(_.p(b,_e),_e&1&&transition_in(_,1)):(_=create_if_block$g(b),_.c(),transition_in(_,1),_.m(e.parentNode,e)):_&&(group_outros(),transition_out(_,1,1,()=>{_=null}),check_outros())},i(b){a||(transition_in(_),a=!0)},o(b){transition_out(_),a=!1},d(b){b&&detach(e),_&&_.d(b)}}}function instance$s(o,e,a){let{chains:_}=e,{title:b}=e;const _e=createEventDispatcher(),et=tt=>_e("select",tt.id);return o.$$set=tt=>{"chains"in tt&&a(0,_=tt.chains),"title"in tt&&a(1,b=tt.title)},[_,b,_e,et]}class Blockchain extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$s,create_fragment$s,safe_not_equal,{chains:0,title:1},add_css$j)}}function add_css$i(o){append_styles(o,"svelte-hwtk1p",".button.svelte-hwtk1p{--button-height:var(--space-2xl);cursor:pointer;display:flex;justify-content:center;align-items:center;gap:var(--space-2xs);height:var(--button-height);line-height:var(--button-height);text-decoration:none;text-align:center;border-radius:var(--border-radius-inner);font-size:var(--fs-1);font-weight:600;color:var(--button-color, var(--button-text-color));background:var(--button-background, var(--button-primary-background));border:none;box-shadow:var(--button-outline);flex:1}.button.svelte-hwtk1p:hover{background:var(--button-background-hover, var(--button-primary-background-hover));box-shadow:var(--button-outline-hover, var(--button-primary-outline-hover))}.button.svelte-hwtk1p:active{background:var(--button-background-active, var(--button-primary-background-active));box-shadow:var(--button-outline-active);color:var(--button-text-color-active)}.secondary.svelte-hwtk1p{--button-background:var(--button-secondary-background);--button-background-hover:var(--button-secondary-background-hover);--button-background-active:var(--button-secondary-background-active);--button-outline-hover:var(--button-secondary-outline-hover)}.outlined.svelte-hwtk1p{--button-background:transparent;--button-background-hover:transparent;--button-background-active:var(--button-outlined-background-active);--button-outline:var(--button-outlined-outline);--button-outline-hover:var(--button-outlined-outline-hover)}")}function create_if_block$f(o){let e,a;return e=new Icon({props:{name:o[1]}}),{c(){create_component(e.$$.fragment)},m(_,b){mount_component(e,_,b),a=!0},p:noop$2,i(_){a||(transition_in(e.$$.fragment,_),a=!0)},o(_){transition_out(e.$$.fragment,_),a=!1},d(_){destroy_component(e,_)}}}function create_fragment$r(o){let e,a,_,b,_e,et,tt=o[1]&&create_if_block$f(o);return{c(){e=element("button"),tt&&tt.c(),a=space(),_=element("span"),_.textContent=`${o[0]}`,attr(e,"class","button "+o[3]+" svelte-hwtk1p"),e.autofocus=o[4]},m(nt,it){insert(nt,e,it),tt&&tt.m(e,null),append(e,a),append(e,_),b=!0,o[4]&&e.focus(),_e||(et=listen(e,"click",o[2]),_e=!0)},p(nt,[it]){nt[1]&&tt.p(nt,it)},i(nt){b||(transition_in(tt),b=!0)},o(nt){transition_out(tt),b=!1},d(nt){nt&&detach(e),tt&&tt.d(),_e=!1,et()}}}function instance$r(o,e,a){let{data:_}=e;const{label:b,icon:_e,onClick:et,variant:tt="primary",autofocus:nt}=_;return o.$$set=it=>{"data"in it&&a(5,_=it.data)},[b,_e,et,tt,nt,_]}class Button extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$r,create_fragment$r,safe_not_equal,{data:5},add_css$i)}}function add_css$h(o){append_styles(o,"svelte-3b7p6","input.svelte-3b7p6{box-sizing:border-box;height:var(--space-2xl);border-radius:var(--border-radius-inner);border:1px solid var(--input-border-color);padding-inline:var(--space-m);color:var(--body-text-color);background-color:var(--body-background-color);font-size:var(--fs-1)}input.svelte-3b7p6::placeholder{font-size:var(--fs-1);color:var(--input-placeholder-color);font-style:italic}input.svelte-3b7p6:hover{border:1px solid transparent;outline:2px solid var(--input-border-color-hover);background-color:var(--input-background-focus)}input.svelte-3b7p6:focus-within{border:1px solid transparent;outline:2px solid var(--input-border-color-focus);background-color:var(--input-background-focus)}input.error.svelte-3b7p6{border:1px solid var(--error-color);color:var(--error-color)}input.error.svelte-3b7p6:focus-within{border:1px solid transparent;color:var(--body-text-color)}")}function create_fragment$q(o){let e,a,_;return{c(){e=element("input"),e.autofocus=o[3],attr(e,"type","text"),attr(e,"placeholder",o[1]),attr(e,"class","svelte-3b7p6"),toggle_class(e,"error",o[4])},m(b,_e){insert(b,e,_e),set_input_value(e,o[0]),o[3]&&e.focus(),a||(_=[listen(e,"keyup",prevent_default(function(){is_function(o[2])&&o[2].apply(this,arguments)})),listen(e,"input",o[5])],a=!0)},p(b,[_e]){o=b,_e&8&&(e.autofocus=o[3]),_e&2&&attr(e,"placeholder",o[1]),_e&1&&e.value!==o[0]&&set_input_value(e,o[0]),_e&16&&toggle_class(e,"error",o[4])},i:noop$2,o:noop$2,d(b){b&&detach(e),a=!1,run_all(_)}}}function instance$q(o,e,a){let{value:_}=e,{placeholder:b}=e,{onKeyup:_e}=e,{autofocus:et=!1}=e,{error:tt=!1}=e;function nt(){_=this.value,a(0,_)}return o.$$set=it=>{"value"in it&&a(0,_=it.value),"placeholder"in it&&a(1,b=it.placeholder),"onKeyup"in it&&a(2,_e=it.onKeyup),"autofocus"in it&&a(3,et=it.autofocus),"error"in it&&a(4,tt=it.error)},[_,b,_e,et,tt,nt]}class TextInput extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$q,create_fragment$q,safe_not_equal,{value:0,placeholder:1,onKeyup:2,autofocus:3,error:4},add_css$h)}}function create_fragment$p(o){let e,a;return e=new Message({props:{title:o[0],details:o[1],icon:"alert"}}),{c(){create_component(e.$$.fragment)},m(_,b){mount_component(e,_,b),a=!0},p(_,[b]){const _e={};b&1&&(_e.title=_[0]),b&2&&(_e.details=_[1]),e.$set(_e)},i(_){a||(transition_in(e.$$.fragment,_),a=!0)},o(_){transition_out(e.$$.fragment,_),a=!1},d(_){destroy_component(e,_)}}}function instance$p(o,e,a){let{title:_}=e,{details:b}=e;return o.$$set=_e=>{"title"in _e&&a(0,_=_e.title),"details"in _e&&a(1,b=_e.details)},[_,b]}class WarningMessage extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$p,create_fragment$p,safe_not_equal,{title:0,details:1})}}function add_css$g(o){append_styles(o,"svelte-13p224c","section.svelte-13p224c{display:flex;flex-direction:column;gap:var(--space-s)}p.loading.svelte-13p224c{margin:0;text-align:center;height:var(--space-4xl)}p.error.svelte-13p224c{margin:0;text-align:center;color:var(--error-color)}.input-group.svelte-13p224c{display:flex;flex-direction:column;gap:var(--space-m);margin-top:var(--space-s)}")}function get_each_context$4(o,e,a){const _=o.slice();return _[19]=e[a],_}function create_if_block_3$5(o){let e,a,_,b,_e,et,tt,nt,it;e=new BodyTitle({props:{$$slots:{default:[create_default_slot_3$2]},$$scope:{ctx:o}}});function ot(lt){o[18](lt)}let st={onKeyup:o[13],placeholder:"Account name",autofocus:!o[1],error:o[4]&&o[1]===o[2]};o[1]!==void 0&&(st.value=o[1]),b=new TextInput({props:st}),binding_callbacks.push(()=>bind(b,"value",ot));let at=o[4]&&create_if_block_4$4(o);return nt=new Button({props:{data:{variant:"primary",onClick:o[12],label:o[8]("login.enter.lookup",{default:"Lookup Account"})}}}),{c(){create_component(e.$$.fragment),a=space(),_=element("div"),create_component(b.$$.fragment),et=space(),at&&at.c(),tt=space(),create_component(nt.$$.fragment),attr(_,"class","input-group svelte-13p224c")},m(lt,ut){mount_component(e,lt,ut),insert(lt,a,ut),insert(lt,_,ut),mount_component(b,_,null),append(_,et),at&&at.m(_,null),append(_,tt),mount_component(nt,_,null),it=!0},p(lt,ut){const ft={};ut&4194305&&(ft.$$scope={dirty:ut,ctx:lt}),e.$set(ft);const mt={};ut&2&&(mt.autofocus=!lt[1]),ut&22&&(mt.error=lt[4]&&lt[1]===lt[2]),!_e&&ut&2&&(_e=!0,mt.value=lt[1],add_flush_callback(()=>_e=!1)),b.$set(mt),lt[4]?at?at.p(lt,ut):(at=create_if_block_4$4(lt),at.c(),at.m(_,tt)):at&&(at.d(1),at=null);const ht={};ut&256&&(ht.data={variant:"primary",onClick:lt[12],label:lt[8]("login.enter.lookup",{default:"Lookup Account"})}),nt.$set(ht)},i(lt){it||(transition_in(e.$$.fragment,lt),transition_in(b.$$.fragment,lt),transition_in(nt.$$.fragment,lt),it=!0)},o(lt){transition_out(e.$$.fragment,lt),transition_out(b.$$.fragment,lt),transition_out(nt.$$.fragment,lt),it=!1},d(lt){lt&&(detach(a),detach(_)),destroy_component(e,lt),destroy_component(b),at&&at.d(),destroy_component(nt)}}}function create_if_block_2$7(o){let e,a,_,b;return e=new BodyTitle({props:{$$slots:{default:[create_default_slot_2$2]},$$scope:{ctx:o}}}),_=new WarningMessage({props:{title:"",details:o[8]("login.select.no_match",{default:"No accounts found matching {{publicKey}}",publicKey:o[6]})}}),{c(){create_component(e.$$.fragment),a=space(),create_component(_.$$.fragment)},m(_e,et){mount_component(e,_e,et),insert(_e,a,et),mount_component(_,_e,et),b=!0},p(_e,et){const tt={};et&4194560&&(tt.$$scope={dirty:et,ctx:_e}),e.$set(tt);const nt={};et&320&&(nt.details=_e[8]("login.select.no_match",{default:"No accounts found matching {{publicKey}}",publicKey:_e[6]})),_.$set(nt)},i(_e){b||(transition_in(e.$$.fragment,_e),transition_in(_.$$.fragment,_e),b=!0)},o(_e){transition_out(e.$$.fragment,_e),transition_out(_.$$.fragment,_e),b=!1},d(_e){_e&&detach(a),destroy_component(e,_e),destroy_component(_,_e)}}}function create_if_block_1$7(o){let e,a,_,b;return e=new BodyTitle({props:{$$slots:{default:[create_default_slot_1$8]},$$scope:{ctx:o}}}),_=new List({props:{$$slots:{default:[create_default_slot$a]},$$scope:{ctx:o}}}),{c(){create_component(e.$$.fragment),a=space(),create_component(_.$$.fragment)},m(_e,et){mount_component(e,_e,et),insert(_e,a,et),mount_component(_,_e,et),b=!0},p(_e,et){const tt={};et&4194560&&(tt.$$scope={dirty:et,ctx:_e}),e.$set(tt);const nt={};et&4194336&&(nt.$$scope={dirty:et,ctx:_e}),_.$set(nt)},i(_e){b||(transition_in(e.$$.fragment,_e),transition_in(_.$$.fragment,_e),b=!0)},o(_e){transition_out(e.$$.fragment,_e),transition_out(_.$$.fragment,_e),b=!1},d(_e){_e&&detach(a),destroy_component(e,_e),destroy_component(_,_e)}}}function create_if_block$e(o){let e,a=o[8]("loading",{default:"Loading..."})+"",_;return{c(){e=element("p"),_=text(a),attr(e,"class","loading svelte-13p224c")},m(b,_e){insert(b,e,_e),append(e,_)},p(b,_e){_e&256&&a!==(a=b[8]("loading",{default:"Loading..."})+"")&&set_data(_,a)},i:noop$2,o:noop$2,d(b){b&&detach(e)}}}function create_default_slot_3$2(o){let e;return{c(){e=text(o[0])},m(a,_){insert(a,e,_)},p(a,_){_&1&&set_data(e,a[0])},d(a){a&&detach(e)}}}function create_if_block_4$4(o){let e,a=o[8]("login.enter.not_found",{default:"Unable to find account"})+"",_,b,_e;return{c(){e=element("p"),_=text(a),b=space(),_e=text(o[2]),attr(e,"class","error svelte-13p224c")},m(et,tt){insert(et,e,tt),append(e,_),append(e,b),append(e,_e)},p(et,tt){tt&256&&a!==(a=et[8]("login.enter.not_found",{default:"Unable to find account"})+"")&&set_data(_,a),tt&4&&set_data(_e,et[2])},d(et){et&&detach(e)}}}function create_default_slot_2$2(o){let e=o[8]("login.select.no_accounts")+"",a;return{c(){a=text(e)},m(_,b){insert(_,a,b)},p(_,b){b&256&&e!==(e=_[8]("login.select.no_accounts")+"")&&set_data(a,e)},d(_){_&&detach(a)}}}function create_default_slot_1$8(o){let e=o[8]("login.select.account")+"",a;return{c(){a=text(e)},m(_,b){insert(_,a,b)},p(_,b){b&256&&e!==(e=_[8]("login.select.account")+"")&&set_data(a,e)},d(_){_&&detach(a)}}}function create_each_block$4(o){let e,a;function _(){return o[17](o[19])}return e=new ListItem({props:{label:String(o[19]),onClick:_}}),{c(){create_component(e.$$.fragment)},m(b,_e){mount_component(e,b,_e),a=!0},p(b,_e){o=b;const et={};_e&32&&(et.label=String(o[19])),_e&32&&(et.onClick=_),e.$set(et)},i(b){a||(transition_in(e.$$.fragment,b),a=!0)},o(b){transition_out(e.$$.fragment,b),a=!1},d(b){destroy_component(e,b)}}}function create_default_slot$a(o){let e,a,_=ensure_array_like(o[5]),b=[];for(let et=0;et<_.length;et+=1)b[et]=create_each_block$4(get_each_context$4(o,_,et));const _e=et=>transition_out(b[et],1,1,()=>{b[et]=null});return{c(){for(let et=0;et<b.length;et+=1)b[et].c();e=empty()},m(et,tt){for(let nt=0;nt<b.length;nt+=1)b[nt]&&b[nt].m(et,tt);insert(et,e,tt),a=!0},p(et,tt){if(tt&1056){_=ensure_array_like(et[5]);let nt;for(nt=0;nt<_.length;nt+=1){const it=get_each_context$4(et,_,nt);b[nt]?(b[nt].p(it,tt),transition_in(b[nt],1)):(b[nt]=create_each_block$4(it),b[nt].c(),transition_in(b[nt],1),b[nt].m(e.parentNode,e))}for(group_outros(),nt=_.length;nt<b.length;nt+=1)_e(nt);check_outros()}},i(et){if(!a){for(let tt=0;tt<_.length;tt+=1)transition_in(b[tt]);a=!0}},o(et){b=b.filter(Boolean);for(let tt=0;tt<b.length;tt+=1)transition_out(b[tt]);a=!1},d(et){et&&detach(e),destroy_each(b,et)}}}function create_fragment$o(o){let e,a,_,b;const _e=[create_if_block$e,create_if_block_1$7,create_if_block_2$7,create_if_block_3$5],et=[];function tt(nt,it){return nt[7]?0:nt[5]&&nt[5].length>0?1:nt[6]?2:nt[3]?-1:3}return~(a=tt(o))&&(_=et[a]=_e[a](o)),{c(){e=element("section"),_&&_.c(),attr(e,"class","svelte-13p224c")},m(nt,it){insert(nt,e,it),~a&&et[a].m(e,null),b=!0},p(nt,[it]){let ot=a;a=tt(nt),a===ot?~a&&et[a].p(nt,it):(_&&(group_outros(),transition_out(et[ot],1,1,()=>{et[ot]=null}),check_outros()),~a?(_=et[a],_?_.p(nt,it):(_=et[a]=_e[a](nt),_.c()),transition_in(_,1),_.m(e,null)):_=null)},i(nt){b||(transition_in(_),b=!0)},o(nt){transition_out(_),b=!1},d(nt){nt&&detach(e),~a&&et[a].d()}}}function instance$o(o,e,a){let _,b;const{t:_e}=getContext("i18n");component_subscribe(o,_e,Mt=>a(8,b=Mt));let{chainId:et}=e,{client:tt}=e,{walletPlugin:nt}=e,{title:it}=e;const ot=createEventDispatcher();let st=writable(!0);component_subscribe(o,st,Mt=>a(7,_=Mt));let at="",lt="",ut,ft=!1,mt,ht=nt.metadata.publicKey;onMount(async()=>{if(nt.config.requiresPermissionSelect){if(et&&nt.retrievePublicKey)try{a(6,ht=String(await nt.retrievePublicKey(et)))}catch(Bt){throw errorDetails.set(String(Bt)),Bt}const Mt=await tt.call({path:"/v1/chain/get_accounts_by_authorizers",params:{keys:[ht]}});st.set(!1),a(5,mt=Mt.accounts.map(Bt=>PermissionLevel.from(`${Bt.account_name}@${Bt.permission_name}`)))}else nt.config.requiresPermissionEntry&&(st.set(!1),a(5,mt=[]))});async function vt(){st.set(!0);try{const Mt=await tt.v1.chain.get_account(at);Mt.account_name.equals(at)&&(a(3,ut=Mt.account_name),a(5,mt=Mt.permissions.map(Bt=>PermissionLevel.from(`${Mt.account_name}@${Bt.perm_name}`)))),a(4,ft=!1)}catch{a(4,ft=!0)}finally{a(2,lt=at),st.set(!1)}}function Et(Mt){if(Mt.code=="Enter")return Mt.preventDefault(),vt(),!1}const At=Mt=>ot("select",Mt);function Ct(Mt){at=Mt,a(1,at)}return o.$$set=Mt=>{"chainId"in Mt&&a(14,et=Mt.chainId),"client"in Mt&&a(15,tt=Mt.client),"walletPlugin"in Mt&&a(16,nt=Mt.walletPlugin),"title"in Mt&&a(0,it=Mt.title)},[it,at,lt,ut,ft,mt,ht,_,b,_e,ot,st,vt,Et,et,tt,nt,At,Ct]}class Permission extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$o,create_fragment$o,safe_not_equal,{chainId:14,client:15,walletPlugin:16,title:0},add_css$g)}}function add_css$f(o){append_styles(o,"svelte-lwrp5l","section.svelte-lwrp5l{display:flex;flex-direction:column;gap:var(--space-s)}")}function get_each_context$3(o,e,a){const _=o.slice();return _[4]=e[a],_[6]=a,_}function create_if_block$d(o){let e,a,_,b,_e;return a=new BodyTitle({props:{$$slots:{default:[create_default_slot_1$7]},$$scope:{ctx:o}}}),b=new List({props:{$$slots:{default:[create_default_slot$9]},$$scope:{ctx:o}}}),{c(){e=element("section"),create_component(a.$$.fragment),_=space(),create_component(b.$$.fragment),attr(e,"class","svelte-lwrp5l")},m(et,tt){insert(et,e,tt),mount_component(a,e,null),append(e,_),mount_component(b,e,null),_e=!0},p(et,tt){const nt={};tt&130&&(nt.$$scope={dirty:tt,ctx:et}),a.$set(nt);const it={};tt&129&&(it.$$scope={dirty:tt,ctx:et}),b.$set(it)},i(et){_e||(transition_in(a.$$.fragment,et),transition_in(b.$$.fragment,et),_e=!0)},o(et){transition_out(a.$$.fragment,et),transition_out(b.$$.fragment,et),_e=!1},d(et){et&&detach(e),destroy_component(a),destroy_component(b)}}}function create_default_slot_1$7(o){let e;return{c(){e=text(o[1])},m(a,_){insert(a,e,_)},p(a,_){_&2&&set_data(e,a[1])},d(a){a&&detach(e)}}}function create_each_block$3(o){let e,a;function _(){return o[3](o[6])}return e=new ListItem({props:{label:o[4].metadata.name,onClick:_,leadingIcon:"wallet",logo:getThemedLogo(o[4].metadata)}}),{c(){create_component(e.$$.fragment)},m(b,_e){mount_component(e,b,_e),a=!0},p(b,_e){o=b;const et={};_e&1&&(et.label=o[4].metadata.name),_e&1&&(et.logo=getThemedLogo(o[4].metadata)),e.$set(et)},i(b){a||(transition_in(e.$$.fragment,b),a=!0)},o(b){transition_out(e.$$.fragment,b),a=!1},d(b){destroy_component(e,b)}}}function create_default_slot$9(o){let e,a,_=ensure_array_like(o[0]),b=[];for(let et=0;et<_.length;et+=1)b[et]=create_each_block$3(get_each_context$3(o,_,et));const _e=et=>transition_out(b[et],1,1,()=>{b[et]=null});return{c(){for(let et=0;et<b.length;et+=1)b[et].c();e=empty()},m(et,tt){for(let nt=0;nt<b.length;nt+=1)b[nt]&&b[nt].m(et,tt);insert(et,e,tt),a=!0},p(et,tt){if(tt&5){_=ensure_array_like(et[0]);let nt;for(nt=0;nt<_.length;nt+=1){const it=get_each_context$3(et,_,nt);b[nt]?(b[nt].p(it,tt),transition_in(b[nt],1)):(b[nt]=create_each_block$3(it),b[nt].c(),transition_in(b[nt],1),b[nt].m(e.parentNode,e))}for(group_outros(),nt=_.length;nt<b.length;nt+=1)_e(nt);check_outros()}},i(et){if(!a){for(let tt=0;tt<_.length;tt+=1)transition_in(b[tt]);a=!0}},o(et){b=b.filter(Boolean);for(let tt=0;tt<b.length;tt+=1)transition_out(b[tt]);a=!1},d(et){et&&detach(e),destroy_each(b,et)}}}function create_fragment$n(o){let e,a,_=o[0]&&create_if_block$d(o);return{c(){_&&_.c(),e=empty()},m(b,_e){_&&_.m(b,_e),insert(b,e,_e),a=!0},p(b,[_e]){b[0]?_?(_.p(b,_e),_e&1&&transition_in(_,1)):(_=create_if_block$d(b),_.c(),transition_in(_,1),_.m(e.parentNode,e)):_&&(group_outros(),transition_out(_,1,1,()=>{_=null}),check_outros())},i(b){a||(transition_in(_),a=!0)},o(b){transition_out(_),a=!1},d(b){b&&detach(e),_&&_.d(b)}}}function instance$n(o,e,a){let{wallets:_}=e,{title:b}=e;const _e=createEventDispatcher(),et=tt=>_e("select",tt);return o.$$set=tt=>{"wallets"in tt&&a(0,_=tt.wallets),"title"in tt&&a(1,b=tt.title)},[_,b,_e,et]}class Wallet extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$n,create_fragment$n,safe_not_equal,{wallets:0,title:1},add_css$f)}}function is_date(o){return Object.prototype.toString.call(o)==="[object Date]"}function cubicInOut(o){return o<.5?4*o*o*o:.5*Math.pow(2*o-2,3)+1}function cubicOut(o){const e=o-1;return e*e*e+1}function get_interpolator(o,e){if(o===e||o!==o)return()=>o;const a=typeof o;if(a!==typeof e||Array.isArray(o)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(o)){const _=e.map((b,_e)=>get_interpolator(o[_e],b));return b=>_.map(_e=>_e(b))}if(a==="object"){if(!o||!e)throw new Error("Object cannot be null");if(is_date(o)&&is_date(e)){o=o.getTime(),e=e.getTime();const _e=e-o;return et=>new Date(o+et*_e)}const _=Object.keys(e),b={};return _.forEach(_e=>{b[_e]=get_interpolator(o[_e],e[_e])}),_e=>{const et={};return _.forEach(tt=>{et[tt]=b[tt](_e)}),et}}if(a==="number"){const _=e-o;return b=>o+b*_}throw new Error(`Cannot interpolate ${a} values`)}function tweened(o,e={}){const a=writable(o);let _,b=o;function _e(et,tt){if(o==null)return a.set(o=et),Promise.resolve();b=et;let nt=_,it=!1,{delay:ot=0,duration:st=400,easing:at=identity$1,interpolate:lt=get_interpolator}=assign$1(assign$1({},e),tt);if(st===0)return nt&&(nt.abort(),nt=null),a.set(o=b),Promise.resolve();const ut=now()+ot;let ft;return _=loop(mt=>{if(mt<ut)return!0;it||(ft=lt(o,et),typeof st=="function"&&(st=st(o,et)),it=!0),nt&&(nt.abort(),nt=null);const ht=mt-ut;return ht>st?(a.set(o=et),!1):(a.set(o=ft(at(ht/st))),!0)}),_.promise}return{set:_e,update:(et,tt)=>_e(et(b,o),tt),subscribe:a.subscribe}}function add_css$e(o){append_styles(o,"svelte-1cxfvrd",'.loader.svelte-1cxfvrd.svelte-1cxfvrd{position:relative;display:grid;place-items:center;grid-template-areas:"stack" "text";gap:var(--space-m)}.logo.svelte-1cxfvrd.svelte-1cxfvrd{grid-area:stack;place-self:center;color:var(--body-text-color);width:var(--space-2xl);display:flex;align-items:center;justify-content:center}.logo.svelte-1cxfvrd img.svelte-1cxfvrd{width:100%;height:100%;object-fit:contain}.logo.svelte-1cxfvrd>svg{width:35%;height:35%}.text.svelte-1cxfvrd.svelte-1cxfvrd{grid-area:text;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;gap:var(--space-4xs)}.text.svelte-1cxfvrd .label.svelte-1cxfvrd{font-size:var(--fs-2);font-weight:500;color:var(--body-text-color);margin:0}.text.svelte-1cxfvrd span.svelte-1cxfvrd{font-size:var(--fs-1);font-variant-numeric:tabular-nums;color:var(--body-text-color-variant)}svg.svelte-1cxfvrd.svelte-1cxfvrd{grid-area:stack;animation:2.5s linear infinite svelte-1cxfvrd-svg-animation}@keyframes svelte-1cxfvrd-svg-animation{0%{transform:rotateZ(0deg)}100%{transform:rotateZ(360deg)}}circle.svelte-1cxfvrd.svelte-1cxfvrd{transform-origin:center}circle.spinner.svelte-1cxfvrd.svelte-1cxfvrd{stroke:var(--loading-circle-color)}circle.track.svelte-1cxfvrd.svelte-1cxfvrd{stroke:var(--loading-circle-track-color)}circle.animated.svelte-1cxfvrd.svelte-1cxfvrd{animation:svelte-1cxfvrd-dash 2.1s ease-in-out both infinite}@keyframes svelte-1cxfvrd-dash{0%{stroke-dashoffset:var(--circumference);transform:rotate(0)}50%,65%{stroke-dashoffset:70;transform:rotate(90deg)}100%{stroke-dashoffset:var(--circumference);transform:rotate(360deg)}}')}function create_if_block_2$6(o){let e,a,_,b;const _e=[create_if_block_3$4,create_if_block_4$3],et=[];function tt(nt,it){return isUrlImage(nt[5])||isBase64Image(nt[5])?0:isValidIcon(nt[5])?1:-1}return~(a=tt(o))&&(_=et[a]=_e[a](o)),{c(){e=element("div"),_&&_.c(),attr(e,"class","logo svelte-1cxfvrd")},m(nt,it){insert(nt,e,it),~a&&et[a].m(e,null),b=!0},p(nt,it){_&&_.p(nt,it)},i(nt){b||(transition_in(_),b=!0)},o(nt){transition_out(_),b=!1},d(nt){nt&&detach(e),~a&&et[a].d()}}}function create_if_block_4$3(o){let e,a;return e=new Icon({props:{name:o[5],size:"75%"}}),{c(){create_component(e.$$.fragment)},m(_,b){mount_component(e,_,b),a=!0},p:noop$2,i(_){a||(transition_in(e.$$.fragment,_),a=!0)},o(_){transition_out(e.$$.fragment,_),a=!1},d(_){destroy_component(e,_)}}}function create_if_block_3$4(o){let e,a;return{c(){e=element("img"),src_url_equal(e.src,a=o[5])||attr(e,"src",a),attr(e,"alt","loading logo"),attr(e,"class","svelte-1cxfvrd")},m(_,b){insert(_,e,b)},p:noop$2,i:noop$2,o:noop$2,d(_){_&&detach(e)}}}function create_if_block_1$6(o){let e;return{c(){e=element("p"),e.textContent=`${o[4]}`,attr(e,"class","label svelte-1cxfvrd")},m(a,_){insert(a,e,_)},p:noop$2,d(a){a&&detach(e)}}}function create_if_block$c(o){let e=o[1],a,_=create_key_block(o);return{c(){_.c(),a=empty()},m(b,_e){_.m(b,_e),insert(b,a,_e)},p(b,_e){_e&2&&safe_not_equal(e,e=b[1])?(_.d(1),_=create_key_block(b),_.c(),_.m(a.parentNode,a)):_.p(b,_e)},d(b){b&&detach(a),_.d(b)}}}function create_key_block(o){let e,a=countdownFormat(o[0])+"",_;return{c(){e=element("span"),_=text(a),attr(e,"class","svelte-1cxfvrd"),toggle_class(e,"label",!o[4])},m(b,_e){insert(b,e,_e),append(e,_)},p(b,_e){_e&1&&a!==(a=countdownFormat(b[0])+"")&&set_data(_,a)},d(b){b&&detach(e)}}}function create_fragment$m(o){let e,a,_,b,_e,et,tt,nt,it,ot=o[5]&&create_if_block_2$6(o),st=o[4]&&create_if_block_1$6(o),at=o[0]&&create_if_block$c(o);return{c(){e=element("div"),a=svg_element("svg"),_=svg_element("circle"),b=svg_element("circle"),_e=space(),ot&&ot.c(),et=space(),tt=element("div"),st&&st.c(),nt=space(),at&&at.c(),attr(_,"class","track svelte-1cxfvrd"),attr(_,"cx",o[6]),attr(_,"cy",o[6]),attr(_,"r",o[7]),attr(_,"stroke-width",strokeWidth-1),attr(_,"stroke-linecap","round"),attr(_,"stroke-dasharray",o[3]),attr(_,"stroke-dashoffset",0),attr(_,"fill","none"),attr(b,"class","spinner svelte-1cxfvrd"),attr(b,"cx",o[6]),attr(b,"cy",o[6]),attr(b,"r",o[7]),attr(b,"stroke-width",strokeWidth),attr(b,"stroke-linecap","round"),attr(b,"stroke-dasharray",o[3]),attr(b,"fill","none"),set_style(b,"--radius",o[7]),set_style(b,"--circumference",o[3]),toggle_class(b,"animated",o[2]),attr(a,"width",size),attr(a,"height",size),attr(a,"class","svelte-1cxfvrd"),toggle_class(a,"animated",o[2]),attr(tt,"class","text svelte-1cxfvrd"),attr(e,"class","loader svelte-1cxfvrd")},m(lt,ut){insert(lt,e,ut),append(e,a),append(a,_),append(a,b),append(e,_e),ot&&ot.m(e,null),append(e,et),append(e,tt),st&&st.m(tt,null),append(tt,nt),at&&at.m(tt,null),it=!0},p(lt,[ut]){(!it||ut&8)&&attr(_,"stroke-dasharray",lt[3]),(!it||ut&8)&&attr(b,"stroke-dasharray",lt[3]),(!it||ut&8)&&set_style(b,"--circumference",lt[3]),(!it||ut&4)&&toggle_class(b,"animated",lt[2]),(!it||ut&4)&&toggle_class(a,"animated",lt[2]),lt[5]&&ot.p(lt,ut),lt[4]&&st.p(lt,ut),lt[0]?at?at.p(lt,ut):(at=create_if_block$c(lt),at.c(),at.m(tt,null)):at&&(at.d(1),at=null)},i(lt){it||(transition_in(ot),it=!0)},o(lt){transition_out(ot),it=!1},d(lt){lt&&detach(e),ot&&ot.d(),st&&st.d(),at&&at.d()}}}let size=100,strokeWidth=8;function countdownFormat(o){const e=o.getTime()-Date.now();return e>0?new Date(e).toISOString().slice(14,19):"00:00"}function instance$m(o,e,a){let _,b,{data:_e={}}=e,{label:et,end:tt,logo:nt,loading:it=!0}=_e,ot,st,at,lt=size/2,ut=lt-strokeWidth,ft=tweened(2*Math.PI*ut,{duration:500,easing:cubicOut});return component_subscribe(o,ft,mt=>a(3,b=mt)),onDestroy(()=>{at&&clearInterval(at)}),o.$$set=mt=>{"data"in mt&&a(9,_e=mt.data)},o.$$.update=()=>{o.$$.dirty&2051&&(at&&clearInterval(at),tt&&(a(0,ot=new Date(tt)),a(11,at=setInterval(()=>{a(1,st=new Date(ot).getTime()-Date.now()),st<=0&&(clearInterval(at),ft.set(1e3),a(10,it=!1))},200)))),o.$$.dirty&1024&&a(2,_=it)},[ot,st,_,b,et,nt,lt,ut,ft,_e,it,at]}class Countdown extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$m,create_fragment$m,safe_not_equal,{data:9},add_css$e)}}function fade(o,{delay:e=0,duration:a=400,easing:_=identity$1}={}){const b=+getComputedStyle(o).opacity;return{delay:e,duration:a,easing:_,css:_e=>`opacity: ${_e*b}`}}function fly(o,{delay:e=0,duration:a=400,easing:_=cubicOut,x:b=0,y:_e=0,opacity:et=0}={}){const tt=getComputedStyle(o),nt=+tt.opacity,it=tt.transform==="none"?"":tt.transform,ot=nt*(1-et),[st,at]=split_css_unit(b),[lt,ut]=split_css_unit(_e);return{delay:e,duration:a,easing:_,css:(ft,mt)=>`
			transform: ${it} translate(${(1-ft)*st}${at}, ${(1-ft)*lt}${ut});
			opacity: ${nt-ot*mt}`}}function create_else_block$4(o){let e;const a=o[5].default,_=create_slot(a,o,o[4],null);return{c(){_&&_.c()},m(b,_e){_&&_.m(b,_e),e=!0},p(b,_e){_&&_.p&&(!e||_e&16)&&update_slot_base(_,a,b,b[4],e?get_slot_changes(a,b[4],_e,null):get_all_dirty_from_scope(b[4]),null)},i(b){e||(transition_in(_,b),e=!0)},o(b){transition_out(_,b),e=!1},d(b){_&&_.d(b)}}}function create_if_block$b(o){let e,a,_;const b=o[5].default,_e=create_slot(b,o,o[4],null);return{c(){e=element("div"),_e&&_e.c(),attr(e,"class","transition")},m(et,tt){insert(et,e,tt),_e&&_e.m(e,null),_=!0},p(et,tt){o=et,_e&&_e.p&&(!_||tt&16)&&update_slot_base(_e,b,o,o[4],_?get_slot_changes(b,o[4],tt,null):get_all_dirty_from_scope(o[4]),null)},i(et){_||(transition_in(_e,et),a||add_render_callback(()=>{a=create_in_transition(e,fly,{duration:200,x:o[1],y:o[0]}),a.start()}),_=!0)},o(et){transition_out(_e,et),_=!1},d(et){et&&detach(e),_e&&_e.d(et)}}}function create_fragment$l(o){let e,a,_,b;const _e=[create_if_block$b,create_else_block$4],et=[];function tt(nt,it){return nt[2]?0:1}return e=tt(o),a=et[e]=_e[e](o),{c(){a.c(),_=empty()},m(nt,it){et[e].m(nt,it),insert(nt,_,it),b=!0},p(nt,[it]){a.p(nt,it)},i(nt){b||(transition_in(a),b=!0)},o(nt){transition_out(a),b=!1},d(nt){nt&&detach(_),et[e].d(nt)}}}function instance$l(o,e,a){let _,b,_e;component_subscribe(o,settings$5,at=>a(6,_e=at));let{$$slots:et={},$$scope:tt}=e,{direction:nt=void 0}=e;const{animations:it}=_e,ot=["ltr","rtl"],st=at=>at==="rtl"||at==="btt"?100:-100;return o.$$set=at=>{"direction"in at&&a(3,nt=at.direction),"$$scope"in at&&a(4,tt=at.$$scope)},o.$$.update=()=>{o.$$.dirty&8&&a(1,[_,b]=nt?ot.includes(nt)?[st(nt),0]:[0,st(nt)]:[0,0],_,(a(0,b),a(3,nt)))},[b,_,it,nt,tt,et]}class Transition extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$l,create_fragment$l,safe_not_equal,{direction:3})}}function create_else_block_1$2(o){let e,a=o[4]("loading",{default:"Loading..."})+"",_;return{c(){e=element("p"),_=text(a)},m(b,_e){insert(b,e,_e),append(e,_)},p(b,_e){_e&16&&a!==(a=b[4]("loading",{default:"Loading..."})+"")&&set_data(_,a)},i:noop$2,o:noop$2,d(b){b&&detach(e)}}}function create_if_block$a(o){let e,a,_,b;const _e=[create_if_block_1$5,create_if_block_2$5,create_if_block_3$3,create_if_block_4$2,create_else_block$3],et=[];function tt(nt,it){return nt[6]===nt[0].selectWallet?0:nt[6]===nt[0].selectChain&&nt[7]?1:nt[6]===nt[0].enterPermission&&nt[8]&&nt[9]?2:nt[6]===nt[0].selectPermission&&nt[8]&&nt[9]?3:4}return e=tt(o),a=et[e]=_e[e](o),{c(){a.c(),_=empty()},m(nt,it){et[e].m(nt,it),insert(nt,_,it),b=!0},p(nt,it){let ot=e;e=tt(nt),e===ot?et[e].p(nt,it):(group_outros(),transition_out(et[ot],1,1,()=>{et[ot]=null}),check_outros(),a=et[e],a?a.p(nt,it):(a=et[e]=_e[e](nt),a.c()),transition_in(a,1),a.m(_.parentNode,_))},i(nt){b||(transition_in(a),b=!0)},o(nt){transition_out(a),b=!1},d(nt){nt&&detach(_),et[e].d(nt)}}}function create_else_block$3(o){let e,a;return e=new Countdown({props:{data:{label:o[4]("login.complete",{default:"Complete the login using your selected wallet."})}}}),{c(){create_component(e.$$.fragment)},m(_,b){mount_component(e,_,b),a=!0},p(_,b){const _e={};b&16&&(_e.data={label:_[4]("login.complete",{default:"Complete the login using your selected wallet."})}),e.$set(_e)},i(_){a||(transition_in(e.$$.fragment,_),a=!0)},o(_){transition_out(e.$$.fragment,_),a=!1},d(_){destroy_component(e,_)}}}function create_if_block_4$2(o){let e,a;return e=new Transition({props:{direction:o[2],$$slots:{default:[create_default_slot_3$1]},$$scope:{ctx:o}}}),{c(){create_component(e.$$.fragment)},m(_,b){mount_component(e,_,b),a=!0},p(_,b){const _e={};b&4&&(_e.direction=_[2]),b&268436242&&(_e.$$scope={dirty:b,ctx:_}),e.$set(_e)},i(_){a||(transition_in(e.$$.fragment,_),a=!0)},o(_){transition_out(e.$$.fragment,_),a=!1},d(_){destroy_component(e,_)}}}function create_if_block_3$3(o){let e,a;return e=new Transition({props:{direction:o[2],$$slots:{default:[create_default_slot_2$1]},$$scope:{ctx:o}}}),{c(){create_component(e.$$.fragment)},m(_,b){mount_component(e,_,b),a=!0},p(_,b){const _e={};b&4&&(_e.direction=_[2]),b&268436242&&(_e.$$scope={dirty:b,ctx:_}),e.$set(_e)},i(_){a||(transition_in(e.$$.fragment,_),a=!0)},o(_){transition_out(e.$$.fragment,_),a=!1},d(_){destroy_component(e,_)}}}function create_if_block_2$5(o){let e,a;return e=new Transition({props:{direction:o[2],$$slots:{default:[create_default_slot_1$6]},$$scope:{ctx:o}}}),{c(){create_component(e.$$.fragment)},m(_,b){mount_component(e,_,b),a=!0},p(_,b){const _e={};b&4&&(_e.direction=_[2]),b&268435600&&(_e.$$scope={dirty:b,ctx:_}),e.$set(_e)},i(_){a||(transition_in(e.$$.fragment,_),a=!0)},o(_){transition_out(e.$$.fragment,_),a=!1},d(_){destroy_component(e,_)}}}function create_if_block_1$5(o){let e,a;return e=new Transition({props:{direction:o[2],$$slots:{default:[create_default_slot$8]},$$scope:{ctx:o}}}),{c(){create_component(e.$$.fragment)},m(_,b){mount_component(e,_,b),a=!0},p(_,b){const _e={};b&4&&(_e.direction=_[2]),b&268435480&&(_e.$$scope={dirty:b,ctx:_}),e.$set(_e)},i(_){a||(transition_in(e.$$.fragment,_),a=!0)},o(_){transition_out(e.$$.fragment,_),a=!1},d(_){destroy_component(e,_)}}}function create_default_slot_3$1(o){let e,a;return e=new Permission({props:{chainId:o[1].chainId,client:o[8],walletPlugin:o[9],title:o[4]("login.select.account",{default:"Select an Account"})}}),e.$on("select",o[17]),e.$on("cancel",o[16]),{c(){create_component(e.$$.fragment)},m(_,b){mount_component(e,_,b),a=!0},p(_,b){const _e={};b&2&&(_e.chainId=_[1].chainId),b&256&&(_e.client=_[8]),b&512&&(_e.walletPlugin=_[9]),b&16&&(_e.title=_[4]("login.select.account",{default:"Select an Account"})),e.$set(_e)},i(_){a||(transition_in(e.$$.fragment,_),a=!0)},o(_){transition_out(e.$$.fragment,_),a=!1},d(_){destroy_component(e,_)}}}function create_default_slot_2$1(o){let e,a;return e=new Permission({props:{chainId:o[1].chainId,client:o[8],walletPlugin:o[9],title:o[4]("login.enter.account",{default:"Enter account name"})}}),e.$on("select",o[17]),e.$on("cancel",o[16]),{c(){create_component(e.$$.fragment)},m(_,b){mount_component(e,_,b),a=!0},p(_,b){const _e={};b&2&&(_e.chainId=_[1].chainId),b&256&&(_e.client=_[8]),b&512&&(_e.walletPlugin=_[9]),b&16&&(_e.title=_[4]("login.enter.account",{default:"Enter account name"})),e.$set(_e)},i(_){a||(transition_in(e.$$.fragment,_),a=!0)},o(_){transition_out(e.$$.fragment,_),a=!1},d(_){destroy_component(e,_)}}}function create_default_slot_1$6(o){let e,a;return e=new Blockchain({props:{chains:o[7],title:o[4]("login.select.blockchain",{default:"Select a Blockchain"})}}),e.$on("select",o[15]),e.$on("cancel",o[19]),{c(){create_component(e.$$.fragment)},m(_,b){mount_component(e,_,b),a=!0},p(_,b){const _e={};b&128&&(_e.chains=_[7]),b&16&&(_e.title=_[4]("login.select.blockchain",{default:"Select a Blockchain"})),e.$set(_e)},i(_){a||(transition_in(e.$$.fragment,_),a=!0)},o(_){transition_out(e.$$.fragment,_),a=!1},d(_){destroy_component(e,_)}}}function create_default_slot$8(o){let e,a;return e=new Wallet({props:{wallets:o[3].walletPlugins,title:o[4]("login.select.wallet",{default:"Select a Wallet"})}}),e.$on("select",o[18]),e.$on("cancel",o[20]),{c(){create_component(e.$$.fragment)},m(_,b){mount_component(e,_,b),a=!0},p(_,b){const _e={};b&8&&(_e.wallets=_[3].walletPlugins),b&16&&(_e.title=_[4]("login.select.wallet",{default:"Select a Wallet"})),e.$set(_e)},i(_){a||(transition_in(e.$$.fragment,_),a=!0)},o(_){transition_out(e.$$.fragment,_),a=!1},d(_){destroy_component(e,_)}}}function create_fragment$k(o){let e,a,_,b;const _e=[create_if_block$a,create_else_block_1$2],et=[];function tt(nt,it){return nt[5]&&nt[3]?0:1}return e=tt(o),a=et[e]=_e[e](o),{c(){a.c(),_=empty()},m(nt,it){et[e].m(nt,it),insert(nt,_,it),b=!0},p(nt,[it]){let ot=e;e=tt(nt),e===ot?et[e].p(nt,it):(group_outros(),transition_out(et[ot],1,1,()=>{et[ot]=null}),check_outros(),a=et[e],a?a.p(nt,it):(a=et[e]=_e[e](nt),a.c()),transition_in(a,1),a.m(_.parentNode,_))},i(nt){b||(transition_in(a),b=!0)},o(nt){transition_out(a),b=!1},d(nt){nt&&detach(_),et[e].d(nt)}}}function instance$k(o,e,a){let _,b,_e,et,tt,nt,it,ot,st,at;component_subscribe(o,loginResponse,ct=>a(1,_=ct)),component_subscribe(o,transitionDirection,ct=>a(2,b=ct)),component_subscribe(o,backAction,ct=>a(22,_e=ct)),component_subscribe(o,loginContext,ct=>a(3,et=ct)),component_subscribe(o,props,ct=>a(5,nt=ct));const{t:lt}=getContext("i18n");component_subscribe(o,lt,ct=>a(4,tt=ct));let ut=!1;const ft=createEventDispatcher();var mt;(function(ct){ct.done="done",ct.enterPermission="enterPermission",ct.selectChain="selectChain",ct.selectPermission="selectPermission",ct.selectWallet="selectWallet"})(mt||(mt={}));const ht=derived([loginContext,loginResponse],([ct,dt])=>{if(!(!ct||dt.chainId===void 0))return ct.chain?ct.chain:ct.chains.find(wt=>wt.id===dt.chainId)}),vt=derived([ht,loginContext],([ct,dt])=>{if(!(!dt||ct===void 0))return dt.getClient(ct)});component_subscribe(o,vt,ct=>a(8,st=ct));const Et=derived([loginContext,loginResponse],([ct,dt])=>{if(!(!ct||dt.walletPluginIndex===void 0))return ct.walletPlugins[dt.walletPluginIndex]});component_subscribe(o,Et,ct=>a(9,at=ct));let At=derived([loginContext,Et],([ct,dt])=>!ct||!dt?[]:dt.config.supportedChains?ct.chains.filter(wt=>!dt.config.supportedChains||dt.config.supportedChains.includes(String(wt.id))):ct.chains);component_subscribe(o,At,ct=>a(7,ot=ct));const Ct=loginContext.subscribe(ct=>{ct&&(set_store_value(props,nt.subtitle=tt("login.title-app",{appName:ct.appName,default:"Login to {{appName}}"}),nt),ct.chain&&set_store_value(loginResponse,_.chainId=ct.chain.id,_),ct.chains.length===1&&set_store_value(loginResponse,_.chainId=ct.chains[0].id,_),ct.permissionLevel&&set_store_value(loginResponse,_.permissionLevel=ct.permissionLevel,_),ct.walletPlugins.length===1&&set_store_value(loginResponse,_.walletPluginIndex=0,_),ct.walletPluginIndex!==void 0&&set_store_value(loginResponse,_.walletPluginIndex=ct.walletPluginIndex,_))});onMount(()=>{set_store_value(props,nt.title=tt("login.title",{default:"Login"}),nt)}),onDestroy(Ct);const Mt=derived([loginResponse,Et],([ct,dt])=>{if(!dt)return mt.selectWallet;const{requiresChainSelect:wt,requiresPermissionEntry:gt,requiresPermissionSelect:bt,supportedChains:xt}=dt.config;if(!ct.chainId&&xt&&xt.length===1)return set_store_value(loginResponse,_.chainId=xt[0],_),mt.selectPermission;if(!ct.chainId&&et&&et.chain)return set_store_value(loginResponse,_.chainId=et==null?void 0:et.chain.id,_),mt.selectPermission;if(!ct.chainId&&wt)return mt.selectChain;if(!ct.permissionLevel&&bt)return mt.selectPermission;if(!ct.permissionLevel&&gt)return mt.enterPermission;kt()});component_subscribe(o,Mt,ct=>a(6,it=ct));const Bt=ct=>{set_store_value(loginResponse,_.chainId=ct.detail,_),set_store_value(backAction,_e=Lt,_e),set_store_value(transitionDirection,b="rtl",b)},Lt=()=>{set_store_value(loginResponse,_.chainId=void 0,_),set_store_value(backAction,_e=Nt,_e),set_store_value(transitionDirection,b="ltr",b)},jt=ct=>{set_store_value(loginResponse,_.permissionLevel=ct.detail,_),set_store_value(backAction,_e=void 0,_e),set_store_value(transitionDirection,b="rtl",b)},Vt=ct=>{set_store_value(backAction,_e=Nt,_e),set_store_value(loginResponse,_.walletPluginIndex=ct.detail,_),set_store_value(transitionDirection,b="rtl",b)},Nt=()=>{set_store_value(loginResponse,_.walletPluginIndex=void 0,_),set_store_value(backAction,_e=void 0,_e),set_store_value(transitionDirection,b="ltr",b)},kt=()=>{ut||(ut=!0,ft("complete",_),backAction.set(void 0),allowSettings.set(!1))};return[mt,_,b,et,tt,nt,it,ot,st,at,lt,vt,Et,At,Mt,Bt,Lt,jt,Vt,Nt,()=>{ft("cancel")}]}class Login extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$k,create_fragment$k,safe_not_equal,{})}}function add_css$d(o){append_styles(o,"svelte-1m2zvm","div.svelte-1m2zvm{flex:1;display:flex;justify-content:space-between;gap:var(--space-xs)}")}function create_fragment$j(o){let e,a;const _=o[1].default,b=create_slot(_,o,o[0],null);return{c(){e=element("div"),b&&b.c(),attr(e,"class","svelte-1m2zvm")},m(_e,et){insert(_e,e,et),b&&b.m(e,null),a=!0},p(_e,[et]){b&&b.p&&(!a||et&1)&&update_slot_base(b,_,_e,_e[0],a?get_slot_changes(_,_e[0],et,null):get_all_dirty_from_scope(_e[0]),null)},i(_e){a||(transition_in(b,_e),a=!0)},o(_e){transition_out(b,_e),a=!1},d(_e){_e&&detach(e),b&&b.d(_e)}}}function instance$j(o,e,a){let{$$slots:_={},$$scope:b}=e;return o.$$set=_e=>{"$$scope"in _e&&a(0,b=_e.$$scope)},[b,_]}class ButtonGroup extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$j,create_fragment$j,safe_not_equal,{},add_css$d)}}function create_default_slot$7(o){let e,a,_,b;return e=new Button({props:{data:{variant:"outlined",label:o[0]("decline",{default:"Decline"}),onClick:o[3],icon:"close"}}}),_=new Button({props:{data:{variant:"primary",label:o[0]("accept",{default:"Accept"}),onClick:o[4],icon:"check",autofocus:!0}}}),{c(){create_component(e.$$.fragment),a=space(),create_component(_.$$.fragment)},m(_e,et){mount_component(e,_e,et),insert(_e,a,et),mount_component(_,_e,et),b=!0},p(_e,et){const tt={};et&1&&(tt.data={variant:"outlined",label:_e[0]("decline",{default:"Decline"}),onClick:_e[3],icon:"close"}),e.$set(tt);const nt={};et&1&&(nt.data={variant:"primary",label:_e[0]("accept",{default:"Accept"}),onClick:_e[4],icon:"check",autofocus:!0}),_.$set(nt)},i(_e){b||(transition_in(e.$$.fragment,_e),transition_in(_.$$.fragment,_e),b=!0)},o(_e){transition_out(e.$$.fragment,_e),transition_out(_.$$.fragment,_e),b=!1},d(_e){_e&&detach(a),destroy_component(e,_e),destroy_component(_,_e)}}}function create_fragment$i(o){let e,a;return e=new ButtonGroup({props:{$$slots:{default:[create_default_slot$7]},$$scope:{ctx:o}}}),{c(){create_component(e.$$.fragment)},m(_,b){mount_component(e,_,b),a=!0},p(_,[b]){const _e={};b&33&&(_e.$$scope={dirty:b,ctx:_}),e.$set(_e)},i(_){a||(transition_in(e.$$.fragment,_),a=!0)},o(_){transition_out(e.$$.fragment,_),a=!1},d(_){destroy_component(e,_)}}}function instance$i(o,e,a){let _;const{t:b}=getContext("i18n");component_subscribe(o,b,nt=>a(0,_=nt));const _e=createEventDispatcher();return[_,b,_e,()=>_e("cancel"),()=>_e("complete")]}class Accept extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$i,create_fragment$i,safe_not_equal,{})}}function add_css$c(o){append_styles(o,"svelte-1lmgxnd",".asset.svelte-1lmgxnd.svelte-1lmgxnd{text-align:center}.asset.svelte-1lmgxnd>.svelte-1lmgxnd{margin:0;line-height:1.5}.value.svelte-1lmgxnd.svelte-1lmgxnd{font-size:var(--fs-2);font-weight:600;color:var(--body-text-color)}.label.svelte-1lmgxnd.svelte-1lmgxnd{font-size:var(--fs-0);font-weight:400;color:var(--body-text-color-variant)}")}function create_if_block$9(o){let e,a,_=o[0].value+"",b,_e,et,tt=o[0].label+"",nt;return{c(){e=element("div"),a=element("p"),b=text(_),_e=space(),et=element("p"),nt=text(tt),attr(a,"class","value svelte-1lmgxnd"),attr(et,"class","label svelte-1lmgxnd"),attr(e,"class","asset svelte-1lmgxnd")},m(it,ot){insert(it,e,ot),append(e,a),append(a,b),append(e,_e),append(e,et),append(et,nt)},p(it,ot){ot&1&&_!==(_=it[0].value+"")&&set_data(b,_),ot&1&&tt!==(tt=it[0].label+"")&&set_data(nt,tt)},d(it){it&&detach(e)}}}function create_fragment$h(o){let e,a=o[0]&&create_if_block$9(o);return{c(){a&&a.c(),e=empty()},m(_,b){a&&a.m(_,b),insert(_,e,b)},p(_,[b]){_[0]?a?a.p(_,b):(a=create_if_block$9(_),a.c(),a.m(e.parentNode,e)):a&&(a.d(1),a=null)},i:noop$2,o:noop$2,d(_){_&&detach(e),a&&a.d(_)}}}function instance$h(o,e,a){let{data:_={label:"[[Unknown Label]]",value:"[[Unknown Value]]"}}=e;return o.$$set=b=>{"data"in b&&a(0,_=b.data)},[_]}class Asset extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$h,create_fragment$h,safe_not_equal,{data:0},add_css$c)}}function add_css$b(o){append_styles(o,"svelte-1bils14","button.svelte-1bils14{cursor:pointer;display:block;width:300px;height:65px;border-radius:12px;font-size:16px;font-weight:600;color:var(--button-text-color);background-color:var(--button-tertiary-color);border:none;box-shadow:none;margin:27px auto 0}")}function create_fragment$g(o){let e,a=o[0]("close",{default:"Close"})+"",_,b,_e;return{c(){e=element("button"),_=text(a),attr(e,"class","svelte-1bils14")},m(et,tt){insert(et,e,tt),append(e,_),b||(_e=listen(e,"click",o[3]),b=!0)},p(et,[tt]){tt&1&&a!==(a=et[0]("close",{default:"Close"})+"")&&set_data(_,a)},i:noop$2,o:noop$2,d(et){et&&detach(e),b=!1,_e()}}}function instance$g(o,e,a){let _;const{t:b}=getContext("i18n");component_subscribe(o,b,tt=>a(0,_=tt));const _e=createEventDispatcher();return[_,b,_e,()=>_e("complete")]}class Close extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$g,create_fragment$g,safe_not_equal,{},add_css$b)}}function add_css$a(o){append_styles(o,"svelte-785ja0",".button.svelte-785ja0{--button-height:var(--space-2xl);cursor:pointer;display:flex;justify-content:center;align-items:center;gap:var(--space-2xs);height:var(--button-height);line-height:var(--button-height);text-decoration:none;text-align:center;border-radius:var(--border-radius-inner);font-size:var(--fs-1);font-weight:600;color:var(--button-color, var(--button-text-color));background:var(--button-background, var(--button-primary-background));border:none;box-shadow:var(--button-outline);flex:1}.button.svelte-785ja0:hover{background:var(--button-background-hover, var(--button-primary-background-hover));box-shadow:var(--button-outline-hover, var(--button-primary-outline-hover))}.button.svelte-785ja0:active{background:var(--button-background-active, var(--button-primary-background-active));box-shadow:var(--button-outline-active);color:var(--button-text-color-active)}.secondary.svelte-785ja0{--button-background:var(--button-secondary-background);--button-background-hover:var(--button-secondary-background-hover);--button-background-active:var(--button-secondary-background-active);--button-outline-hover:var(--button-secondary-outline-hover)}.outlined.svelte-785ja0{--button-background:transparent;--button-background-hover:transparent;--button-background-active:var(--button-outlined-background-active);--button-outline:var(--button-outlined-outline);--button-outline-hover:var(--button-outlined-outline-hover)}a.svelte-785ja0{align-self:stretch}")}function create_if_block$8(o){let e,a;return e=new Icon({props:{name:o[3]}}),{c(){create_component(e.$$.fragment)},m(_,b){mount_component(e,_,b),a=!0},p:noop$2,i(_){a||(transition_in(e.$$.fragment,_),a=!0)},o(_){transition_out(e.$$.fragment,_),a=!1},d(_){destroy_component(e,_)}}}function create_fragment$f(o){let e,a,_,b,_e=o[3]&&create_if_block$8(o);return{c(){e=element("a"),_e&&_e.c(),a=space(),_=element("span"),_.textContent=`${o[2]}`,attr(e,"class",null_to_empty(o[5])+" svelte-785ja0"),attr(e,"href",o[1]),attr(e,"target",o[4]),attr(e,"rel","noreferrer"),toggle_class(e,"button",o[0])},m(et,tt){insert(et,e,tt),_e&&_e.m(e,null),append(e,a),append(e,_),b=!0},p(et,[tt]){et[3]&&_e.p(et,tt)},i(et){b||(transition_in(_e),b=!0)},o(et){transition_out(_e),b=!1},d(et){et&&detach(e),_e&&_e.d()}}}function instance$f(o,e,a){let{data:_}=e,{button:b=!0,href:_e,label:et,icon:tt,target:nt,variant:it="outlined"}=_;return o.$$set=ot=>{"data"in ot&&a(6,_=ot.data)},[b,_e,et,tt,nt,it,_]}class Link extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$f,create_fragment$f,safe_not_equal,{data:6},add_css$a)}}var ErrorCorrectLevel={L:1,M:0,Q:3,H:2},Mode={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8};class QR8bitByte{constructor(e){this.mode=Mode.MODE_8BIT_BYTE,this.data=e}getLength(){return this.data.length}write(e){for(let a=0;a<this.data.length;a++)e.put(this.data.charCodeAt(a),8)}}class QRBitBuffer{constructor(){this.buffer=[],this.length=0}get(e){const a=Math.floor(e/8);return(this.buffer[a]>>>7-e%8&1)==1}put(e,a){for(let _=0;_<a;_++)this.putBit((e>>>a-_-1&1)==1)}getLengthInBits(){return this.length}putBit(e){const a=Math.floor(this.length/8);this.buffer.length<=a&&this.buffer.push(0),e&&(this.buffer[a]|=128>>>this.length%8),this.length++}}const QRMath={glog:function(o){if(o<1)throw new Error("glog("+o+")");return QRMath.LOG_TABLE[o]},gexp:function(o){for(;o<0;)o+=255;for(;o>=256;)o-=255;return QRMath.EXP_TABLE[o]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(let o=0;o<8;o++)QRMath.EXP_TABLE[o]=1<<o;for(let o=8;o<256;o++)QRMath.EXP_TABLE[o]=QRMath.EXP_TABLE[o-4]^QRMath.EXP_TABLE[o-5]^QRMath.EXP_TABLE[o-6]^QRMath.EXP_TABLE[o-8];for(let o=0;o<255;o++)QRMath.LOG_TABLE[QRMath.EXP_TABLE[o]]=o;class QRPolynomial{constructor(e,a){if(e.length==null)throw new Error(e.length+"/"+a);let _=0;for(;_<e.length&&e[_]==0;)_++;this.num=new Array(e.length-_+a);for(let b=0;b<e.length-_;b++)this.num[b]=e[b+_]}get(e){return this.num[e]}getLength(){return this.num.length}multiply(e){const a=new Array(this.getLength()+e.getLength()-1);for(let _=0;_<this.getLength();_++)for(let b=0;b<e.getLength();b++)a[_+b]^=QRMath.gexp(QRMath.glog(this.get(_))+QRMath.glog(e.get(b)));return new QRPolynomial(a,0)}mod(e){if(this.getLength()-e.getLength()<0)return this;const a=QRMath.glog(this.get(0))-QRMath.glog(e.get(0)),_=new Array(this.getLength());for(let b=0;b<this.getLength();b++)_[b]=this.get(b);for(let b=0;b<e.getLength();b++)_[b]^=QRMath.gexp(QRMath.glog(e.get(b))+a);return new QRPolynomial(_,0).mod(e)}}class QRRSBlock{constructor(e,a){this.totalCount=e,this.dataCount=a}static getRSBlocks(e,a){const _=QRRSBlock.getRsBlockTable(e,a);if(_==null)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+a);const b=_.length/3,_e=[];for(let et=0;et<b;et++){const tt=_[et*3+0],nt=_[et*3+1],it=_[et*3+2];for(let ot=0;ot<tt;ot++)_e.push(new QRRSBlock(nt,it))}return _e}static getRsBlockTable(e,a){switch(a){case ErrorCorrectLevel.L:return QRRSBlock.RS_BLOCK_TABLE[(e-1)*4+0];case ErrorCorrectLevel.M:return QRRSBlock.RS_BLOCK_TABLE[(e-1)*4+1];case ErrorCorrectLevel.Q:return QRRSBlock.RS_BLOCK_TABLE[(e-1)*4+2];case ErrorCorrectLevel.H:return QRRSBlock.RS_BLOCK_TABLE[(e-1)*4+3];default:return}}}QRRSBlock.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];const QRMaskPattern={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},QRUtil={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(o){let e=o<<10;for(;QRUtil.getBCHDigit(e)-QRUtil.getBCHDigit(QRUtil.G15)>=0;)e^=QRUtil.G15<<QRUtil.getBCHDigit(e)-QRUtil.getBCHDigit(QRUtil.G15);return(o<<10|e)^QRUtil.G15_MASK},getBCHTypeNumber:function(o){let e=o<<12;for(;QRUtil.getBCHDigit(e)-QRUtil.getBCHDigit(QRUtil.G18)>=0;)e^=QRUtil.G18<<QRUtil.getBCHDigit(e)-QRUtil.getBCHDigit(QRUtil.G18);return o<<12|e},getBCHDigit:function(o){let e=0;for(;o!=0;)e++,o>>>=1;return e},getPatternPosition:function(o){return QRUtil.PATTERN_POSITION_TABLE[o-1]},getMask:function(o,e,a){switch(o){case QRMaskPattern.PATTERN000:return(e+a)%2==0;case QRMaskPattern.PATTERN001:return e%2==0;case QRMaskPattern.PATTERN010:return a%3==0;case QRMaskPattern.PATTERN011:return(e+a)%3==0;case QRMaskPattern.PATTERN100:return(Math.floor(e/2)+Math.floor(a/3))%2==0;case QRMaskPattern.PATTERN101:return e*a%2+e*a%3==0;case QRMaskPattern.PATTERN110:return(e*a%2+e*a%3)%2==0;case QRMaskPattern.PATTERN111:return(e*a%3+(e+a)%2)%2==0;default:throw new Error("bad maskPattern:"+o)}},getErrorCorrectPolynomial:function(o){let e=new QRPolynomial([1],0);for(let a=0;a<o;a++)e=e.multiply(new QRPolynomial([1,QRMath.gexp(a)],0));return e},getLengthInBits:function(o,e){if(1<=e&&e<10)switch(o){case Mode.MODE_NUMBER:return 10;case Mode.MODE_ALPHA_NUM:return 9;case Mode.MODE_8BIT_BYTE:return 8;case Mode.MODE_KANJI:return 8;default:throw new Error("mode:"+o)}else if(e<27)switch(o){case Mode.MODE_NUMBER:return 12;case Mode.MODE_ALPHA_NUM:return 11;case Mode.MODE_8BIT_BYTE:return 16;case Mode.MODE_KANJI:return 10;default:throw new Error("mode:"+o)}else if(e<41)switch(o){case Mode.MODE_NUMBER:return 14;case Mode.MODE_ALPHA_NUM:return 13;case Mode.MODE_8BIT_BYTE:return 16;case Mode.MODE_KANJI:return 12;default:throw new Error("mode:"+o)}else throw new Error("type:"+e)},getLostPoint:function(o){const e=o.getModuleCount();let a=0;for(let _e=0;_e<e;_e++)for(let et=0;et<e;et++){let tt=0;const nt=o.isDark(_e,et);for(let it=-1;it<=1;it++)if(!(_e+it<0||e<=_e+it))for(let ot=-1;ot<=1;ot++)et+ot<0||e<=et+ot||it==0&&ot==0||nt==o.isDark(_e+it,et+ot)&&tt++;tt>5&&(a+=3+tt-5)}for(let _e=0;_e<e-1;_e++)for(let et=0;et<e-1;et++){let tt=0;o.isDark(_e,et)&&tt++,o.isDark(_e+1,et)&&tt++,o.isDark(_e,et+1)&&tt++,o.isDark(_e+1,et+1)&&tt++,(tt==0||tt==4)&&(a+=3)}for(let _e=0;_e<e;_e++)for(let et=0;et<e-6;et++)o.isDark(_e,et)&&!o.isDark(_e,et+1)&&o.isDark(_e,et+2)&&o.isDark(_e,et+3)&&o.isDark(_e,et+4)&&!o.isDark(_e,et+5)&&o.isDark(_e,et+6)&&(a+=40);for(let _e=0;_e<e;_e++)for(let et=0;et<e-6;et++)o.isDark(et,_e)&&!o.isDark(et+1,_e)&&o.isDark(et+2,_e)&&o.isDark(et+3,_e)&&o.isDark(et+4,_e)&&!o.isDark(et+5,_e)&&o.isDark(et+6,_e)&&(a+=40);let _=0;for(let _e=0;_e<e;_e++)for(let et=0;et<e;et++)o.isDark(et,_e)&&_++;const b=Math.abs(100*_/e/e-50)/5;return a+=b*10,a}};class QRCode{constructor(e,a){this.typeNumber=e,this.errorCorrectLevel=a,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}addData(e){const a=new QR8bitByte(e);this.dataList.push(a),this.dataCache=null}isDark(e,a){if(e<0||this.moduleCount<=e||a<0||this.moduleCount<=a)throw new Error(e+","+a);return this.modules[e][a]}getModuleCount(){return this.moduleCount}make(){if(this.typeNumber<1){let e=1;for(e=1;e<40;e++){const a=QRRSBlock.getRSBlocks(e,this.errorCorrectLevel),_=new QRBitBuffer;let b=0;for(let _e=0;_e<a.length;_e++)b+=a[_e].dataCount;for(let _e=0;_e<this.dataList.length;_e++){const et=this.dataList[_e];_.put(et.mode,4),_.put(et.getLength(),QRUtil.getLengthInBits(et.mode,e)),et.write(_)}if(_.getLengthInBits()<=b*8)break}this.typeNumber=e}this.makeImpl(!1,this.getBestMaskPattern())}makeImpl(e,a){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(let _=0;_<this.moduleCount;_++){this.modules[_]=new Array(this.moduleCount);for(let b=0;b<this.moduleCount;b++)this.modules[_][b]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,a),this.typeNumber>=7&&this.setupTypeNumber(e),this.dataCache==null&&(this.dataCache=QRCode.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,a)}setupPositionProbePattern(e,a){for(let _=-1;_<=7;_++)if(!(e+_<=-1||this.moduleCount<=e+_))for(let b=-1;b<=7;b++)a+b<=-1||this.moduleCount<=a+b||(0<=_&&_<=6&&(b==0||b==6)||0<=b&&b<=6&&(_==0||_==6)||2<=_&&_<=4&&2<=b&&b<=4?this.modules[e+_][a+b]=!0:this.modules[e+_][a+b]=!1)}getBestMaskPattern(){let e=0,a=0;for(let _=0;_<8;_++){this.makeImpl(!0,_);const b=QRUtil.getLostPoint(this);(_==0||e>b)&&(e=b,a=_)}return a}setupTimingPattern(){for(let e=8;e<this.moduleCount-8;e++)this.modules[e][6]==null&&(this.modules[e][6]=e%2==0);for(let e=8;e<this.moduleCount-8;e++)this.modules[6][e]==null&&(this.modules[6][e]=e%2==0)}setupPositionAdjustPattern(){const e=QRUtil.getPatternPosition(this.typeNumber);for(let a=0;a<e.length;a++)for(let _=0;_<e.length;_++){const b=e[a],_e=e[_];if(this.modules[b][_e]==null)for(let et=-2;et<=2;et++)for(let tt=-2;tt<=2;tt++)et==-2||et==2||tt==-2||tt==2||et==0&&tt==0?this.modules[b+et][_e+tt]=!0:this.modules[b+et][_e+tt]=!1}}setupTypeNumber(e){const a=QRUtil.getBCHTypeNumber(this.typeNumber);for(let _=0;_<18;_++){const b=!e&&(a>>_&1)==1;this.modules[Math.floor(_/3)][_%3+this.moduleCount-8-3]=b}for(let _=0;_<18;_++){const b=!e&&(a>>_&1)==1;this.modules[_%3+this.moduleCount-8-3][Math.floor(_/3)]=b}}setupTypeInfo(e,a){const _=this.errorCorrectLevel<<3|a,b=QRUtil.getBCHTypeInfo(_);for(let _e=0;_e<15;_e++){const et=!e&&(b>>_e&1)==1;_e<6?this.modules[_e][8]=et:_e<8?this.modules[_e+1][8]=et:this.modules[this.moduleCount-15+_e][8]=et}for(let _e=0;_e<15;_e++){const et=!e&&(b>>_e&1)==1;_e<8?this.modules[8][this.moduleCount-_e-1]=et:_e<9?this.modules[8][15-_e-1+1]=et:this.modules[8][15-_e-1]=et}this.modules[this.moduleCount-8][8]=!e}mapData(e,a){let _=-1,b=this.moduleCount-1,_e=7,et=0;for(let tt=this.moduleCount-1;tt>0;tt-=2)for(tt==6&&tt--;;){for(let nt=0;nt<2;nt++)if(this.modules[b][tt-nt]==null){let it=!1;et<e.length&&(it=(e[et]>>>_e&1)==1),QRUtil.getMask(a,b,tt-nt)&&(it=!it),this.modules[b][tt-nt]=it,_e--,_e==-1&&(et++,_e=7)}if(b+=_,b<0||this.moduleCount<=b){b-=_,_=-_;break}}}static createData(e,a,_){const b=QRRSBlock.getRSBlocks(e,a),_e=new QRBitBuffer;for(let tt=0;tt<_.length;tt++){const nt=_[tt];_e.put(nt.mode,4),_e.put(nt.getLength(),QRUtil.getLengthInBits(nt.mode,e)),nt.write(_e)}let et=0;for(let tt=0;tt<b.length;tt++)et+=b[tt].dataCount;if(_e.getLengthInBits()>et*8)throw new Error("code length overflow. ("+_e.getLengthInBits()+">"+et*8+")");for(_e.getLengthInBits()+4<=et*8&&_e.put(0,4);_e.getLengthInBits()%8!=0;)_e.putBit(!1);for(;!(_e.getLengthInBits()>=et*8||(_e.put(QRCode.PAD0,8),_e.getLengthInBits()>=et*8));)_e.put(QRCode.PAD1,8);return QRCode.createBytes(_e,b)}static createBytes(e,a){let _=0,b=0,_e=0;const et=new Array(a.length),tt=new Array(a.length);for(let st=0;st<a.length;st++){const at=a[st].dataCount,lt=a[st].totalCount-at;b=Math.max(b,at),_e=Math.max(_e,lt),et[st]=new Array(at);for(let ht=0;ht<et[st].length;ht++)et[st][ht]=255&e.buffer[ht+_];_+=at;const ut=QRUtil.getErrorCorrectPolynomial(lt),mt=new QRPolynomial(et[st],ut.getLength()-1).mod(ut);tt[st]=new Array(ut.getLength()-1);for(let ht=0;ht<tt[st].length;ht++){const vt=ht+mt.getLength()-tt[st].length;tt[st][ht]=vt>=0?mt.get(vt):0}}let nt=0;for(let st=0;st<a.length;st++)nt+=a[st].totalCount;const it=new Array(nt);let ot=0;for(let st=0;st<b;st++)for(let at=0;at<a.length;at++)st<et[at].length&&(it[ot++]=et[at][st]);for(let st=0;st<_e;st++)for(let at=0;at<a.length;at++)st<tt[at].length&&(it[ot++]=tt[at][st]);return it}}QRCode.PAD0=236;QRCode.PAD1=17;function generate(o,e="L",a=-1){try{const _=new QRCode(a,ErrorCorrectLevel[e]),b=[];_.addData(o),_.make();const _e=_.modules,et=_e.length;for(const[nt,it]of _e.entries()){let ot;for(const[st,at]of it.entries())at?(ot||(ot={x:st,y:nt,width:0,height:1}),ot.width++):(ot&&ot.width>0&&b.push(ot),ot=void 0);ot&&ot.width>0&&b.push(ot)}const tt=[`<svg xmlns="http://www.w3.org/2000/svg" width="300" viewBox="0 0 ${et} ${et}">`];for(const{x:nt,y:it,width:ot,height:st}of b)tt.push(`<rect x="${nt}" y="${it}" width="${ot}" height="${st}" />`);return tt.push("</svg>"),tt.join("")}catch(_){console.log("Could not render QR code: ",_)}}function add_css$9(o){append_styles(o,"svelte-vj0cjm",".wrapper.svelte-vj0cjm.svelte-vj0cjm{position:relative;display:grid;background:var(--body-background-color);border-radius:var(--space-s);padding:var(--space-m);box-shadow:var(--qr-border-color);margin-bottom:var(--space-xs)}.qr.svelte-vj0cjm.svelte-vj0cjm{display:flex}.qr.svelte-vj0cjm svg{border-radius:var(--space-2xs);padding:var(--space-xs);background:white;flex:1;width:100%}dialog.svelte-vj0cjm.svelte-vj0cjm{padding:0;border-radius:var(--space-2xs);border:none}dialog.svelte-vj0cjm .qr.svelte-vj0cjm{background-color:white;width:min(800px, 80vmin);border:none}.button-group.svelte-vj0cjm.svelte-vj0cjm{display:grid;grid-template-columns:1fr 1fr;justify-items:center;gap:var(--space-s);position:absolute;top:100%;width:100%;transform:translateY(-50%)}.button-group.svelte-vj0cjm button.svelte-vj0cjm{display:flex;align-items:center;gap:var(--space-xs);border:none;cursor:pointer;background:var(--body-background-color);color:var(--body-text-color);font-size:var(--fs-0)}@media(max-width: 340px){.button-group.svelte-vj0cjm button span.svelte-vj0cjm:last-of-type{display:none}}.icon.svelte-vj0cjm.svelte-vj0cjm{display:grid;place-content:center;grid-template-areas:'stack'}.icon.svelte-vj0cjm>.svelte-vj0cjm{grid-area:stack}.check.svelte-vj0cjm.svelte-vj0cjm{background:var(--body-background-color)}")}function create_if_block$7(o){let e,a,_,b,_e,et,tt,nt,it,ot,st,at,lt,ut,ft=o[3]&&create_if_block_3$2(o),mt=o[3]&&create_if_block_2$4(o);nt=new Icon({props:{name:"copy",size:"var(--space-m)"}});let ht=o[2]&&create_if_block_1$4();return{c(){e=element("div"),ft&&ft.c(),a=space(),_=element("div"),mt&&mt.c(),b=space(),_e=element("button"),et=element("div"),tt=element("div"),create_component(nt.$$.fragment),it=space(),ht&&ht.c(),ot=space(),st=element("div"),st.innerHTML='<span class="svelte-vj0cjm">Copy</span> <span class="svelte-vj0cjm">to clipboard</span>',attr(tt,"class","svelte-vj0cjm"),attr(et,"class","icon svelte-vj0cjm"),attr(_e,"class","copy svelte-vj0cjm"),attr(_,"class","button-group svelte-vj0cjm"),attr(e,"class","wrapper svelte-vj0cjm")},m(vt,Et){insert(vt,e,Et),ft&&ft.m(e,null),append(e,a),append(e,_),mt&&mt.m(_,null),append(_,b),append(_,_e),append(_e,et),append(et,tt),mount_component(nt,tt,null),append(et,it),ht&&ht.m(et,null),append(_e,ot),append(_e,st),at=!0,lt||(ut=listen(_e,"click",o[11]),lt=!0)},p(vt,Et){vt[3]?ft?ft.p(vt,Et):(ft=create_if_block_3$2(vt),ft.c(),ft.m(e,a)):ft&&(ft.d(1),ft=null),vt[3]?mt?(mt.p(vt,Et),Et&8&&transition_in(mt,1)):(mt=create_if_block_2$4(vt),mt.c(),transition_in(mt,1),mt.m(_,b)):mt&&(group_outros(),transition_out(mt,1,1,()=>{mt=null}),check_outros()),vt[2]?ht?Et&4&&transition_in(ht,1):(ht=create_if_block_1$4(),ht.c(),transition_in(ht,1),ht.m(et,null)):ht&&(group_outros(),transition_out(ht,1,1,()=>{ht=null}),check_outros())},i(vt){at||(transition_in(mt),transition_in(nt.$$.fragment,vt),transition_in(ht),at=!0)},o(vt){transition_out(mt),transition_out(nt.$$.fragment,vt),transition_out(ht),at=!1},d(vt){vt&&detach(e),ft&&ft.d(),mt&&mt.d(),destroy_component(nt),ht&&ht.d(),lt=!1,ut()}}}function create_if_block_3$2(o){let e,a,_,b,_e,et;return{c(){e=element("div"),a=space(),_=element("dialog"),b=element("button"),attr(e,"class","main qr svelte-vj0cjm"),attr(b,"class","qr svelte-vj0cjm"),attr(_,"class","svelte-vj0cjm")},m(tt,nt){insert(tt,e,nt),e.innerHTML=o[3],insert(tt,a,nt),insert(tt,_,nt),append(_,b),b.innerHTML=o[3],o[10](_),_e||(et=[listen(b,"click",o[6]),listen(_,"click",self$1(o[7])),listen(_,"keydown",stop_propagation(prevent_default(o[8])),!0)],_e=!0)},p(tt,nt){nt&8&&(e.innerHTML=tt[3]),nt&8&&(b.innerHTML=tt[3])},d(tt){tt&&(detach(e),detach(a),detach(_)),o[10](null),_e=!1,run_all(et)}}}function create_if_block_2$4(o){let e,a,_,b,_e,et,tt;return a=new Icon({props:{name:"expand",size:"var(--space-m)"}}),{c(){e=element("button"),create_component(a.$$.fragment),_=space(),b=element("div"),b.innerHTML='<span class="svelte-vj0cjm">Expand</span> <span class="svelte-vj0cjm">QR code</span>',attr(e,"class","expand svelte-vj0cjm")},m(nt,it){insert(nt,e,it),mount_component(a,e,null),append(e,_),append(e,b),_e=!0,et||(tt=listen(e,"click",o[5]),et=!0)},p:noop$2,i(nt){_e||(transition_in(a.$$.fragment,nt),_e=!0)},o(nt){transition_out(a.$$.fragment,nt),_e=!1},d(nt){nt&&detach(e),destroy_component(a),et=!1,tt()}}}function create_if_block_1$4(o){let e,a,_,b;return a=new Icon({props:{name:"check",size:"var(--space-m)"}}),{c(){e=element("div"),create_component(a.$$.fragment),attr(e,"class","check svelte-vj0cjm")},m(_e,et){insert(_e,e,et),mount_component(a,e,null),b=!0},i(_e){b||(transition_in(a.$$.fragment,_e),_e&&add_render_callback(()=>{b&&(_||(_=create_bidirectional_transition(e,fade,{duration:180,easing:cubicInOut},!0)),_.run(1))}),b=!0)},o(_e){transition_out(a.$$.fragment,_e),_e&&(_||(_=create_bidirectional_transition(e,fade,{duration:180,easing:cubicInOut},!1)),_.run(0)),b=!1},d(_e){_e&&detach(e),destroy_component(a),_e&&_&&_.end()}}}function create_fragment$e(o){let e,a,_=o[0]&&create_if_block$7(o);return{c(){_&&_.c(),e=empty()},m(b,_e){_&&_.m(b,_e),insert(b,e,_e),a=!0},p(b,[_e]){b[0]?_?(_.p(b,_e),_e&1&&transition_in(_,1)):(_=create_if_block$7(b),_.c(),transition_in(_,1),_.m(e.parentNode,e)):_&&(group_outros(),transition_out(_,1,1,()=>{_=null}),check_outros())},i(b){a||(transition_in(_),a=!0)},o(b){transition_out(_),a=!1},d(b){b&&detach(e),_&&_.d(b)}}}function instance$e(o,e,a){let _,{data:b=""}=e,_e,et=!1,tt=!1;const nt=writable();component_subscribe(o,nt,mt=>a(3,_=mt)),onMount(()=>{try{nt.set(generate(b))}catch(mt){console.error("Error rendering QR code",mt)}});const it=()=>{et?ot():(et=!0,_e.showModal())},ot=()=>{_e.close(),et=!1};function st(mt){var ht=_e.getBoundingClientRect(),vt=ht.top<=mt.clientY&&mt.clientY<=ht.top+ht.height&&ht.left<=mt.clientX&&mt.clientX<=ht.left+ht.width;vt||ot()}function at(mt){mt.key==="Escape"&&ot()}function lt(mt){navigator.clipboard&&(navigator.clipboard.writeText(mt),a(2,tt=!0),setTimeout(()=>a(2,tt=!1),1200))}function ut(mt){binding_callbacks[mt?"unshift":"push"](()=>{_e=mt,a(1,_e)})}const ft=()=>lt(b);return o.$$set=mt=>{"data"in mt&&a(0,b=mt.data)},[b,_e,tt,_,nt,it,ot,st,at,lt,ut,ft]}class Qr extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$e,create_fragment$e,safe_not_equal,{data:0},add_css$9)}}function add_css$8(o){append_styles(o,"svelte-1gpx2bs",'.wrapper.svelte-1gpx2bs{position:relative;display:flex;display:grid;background-color:var(--text-area-background);border-radius:var(--border-radius-inner);overflow:hidden}textarea.svelte-1gpx2bs{--rows:9;flex:1;color:var(--text-area-text-color);background-color:var(--text-area-background);border:none;font-size:var(--fs-0);font-weight:400;line-height:1.5;resize:none;opacity:0.75;height:calc(var(--fs-0) * 1.5 * var(--rows) - var(--fs-0) * 1.5 * 0.5);border-radius:inherit;padding-inline-start:var(--space-m);padding-block-start:var(--space-m)}.wrapper.svelte-1gpx2bs::before,.wrapper.svelte-1gpx2bs::after{content:"";display:block;position:absolute;z-index:2;width:100%;height:var(--space-l);background:linear-gradient(var(--deg), transparent, black 100%)}.wrapper.svelte-1gpx2bs::before{--deg:0;top:0;opacity:var(--top-shadow-opacity, 0)}.wrapper.svelte-1gpx2bs::after{--deg:180deg;bottom:0;opacity:var(--bottom-shadow-opacity, 0)}')}function create_fragment$d(o){let e,a,_,b,_e;return{c(){e=element("div"),a=element("textarea"),a.readOnly=!0,a.value=_=o[0].content,attr(a,"class","svelte-1gpx2bs"),attr(e,"class","wrapper svelte-1gpx2bs")},m(et,tt){insert(et,e,tt),append(e,a),o[4](a),o[5](e),b||(_e=listen(a,"scroll",o[3]),b=!0)},p(et,[tt]){tt&1&&_!==(_=et[0].content)&&(a.value=_)},i:noop$2,o:noop$2,d(et){et&&detach(e),o[4](null),o[5](null),b=!1,_e()}}}let maxOpacity=.2;function instance$d(o,e,a){let{data:_={}}=e,b,_e;function et(it){let ot=it.target.scrollHeight-it.target.clientHeight,st=it.target.scrollTop/ot,at=st*maxOpacity,lt=(1-st)*maxOpacity;b.style.setProperty("--top-shadow-opacity",at),b.style.setProperty("--bottom-shadow-opacity",lt)}onMount(()=>{let it=(1-_e.scrollTop/(_e.scrollHeight-_e.clientHeight))*maxOpacity;b.style.setProperty("--bottom-shadow-opacity",it)});function tt(it){binding_callbacks[it?"unshift":"push"](()=>{_e=it,a(2,_e)})}function nt(it){binding_callbacks[it?"unshift":"push"](()=>{b=it,a(1,b)})}return o.$$set=it=>{"data"in it&&a(0,_=it.data)},[_,b,_e,et,tt,nt]}class Textarea extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$d,create_fragment$d,safe_not_equal,{data:0},add_css$8)}}function add_css$7(o){append_styles(o,"svelte-1kd5uy1",".prompt.svelte-1kd5uy1{display:flex;flex-direction:column;gap:var(--space-m);gap:var(--space-l)}.text.svelte-1kd5uy1{display:flex;flex-direction:column;gap:var(--space-s);text-align:center}")}function get_each_context$2(o,e,a){const _=o.slice();return _[6]=e[a],_}function create_default_slot_1$5(o){var _;let e=((_=o[0])==null?void 0:_.args.title)+"",a;return{c(){a=text(e)},m(b,_e){insert(b,a,_e)},p(b,_e){var et;_e&1&&e!==(e=((et=b[0])==null?void 0:et.args.title)+"")&&set_data(a,e)},d(b){b&&detach(a)}}}function create_default_slot$6(o){var _;let e=((_=o[0])==null?void 0:_.args.body)+"",a;return{c(){a=text(e)},m(b,_e){insert(b,a,_e)},p(b,_e){var et;_e&1&&e!==(e=((et=b[0])==null?void 0:et.args.body)+"")&&set_data(a,e)},d(b){b&&detach(a)}}}function create_each_block$2(o){let e,a,_;const b=[o[6].props];var _e=o[6].component;function et(tt,nt){let it={};if(nt!==void 0&&nt&2)it=get_spread_update(b,[get_spread_object(tt[6].props)]);else for(let ot=0;ot<b.length;ot+=1)it=assign$1(it,b[ot]);return{props:it}}return _e&&(e=construct_svelte_component(_e,et(o)),e.$on("complete",o[4]),e.$on("cancel",o[5])),{c(){e&&create_component(e.$$.fragment),a=empty()},m(tt,nt){e&&mount_component(e,tt,nt),insert(tt,a,nt),_=!0},p(tt,nt){if(nt&2&&_e!==(_e=tt[6].component)){if(e){group_outros();const it=e;transition_out(it.$$.fragment,1,0,()=>{destroy_component(it,1)}),check_outros()}_e?(e=construct_svelte_component(_e,et(tt,nt)),e.$on("complete",tt[4]),e.$on("cancel",tt[5]),create_component(e.$$.fragment),transition_in(e.$$.fragment,1),mount_component(e,a.parentNode,a)):e=null}else if(_e){const it=nt&2?get_spread_update(b,[get_spread_object(tt[6].props)]):{};e.$set(it)}},i(tt){_||(e&&transition_in(e.$$.fragment,tt),_=!0)},o(tt){e&&transition_out(e.$$.fragment,tt),_=!1},d(tt){tt&&detach(a),e&&destroy_component(e,tt)}}}function create_fragment$c(o){let e,a,_,b,_e,et,tt;_=new BodyTitle({props:{$$slots:{default:[create_default_slot_1$5]},$$scope:{ctx:o}}}),_e=new BodyText({props:{$$slots:{default:[create_default_slot$6]},$$scope:{ctx:o}}});let nt=ensure_array_like(o[1]),it=[];for(let st=0;st<nt.length;st+=1)it[st]=create_each_block$2(get_each_context$2(o,nt,st));const ot=st=>transition_out(it[st],1,1,()=>{it[st]=null});return{c(){e=element("div"),a=element("div"),create_component(_.$$.fragment),b=space(),create_component(_e.$$.fragment),et=space();for(let st=0;st<it.length;st+=1)it[st].c();attr(a,"class","text svelte-1kd5uy1"),attr(e,"class","prompt svelte-1kd5uy1")},m(st,at){insert(st,e,at),append(e,a),mount_component(_,a,null),append(a,b),mount_component(_e,a,null),append(e,et);for(let lt=0;lt<it.length;lt+=1)it[lt]&&it[lt].m(e,null);tt=!0},p(st,[at]){const lt={};at&513&&(lt.$$scope={dirty:at,ctx:st}),_.$set(lt);const ut={};if(at&513&&(ut.$$scope={dirty:at,ctx:st}),_e.$set(ut),at&10){nt=ensure_array_like(st[1]);let ft;for(ft=0;ft<nt.length;ft+=1){const mt=get_each_context$2(st,nt,ft);it[ft]?(it[ft].p(mt,at),transition_in(it[ft],1)):(it[ft]=create_each_block$2(mt),it[ft].c(),transition_in(it[ft],1),it[ft].m(e,null))}for(group_outros(),ft=nt.length;ft<it.length;ft+=1)ot(ft);check_outros()}},i(st){if(!tt){transition_in(_.$$.fragment,st),transition_in(_e.$$.fragment,st);for(let at=0;at<nt.length;at+=1)transition_in(it[at]);tt=!0}},o(st){transition_out(_.$$.fragment,st),transition_out(_e.$$.fragment,st),it=it.filter(Boolean);for(let at=0;at<it.length;at+=1)transition_out(it[at]);tt=!1},d(st){st&&detach(e),destroy_component(_),destroy_component(_e),destroy_each(it,st)}}}function instance$c(o,e,a){let _,b;component_subscribe(o,prompt,it=>a(0,_=it));const _e=derived(prompt,it=>{const ot=[];return it&&it.args.elements.forEach(st=>{switch(st.type){case"accept":{ot.push({component:Accept,props:{data:st.data}});break}case"asset":{ot.push({component:Asset,props:{data:st.data}});break}case"close":{ot.push({component:Close,props:{label:st.label}});break}case"link":{ot.push({component:Link,props:{data:st.data}});break}case"qr":{ot.push({component:Qr,props:{data:st.data}});break}case"countdown":{ot.push({component:Countdown,props:{data:st.data}});break}case"textarea":{ot.push({component:Textarea,props:{data:st.data}});break}case"button":{ot.push({component:Button,props:{data:st.data}});break}default:throw new Error(`Unknown element type: ${st.type}`)}}),ot});component_subscribe(o,_e,it=>a(1,b=it));const et=createEventDispatcher();return[_,b,_e,et,()=>et("complete"),()=>et("cancel")]}class Prompt extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$c,create_fragment$c,safe_not_equal,{},add_css$7)}}var version$2="1.4.2";function add_css$6(o){append_styles(o,"svelte-tj2pg7","div.svelte-tj2pg7{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:var(--space-m)}svg.svelte-tj2pg7{height:auto;width:100%;max-width:200px}")}function create_else_block$2(o){let e,a,_,b,_e,et,tt,nt,it,ot,st,at,lt;return{c(){e=svg_element("svg"),a=svg_element("path"),_=svg_element("path"),b=svg_element("path"),_e=svg_element("path"),et=svg_element("path"),tt=svg_element("path"),nt=svg_element("path"),it=svg_element("path"),ot=svg_element("path"),st=svg_element("path"),at=svg_element("path"),lt=svg_element("path"),attr(a,"d","M273.403 84.085C273.403 83.4185 272.851 82.8783 272.171 82.8783H265.007C264.327 82.8783 263.775 83.4185 263.775 84.085V106.927C263.775 110.163 263.082 112.365 261.908 113.745C260.77 115.083 259.014 115.841 256.4 115.841C253.723 115.841 251.923 115.078 250.76 113.737C249.564 112.357 248.859 110.158 248.859 106.927V96.1519C248.859 95.4854 248.307 94.9452 247.627 94.9452H240.408C239.727 94.9452 239.175 95.4854 239.175 96.1519V106.927C239.175 110.16 238.474 112.36 237.286 113.74C236.131 115.08 234.345 115.841 231.689 115.841C229.131 115.841 227.36 115.114 226.172 113.816C225.018 112.514 224.315 110.304 224.315 106.927V84.085C224.315 83.4185 223.763 82.8783 223.082 82.8783H215.863C215.183 82.8783 214.631 83.4185 214.631 84.085V107.148C214.631 112.616 216.054 116.982 219.088 120.045C222.122 123.107 226.385 124.559 231.689 124.559C234.557 124.559 237.131 124.116 239.384 123.194L239.394 123.19C241.185 122.439 242.729 121.465 244.007 120.261C245.263 121.467 246.796 122.44 248.585 123.19L248.609 123.2C250.927 124.115 253.531 124.559 256.4 124.559C261.699 124.559 265.947 123.129 268.946 120.1C271.982 117.036 273.403 112.65 273.403 107.148V84.085Z"),attr(a,"fill","#494E62"),attr(_,"d","M326.457 84.085C326.457 83.4185 325.905 82.8783 325.224 82.8783H318.005C317.325 82.8783 316.773 83.4185 316.773 84.085V98.8619H299.136V84.085C299.136 83.4185 298.584 82.8783 297.904 82.8783H290.685C290.004 82.8783 289.452 83.4185 289.452 84.085V122.8C289.452 123.466 290.004 124.006 290.685 124.006H297.904C298.584 124.006 299.136 123.466 299.136 122.8V107.414H316.773V122.8C316.773 123.466 317.325 124.006 318.005 124.006H325.224C325.905 124.006 326.457 123.466 326.457 122.8V84.085Z"),attr(_,"fill","#494E62"),attr(b,"fill-rule","evenodd"),attr(b,"clip-rule","evenodd"),attr(b,"d","M378.176 124.006C378.857 124.006 379.408 123.466 379.408 122.8V101.341C379.408 97.4001 378.66 93.9713 377.103 91.1039C375.588 88.2098 373.417 86.0002 370.597 84.5155C367.796 83.0409 364.552 82.3252 360.906 82.3252C357.26 82.3252 354.016 83.0409 351.215 84.5155C348.395 86.0002 346.206 88.2088 344.655 91.1009L344.652 91.1063C343.133 93.9728 342.404 97.4004 342.404 101.341V122.8C342.404 123.466 342.955 124.006 343.636 124.006H350.744C351.425 124.006 351.977 123.466 351.977 122.8V114.051H369.724V122.8C369.724 123.466 370.276 124.006 370.957 124.006H378.176ZM367.395 93.4304L367.404 93.4391C368.88 94.9405 369.724 97.2793 369.724 100.677V105.609H351.977V100.677C351.977 97.2793 352.821 94.9405 354.297 93.4392L354.306 93.4303C355.798 91.882 357.923 91.0435 360.85 91.0435C363.778 91.0435 365.903 91.882 367.395 93.4304Z"),attr(b,"fill","#494E62"),attr(_e,"fill-rule","evenodd"),attr(_e,"clip-rule","evenodd"),attr(_e,"d","M421.019 123.482C421.249 123.81 421.63 124.006 422.036 124.006H429.81C430.268 124.006 430.688 123.758 430.901 123.361C431.114 122.964 431.085 122.485 430.826 122.116L422.723 110.587C424.933 109.494 426.707 107.983 428.005 106.045C429.603 103.717 430.376 100.969 430.376 97.8563C430.376 94.8268 429.663 92.1432 428.187 89.8559C426.712 87.5705 424.59 85.837 421.877 84.6445C419.204 83.4531 416.099 82.8783 412.596 82.8783H396.603C395.923 82.8783 395.371 83.4185 395.371 84.085V122.8C395.371 123.466 395.923 124.006 396.603 124.006H403.822C404.503 124.006 405.055 123.466 405.055 122.8V112.724H412.596C412.917 112.724 413.212 112.72 413.475 112.711L421.019 123.482ZM418.638 93.0871C419.931 94.1409 420.637 95.6687 420.637 97.8563C420.637 100.039 419.933 101.592 418.631 102.686C417.309 103.76 415.252 104.393 412.263 104.393H405.055V91.3754H412.263C415.256 91.3754 417.315 92.0098 418.638 93.0871Z"),attr(_e,"fill","#494E62"),attr(et,"d","M453.668 122.8V109.184H469.372C470.053 109.184 470.605 108.644 470.605 107.977V101.894C470.605 101.227 470.053 100.687 469.372 100.687H453.668V98.5753C453.668 95.9375 454.441 94.1359 455.807 92.9529C457.199 91.7469 459.374 91.0435 462.542 91.0435C465.829 91.0435 468.452 91.7903 470.494 93.201C470.805 93.416 471.2 93.478 471.565 93.3691C471.929 93.2601 472.221 92.9924 472.357 92.6438L474.634 86.7813C474.839 86.251 474.64 85.6517 474.155 85.3418C472.582 84.3375 470.769 83.5885 468.732 83.0814C466.697 82.5746 464.521 82.3252 462.209 82.3252C456.701 82.3252 452.209 83.729 448.887 86.6749C445.583 89.6004 443.984 93.6202 443.984 98.5753V122.8C443.984 123.466 444.536 124.006 445.217 124.006H452.436C453.116 124.006 453.668 123.466 453.668 122.8Z"),attr(et,"fill","#494E62"),attr(tt,"d","M177.58 117.515C177.507 121.507 174.869 124.279 172.268 125.782L166.67 129.016C163.999 130.559 160.875 131.159 158.077 131.159C155.278 131.159 152.155 130.559 149.485 129.016L143.994 125.782V136.762C143.994 140.829 141.316 143.664 138.68 145.188L133.083 148.422C130.411 149.965 127.288 150.565 124.489 150.565C121.69 150.565 118.567 149.965 115.897 148.422L107.695 143.683L99.495 148.422C96.8235 149.965 93.7002 150.565 90.9014 150.565C88.1027 150.565 84.9808 149.965 82.3093 148.422L43.1243 125.782C40.523 124.279 37.8851 121.507 37.812 117.515L37.8105 117.269V131.648L37.812 131.895C37.8851 135.886 40.523 138.659 43.1243 140.161L82.3093 162.801C84.9808 164.344 88.1027 164.944 90.9014 164.944C93.7002 164.944 96.8235 164.344 99.495 162.801L107.695 158.063L115.897 162.801C118.567 164.344 121.69 164.944 124.489 164.944C127.288 164.944 130.411 164.344 133.083 162.801L138.68 159.567C141.316 158.044 143.994 155.209 143.994 151.142V140.161L149.485 143.396C152.155 144.939 155.278 145.538 158.077 145.538C160.875 145.538 163.999 144.939 166.67 143.396L172.268 140.161C174.869 138.659 177.507 135.886 177.58 131.895L177.58 117.515Z"),attr(tt,"fill","#F4FAF4"),attr(nt,"d","M37.8456 103.768C37.8224 103.982 37.8105 104.199 37.8105 104.419V117.268L37.812 117.515C37.8851 121.507 40.523 124.279 43.1243 125.782L82.3093 148.422C84.9808 149.964 88.1027 150.564 90.9014 150.564C93.7002 150.564 96.8235 149.964 99.495 148.422L107.695 143.683L115.897 148.422C118.567 149.964 121.69 150.564 124.489 150.564C127.288 150.564 130.411 149.964 133.083 148.422L138.68 145.187C141.316 143.664 143.994 140.829 143.994 136.762V125.782L149.484 129.016C152.155 130.559 155.278 131.159 158.077 131.159C160.875 131.159 163.999 130.559 166.67 129.016L172.268 125.782C174.869 124.279 177.507 121.507 177.58 117.515V103.136C177.506 107.127 174.869 109.899 172.268 111.402L166.67 114.636C163.999 116.179 160.875 116.779 158.077 116.779C155.278 116.779 152.155 116.179 149.484 114.636L143.887 111.402C143.797 111.35 143.707 111.296 143.617 111.241C143.86 112.035 143.997 112.892 143.997 113.813C143.997 114.082 143.985 114.346 143.962 114.604C143.983 114.807 143.994 115.012 143.994 115.219V122.382C143.994 126.449 141.316 129.284 138.68 130.808L133.083 134.042C130.411 135.585 127.288 136.184 124.489 136.184C121.69 136.184 118.567 135.585 115.897 134.042L107.695 129.303L99.495 134.042C96.8235 135.585 93.7002 136.184 90.9014 136.184C88.1027 136.184 84.9808 135.585 82.3093 134.042L43.1243 111.402C40.6627 109.98 38.1684 107.421 37.8456 103.768Z"),attr(nt,"fill","#B2F2E1"),attr(it,"d","M105.024 64.9883C105.03 65.0464 105.036 65.1046 105.043 65.1627C105.324 67.5849 106.527 69.4925 108.024 70.9048C107.915 70.903 107.807 70.9021 107.699 70.9021C106.824 70.9021 105.918 70.9607 105.003 71.0884V65.4957C105.003 65.3248 105.01 65.1556 105.024 64.9883Z"),attr(it,"fill","#B2F2E1"),attr(ot,"d","M48.7253 82.7478L43.1274 85.9821C40.6334 87.423 38.1038 90.037 37.837 93.7573C37.8195 93.932 37.8105 94.1145 37.8105 94.3053V102.889L37.812 103.135C37.8851 107.127 40.523 109.899 43.1243 111.402L82.3093 134.042C84.9808 135.585 88.1027 136.185 90.9014 136.185C93.7001 136.185 96.8235 135.585 99.495 134.042L107.695 129.304L115.897 134.042C118.567 135.585 121.69 136.185 124.489 136.185C127.288 136.185 130.411 135.585 133.083 134.042L138.68 130.808C141.316 129.284 143.994 126.45 143.994 122.382V115.219C143.994 115.012 143.983 114.807 143.962 114.605C143.985 114.346 143.997 114.082 143.997 113.813C143.997 112.892 143.86 112.035 143.617 111.241C143.707 111.296 143.797 111.35 143.887 111.402L149.484 114.636C152.155 116.179 155.278 116.779 158.077 116.779C160.875 116.779 163.999 116.179 166.67 114.636L172.268 111.402C174.869 109.899 177.507 107.127 177.58 103.135V94.6923C177.583 94.5981 177.584 94.5031 177.584 94.4075C177.584 94.3119 177.583 94.217 177.58 94.1228L177.581 75.2371C177.583 75.1592 177.584 75.0808 177.584 75.0019C177.584 70.9348 174.908 68.0999 172.271 66.5765L133.085 43.9366C130.415 42.3936 127.292 41.7939 124.493 41.7939C121.694 41.7939 118.571 42.3936 115.9 43.9366L110.303 47.1708C107.666 48.6943 104.989 51.5291 104.989 55.5963C104.989 55.788 104.995 55.9769 105.006 56.1631C105.004 56.2285 105.003 56.2944 105.003 56.3609V63.611C104.984 63.8988 104.981 64.1871 104.992 64.4752C104.999 64.7047 105.016 64.9341 105.043 65.163C105.324 67.5851 106.527 69.4928 108.024 70.9051C107.915 70.9033 107.807 70.9024 107.699 70.9024C104.9 70.9024 101.777 71.5021 99.1067 73.045L93.5087 76.2793C90.8719 77.8027 88.1951 80.6376 88.1951 84.7047C88.1951 84.9692 88.2065 85.2285 88.2284 85.4826C88.2236 85.5807 88.2212 85.6793 88.2212 85.7785V92.5656L88.2109 92.7314L88.2007 92.9128C88.1934 93.0894 88.1919 93.2661 88.1948 93.4428C88.2007 93.8112 88.2314 94.1794 88.2855 94.5454C88.3525 94.997 88.4513 95.4299 88.5777 95.8443L65.9101 82.7478C63.2396 81.2049 60.1164 80.6052 57.3177 80.6052C54.519 80.6052 51.3958 81.2049 48.7253 82.7478Z"),attr(ot,"fill","#7BE7CE"),attr(st,"d","M130.088 49.1268C126.997 47.3406 121.984 47.3405 118.893 49.1268L113.295 52.3611C110.203 54.1473 110.203 57.0434 113.295 58.8296L151.801 81.0771C153.286 81.9349 154.12 83.0983 154.12 84.3114V85.0962C154.12 86.3092 153.286 87.4726 151.801 88.3304L146.882 91.1723C143.791 92.9586 143.791 95.8546 146.882 97.6409L152.48 100.875C155.572 102.661 160.584 102.661 163.676 100.875L169.274 97.6409C172.366 95.8546 172.366 92.9586 169.274 91.1723L164.355 88.3304C162.87 87.4726 162.036 86.3092 162.036 85.0962V84.3114C162.036 83.0983 162.87 81.9349 164.355 81.0771L169.274 78.2352C172.366 76.449 172.366 73.5529 169.274 71.7667L130.088 49.1268Z"),attr(st,"fill","#494E62"),attr(at,"d","M62.9133 87.938C59.8216 86.1518 54.8091 86.1518 51.7174 87.938L46.1195 91.1723C43.0279 92.9585 43.0279 95.8546 46.1195 97.6408L85.305 120.281C88.3967 122.067 93.4092 122.067 96.5009 120.281L107.697 113.812L62.9133 87.938Z"),attr(at,"fill","#494E62"),attr(lt,"d","M128.449 104.502C128.449 105.715 129.283 106.878 130.768 107.736L135.686 110.578C138.778 112.364 138.778 115.26 135.686 117.046L130.088 120.281C126.997 122.067 121.984 122.067 118.893 120.281L107.697 113.812L118.213 107.736C119.698 106.878 120.532 105.715 120.532 104.502L120.532 103.717C120.532 102.504 119.698 101.341 118.213 100.483L96.5009 87.938C93.4092 86.1518 93.4092 83.2557 96.5009 81.4695L102.099 78.2352C105.19 76.449 110.203 76.449 113.295 78.2352L135.686 91.1723C138.778 92.9585 138.778 95.8546 135.686 97.6409L130.768 100.483C129.283 101.341 128.449 102.504 128.449 103.717L128.449 104.502Z"),attr(lt,"fill","#494E62"),attr(e,"width","512"),attr(e,"height","206"),attr(e,"viewBox","0 0 512 206"),attr(e,"fill","none"),attr(e,"xmlns","http://www.w3.org/2000/svg"),attr(e,"class","svelte-tj2pg7")},m(ut,ft){insert(ut,e,ft),append(e,a),append(e,_),append(e,b),append(e,_e),append(e,et),append(e,tt),append(e,nt),append(e,it),append(e,ot),append(e,st),append(e,at),append(e,lt)},d(ut){ut&&detach(e)}}}function create_if_block$6(o){let e,a,_,b,_e,et,tt,nt,it,ot,st,at,lt;return{c(){e=svg_element("svg"),a=svg_element("path"),_=svg_element("path"),b=svg_element("path"),_e=svg_element("path"),et=svg_element("path"),tt=svg_element("path"),nt=svg_element("path"),it=svg_element("path"),ot=svg_element("path"),st=svg_element("path"),at=svg_element("path"),lt=svg_element("path"),attr(a,"d","M273.61 84.1001C273.61 83.4342 273.058 82.8944 272.378 82.8944H265.214C264.534 82.8944 263.982 83.4342 263.982 84.1001V106.924C263.982 110.157 263.289 112.358 262.115 113.737C260.978 115.074 259.221 115.831 256.607 115.831C253.93 115.831 252.13 115.069 250.967 113.728C249.771 112.35 249.066 110.153 249.066 106.924V96.1574C249.066 95.4915 248.514 94.9517 247.834 94.9517H240.615C239.934 94.9517 239.382 95.4915 239.382 96.1574V106.924C239.382 110.154 238.681 112.352 237.493 113.731C236.338 115.07 234.552 115.831 231.897 115.831C229.338 115.831 227.567 115.104 226.379 113.807C225.225 112.507 224.522 110.299 224.522 106.924V84.1001C224.522 83.4342 223.97 82.8944 223.289 82.8944H216.071C215.39 82.8944 214.838 83.4342 214.838 84.1001V107.145C214.838 112.609 216.261 116.971 219.295 120.031C222.329 123.091 226.593 124.542 231.897 124.542C234.764 124.542 237.338 124.099 239.591 123.178L239.601 123.174C241.392 122.423 242.936 121.451 244.214 120.248C245.47 121.452 247.003 122.424 248.792 123.174L248.816 123.184C251.134 124.098 253.738 124.542 256.607 124.542C261.906 124.542 266.154 123.113 269.153 120.086C272.189 117.025 273.61 112.643 273.61 107.145V84.1001Z"),attr(a,"fill","white"),attr(_,"d","M326.664 84.1001C326.664 83.4342 326.112 82.8944 325.431 82.8944H318.212C317.532 82.8944 316.98 83.4342 316.98 84.1001V98.8652H299.343V84.1001C299.343 83.4342 298.791 82.8944 298.111 82.8944H290.892C290.211 82.8944 289.659 83.4342 289.659 84.1001V122.784C289.659 123.45 290.211 123.99 290.892 123.99H298.111C298.791 123.99 299.343 123.45 299.343 122.784V107.411H316.98V122.784C316.98 123.45 317.532 123.99 318.212 123.99H325.431C326.112 123.99 326.664 123.45 326.664 122.784V84.1001Z"),attr(_,"fill","white"),attr(b,"fill-rule","evenodd"),attr(b,"clip-rule","evenodd"),attr(b,"d","M378.383 123.99C379.064 123.99 379.615 123.45 379.615 122.784V101.342C379.615 97.4046 378.867 93.9786 377.31 91.1134C375.795 88.2217 373.624 86.0139 370.804 84.5303C368.003 83.0569 364.759 82.3418 361.113 82.3418C357.467 82.3418 354.223 83.0569 351.422 84.5303C348.602 86.0138 346.413 88.2207 344.862 91.1105L344.859 91.1159C343.34 93.9801 342.611 97.4049 342.611 101.342V122.784C342.611 123.45 343.162 123.99 343.843 123.99H350.951C351.632 123.99 352.184 123.45 352.184 122.784V114.042H369.931V122.784C369.931 123.45 370.483 123.99 371.164 123.99H378.383ZM367.602 93.4381L367.611 93.4468C369.087 94.947 369.931 97.284 369.931 100.679V105.607H352.184V100.679C352.184 97.284 353.028 94.947 354.504 93.4469L354.513 93.438C356.005 91.891 358.13 91.0532 361.057 91.0532C363.985 91.0532 366.11 91.891 367.602 93.4381Z"),attr(b,"fill","white"),attr(_e,"fill-rule","evenodd"),attr(_e,"clip-rule","evenodd"),attr(_e,"d","M421.226 123.466C421.456 123.794 421.837 123.99 422.243 123.99H430.017C430.475 123.99 430.895 123.741 431.108 123.345C431.321 122.949 431.292 122.469 431.033 122.1L422.93 110.581C425.14 109.488 426.914 107.979 428.212 106.043C429.81 103.717 430.583 100.971 430.583 97.8605C430.583 94.8334 429.87 92.152 428.394 89.8665C426.919 87.5829 424.797 85.8508 422.084 84.6593C419.411 83.4688 416.306 82.8944 412.803 82.8944H396.81C396.13 82.8944 395.578 83.4342 395.578 84.1001V122.784C395.578 123.45 396.13 123.99 396.81 123.99H404.029C404.71 123.99 405.262 123.45 405.262 122.784V112.716H412.803C413.124 112.716 413.419 112.712 413.682 112.703L421.226 123.466ZM418.845 93.0951C420.138 94.1481 420.844 95.6746 420.844 97.8605C420.844 100.042 420.14 101.594 418.838 102.686C417.516 103.76 415.459 104.391 412.47 104.391H405.262V91.3847H412.47C415.463 91.3847 417.522 92.0186 418.845 93.0951Z"),attr(_e,"fill","white"),attr(et,"d","M453.875 122.784V109.179H469.579C470.26 109.179 470.812 108.639 470.812 107.973V101.895C470.812 101.229 470.26 100.689 469.579 100.689H453.875V98.5789C453.875 95.9432 454.648 94.1431 456.014 92.961C457.406 91.7559 459.581 91.0532 462.749 91.0532C466.036 91.0532 468.659 91.7993 470.701 93.2089C471.012 93.4237 471.408 93.4857 471.772 93.3768C472.136 93.268 472.428 93.0005 472.564 92.6522L474.841 86.7944C475.046 86.2644 474.847 85.6657 474.362 85.356C472.789 84.3525 470.976 83.6041 468.939 83.0974C466.904 82.5911 464.728 82.3418 462.416 82.3418C456.908 82.3418 452.417 83.7445 449.094 86.688C445.79 89.6112 444.191 93.6277 444.191 98.5789V122.784C444.191 123.45 444.743 123.99 445.424 123.99H452.643C453.323 123.99 453.875 123.45 453.875 122.784Z"),attr(et,"fill","white"),attr(tt,"d","M177.787 117.503C177.714 121.492 175.076 124.262 172.475 125.763L166.877 128.995C164.206 130.537 161.082 131.136 158.284 131.136C155.485 131.136 152.362 130.537 149.692 128.995L144.201 125.763V136.735C144.201 140.799 141.523 143.631 138.887 145.154L133.29 148.385C130.618 149.927 127.495 150.526 124.696 150.526C121.897 150.526 118.774 149.927 116.104 148.385L107.902 143.651L99.702 148.385C97.0305 149.927 93.9072 150.526 91.1085 150.526C88.3098 150.526 85.1879 149.927 82.5164 148.385L43.3313 125.763C40.73 124.262 38.0922 121.492 38.019 117.503L38.0176 117.257V131.625L38.019 131.871C38.0922 135.86 40.73 138.63 43.3313 140.131L82.5164 162.753C85.1879 164.295 88.3098 164.894 91.1085 164.894C93.9072 164.894 97.0305 164.295 99.702 162.753L107.902 158.018L116.104 162.753C118.774 164.295 121.897 164.894 124.696 164.894C127.495 164.894 130.618 164.295 133.29 162.753L138.887 159.521C141.523 157.999 144.201 155.167 144.201 151.103V140.131L149.692 143.363C152.362 144.905 155.485 145.504 158.284 145.504C161.082 145.504 164.206 144.905 166.877 143.363L172.475 140.131C175.076 138.63 177.714 135.86 177.787 131.871L177.787 117.503Z"),attr(tt,"fill","#7BE7CE"),attr(nt,"d","M38.0526 103.767C38.0295 103.981 38.0176 104.198 38.0176 104.418V117.257L38.019 117.503C38.0922 121.492 40.73 124.262 43.3313 125.763L82.5164 148.385C85.1879 149.927 88.3097 150.526 91.1085 150.526C93.9072 150.526 97.0305 149.927 99.702 148.385L107.902 143.65L116.104 148.385C118.774 149.927 121.897 150.526 124.696 150.526C127.495 150.526 130.618 149.927 133.29 148.385L138.887 145.153C141.523 143.631 144.201 140.799 144.201 136.735V125.763L149.692 128.995C152.362 130.537 155.485 131.136 158.284 131.136C161.082 131.136 164.206 130.537 166.877 128.995L172.475 125.763C175.076 124.262 177.714 121.492 177.787 117.503V103.136C177.714 107.124 175.076 109.893 172.475 111.395L166.877 114.627C164.206 116.168 161.082 116.768 158.284 116.768C155.485 116.768 152.362 116.168 149.692 114.627L144.094 111.395C144.004 111.343 143.914 111.289 143.824 111.234C144.067 112.027 144.204 112.884 144.204 113.804C144.204 114.073 144.192 114.337 144.169 114.595C144.19 114.797 144.201 115.002 144.201 115.209V122.366C144.201 126.43 141.523 129.263 138.887 130.785L133.29 134.017C130.618 135.558 127.495 136.158 124.696 136.158C121.897 136.158 118.774 135.558 116.104 134.017L107.902 129.282L99.702 134.017C97.0305 135.558 93.9072 136.158 91.1085 136.158C88.3097 136.158 85.1879 135.558 82.5164 134.017L43.3313 111.395C40.8698 109.974 38.3755 107.417 38.0526 103.767Z"),attr(nt,"fill","#B2F2E1"),attr(it,"d","M105.231 65.0186C105.237 65.0767 105.243 65.1348 105.25 65.1928C105.531 67.6131 106.734 69.5192 108.231 70.9303C108.122 70.9285 108.014 70.9276 107.906 70.9276C107.031 70.9276 106.125 70.9862 105.21 71.1138V65.5255C105.21 65.3548 105.217 65.1857 105.231 65.0186Z"),attr(it,"fill","#B2F2E1"),attr(ot,"d","M48.9324 82.7639L43.3344 85.9955C40.8405 87.4353 38.3108 90.0472 38.044 93.7645C38.0265 93.939 38.0176 94.1214 38.0176 94.312V102.889L38.019 103.135C38.0922 107.124 40.73 109.894 43.3313 111.395L82.5164 134.017C85.1879 135.559 88.3097 136.158 91.1085 136.158C93.9072 136.158 97.0305 135.559 99.702 134.017L107.902 129.282L116.104 134.017C118.774 135.559 121.897 136.158 124.696 136.158C127.495 136.158 130.618 135.559 133.29 134.017L138.887 130.785C141.523 129.263 144.201 126.431 144.201 122.367V115.209C144.201 115.003 144.19 114.798 144.169 114.595C144.192 114.337 144.204 114.073 144.204 113.804C144.204 112.884 144.067 112.027 143.824 111.235C143.914 111.29 144.004 111.343 144.094 111.395L149.692 114.627C152.362 116.169 155.485 116.768 158.284 116.768C161.082 116.768 164.206 116.169 166.877 114.627L172.475 111.395C175.076 109.894 177.714 107.124 177.787 103.135V94.6988C177.79 94.6046 177.791 94.5098 177.791 94.4142C177.791 94.3187 177.79 94.2239 177.787 94.1297L177.788 75.2591C177.79 75.1813 177.791 75.103 177.791 75.0242C177.791 70.9603 175.115 68.1277 172.478 66.6055L133.292 43.9837C130.622 42.442 127.499 41.8428 124.7 41.8428C121.901 41.8428 118.778 42.442 116.107 43.9837L110.51 47.2154C107.873 48.7376 105.196 51.5702 105.196 55.6341C105.196 55.8256 105.202 56.0144 105.214 56.2005C105.211 56.2658 105.21 56.3317 105.21 56.3981V63.6424C105.191 63.9299 105.188 64.218 105.199 64.5058C105.206 64.7352 105.223 64.9644 105.25 65.1931C105.531 67.6133 106.734 69.5194 108.231 70.9306C108.122 70.9288 108.014 70.9279 107.906 70.9279C105.107 70.9279 101.984 71.5271 99.3137 73.0688L93.7158 76.3005C91.0789 77.8227 88.4022 80.6553 88.4022 84.7192C88.4022 84.9835 88.4135 85.2426 88.4354 85.4964C88.4306 85.5945 88.4282 85.693 88.4282 85.7922V92.5738L88.4179 92.7394L88.4077 92.9207C88.4004 93.0971 88.3989 93.2737 88.4019 93.4503C88.4077 93.8184 88.4384 94.1863 88.4925 94.552C88.5595 95.0033 88.6583 95.4358 88.7848 95.8499L66.1171 82.7639C63.4466 81.2222 60.3234 80.623 57.5247 80.623C54.726 80.623 51.6029 81.2222 48.9324 82.7639Z"),attr(ot,"fill","#F4FAF4"),attr(st,"d","M130.295 49.1697C127.204 47.3849 122.191 47.3849 119.1 49.1697L113.502 52.4013C110.41 54.1862 110.41 57.0799 113.502 58.8647L152.008 81.0944C153.493 81.9515 154.327 83.114 154.327 84.3261V85.1102C154.327 86.3223 153.493 87.4848 152.008 88.3419L147.089 91.1815C143.998 92.9663 143.998 95.8601 147.089 97.6449L152.687 100.877C155.779 102.661 160.791 102.661 163.883 100.877L169.481 97.6449C172.573 95.8601 172.573 92.9663 169.481 91.1815L164.562 88.3419C163.077 87.4848 162.243 86.3224 162.243 85.1102V84.3261C162.243 83.114 163.077 81.9515 164.562 81.0944L169.481 78.2548C172.573 76.47 172.573 73.5762 169.481 71.7914L130.295 49.1697Z"),attr(st,"fill","#494E62"),attr(at,"d","M63.1203 87.9498C60.0287 86.165 55.0161 86.165 51.9245 87.9498L46.3265 91.1815C43.2349 92.9663 43.2349 95.8601 46.3265 97.6449L85.512 120.267C88.6037 122.051 93.6162 122.051 96.7079 120.267L107.904 113.803L63.1203 87.9498Z"),attr(at,"fill","#494E62"),attr(lt,"d","M128.656 104.5C128.656 105.712 129.49 106.875 130.975 107.732L135.893 110.572C138.985 112.356 138.985 115.25 135.893 117.035L130.295 120.267C127.204 122.051 122.191 122.051 119.1 120.267L107.904 113.803L118.42 107.732C119.905 106.875 120.739 105.712 120.739 104.5L120.739 103.716C120.739 102.504 119.905 101.342 118.42 100.485L96.7079 87.9498C93.6162 86.165 93.6162 83.2713 96.7079 81.4865L102.306 78.2548C105.397 76.47 110.41 76.47 113.502 78.2548L135.893 91.1815C138.985 92.9663 138.985 95.8601 135.893 97.6449L130.975 100.485C129.49 101.342 128.656 102.504 128.656 103.716L128.656 104.5Z"),attr(lt,"fill","#494E62"),attr(e,"width","513"),attr(e,"height","206"),attr(e,"viewBox","0 0 513 206"),attr(e,"fill","none"),attr(e,"xmlns","http://www.w3.org/2000/svg"),attr(e,"class","svelte-tj2pg7")},m(ut,ft){insert(ut,e,ft),append(e,a),append(e,_),append(e,b),append(e,_e),append(e,et),append(e,tt),append(e,nt),append(e,it),append(e,ot),append(e,st),append(e,at),append(e,lt)},d(ut){ut&&detach(e)}}}function create_default_slot_1$4(o){let e=o[1]("settings.about.version",{version:version$2})+"",a;return{c(){a=text(e)},m(_,b){insert(_,a,b)},p(_,b){b&2&&e!==(e=_[1]("settings.about.version",{version:version$2})+"")&&set_data(a,e)},d(_){_&&detach(a)}}}function create_default_slot$5(o){let e=o[1]("settings.about.author")+"",a;return{c(){a=text(e)},m(_,b){insert(_,a,b)},p(_,b){b&2&&e!==(e=_[1]("settings.about.author")+"")&&set_data(a,e)},d(_){_&&detach(a)}}}function create_fragment$b(o){let e,a,_,b,_e,et,tt,nt;function it(at,lt){return at[0]==="dark"?create_if_block$6:create_else_block$2}let ot=it(o),st=ot(o);return _=new BodyTitle({props:{$$slots:{default:[create_default_slot_1$4]},$$scope:{ctx:o}}}),_e=new BodyText({props:{$$slots:{default:[create_default_slot$5]},$$scope:{ctx:o}}}),tt=new Link({props:{data:{button:!0,variant:"primary",label:o[1]("settings.about.link"),href:"https://wharfkit.com",target:"_blank"}}}),{c(){e=element("div"),st.c(),a=space(),create_component(_.$$.fragment),b=space(),create_component(_e.$$.fragment),et=space(),create_component(tt.$$.fragment),attr(e,"class","svelte-tj2pg7")},m(at,lt){insert(at,e,lt),st.m(e,null),append(e,a),mount_component(_,e,null),append(e,b),mount_component(_e,e,null),append(e,et),mount_component(tt,e,null),nt=!0},p(at,[lt]){ot!==(ot=it(at))&&(st.d(1),st=ot(at),st&&(st.c(),st.m(e,a)));const ut={};lt&10&&(ut.$$scope={dirty:lt,ctx:at}),_.$set(ut);const ft={};lt&10&&(ft.$$scope={dirty:lt,ctx:at}),_e.$set(ft);const mt={};lt&2&&(mt.data={button:!0,variant:"primary",label:at[1]("settings.about.link"),href:"https://wharfkit.com",target:"_blank"}),tt.$set(mt)},i(at){nt||(transition_in(_.$$.fragment,at),transition_in(_e.$$.fragment,at),transition_in(tt.$$.fragment,at),nt=!0)},o(at){transition_out(_.$$.fragment,at),transition_out(_e.$$.fragment,at),transition_out(tt.$$.fragment,at),nt=!1},d(at){at&&detach(e),st.d(),destroy_component(_),destroy_component(_e),destroy_component(tt)}}}function instance$b(o,e,a){let _,b;const{t:_e}=getContext("i18n");return component_subscribe(o,_e,et=>a(1,b=et)),a(0,{theme:_}=get_store_value(settings$5),_),[_,b,_e]}class About extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$b,create_fragment$b,safe_not_equal,{},add_css$6)}}var en$1="English",ko$1="",zh="",tr$1="Trke",lang={en:en$1,ko:ko$1,zh,"zh-Hans":"","zh-Hant":"",tr:tr$1};function add_css$5(o){append_styles(o,"svelte-yv3ifw","label.svelte-yv3ifw{flex:1;height:100%;display:flex;align-items:center;justify-content:space-between;cursor:pointer;padding-inline:var(--space-s)}")}function create_if_block$5(o){let e,a,_;return a=new Icon({props:{name:"check"}}),{c(){e=element("div"),create_component(a.$$.fragment),attr(e,"class","trailing")},m(b,_e){insert(b,e,_e),mount_component(a,e,null),_=!0},i(b){_||(transition_in(a.$$.fragment,b),_=!0)},o(b){transition_out(a.$$.fragment,b),_=!1},d(b){b&&detach(e),destroy_component(a)}}}function fallback_block$1(o){let e,a,_,b,_e,et,tt,nt,it=o[2]&&create_if_block$5();return{c(){e=element("input"),a=space(),_=text(o[6]),b=space(),it&&it.c(),_e=empty(),attr(e,"type","radio"),attr(e,"name",o[0]),e.value=o[1],e.checked=o[2],e.hidden=o[5],attr(e,"group",o[3])},m(ot,st){insert(ot,e,st),insert(ot,a,st),insert(ot,_,st),insert(ot,b,st),it&&it.m(ot,st),insert(ot,_e,st),et=!0,tt||(nt=listen(e,"change",function(){is_function(o[4])&&o[4].apply(this,arguments)}),tt=!0)},p(ot,st){o=ot,(!et||st&1)&&attr(e,"name",o[0]),(!et||st&2)&&(e.value=o[1]),(!et||st&4)&&(e.checked=o[2]),(!et||st&32)&&(e.hidden=o[5]),(!et||st&8)&&attr(e,"group",o[3]),(!et||st&64)&&set_data(_,o[6]),o[2]?it?st&4&&transition_in(it,1):(it=create_if_block$5(),it.c(),transition_in(it,1),it.m(_e.parentNode,_e)):it&&(group_outros(),transition_out(it,1,1,()=>{it=null}),check_outros())},i(ot){et||(transition_in(it),et=!0)},o(ot){transition_out(it),et=!1},d(ot){ot&&(detach(e),detach(a),detach(_),detach(b),detach(_e)),it&&it.d(ot),tt=!1,nt()}}}function create_fragment$a(o){let e,a;const _=o[8].default,b=create_slot(_,o,o[7],null),_e=b||fallback_block$1(o);return{c(){e=element("label"),_e&&_e.c(),attr(e,"class","svelte-yv3ifw")},m(et,tt){insert(et,e,tt),_e&&_e.m(e,null),a=!0},p(et,[tt]){b?b.p&&(!a||tt&128)&&update_slot_base(b,_,et,et[7],a?get_slot_changes(_,et[7],tt,null):get_all_dirty_from_scope(et[7]),null):_e&&_e.p&&(!a||tt&127)&&_e.p(et,a?tt:-1)},i(et){a||(transition_in(_e,et),a=!0)},o(et){transition_out(_e,et),a=!1},d(et){et&&detach(e),_e&&_e.d(et)}}}function instance$a(o,e,a){let{$$slots:_={},$$scope:b}=e,{name:_e}=e,{value:et}=e,{checked:tt}=e,{group:nt}=e,{onChange:it}=e,{hidden:ot}=e,{label:st}=e;return o.$$set=at=>{"name"in at&&a(0,_e=at.name),"value"in at&&a(1,et=at.value),"checked"in at&&a(2,tt=at.checked),"group"in at&&a(3,nt=at.group),"onChange"in at&&a(4,it=at.onChange),"hidden"in at&&a(5,ot=at.hidden),"label"in at&&a(6,st=at.label),"$$scope"in at&&a(7,b=at.$$scope)},[_e,et,tt,nt,it,ot,st,b,_]}class ListOption extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$a,create_fragment$a,safe_not_equal,{name:0,value:1,checked:2,group:3,onChange:4,hidden:5,label:6},add_css$5)}}function get_each_context$1(o,e,a){const _=o.slice();return _[6]=e[a],_}function create_default_slot_1$3(o){let e,a,_,b;function _e(){return o[4](o[6])}function et(nt){o[5](nt)}let tt={label:o[6].label,name:o[0],value:o[6].value,checked:o[3][o[0]]===o[6].value,onChange:_e,hidden:!0};return o[3][o[0]]!==void 0&&(tt.group=o[3][o[0]]),e=new ListOption({props:tt}),binding_callbacks.push(()=>bind(e,"group",et)),{c(){create_component(e.$$.fragment),_=space()},m(nt,it){mount_component(e,nt,it),insert(nt,_,it),b=!0},p(nt,it){o=nt;const ot={};it&2&&(ot.label=o[6].label),it&1&&(ot.name=o[0]),it&2&&(ot.value=o[6].value),it&11&&(ot.checked=o[3][o[0]]===o[6].value),it&6&&(ot.onChange=_e),!a&&it&9&&(a=!0,ot.group=o[3][o[0]],add_flush_callback(()=>a=!1)),e.$set(ot)},i(nt){b||(transition_in(e.$$.fragment,nt),b=!0)},o(nt){transition_out(e.$$.fragment,nt),b=!1},d(nt){nt&&detach(_),destroy_component(e,nt)}}}function create_each_block$1(o){let e,a;return e=new ListItem({props:{$$slots:{default:[create_default_slot_1$3]},$$scope:{ctx:o}}}),{c(){create_component(e.$$.fragment)},m(_,b){mount_component(e,_,b),a=!0},p(_,b){const _e={};b&527&&(_e.$$scope={dirty:b,ctx:_}),e.$set(_e)},i(_){a||(transition_in(e.$$.fragment,_),a=!0)},o(_){transition_out(e.$$.fragment,_),a=!1},d(_){destroy_component(e,_)}}}function create_default_slot$4(o){let e,a,_=ensure_array_like(o[1]),b=[];for(let et=0;et<_.length;et+=1)b[et]=create_each_block$1(get_each_context$1(o,_,et));const _e=et=>transition_out(b[et],1,1,()=>{b[et]=null});return{c(){for(let et=0;et<b.length;et+=1)b[et].c();e=empty()},m(et,tt){for(let nt=0;nt<b.length;nt+=1)b[nt]&&b[nt].m(et,tt);insert(et,e,tt),a=!0},p(et,tt){if(tt&15){_=ensure_array_like(et[1]);let nt;for(nt=0;nt<_.length;nt+=1){const it=get_each_context$1(et,_,nt);b[nt]?(b[nt].p(it,tt),transition_in(b[nt],1)):(b[nt]=create_each_block$1(it),b[nt].c(),transition_in(b[nt],1),b[nt].m(e.parentNode,e))}for(group_outros(),nt=_.length;nt<b.length;nt+=1)_e(nt);check_outros()}},i(et){if(!a){for(let tt=0;tt<_.length;tt+=1)transition_in(b[tt]);a=!0}},o(et){b=b.filter(Boolean);for(let tt=0;tt<b.length;tt+=1)transition_out(b[tt]);a=!1},d(et){et&&detach(e),destroy_each(b,et)}}}function create_fragment$9(o){let e,a;return e=new List({props:{$$slots:{default:[create_default_slot$4]},$$scope:{ctx:o}}}),{c(){create_component(e.$$.fragment)},m(_,b){mount_component(e,_,b),a=!0},p(_,[b]){const _e={};b&527&&(_e.$$scope={dirty:b,ctx:_}),e.$set(_e)},i(_){a||(transition_in(e.$$.fragment,_),a=!0)},o(_){transition_out(e.$$.fragment,_),a=!1},d(_){destroy_component(e,_)}}}function instance$9(o,e,a){let _;component_subscribe(o,settings$5,it=>a(3,_=it));let{setting:b}=e,{options:_e}=e,{onChange:et=it=>{set_store_value(settings$5,_[b]=it,_)}}=e;const tt=it=>et(it.value);function nt(it){o.$$.not_equal(_[b],it)&&(_[b]=it,settings$5.set(_))}return o.$$set=it=>{"setting"in it&&a(0,b=it.setting),"options"in it&&a(1,_e=it.options),"onChange"in it&&a(2,et=it.onChange)},[b,_e,et,_,tt,nt]}class Selector extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$9,create_fragment$9,safe_not_equal,{setting:0,options:1,onChange:2})}}function create_if_block_4$1(o){let e,a;return e=new Transition({props:{direction:o[4],$$slots:{default:[create_default_slot_4]},$$scope:{ctx:o}}}),{c(){create_component(e.$$.fragment)},m(_,b){mount_component(e,_,b),a=!0},p(_,b){const _e={};b&16&&(_e.direction=_[4]),b&524353&&(_e.$$scope={dirty:b,ctx:_}),e.$set(_e)},i(_){a||(transition_in(e.$$.fragment,_),a=!0)},o(_){transition_out(e.$$.fragment,_),a=!1},d(_){destroy_component(e,_)}}}function create_default_slot_5(o){let e,a,_,b,_e,et,tt,nt,it,ot;return e=new ListItem({props:{label:o[0]("settings.theme.title"),onClick:o[11],leadingIcon:"theme",value:o[6].theme?o[0](`settings.theme.${o[6].theme}`):o[0]("settings.theme.automatic")}}),_=new ListItem({props:{label:o[0]("settings.language.title"),onClick:o[12],leadingIcon:"globe",value:lang[o[6].language]}}),_e=new ListItem({props:{label:o[0]("settings.animations.title"),onClick:o[13],leadingIcon:"waves",value:o[6].animations?o[0]("settings.animations.enabled"):o[0]("settings.animations.disabled")}}),tt=new ListItem({props:{label:o[0]("settings.about.title"),onClick:o[14],leadingIcon:"info"}}),it=new ListItem({props:{label:o[0]("settings.github"),link:"https://www.github.com/wharfkit",leadingIcon:"github",trailingIcon:"external-link"}}),{c(){create_component(e.$$.fragment),a=space(),create_component(_.$$.fragment),b=space(),create_component(_e.$$.fragment),et=space(),create_component(tt.$$.fragment),nt=space(),create_component(it.$$.fragment)},m(st,at){mount_component(e,st,at),insert(st,a,at),mount_component(_,st,at),insert(st,b,at),mount_component(_e,st,at),insert(st,et,at),mount_component(tt,st,at),insert(st,nt,at),mount_component(it,st,at),ot=!0},p(st,at){const lt={};at&1&&(lt.label=st[0]("settings.theme.title")),at&65&&(lt.value=st[6].theme?st[0](`settings.theme.${st[6].theme}`):st[0]("settings.theme.automatic")),e.$set(lt);const ut={};at&1&&(ut.label=st[0]("settings.language.title")),at&64&&(ut.value=lang[st[6].language]),_.$set(ut);const ft={};at&1&&(ft.label=st[0]("settings.animations.title")),at&65&&(ft.value=st[6].animations?st[0]("settings.animations.enabled"):st[0]("settings.animations.disabled")),_e.$set(ft);const mt={};at&1&&(mt.label=st[0]("settings.about.title")),tt.$set(mt);const ht={};at&1&&(ht.label=st[0]("settings.github")),it.$set(ht)},i(st){ot||(transition_in(e.$$.fragment,st),transition_in(_.$$.fragment,st),transition_in(_e.$$.fragment,st),transition_in(tt.$$.fragment,st),transition_in(it.$$.fragment,st),ot=!0)},o(st){transition_out(e.$$.fragment,st),transition_out(_.$$.fragment,st),transition_out(_e.$$.fragment,st),transition_out(tt.$$.fragment,st),transition_out(it.$$.fragment,st),ot=!1},d(st){st&&(detach(a),detach(b),detach(et),detach(nt)),destroy_component(e,st),destroy_component(_,st),destroy_component(_e,st),destroy_component(tt,st),destroy_component(it,st)}}}function create_default_slot_4(o){let e,a;return e=new List({props:{$$slots:{default:[create_default_slot_5]},$$scope:{ctx:o}}}),{c(){create_component(e.$$.fragment)},m(_,b){mount_component(e,_,b),a=!0},p(_,b){const _e={};b&524353&&(_e.$$scope={dirty:b,ctx:_}),e.$set(_e)},i(_){a||(transition_in(e.$$.fragment,_),a=!0)},o(_){transition_out(e.$$.fragment,_),a=!1},d(_){destroy_component(e,_)}}}function create_if_block_3$1(o){let e,a;return e=new Transition({props:{direction:o[4],$$slots:{default:[create_default_slot_3]},$$scope:{ctx:o}}}),{c(){create_component(e.$$.fragment)},m(_,b){mount_component(e,_,b),a=!0},p(_,b){const _e={};b&16&&(_e.direction=_[4]),b&524296&&(_e.$$scope={dirty:b,ctx:_}),e.$set(_e)},i(_){a||(transition_in(e.$$.fragment,_),a=!0)},o(_){transition_out(e.$$.fragment,_),a=!1},d(_){destroy_component(e,_)}}}function create_if_block_2$3(o){let e,a;return e=new Transition({props:{direction:o[4],$$slots:{default:[create_default_slot_2]},$$scope:{ctx:o}}}),{c(){create_component(e.$$.fragment)},m(_,b){mount_component(e,_,b),a=!0},p(_,b){const _e={};b&16&&(_e.direction=_[4]),b&524292&&(_e.$$scope={dirty:b,ctx:_}),e.$set(_e)},i(_){a||(transition_in(e.$$.fragment,_),a=!0)},o(_){transition_out(e.$$.fragment,_),a=!1},d(_){destroy_component(e,_)}}}function create_if_block_1$3(o){let e,a;return e=new Transition({props:{direction:o[4],$$slots:{default:[create_default_slot_1$2]},$$scope:{ctx:o}}}),{c(){create_component(e.$$.fragment)},m(_,b){mount_component(e,_,b),a=!0},p(_,b){const _e={};b&16&&(_e.direction=_[4]),b&524290&&(_e.$$scope={dirty:b,ctx:_}),e.$set(_e)},i(_){a||(transition_in(e.$$.fragment,_),a=!0)},o(_){transition_out(e.$$.fragment,_),a=!1},d(_){destroy_component(e,_)}}}function create_if_block$4(o){let e,a;return e=new Transition({props:{direction:o[4],$$slots:{default:[create_default_slot$3]},$$scope:{ctx:o}}}),{c(){create_component(e.$$.fragment)},m(_,b){mount_component(e,_,b),a=!0},p(_,b){const _e={};b&16&&(_e.direction=_[4]),b&524288&&(_e.$$scope={dirty:b,ctx:_}),e.$set(_e)},i(_){a||(transition_in(e.$$.fragment,_),a=!0)},o(_){transition_out(e.$$.fragment,_),a=!1},d(_){destroy_component(e,_)}}}function create_default_slot_3(o){let e,a;return e=new Selector({props:{setting:"animations",options:o[3]}}),{c(){create_component(e.$$.fragment)},m(_,b){mount_component(e,_,b),a=!0},p(_,b){const _e={};b&8&&(_e.options=_[3]),e.$set(_e)},i(_){a||(transition_in(e.$$.fragment,_),a=!0)},o(_){transition_out(e.$$.fragment,_),a=!1},d(_){destroy_component(e,_)}}}function create_default_slot_2(o){let e,a;return e=new Selector({props:{setting:"language",options:o[2],onChange:o[15]}}),{c(){create_component(e.$$.fragment)},m(_,b){mount_component(e,_,b),a=!0},p(_,b){const _e={};b&4&&(_e.options=_[2]),e.$set(_e)},i(_){a||(transition_in(e.$$.fragment,_),a=!0)},o(_){transition_out(e.$$.fragment,_),a=!1},d(_){destroy_component(e,_)}}}function create_default_slot_1$2(o){let e,a;return e=new Selector({props:{setting:"theme",options:o[1]}}),{c(){create_component(e.$$.fragment)},m(_,b){mount_component(e,_,b),a=!0},p(_,b){const _e={};b&2&&(_e.options=_[1]),e.$set(_e)},i(_){a||(transition_in(e.$$.fragment,_),a=!0)},o(_){transition_out(e.$$.fragment,_),a=!1},d(_){destroy_component(e,_)}}}function create_default_slot$3(o){let e,a;return e=new About({}),{c(){create_component(e.$$.fragment)},m(_,b){mount_component(e,_,b),a=!0},i(_){a||(transition_in(e.$$.fragment,_),a=!0)},o(_){transition_out(e.$$.fragment,_),a=!1},d(_){destroy_component(e,_)}}}function create_fragment$8(o){let e,a,_,b,_e,et=!o[5].path&&create_if_block_4$1(o);const tt=[create_if_block$4,create_if_block_1$3,create_if_block_2$3,create_if_block_3$1],nt=[];function it(ot,st){return ot[5].path==="about"?0:ot[5].path==="theme"?1:ot[5].path==="language"?2:ot[5].path==="animations"?3:-1}return~(_=it(o))&&(b=nt[_]=tt[_](o)),{c(){e=element("div"),et&&et.c(),a=space(),b&&b.c(),attr(e,"class","settings-menu")},m(ot,st){insert(ot,e,st),et&&et.m(e,null),append(e,a),~_&&nt[_].m(e,null),_e=!0},p(ot,[st]){ot[5].path?et&&(group_outros(),transition_out(et,1,1,()=>{et=null}),check_outros()):et?(et.p(ot,st),st&32&&transition_in(et,1)):(et=create_if_block_4$1(ot),et.c(),transition_in(et,1),et.m(e,a));let at=_;_=it(ot),_===at?~_&&nt[_].p(ot,st):(b&&(group_outros(),transition_out(nt[at],1,1,()=>{nt[at]=null}),check_outros()),~_?(b=nt[_],b?b.p(ot,st):(b=nt[_]=tt[_](ot),b.c()),transition_in(b,1),b.m(e,null)):b=null)},i(ot){_e||(transition_in(et),transition_in(b),_e=!0)},o(ot){transition_out(et),transition_out(b),_e=!1},d(ot){ot&&detach(e),et&&et.d(),~_&&nt[_].d()}}}function instance$8(o,e,a){let _,b,_e,et,tt,nt,it,ot;component_subscribe(o,props,Mt=>a(16,tt=Mt)),component_subscribe(o,transitionDirection,Mt=>a(4,nt=Mt)),component_subscribe(o,settings$5,Mt=>a(6,ot=Mt));const st=initRouter();component_subscribe(o,st,Mt=>a(5,it=Mt));const{t:at,setLocale:lt}=getContext("i18n");component_subscribe(o,at,Mt=>a(0,et=Mt));function ut(){set_store_value(transitionDirection,nt="ltr",nt),router.back(),backAction.set(void 0)}function ft(Mt){set_store_value(transitionDirection,nt="rtl",nt),st.push(Mt),set_store_value(props,tt.subtitle=et(`settings.${Mt}.title`),tt),backAction.set(()=>{set_store_value(transitionDirection,nt="ltr",nt),st.back(),backAction.set(ut),set_store_value(props,tt.subtitle=void 0,tt)})}onMount(()=>{backAction.set(ut),set_store_value(props,tt.title=et("settings.title"),tt),set_store_value(props,tt.subtitle=void 0,tt),set_store_value(transitionDirection,nt="rtl",nt)});async function mt(Mt){await lt(Mt)&&(settings$5.set({...get_store_value(settings$5),language:Mt}),set_store_value(props,tt.title=et("settings.title"),tt),set_store_value(props,tt.subtitle=et("settings.language.title"),tt))}const ht=()=>ft("theme"),vt=()=>ft("language"),Et=()=>ft("animations"),At=()=>ft("about"),Ct=Mt=>mt(Mt);return o.$$.update=()=>{o.$$.dirty&1&&a(3,_=[{label:et("settings.animations.enabled"),value:!0},{label:et("settings.animations.disabled"),value:!1}]),o.$$.dirty&1&&a(1,_e=[{label:et("settings.theme.automatic"),value:void 0},{label:et("settings.theme.light"),value:"light"},{label:et("settings.theme.dark"),value:"dark"}])},a(2,b=Object.keys(lang).map(Mt=>({label:lang[Mt],value:Mt}))),[et,_e,b,_,nt,it,ot,st,at,ft,mt,ht,vt,Et,At,Ct]}class Settings extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$8,create_fragment$8,safe_not_equal,{})}}function create_fragment$7(o){let e,a;return e=new Countdown({props:{data:{label:o[0]("transact.processing",{default:"Performing transaction..."})}}}),{c(){create_component(e.$$.fragment)},m(_,b){mount_component(e,_,b),a=!0},p(_,[b]){const _e={};b&1&&(_e.data={label:_[0]("transact.processing",{default:"Performing transaction..."})}),e.$set(_e)},i(_){a||(transition_in(e.$$.fragment,_),a=!0)},o(_){transition_out(e.$$.fragment,_),a=!1},d(_){destroy_component(e,_)}}}function instance$7(o,e,a){let _;const{t:b}=getContext("i18n");return component_subscribe(o,b,_e=>a(0,_=_e)),createEventDispatcher(),[_,b]}class Transact extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$7,create_fragment$7,safe_not_equal,{})}}function add_css$4(o){append_styles(o,"svelte-1d8fcdl","section.svelte-1d8fcdl{display:flex;flex-direction:column;gap:var(--space-s)}")}function get_each_context(o,e,a){const _=o.slice();return _[4]=e[a],_}function create_if_block$3(o){let e,a,_,b,_e;return a=new BodyTitle({props:{$$slots:{default:[create_default_slot_1$1]},$$scope:{ctx:o}}}),b=new List({props:{$$slots:{default:[create_default_slot$2]},$$scope:{ctx:o}}}),{c(){e=element("section"),create_component(a.$$.fragment),_=space(),create_component(b.$$.fragment),attr(e,"class","svelte-1d8fcdl")},m(et,tt){insert(et,e,tt),mount_component(a,e,null),append(e,_),mount_component(b,e,null),_e=!0},p(et,tt){const nt={};tt&130&&(nt.$$scope={dirty:tt,ctx:et}),a.$set(nt);const it={};tt&129&&(it.$$scope={dirty:tt,ctx:et}),b.$set(it)},i(et){_e||(transition_in(a.$$.fragment,et),transition_in(b.$$.fragment,et),_e=!0)},o(et){transition_out(a.$$.fragment,et),transition_out(b.$$.fragment,et),_e=!1},d(et){et&&detach(e),destroy_component(a),destroy_component(b)}}}function create_default_slot_1$1(o){let e;return{c(){e=text(o[1])},m(a,_){insert(a,e,_)},p(a,_){_&2&&set_data(e,a[1])},d(a){a&&detach(e)}}}function create_each_block(o){let e,a;function _(){return o[3](o[4])}return e=new ListItem({props:{label:o[4].name,onClick:_,leadingIcon:"wharf",logo:getThemedLogo(o[4].metadata)}}),{c(){create_component(e.$$.fragment)},m(b,_e){mount_component(e,b,_e),a=!0},p(b,_e){o=b;const et={};_e&1&&(et.label=o[4].name),_e&1&&(et.onClick=_),_e&1&&(et.logo=getThemedLogo(o[4].metadata)),e.$set(et)},i(b){a||(transition_in(e.$$.fragment,b),a=!0)},o(b){transition_out(e.$$.fragment,b),a=!1},d(b){destroy_component(e,b)}}}function create_default_slot$2(o){let e,a,_=ensure_array_like(o[0]),b=[];for(let et=0;et<_.length;et+=1)b[et]=create_each_block(get_each_context(o,_,et));const _e=et=>transition_out(b[et],1,1,()=>{b[et]=null});return{c(){for(let et=0;et<b.length;et+=1)b[et].c();e=empty()},m(et,tt){for(let nt=0;nt<b.length;nt+=1)b[nt]&&b[nt].m(et,tt);insert(et,e,tt),a=!0},p(et,tt){if(tt&5){_=ensure_array_like(et[0]);let nt;for(nt=0;nt<_.length;nt+=1){const it=get_each_context(et,_,nt);b[nt]?(b[nt].p(it,tt),transition_in(b[nt],1)):(b[nt]=create_each_block(it),b[nt].c(),transition_in(b[nt],1),b[nt].m(e.parentNode,e))}for(group_outros(),nt=_.length;nt<b.length;nt+=1)_e(nt);check_outros()}},i(et){if(!a){for(let tt=0;tt<_.length;tt+=1)transition_in(b[tt]);a=!0}},o(et){b=b.filter(Boolean);for(let tt=0;tt<b.length;tt+=1)transition_out(b[tt]);a=!1},d(et){et&&detach(e),destroy_each(b,et)}}}function create_fragment$6(o){let e,a,_=o[0]&&create_if_block$3(o);return{c(){_&&_.c(),e=empty()},m(b,_e){_&&_.m(b,_e),insert(b,e,_e),a=!0},p(b,[_e]){b[0]?_?(_.p(b,_e),_e&1&&transition_in(_,1)):(_=create_if_block$3(b),_.c(),transition_in(_,1),_.m(e.parentNode,e)):_&&(group_outros(),transition_out(_,1,1,()=>{_=null}),check_outros())},i(b){a||(transition_in(_),a=!0)},o(b){transition_out(_),a=!1},d(b){b&&detach(e),_&&_.d(b)}}}function instance$6(o,e,a){let{plugins:_}=e,{title:b}=e;const _e=createEventDispatcher(),et=tt=>_e("select",tt.id);return o.$$set=tt=>{"plugins"in tt&&a(0,_=tt.plugins),"title"in tt&&a(1,b=tt.title)},[_,b,_e,et]}class AccountPlugin extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$6,create_fragment$6,safe_not_equal,{plugins:0,title:1},add_css$4)}}function create_else_block_1$1(o){let e,a=o[2]("loading",{default:"Loading..."})+"",_;return{c(){e=element("p"),_=text(a)},m(b,_e){insert(b,e,_e),append(e,_)},p(b,_e){_e&4&&a!==(a=b[2]("loading",{default:"Loading..."})+"")&&set_data(_,a)},i:noop$2,o:noop$2,d(b){b&&detach(e)}}}function create_if_block$2(o){let e,a,_,b;const _e=[create_if_block_1$2,create_if_block_2$2,create_else_block$1],et=[];function tt(nt,it){return nt[5]===nt[0].selectPlugin?0:nt[5]===nt[0].selectChain&&nt[6]?1:2}return e=tt(o),a=et[e]=_e[e](o),{c(){a.c(),_=empty()},m(nt,it){et[e].m(nt,it),insert(nt,_,it),b=!0},p(nt,it){let ot=e;e=tt(nt),e===ot?et[e].p(nt,it):(group_outros(),transition_out(et[ot],1,1,()=>{et[ot]=null}),check_outros(),a=et[e],a?a.p(nt,it):(a=et[e]=_e[e](nt),a.c()),transition_in(a,1),a.m(_.parentNode,_))},i(nt){b||(transition_in(a),b=!0)},o(nt){transition_out(a),b=!1},d(nt){nt&&detach(_),et[e].d(nt)}}}function create_else_block$1(o){let e,a;return e=new Countdown({props:{data:{label:o[2]("accountCreation.countdown",{default:"Creating Account"})}}}),{c(){create_component(e.$$.fragment)},m(_,b){mount_component(e,_,b),a=!0},p(_,b){const _e={};b&4&&(_e.data={label:_[2]("accountCreation.countdown",{default:"Creating Account"})}),e.$set(_e)},i(_){a||(transition_in(e.$$.fragment,_),a=!0)},o(_){transition_out(e.$$.fragment,_),a=!1},d(_){destroy_component(e,_)}}}function create_if_block_2$2(o){let e,a;return e=new Transition({props:{direction:o[1],$$slots:{default:[create_default_slot_1]},$$scope:{ctx:o}}}),{c(){create_component(e.$$.fragment)},m(_,b){mount_component(e,_,b),a=!0},p(_,b){const _e={};b&2&&(_e.direction=_[1]),b&4194372&&(_e.$$scope={dirty:b,ctx:_}),e.$set(_e)},i(_){a||(transition_in(e.$$.fragment,_),a=!0)},o(_){transition_out(e.$$.fragment,_),a=!1},d(_){destroy_component(e,_)}}}function create_if_block_1$2(o){let e,a;return e=new Transition({props:{direction:o[1],$$slots:{default:[create_default_slot$1]},$$scope:{ctx:o}}}),{c(){create_component(e.$$.fragment)},m(_,b){mount_component(e,_,b),a=!0},p(_,b){const _e={};b&2&&(_e.direction=_[1]),b&4194324&&(_e.$$scope={dirty:b,ctx:_}),e.$set(_e)},i(_){a||(transition_in(e.$$.fragment,_),a=!0)},o(_){transition_out(e.$$.fragment,_),a=!1},d(_){destroy_component(e,_)}}}function create_default_slot_1(o){let e,a;return e=new Blockchain({props:{chains:o[6],title:o[2]("accountCreation.select.chain",{default:"Select a Blockchain"})}}),e.$on("select",o[11]),e.$on("cancel",o[12]),{c(){create_component(e.$$.fragment)},m(_,b){mount_component(e,_,b),a=!0},p(_,b){const _e={};b&64&&(_e.chains=_[6]),b&4&&(_e.title=_[2]("accountCreation.select.chain",{default:"Select a Blockchain"})),e.$set(_e)},i(_){a||(transition_in(e.$$.fragment,_),a=!0)},o(_){transition_out(e.$$.fragment,_),a=!1},d(_){destroy_component(e,_)}}}function create_default_slot$1(o){let e,a;return e=new AccountPlugin({props:{plugins:o[4].accountCreationPlugins,title:o[2]("accountCreation.select.plugin",{default:"Select a Service Provider"})}}),e.$on("select",o[10]),e.$on("cancel",o[13]),{c(){create_component(e.$$.fragment)},m(_,b){mount_component(e,_,b),a=!0},p(_,b){const _e={};b&16&&(_e.plugins=_[4].accountCreationPlugins),b&4&&(_e.title=_[2]("accountCreation.select.plugin",{default:"Select a Service Provider"})),e.$set(_e)},i(_){a||(transition_in(e.$$.fragment,_),a=!0)},o(_){transition_out(e.$$.fragment,_),a=!1},d(_){destroy_component(e,_)}}}function create_fragment$5(o){let e,a,_,b;const _e=[create_if_block$2,create_else_block_1$1],et=[];function tt(nt,it){return nt[3]&&nt[4]?0:1}return e=tt(o),a=et[e]=_e[e](o),{c(){a.c(),_=empty()},m(nt,it){et[e].m(nt,it),insert(nt,_,it),b=!0},p(nt,[it]){let ot=e;e=tt(nt),e===ot?et[e].p(nt,it):(group_outros(),transition_out(et[ot],1,1,()=>{et[ot]=null}),check_outros(),a=et[e],a?a.p(nt,it):(a=et[e]=_e[e](nt),a.c()),transition_in(a,1),a.m(_.parentNode,_))},i(nt){b||(transition_in(a),b=!0)},o(nt){transition_out(a),b=!1},d(nt){nt&&detach(_),et[e].d(nt)}}}function instance$5(o,e,a){let _,b,_e,et,tt,nt,it,ot;component_subscribe(o,transitionDirection,jt=>a(1,_=jt)),component_subscribe(o,backAction,jt=>a(15,b=jt)),component_subscribe(o,accountCreationResponse,jt=>a(16,_e=jt)),component_subscribe(o,props,jt=>a(3,tt=jt)),component_subscribe(o,accountCreationContext,jt=>a(4,nt=jt));const{t:st}=getContext("i18n");component_subscribe(o,st,jt=>a(2,et=jt));let at=!1;const lt=createEventDispatcher();var ut;(function(jt){jt.done="done",jt.selectPlugin="selectPlugin",jt.selectChain="selectChain"})(ut||(ut={}));const ft=derived([accountCreationContext,accountCreationResponse],([jt,Vt])=>{var kt;if(!jt||!Vt)return;const Nt=jt.accountCreationPlugins.find(_t=>_t.id===Vt.pluginId);return!Vt.chain&&((kt=Nt==null?void 0:Nt.config.supportedChains)==null?void 0:kt.length)===1&&(Vt.chain=Nt.config.supportedChains[0].id),Nt});let mt=derived([accountCreationContext,ft],([jt,Vt])=>{if(jt&&Vt){if(Vt.config.supportedChains&&jt.chains)return jt.chains.filter(Nt=>{var kt;return(kt=Vt.config.supportedChains)==null?void 0:kt.find(_t=>_t.id.equals(Nt.id))})}else if(jt)return jt.chains;return[]});component_subscribe(o,mt,jt=>a(6,ot=jt));const ht=accountCreationContext.subscribe(jt=>{jt&&(set_store_value(props,tt.subtitle=et("login.title-app",{appName:jt.appName,default:"Login to {{appName}}"}),tt),jt.accountCreationPlugins.length===1&&set_store_value(accountCreationResponse,_e.pluginId=jt.accountCreationPlugins[0].id,_e),jt.chain?set_store_value(accountCreationResponse,_e.chain=jt.chain.id,_e):jt.chains&&jt.chains.length===1&&set_store_value(accountCreationResponse,_e.chain=jt.chains[0].id,_e))});onMount(()=>{set_store_value(props,tt.title=et("accountCreation.title",{default:"Create Account"}),tt)}),onDestroy(ht);const vt=()=>{at||(at=!0,setTimeout(()=>{lt("complete",_e),backAction.set(void 0)},100))},Et=derived([accountCreationContext,accountCreationResponse,ft,mt],([jt,Vt,Nt,kt])=>{if(!Nt&&(jt!=null&&jt.uiRequirements.requiresPluginSelect))return ut.selectPlugin;let _t=Nt==null?void 0:Nt.config.requiresChainSelect;if(_t!==!1&&(_t=jt==null?void 0:jt.uiRequirements.requiresChainSelect),!Vt.chain&&_t)return ut.selectChain;vt()});component_subscribe(o,Et,jt=>a(5,it=jt));const At=jt=>{set_store_value(accountCreationResponse,_e.pluginId=jt.detail,_e),set_store_value(backAction,b=Ct,b),set_store_value(transitionDirection,_="rtl",_)},Ct=jt=>{set_store_value(accountCreationResponse,_e.pluginId=void 0,_e),set_store_value(backAction,b=void 0,b),set_store_value(transitionDirection,_="ltr",_)},Mt=jt=>{set_store_value(accountCreationResponse,_e.chain=jt.detail,_e),set_store_value(backAction,b=Bt,b),set_store_value(transitionDirection,_="rtl",_)},Bt=jt=>{set_store_value(accountCreationResponse,_e.chain=void 0,_e),set_store_value(backAction,b=Ct,b),set_store_value(transitionDirection,_="ltr",_)};return[ut,_,et,tt,nt,it,ot,st,mt,Et,At,Mt,Bt,()=>{lt("cancel")}]}class CreateAccount extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$5,create_fragment$5,safe_not_equal,{})}}function add_css$3(o){append_styles(o,"svelte-mttle8","button.svelte-mttle8.svelte-mttle8{--button-size:46px;--button-size:var(--space-2xl);position:relative;isolation:isolate;background:var(--header-button-background);border:1px solid var(--header-button-outline);border:none;box-shadow:inset 0 0 0 1px var(--header-button-outline);border-radius:var(--border-radius-inner);cursor:pointer;width:var(--button-size);height:var(--button-size);display:grid;place-content:center;color:var(--header-text-color);transition:transform 80ms ease}button.svelte-mttle8.svelte-mttle8:active{transform:scale(95%);transform-origin:center}@media(hover: hover){button.svelte-mttle8:hover .background.svelte-mttle8{opacity:1}}.background.svelte-mttle8.svelte-mttle8{position:absolute;border-radius:var(--border-radius-inner);inset:0;opacity:0;z-index:-1;transition:opacity 80ms ease;background:var(--header-button-outline)}.visually-hidden.svelte-mttle8.svelte-mttle8{border:0;clip:rect(0 0 0 0);height:auto;margin:0;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap}")}function create_fragment$4(o){let e,a,_,b,_e,et,tt,nt,it,ot;return b=new Icon({props:{name:o[1]}}),{c(){e=element("button"),a=element("span"),_=space(),create_component(b.$$.fragment),_e=space(),et=element("span"),tt=text(o[1]),attr(a,"class","background svelte-mttle8"),attr(et,"class","label visually-hidden svelte-mttle8"),attr(e,"class","svelte-mttle8")},m(st,at){insert(st,e,at),append(e,a),append(e,_),mount_component(b,e,null),append(e,_e),append(e,et),append(et,tt),nt=!0,it||(ot=listen(e,"click",function(){is_function(o[0])&&o[0].apply(this,arguments)}),it=!0)},p(st,[at]){o=st;const lt={};at&2&&(lt.name=o[1]),b.$set(lt),(!nt||at&2)&&set_data(tt,o[1])},i(st){nt||(transition_in(b.$$.fragment,st),nt=!0)},o(st){transition_out(b.$$.fragment,st),nt=!1},d(st){st&&detach(e),destroy_component(b),it=!1,ot()}}}function instance$4(o,e,a){let{onClick:_}=e,{icon:b}=e;return o.$$set=_e=>{"onClick"in _e&&a(0,_=_e.onClick),"icon"in _e&&a(1,b=_e.icon)},[_,b]}class HeaderButton extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$4,create_fragment$4,safe_not_equal,{onClick:0,icon:1},add_css$3)}}function add_css$2(o){append_styles(o,"svelte-ajt3u",".wrapper.svelte-ajt3u{transform-origin:top;overflow:hidden;position:relative;height:var(--container-height);background-color:var(--header-background-color)}.clipped.svelte-ajt3u{clip-path:url(#wave-clip)}.container.svelte-ajt3u{position:absolute;left:0;bottom:0;width:200%;height:100%;transform-origin:bottom}@keyframes svelte-ajt3u-wave-slide{from{transform:translate(0)}to{transform:translate(-50%)}}.wave.svelte-ajt3u{position:absolute;bottom:-2px;opacity:0.9999;transform-origin:bottom}.wave.foreground.svelte-ajt3u{--swell:var(--foreground-swell);--swell-speed:var(--foreground-swell-speed);--swell-delay:var(--foreground-delay)}.wave.midground.svelte-ajt3u{--swell:var(--midground-swell);--swell-speed:var(--midground-swell-speed);--swell-delay:var(--midground-delay)}.wave.background.svelte-ajt3u{--swell:var(--background-swell);--swell-speed:var(--background-swell-speed);--swell-delay:var(--background-delay)}@keyframes svelte-ajt3u-wave-swell{from{transform:scaleY(1)}to{transform:scaleY(var(--swell))}}")}function create_fragment$3(o){let e,a,_,b,_e,et,tt,nt,it,ot,st,at,lt,ut,ft,mt,ht;return{c(){e=element("div"),a=svg_element("svg"),_=svg_element("defs"),b=svg_element("clipPath"),_e=svg_element("path"),et=space(),tt=element("div"),nt=svg_element("svg"),it=svg_element("rect"),ot=space(),st=element("div"),at=svg_element("svg"),lt=svg_element("rect"),ut=space(),ft=element("div"),mt=svg_element("svg"),ht=svg_element("rect"),attr(_e,"d","M 0 300 V 100 Q 100 0 200 100 Q 300 200 400 100 Q 500 0 600 100 Q 700 200 800 100 V 300"),attr(b,"id","wave-clip"),attr(a,"height","0"),attr(a,"width","0"),attr(it,"class","clipped svelte-ajt3u"),attr(it,"height","100%"),attr(it,"width","100%"),attr(it,"fill",backgroundFill),attr(nt,"class","wave background svelte-ajt3u"),attr(nt,"width","100%"),attr(nt,"height",bgHeight+"%"),attr(nt,"viewBox","0 0 800 300"),attr(nt,"preserveAspectRatio","none"),attr(tt,"class","container background svelte-ajt3u"),attr(lt,"class","clipped svelte-ajt3u"),attr(lt,"width","100%"),attr(lt,"height","100%"),attr(lt,"fill",midgroundFill),attr(at,"class","wave midground svelte-ajt3u"),attr(at,"width","100%"),attr(at,"height",mgHeight+"%"),attr(at,"viewBox","0 0 800 300"),attr(at,"preserveAspectRatio","none"),attr(st,"class","container midground svelte-ajt3u"),attr(ht,"class","clipped svelte-ajt3u"),attr(ht,"width","100%"),attr(ht,"height","100%"),attr(ht,"fill",foregroundFill),attr(mt,"class","wave foreground svelte-ajt3u"),attr(mt,"width","100%"),attr(mt,"height",fgHeight+"%"),attr(mt,"viewBox","0 0 800 300"),attr(mt,"preserveAspectRatio","none"),attr(ft,"class","container foreground svelte-ajt3u"),attr(e,"class","wrapper svelte-ajt3u"),set_style(e,"--frequency",frequency+"ms"),set_style(e,"--foreground-speed",fgFrequency+"ms"),set_style(e,"--midground-speed",mgFrequency+"ms"),set_style(e,"--background-speed",bgFrequency+"ms"),set_style(e,"--container-height",containerHeight+"px"),set_style(e,"--motion",motion),set_style(e,"--foreground-swell",fgSwell),set_style(e,"--midground-swell",mgSwell),set_style(e,"--background-swell",bgSwell),set_style(e,"--foreground-swell-speed",fgSwellSpeed+"ms"),set_style(e,"--midground-swell-speed",mgSwellSpeed+"ms"),set_style(e,"--background-swell-speed",bgSwellSpeed+"ms"),set_style(e,"--foreground-delay",fgSwellDelay+"ms"),set_style(e,"--midground-delay",mgSwellDelay+"ms"),set_style(e,"--background-delay",bgSwellDelay+"ms")},m(vt,Et){insert(vt,e,Et),append(e,a),append(a,_),append(_,b),append(b,_e),append(e,et),append(e,tt),append(tt,nt),append(nt,it),append(e,ot),append(e,st),append(st,at),append(at,lt),append(e,ut),append(e,ft),append(ft,mt),append(mt,ht)},p:noop$2,i:noop$2,o:noop$2,d(vt){vt&&detach(e)}}}let motion="linear",frequency=7e3,fgFrequency=1e4,mgFrequency=9500,bgFrequency=8600,containerHeight=25,fgHeight=50,mgHeight=75,bgHeight=100,fgSwell=1.2,mgSwell=1.4,bgSwell=1.3,fgSwellSpeed=3100,mgSwellSpeed=2300,bgSwellSpeed=1e3,fgSwellDelay=9e3,mgSwellDelay=7900,bgSwellDelay=9100;const foregroundFill="var(--wave-foreground-color)",midgroundFill="var(--wave-midground-color)",backgroundFill="var(--wave-background-color)";function instance$3(o){return[]}class HeaderWaves extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$3,create_fragment$3,safe_not_equal,{},add_css$2)}}function add_css$1(o){append_styles(o,"svelte-j6z3r6",".modal-header.svelte-j6z3r6.svelte-j6z3r6{box-sizing:border-box;min-height:var(--header-height);color:var(--header-text-color);background:var(--header-background-color);display:grid;grid-template-columns:1fr auto 1fr;gap:var(--space-s);padding:var(--space-m)}.modal-header.svelte-j6z3r6 .slot.svelte-j6z3r6{display:flex;align-items:center}.modal-header.svelte-j6z3r6 .center.svelte-j6z3r6{flex-direction:column;justify-content:space-around;text-align:center}.modal-header.svelte-j6z3r6 .right.svelte-j6z3r6{justify-content:flex-end}.modal-header.svelte-j6z3r6 .svelte-j6z3r6:is(h2, p){color:var(--header-text-color);margin:0;line-height:1.1em}.modal-header.svelte-j6z3r6 h2.svelte-j6z3r6{font-size:var(--fs-3);font-weight:700}.modal-header.svelte-j6z3r6 p.svelte-j6z3r6{font-size:var(--fs-0)}")}const get_right_slot_changes=o=>({}),get_right_slot_context=o=>({}),get_center_slot_changes=o=>({}),get_center_slot_context=o=>({}),get_left_slot_changes=o=>({}),get_left_slot_context=o=>({});function create_if_block_2$1(o){let e,a;return e=new HeaderButton({props:{icon:"settings",onClick:o[8]}}),{c(){create_component(e.$$.fragment)},m(_,b){mount_component(e,_,b),a=!0},p(_,b){const _e={};b&16&&(_e.onClick=_[8]),e.$set(_e)},i(_){a||(transition_in(e.$$.fragment,_),a=!0)},o(_){transition_out(e.$$.fragment,_),a=!1},d(_){destroy_component(e,_)}}}function create_if_block_1$1(o){let e,a;return e=new HeaderButton({props:{icon:"chevron-left",onClick:o[2]}}),{c(){create_component(e.$$.fragment)},m(_,b){mount_component(e,_,b),a=!0},p(_,b){const _e={};b&4&&(_e.onClick=_[2]),e.$set(_e)},i(_){a||(transition_in(e.$$.fragment,_),a=!0)},o(_){transition_out(e.$$.fragment,_),a=!1},d(_){destroy_component(e,_)}}}function fallback_block_2(o){let e,a,_,b;const _e=[create_if_block_1$1,create_if_block_2$1],et=[];function tt(nt,it){return nt[2]?0:nt[3]?1:-1}return~(e=tt(o))&&(a=et[e]=_e[e](o)),{c(){a&&a.c(),_=empty()},m(nt,it){~e&&et[e].m(nt,it),insert(nt,_,it),b=!0},p(nt,it){let ot=e;e=tt(nt),e===ot?~e&&et[e].p(nt,it):(a&&(group_outros(),transition_out(et[ot],1,1,()=>{et[ot]=null}),check_outros()),~e?(a=et[e],a?a.p(nt,it):(a=et[e]=_e[e](nt),a.c()),transition_in(a,1),a.m(_.parentNode,_)):a=null)},i(nt){b||(transition_in(a),b=!0)},o(nt){transition_out(a),b=!1},d(nt){nt&&detach(_),~e&&et[e].d(nt)}}}function create_if_block$1(o){let e,a;return{c(){e=element("p"),a=text(o[1]),attr(e,"class","svelte-j6z3r6")},m(_,b){insert(_,e,b),append(e,a)},p(_,b){b&2&&set_data(a,_[1])},d(_){_&&detach(e)}}}function fallback_block_1(o){let e,a,_,b,_e=o[1]&&create_if_block$1(o);return{c(){e=element("h2"),a=text(o[0]),_=space(),_e&&_e.c(),b=empty(),attr(e,"class","svelte-j6z3r6")},m(et,tt){insert(et,e,tt),append(e,a),insert(et,_,tt),_e&&_e.m(et,tt),insert(et,b,tt)},p(et,tt){tt&1&&set_data(a,et[0]),et[1]?_e?_e.p(et,tt):(_e=create_if_block$1(et),_e.c(),_e.m(b.parentNode,b)):_e&&(_e.d(1),_e=null)},d(et){et&&(detach(e),detach(_),detach(b)),_e&&_e.d(et)}}}function fallback_block(o){let e,a;return e=new HeaderButton({props:{icon:"close",onClick:o[9]}}),{c(){create_component(e.$$.fragment)},m(_,b){mount_component(e,_,b),a=!0},p:noop$2,i(_){a||(transition_in(e.$$.fragment,_),a=!0)},o(_){transition_out(e.$$.fragment,_),a=!1},d(_){destroy_component(e,_)}}}function create_fragment$2(o){let e,a,_,b,_e,et,tt,nt,it;const ot=o[7].left,st=create_slot(ot,o,o[6],get_left_slot_context),at=st||fallback_block_2(o),lt=o[7].center,ut=create_slot(lt,o,o[6],get_center_slot_context),ft=ut||fallback_block_1(o),mt=o[7].right,ht=create_slot(mt,o,o[6],get_right_slot_context),vt=ht||fallback_block(o);return nt=new HeaderWaves({}),{c(){e=element("div"),a=element("div"),at&&at.c(),_=space(),b=element("div"),ft&&ft.c(),_e=space(),et=element("div"),vt&&vt.c(),tt=space(),create_component(nt.$$.fragment),attr(a,"class","slot left svelte-j6z3r6"),attr(b,"class","slot center svelte-j6z3r6"),attr(et,"class","slot right svelte-j6z3r6"),attr(e,"class","modal-header svelte-j6z3r6")},m(Et,At){insert(Et,e,At),append(e,a),at&&at.m(a,null),append(e,_),append(e,b),ft&&ft.m(b,null),append(e,_e),append(e,et),vt&&vt.m(et,null),insert(Et,tt,At),mount_component(nt,Et,At),it=!0},p(Et,[At]){st?st.p&&(!it||At&64)&&update_slot_base(st,ot,Et,Et[6],it?get_slot_changes(ot,Et[6],At,get_left_slot_changes):get_all_dirty_from_scope(Et[6]),get_left_slot_context):at&&at.p&&(!it||At&28)&&at.p(Et,it?At:-1),ut?ut.p&&(!it||At&64)&&update_slot_base(ut,lt,Et,Et[6],it?get_slot_changes(lt,Et[6],At,get_center_slot_changes):get_all_dirty_from_scope(Et[6]),get_center_slot_context):ft&&ft.p&&(!it||At&3)&&ft.p(Et,it?At:-1),ht&&ht.p&&(!it||At&64)&&update_slot_base(ht,mt,Et,Et[6],it?get_slot_changes(mt,Et[6],At,get_right_slot_changes):get_all_dirty_from_scope(Et[6]),get_right_slot_context)},i(Et){it||(transition_in(at,Et),transition_in(ft,Et),transition_in(vt,Et),transition_in(nt.$$.fragment,Et),it=!0)},o(Et){transition_out(at,Et),transition_out(ft,Et),transition_out(vt,Et),transition_out(nt.$$.fragment,Et),it=!1},d(Et){Et&&(detach(e),detach(tt)),at&&at.d(Et),ft&&ft.d(Et),vt&&vt.d(Et),destroy_component(nt,Et)}}}function instance$2(o,e,a){let _,b,_e;component_subscribe(o,backAction,lt=>a(2,_=lt)),component_subscribe(o,allowSettings,lt=>a(3,b=lt)),component_subscribe(o,transitionDirection,lt=>a(4,_e=lt));let{$$slots:et={},$$scope:tt}=e,{title:nt}=e,{subtitle:it}=e;const ot=createEventDispatcher(),st=()=>{router.push("settings"),set_store_value(transitionDirection,_e="rtl",_e)},at=()=>ot("cancel");return o.$$set=lt=>{"title"in lt&&a(0,nt=lt.title),"subtitle"in lt&&a(1,it=lt.subtitle),"$$scope"in lt&&a(6,tt=lt.$$scope)},[nt,it,_,b,_e,ot,tt,et,st,at]}class Header extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$2,create_fragment$2,safe_not_equal,{title:0,subtitle:1},add_css$1)}}function add_css(o){append_styles(o,"svelte-1ime0ob",`:host dialog.svelte-1ime0ob{color-scheme:light;--body-background-color:white;--body-text-color:var(--color-primary-700);--body-text-color-variant:var(--color-neutral-700);--header-background-color:var(--color-primary-700);--header-text-color:var(--color-primary-50);--header-button-background:var(--header-background-color);--header-button-outline:var(--color-primary-900);--button-text-color:var(--wharf-blue);--button-text-color-active:var(--wharf-blue);--button-outline-active:inset 0 0 0 2px var(--button-text-color);--button-primary-background:var(--color-secondary-200);--button-primary-background-hover:var(--color-secondary-200);--button-primary-background-active:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1)),
      var(--color-secondary-200);--button-primary-outline-hover:inset 0 0 0 1px #00000030,
      inset 0 0 0 1px var(--color-secondary-200);--button-secondary-background:var(--color-custom-1);--button-secondary-background-hover:var(--color-custom-1);--button-secondary-background-active:var(--color-secondary-200);--button-secondary-outline-hover:inset 0 0 0 1px #00000020,
      inset 0 0 0 1px var(--color-secondary-200);--button-outlined-background-active:var(--color-secondary-200);--button-outlined-outline:inset 0 0 0 1px var(--color-secondary-200);--button-outlined-outline-hover:inset 0 0 0 1px #00000020,
      inset 0 0 0 1px var(--color-secondary-200);--input-placeholder-color:var(--color-neutral-500);--input-background-focus:var(--color-neutral-100);--input-border-color:#00000030;--input-border-color-hover:var(--color-custom-5);--input-border-color-focus:var(--wharf-blue);--qr-border-color:inset 0 0 0 1px rgba(0 0 0 / 0.3), inset 0 0 0 1px var(--seafoam-mint);--checkbox-stroke:var(--wharf-blue);--checkbox-fill:var(--reef-turquoise);--error-color:var(--color-error-1);--list-item-background-color-hover:var(--color-custom-9);--list-item-text-color-hover:var(--color-secondary-500);--list-divider-color:#00000010;--text-area-background:var(--swell-mist);--text-area-text-color:#242424;--loading-circle-color:var(--reef-turquoise);--loading-circle-track-color:rgba(0 0 0 / 0.05);--wave-foreground-color:var(--body-background-color);--wave-midground-color:var(--seafoam-mint);--wave-background-color:var(--reef-turquoise)}:host dialog[data-theme=dark].svelte-1ime0ob{color-scheme:dark;--body-background-color:var(--color-primary-990);--body-text-color:white;--body-text-color-variant:var(--color-neutral-300);--header-background-color:var(--color-primary-700);--header-text-color:var(--color-primary-50);--header-button-background:var(--header-background-color);--header-button-outline:var(--color-primary-900);--button-text-color:var(--body-text-color);--button-text-color-active:var(--reef-turquoise);--button-outline-active:inset 0 0 0 2px var(--reef-turquoise);--button-primary-background:var(--color-secondary-500);--button-primary-background-hover:var(--color-secondary-500);--button-primary-background-active:var(--color-custom-2);--button-primary-outline-hover:inset 0 0 0 1px white;--button-secondary-background:var(--color-primary-800);--button-secondary-background-hover:var(--color-primary-800);--button-secondary-background-active:var(--color-primary-900);--button-secondary-outline-hover:inset 0 0 0 1px #ffffff30;--button-outlined-background-active:var(--color-primary-900);--button-outlined-outline:inset 0 0 0 1px #00000030;--button-outlined-outline-hover:inset 0 0 0 1px #ffffff30;--input-placeholder-color:#ffffff75;--input-background-focus:var(--color-custom-4);--input-border-color:#ffffff30;--input-border-color-hover:var(--color-custom-6);--input-border-color-focus:var(--reef-turquoise);--qr-border-color:inset 0 0 0 1px rgba(0 0 0 / 0.3);--checkbox-stroke:var(--reef-turquoise);--checkbox-fill:var(--color-custom-3);--error-color:var(--color-error-3);--list-item-background-color-hover:var(--color-custom-8);--list-item-text-color-hover:var(--color-secondary-400);--list-divider-color:#ffffff10;--text-area-background:var(--color-primary-900);--text-area-text-color:#ffffff;--loading-circle-color:var(--seafoam-mint);--loading-circle-track-color:rgba(0 0 0 / 0.05);--wave-foreground-color:var(--body-background-color);--wave-midground-color:#2f3445;--wave-background-color:#3e4356}@media(prefers-color-scheme: dark){:host dialog.svelte-1ime0ob{color-scheme:dark;--body-background-color:var(--color-primary-990);--body-text-color:white;--body-text-color-variant:var(--color-neutral-300);--header-background-color:var(--color-primary-700);--header-text-color:var(--color-primary-50);--header-button-background:var(--header-background-color);--header-button-outline:var(--color-primary-900);--button-text-color:var(--body-text-color);--button-text-color-active:var(--reef-turquoise);--button-outline-active:inset 0 0 0 2px var(--reef-turquoise);--button-primary-background:var(--color-secondary-500);--button-primary-background-hover:var(--color-secondary-500);--button-primary-background-active:var(--color-custom-2);--button-primary-outline-hover:inset 0 0 0 1px white;--button-secondary-background:var(--color-primary-800);--button-secondary-background-hover:var(--color-primary-800);--button-secondary-background-active:var(--color-primary-900);--button-secondary-outline-hover:inset 0 0 0 1px #ffffff30;--button-outlined-background-active:var(--color-primary-900);--button-outlined-outline:inset 0 0 0 1px #00000030;--button-outlined-outline-hover:inset 0 0 0 1px #ffffff30;--input-placeholder-color:#ffffff75;--input-background-focus:var(--color-custom-4);--input-border-color:#ffffff30;--input-border-color-hover:var(--color-custom-6);--input-border-color-focus:var(--reef-turquoise);--qr-border-color:inset 0 0 0 1px rgba(0 0 0 / 0.3);--checkbox-stroke:var(--reef-turquoise);--checkbox-fill:var(--color-custom-3);--error-color:var(--color-error-3);--list-item-background-color-hover:var(--color-custom-8);--list-item-text-color-hover:var(--color-secondary-400);--list-divider-color:#ffffff10;--text-area-background:var(--color-primary-900);--text-area-text-color:#ffffff;--loading-circle-color:var(--seafoam-mint);--loading-circle-track-color:rgba(0 0 0 / 0.05);--wave-foreground-color:var(--body-background-color);--wave-midground-color:#2f3445;--wave-background-color:#3e4356}:host dialog[data-theme=light].svelte-1ime0ob{color-scheme:light;--body-background-color:white;--body-text-color:var(--color-primary-700);--body-text-color-variant:var(--color-neutral-700);--header-background-color:var(--color-primary-700);--header-text-color:var(--color-primary-50);--header-button-background:var(--header-background-color);--header-button-outline:var(--color-primary-900);--button-text-color:var(--wharf-blue);--button-text-color-active:var(--wharf-blue);--button-outline-active:inset 0 0 0 2px var(--button-text-color);--button-primary-background:var(--color-secondary-200);--button-primary-background-hover:var(--color-secondary-200);--button-primary-background-active:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1)),
        var(--color-secondary-200);--button-primary-outline-hover:inset 0 0 0 1px #00000030,
        inset 0 0 0 1px var(--color-secondary-200);--button-secondary-background:var(--color-custom-1);--button-secondary-background-hover:var(--color-custom-1);--button-secondary-background-active:var(--color-secondary-200);--button-secondary-outline-hover:inset 0 0 0 1px #00000020,
        inset 0 0 0 1px var(--color-secondary-200);--button-outlined-background-active:var(--color-secondary-200);--button-outlined-outline:inset 0 0 0 1px var(--color-secondary-200);--button-outlined-outline-hover:inset 0 0 0 1px #00000020,
        inset 0 0 0 1px var(--color-secondary-200);--input-placeholder-color:var(--color-neutral-500);--input-background-focus:var(--color-neutral-100);--input-border-color:#00000030;--input-border-color-hover:var(--color-custom-5);--input-border-color-focus:var(--wharf-blue);--qr-border-color:inset 0 0 0 1px rgba(0 0 0 / 0.3), inset 0 0 0 1px var(--seafoam-mint);--checkbox-stroke:var(--wharf-blue);--checkbox-fill:var(--reef-turquoise);--error-color:var(--color-error-1);--list-item-background-color-hover:var(--color-custom-9);--list-item-text-color-hover:var(--color-secondary-500);--list-divider-color:#00000010;--text-area-background:var(--swell-mist);--text-area-text-color:#242424;--loading-circle-color:var(--reef-turquoise);--loading-circle-track-color:rgba(0 0 0 / 0.05);--wave-foreground-color:var(--body-background-color);--wave-midground-color:var(--seafoam-mint);--wave-background-color:var(--reef-turquoise)}}:host dialog.svelte-1ime0ob{--wharf-blue:var(--color-primary-700);--reef-turquoise:var(--color-secondary-300);--seafoam-mint:var(--color-secondary-200);--swell-mist:var(--color-accent-50);--color-primary-50:#f6f7f9;--color-primary-100:#ededf1;--color-primary-200:#d6d8e1;--color-primary-300:#b3b8c6;--color-primary-400:#8991a7;--color-primary-500:#6b738c;--color-primary-600:#565c73;--color-primary-700:#494e62;--color-primary-800:#3c4050;--color-primary-900:#363944;--color-primary-990:#252835;--color-secondary-50:#f1fcf9;--color-secondary-100:#cef9ed;--color-secondary-200:#b2f2e1;--color-secondary-300:#7be7ce;--color-secondary-400:#35ccae;--color-secondary-500:#1cb095;--color-secondary-600:#148d79;--color-secondary-700:#147163;--color-secondary-800:#155a51;--color-secondary-900:#164b43;--color-accent-50:#f4faf4;--color-accent-100:#e4f4e5;--color-accent-200:#cae8cc;--color-accent-300:#a1d4a3;--color-accent-400:#70b874;--color-accent-500:#4c9b51;--color-accent-600:#3a7f3e;--color-accent-700:#306534;--color-accent-800:#2a512d;--color-accent-900:#244326;--color-neutral-100:#f7f7f7;--color-neutral-200:#e3e3e3;--color-neutral-300:#c8c8c8;--color-neutral-400:#a4a4a4;--color-neutral-500:#818181;--color-neutral-600:#666666;--color-neutral-700:#515151;--color-neutral-800:#434343;--color-neutral-900:#383838;--color-custom-1:#f3f8f3;--color-custom-2:#415e60;--color-custom-3:#344b4d;--color-custom-4:#3d435a;--color-custom-5:#8ec2b4;--color-custom-6:#777b8b;--color-custom-7:#35ccae10;--color-custom-8:#575c6e;--color-custom-9:#f4f5f7;--color-error-1:#cd3939;--color-error-2:#ff5454;--color-error-3:#ffacac;font-family:system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;--measure:35ch;--fs-0:calc(var(--fs-2) * 0.75);--fs-1:calc(var(--fs-2) * 0.875);--fs-2:var(--wharfkit-font-base, 1rem);--fs-3:calc(var(--fs-2) * 1.25);--ratio:1.5;--space-4xs:calc(var(--space-3xs) / var(--ratio));--space-3xs:calc(var(--space-2xs) / var(--ratio));--space-2xs:calc(var(--space-xs) / var(--ratio));--space-xs:calc(var(--space-s) / var(--ratio));--space-s:calc(var(--space-m) / var(--ratio));--space-m:var(--wharfkit-space-base, 1rem);--space-l:calc(var(--space-m) * var(--ratio));--space-xl:calc(var(--space-l) * var(--ratio));--space-2xl:calc(var(--space-xl) * var(--ratio));--space-3xl:calc(var(--space-2xl) * var(--ratio));--space-4xl:calc(var(--space-3xl) * var(--ratio));--space-5xl:calc(var(--space-4xl) * var(--ratio));--space-6xl:calc(var(--space-5xl) * var(--ratio));--space-7xl:calc(var(--space-6xl) * var(--ratio));--space-8xl:calc(var(--space-7xl) * var(--ratio));--space-9xl:calc(var(--space-8xl) * var(--ratio));--border-radius-outer:1.5rem;--border-radius-inner:0.75rem;--header-height:var(--space-3xl)}.svelte-1ime0ob{box-sizing:border-box}.svelte-1ime0ob::selection{color:var(--wharf-blue);background-color:var(--seafoam-mint)}dialog.svelte-1ime0ob{--margin-top:var(--space-xl);font-family:system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;margin-bottom:0;margin-top:var(--margin-top);margin-inline:auto;border:none !important;border-radius:var(--border-radius-outer);padding:0;width:min(var(--space-7xl), 100vw - var(--space-m));box-shadow:0px 4px 154px rgba(0, 0, 0, 0.35);background:none}dialog.svelte-1ime0ob::backdrop{background:rgba(0, 0, 0, 0.75)}.modal-content.svelte-1ime0ob{--max-modal-content-height:calc(
      100svh - var(--header-height) - var(--margin-top) - var(--margin-top)
  );padding:var(--space-m);padding-bottom:var(--space-l);background-color:var(--body-background-color);overflow:hidden;overflow-y:scroll;max-height:var(--max-modal-content-height);scrollbar-gutter:stable both-edges;scrollbar-color:var(--header-background-color)}.modal-content.svelte-1ime0ob::-webkit-scrollbar{width:2px;background-color:var(--body-background-color)}.modal-content.svelte-1ime0ob::-webkit-scrollbar-thumb{background:var(--header-background-color)}`)}function create_fragment$1(o){let e,a,_,b,_e,et,tt,nt;a=new Header({props:{title:o[2].title,subtitle:o[2].subtitle}}),a.$on("cancel",o[3]);const it=o[6].default,ot=create_slot(it,o,o[5],null);return{c(){e=element("dialog"),create_component(a.$$.fragment),_=space(),b=element("div"),ot&&ot.c(),attr(b,"class","modal-content svelte-1ime0ob"),attr(e,"data-theme",_e=o[1].theme),attr(e,"class","svelte-1ime0ob")},m(st,at){insert(st,e,at),mount_component(a,e,null),append(e,_),append(e,b),ot&&ot.m(b,null),o[7](e),et=!0,tt||(nt=listen(e,"mousedown",self$1(prevent_default(o[4])),{passive:!1,capture:!0}),tt=!0)},p(st,[at]){const lt={};at&4&&(lt.title=st[2].title),at&4&&(lt.subtitle=st[2].subtitle),a.$set(lt),ot&&ot.p&&(!et||at&32)&&update_slot_base(ot,it,st,st[5],et?get_slot_changes(it,st[5],at,null):get_all_dirty_from_scope(st[5]),null),(!et||at&2&&_e!==(_e=st[1].theme))&&attr(e,"data-theme",_e)},i(st){et||(transition_in(a.$$.fragment,st),transition_in(ot,st),et=!0)},o(st){transition_out(a.$$.fragment,st),transition_out(ot,st),et=!1},d(st){st&&detach(e),destroy_component(a),ot&&ot.d(st),o[7](null),tt=!1,nt()}}}function instance$1(o,e,a){let _,b,_e;component_subscribe(o,cancelablePromises,lt=>a(8,_=lt)),component_subscribe(o,settings$5,lt=>a(1,b=lt)),component_subscribe(o,props,lt=>a(2,_e=lt));let{$$slots:et={},$$scope:tt}=e,nt;const it=active.subscribe(lt=>{nt&&(lt&&!nt.open?nt.showModal():!lt&&nt.open&&(nt.close(),resetState()))});onDestroy(it);function ot(){_.map(lt=>lt("Modal closed",!0)),active.set(!1)}function st(lt){var ut=nt.getBoundingClientRect(),ft=ut.top<=lt.clientY&&lt.clientY<=ut.top+ut.height&&ut.left<=lt.clientX&&lt.clientX<=ut.left+ut.width;ft||ot()}document.addEventListener("keydown",lt=>{lt.key==="Escape"&&nt.open&&ot()});function at(lt){binding_callbacks[lt?"unshift":"push"](()=>{nt=lt,a(0,nt)})}return o.$$set=lt=>{"$$scope"in lt&&a(5,tt=lt.$$scope)},[nt,b,_e,ot,st,tt,et,at]}class Modal extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$1,create_fragment$1,safe_not_equal,{},add_css)}}function create_else_block_1(o){let e;return{c(){e=element("p"),e.textContent="Modal inactive"},m(a,_){insert(a,e,_)},p:noop$2,i:noop$2,o:noop$2,d(a){a&&detach(e)}}}function create_if_block(o){let e,a,_,b;const _e=[create_if_block_1,create_if_block_2,create_if_block_3,create_if_block_4,create_if_block_5,create_if_block_6,create_else_block],et=[];function tt(nt,it){return nt[2]?0:nt[0]?1:nt[3].path==="login"?2:nt[3].path==="transact"?3:nt[3].path==="settings"?4:nt[3].path==="create-account"?5:6}return e=tt(o),a=et[e]=_e[e](o),{c(){a.c(),_=empty()},m(nt,it){et[e].m(nt,it),insert(nt,_,it),b=!0},p(nt,it){let ot=e;e=tt(nt),e===ot?et[e].p(nt,it):(group_outros(),transition_out(et[ot],1,1,()=>{et[ot]=null}),check_outros(),a=et[e],a?a.p(nt,it):(a=et[e]=_e[e](nt),a.c()),transition_in(a,1),a.m(_.parentNode,_))},i(nt){b||(transition_in(a),b=!0)},o(nt){transition_out(a),b=!1},d(nt){nt&&detach(_),et[e].d(nt)}}}function create_else_block(o){let e,a;return e=new Countdown({}),{c(){create_component(e.$$.fragment)},m(_,b){mount_component(e,_,b),a=!0},p:noop$2,i(_){a||(transition_in(e.$$.fragment,_),a=!0)},o(_){transition_out(e.$$.fragment,_),a=!1},d(_){destroy_component(e,_)}}}function create_if_block_6(o){let e,a;return e=new CreateAccount({}),e.$on("cancel",o[4]),e.$on("complete",o[5]),{c(){create_component(e.$$.fragment)},m(_,b){mount_component(e,_,b),a=!0},p:noop$2,i(_){a||(transition_in(e.$$.fragment,_),a=!0)},o(_){transition_out(e.$$.fragment,_),a=!1},d(_){destroy_component(e,_)}}}function create_if_block_5(o){let e,a;return e=new Settings({}),e.$on("cancel",o[4]),e.$on("complete",o[5]),{c(){create_component(e.$$.fragment)},m(_,b){mount_component(e,_,b),a=!0},p:noop$2,i(_){a||(transition_in(e.$$.fragment,_),a=!0)},o(_){transition_out(e.$$.fragment,_),a=!1},d(_){destroy_component(e,_)}}}function create_if_block_4(o){let e,a;return e=new Transact({}),e.$on("cancel",o[4]),e.$on("complete",o[5]),{c(){create_component(e.$$.fragment)},m(_,b){mount_component(e,_,b),a=!0},p:noop$2,i(_){a||(transition_in(e.$$.fragment,_),a=!0)},o(_){transition_out(e.$$.fragment,_),a=!1},d(_){destroy_component(e,_)}}}function create_if_block_3(o){let e,a;return e=new Login({}),e.$on("cancel",o[4]),e.$on("complete",o[5]),{c(){create_component(e.$$.fragment)},m(_,b){mount_component(e,_,b),a=!0},p:noop$2,i(_){a||(transition_in(e.$$.fragment,_),a=!0)},o(_){transition_out(e.$$.fragment,_),a=!1},d(_){destroy_component(e,_)}}}function create_if_block_2(o){let e,a;return e=new Prompt({}),e.$on("cancel",o[4]),e.$on("complete",o[5]),{c(){create_component(e.$$.fragment)},m(_,b){mount_component(e,_,b),a=!0},p:noop$2,i(_){a||(transition_in(e.$$.fragment,_),a=!0)},o(_){transition_out(e.$$.fragment,_),a=!1},d(_){destroy_component(e,_)}}}function create_if_block_1(o){let e,a;return e=new Error$1({}),e.$on("cancel",o[4]),e.$on("complete",o[5]),{c(){create_component(e.$$.fragment)},m(_,b){mount_component(e,_,b),a=!0},p:noop$2,i(_){a||(transition_in(e.$$.fragment,_),a=!0)},o(_){transition_out(e.$$.fragment,_),a=!1},d(_){destroy_component(e,_)}}}function create_default_slot(o){let e,a,_,b;const _e=[create_if_block,create_else_block_1],et=[];function tt(nt,it){return nt[1]?0:1}return e=tt(o),a=et[e]=_e[e](o),{c(){a.c(),_=empty()},m(nt,it){et[e].m(nt,it),insert(nt,_,it),b=!0},p(nt,it){let ot=e;e=tt(nt),e===ot?et[e].p(nt,it):(group_outros(),transition_out(et[ot],1,1,()=>{et[ot]=null}),check_outros(),a=et[e],a?a.p(nt,it):(a=et[e]=_e[e](nt),a.c()),transition_in(a,1),a.m(_.parentNode,_))},i(nt){b||(transition_in(a),b=!0)},o(nt){transition_out(a),b=!1},d(nt){nt&&detach(_),et[e].d(nt)}}}function create_fragment(o){let e,a;return e=new Modal({props:{$$slots:{default:[create_default_slot]},$$scope:{ctx:o}}}),{c(){create_component(e.$$.fragment)},m(_,b){mount_component(e,_,b),a=!0},p(_,[b]){const _e={};b&1039&&(_e.$$scope={dirty:b,ctx:_}),e.$set(_e)},i(_){a||(transition_in(e.$$.fragment,_),a=!0)},o(_){transition_out(e.$$.fragment,_),a=!1},d(_){destroy_component(e,_)}}}function instance(o,e,a){let _,b,_e,et,tt,nt;component_subscribe(o,prompt,lt=>a(0,_=lt)),component_subscribe(o,accountCreationPromise,lt=>a(7,b=lt)),component_subscribe(o,loginPromise,lt=>a(8,_e=lt)),component_subscribe(o,active,lt=>a(1,et=lt)),component_subscribe(o,errorDetails,lt=>a(2,tt=lt)),component_subscribe(o,router,lt=>a(3,nt=lt));let{i18n:it}=e;setContext("i18n",it);function ot({detail:lt}){_e&&_e.reject(lt),_&&(_.reject(lt),prompt.reset()),router.back()}function st({detail:lt}){_e&&_e.resolve(lt),b&&b.resolve(lt),_&&(_.resolve(lt),prompt.reset(),router.back())}const at=router.subscribe(lt=>{lt&&lt.path==="login"?allowSettings.set(!0):allowSettings.set(!1)});return onDestroy(at),o.$$set=lt=>{"i18n"in lt&&a(6,it=lt.i18n)},[_,et,tt,nt,ot,st,it]}let App$1=class extends SvelteComponent{constructor(e){super(),init$1(this,e,instance,create_fragment,safe_not_equal,{i18n:6})}};var H$1=Object.defineProperty,q=Object.defineProperties,B$1=Object.getOwnPropertyDescriptors,S$1=Object.getOwnPropertySymbols,A$1=Object.prototype.hasOwnProperty,N$1=Object.prototype.propertyIsEnumerable,j$1=(o,e,a)=>e in o?H$1(o,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):o[e]=a,n$1=(o,e)=>{for(var a in e||(e={}))A$1.call(e,a)&&j$1(o,a,e[a]);if(S$1)for(var a of S$1(e))N$1.call(e,a)&&j$1(o,a,e[a]);return o},u$2=(o,e)=>q(o,B$1(e)),T$1=(o,e)=>{var a={};for(var _ in o)A$1.call(o,_)&&e.indexOf(_)<0&&(a[_]=o[_]);if(o!=null&&S$1)for(var _ of S$1(o))e.indexOf(_)<0&&N$1.call(o,_)&&(a[_]=o[_]);return a},C$1=["error","warn","debug"],z$1=({logger:o=console,level:e=C$1[1],prefix:a="[i18n]: "})=>C$1.reduce((_,b,_e)=>u$2(n$1({},_),{[b]:et=>C$1.indexOf(e)>=_e&&o[b](`${a}${et}`)}),{}),d$1=z$1({}),V$1=o=>{d$1=o},F$1=o=>{var e=o,{parser:a,key:_,params:b,translations:_e,locale:et,fallbackLocale:tt}=e,nt=T$1(e,["parser","key","params","translations","locale","fallbackLocale"]);if(!_)return d$1.warn(`No translation key provided ('${et}' locale). Skipping translation...`),"";if(!et)return d$1.warn(`No locale provided for '${_}' key. Skipping translation...`),"";let it=(_e[et]||{})[_];return tt&&it===void 0&&(it=(_e[tt]||{})[_]),nt.hasOwnProperty("fallbackValue")&&it===void 0?nt.fallbackValue:a.parse(it,b,et,_)},h$1=(...o)=>o.length?o.filter(e=>!!e).map(e=>{let a=`${e}`.toLowerCase();try{let[_]=Intl.Collator.supportedLocalesOf(e);if(!_)throw new Error;a=_}catch{d$1.warn(`'${e}' locale is non-standard.`)}return a}):[],x$1=(o,e,a)=>Object.keys(o||{}).reduce((_,b)=>{let _e=o[b],et=a?`${a}.${b}`:`${b}`;return e&&Array.isArray(_e)?u$2(n$1({},_),{[et]:_e.map(tt=>x$1(tt,e))}):_e&&typeof _e=="object"?n$1(n$1({},_),x$1(_e,e,et)):u$2(n$1({},_),{[et]:_e})},{}),G$1=o=>o.reduce((e,{key:a,data:_,locale:b})=>{if(!_)return e;let[_e]=h$1(b),et=u$2(n$1({},e[_e]||{}),{[a]:_});return u$2(n$1({},e),{[_e]:et})},{}),E$1=async o=>{try{let e=await Promise.all(o.map(a=>{var _=a,{loader:b}=_,_e=T$1(_,["loader"]);return new Promise(async et=>{let tt;try{tt=await b()}catch(nt){d$1.error(`Failed to load translation. Verify your '${_e.locale}' > '${_e.key}' Loader.`),d$1.error(nt)}et(u$2(n$1({loader:b},_e),{data:tt}))})}));return G$1(e)}catch(e){d$1.error(e)}return{}},W$1=o=>e=>{try{if(typeof e=="string")return e===o;if(typeof e=="object")return e.test(o)}catch{d$1.error("Invalid route config!")}return!1},O$1=(o,e)=>{let a=!0;try{a=Object.keys(o).filter(_=>o[_]!==void 0).every(_=>o[_]===e[_])}catch{}return a},D$2=1e3*60*60*24,K=class{constructor(o){this.cachedAt=0,this.loadedKeys={},this.currentRoute=writable(),this.config=writable(),this.isLoading=writable(!1),this.promises=new Set,this.loading={subscribe:this.isLoading.subscribe,toPromise:(e,a)=>{let{fallbackLocale:_}=get_store_value(this.config),b=Array.from(this.promises).filter(_e=>{let et=O$1({locale:h$1(e)[0],route:a},_e);return _&&(et=et||O$1({locale:h$1(_)[0],route:a},_e)),et}).map(({promise:_e})=>_e);return Promise.all(b)},get:()=>get_store_value(this.isLoading)},this.privateRawTranslations=writable({}),this.rawTranslations={subscribe:this.privateRawTranslations.subscribe,get:()=>get_store_value(this.rawTranslations)},this.privateTranslations=writable({}),this.translations={subscribe:this.privateTranslations.subscribe,get:()=>get_store_value(this.translations)},this.locales=u$2(n$1({},derived([this.config,this.privateTranslations],([e,a])=>{if(!e)return[];let{loaders:_=[]}=e,b=_.map(({locale:et})=>et),_e=Object.keys(a).map(et=>et);return Array.from(new Set([...h$1(...b),...h$1(..._e)]))},[])),{get:()=>get_store_value(this.locales)}),this.internalLocale=writable(),this.loaderTrigger=derived([this.internalLocale,this.currentRoute],([e,a],_)=>{var b,_e;e!==void 0&&a!==void 0&&!(e===((b=get_store_value(this.loaderTrigger))==null?void 0:b[0])&&a===((_e=get_store_value(this.loaderTrigger))==null?void 0:_e[1]))&&(d$1.debug("Triggering translation load..."),_([e,a]))},[]),this.localeHelper=writable(),this.locale={subscribe:this.localeHelper.subscribe,forceSet:this.localeHelper.set,set:this.internalLocale.set,update:this.internalLocale.update,get:()=>get_store_value(this.locale)},this.initialized=derived([this.locale,this.currentRoute,this.privateTranslations],([e,a,_],b)=>{get_store_value(this.initialized)||b(e!==void 0&&a!==void 0&&!!Object.keys(_).length)}),this.translation=derived([this.privateTranslations,this.locale,this.isLoading],([e,a,_],b)=>{let _e=e[a];_e&&Object.keys(_e).length&&!_&&b(_e)},{}),this.t=u$2(n$1({},derived([this.config,this.translation],e=>{var[a]=e,_=a,{parser:b,fallbackLocale:_e}=_,et=T$1(_,["parser","fallbackLocale"]);return(tt,...nt)=>F$1(n$1({parser:b,key:tt,params:nt,translations:this.translations.get(),locale:this.locale.get(),fallbackLocale:_e},et.hasOwnProperty("fallbackValue")?{fallbackValue:et.fallbackValue}:{}))})),{get:(e,...a)=>get_store_value(this.t)(e,...a)}),this.l=u$2(n$1({},derived([this.config,this.translations],e=>{var[a,..._]=e,b=a,{parser:_e,fallbackLocale:et}=b,tt=T$1(b,["parser","fallbackLocale"]),[nt]=_;return(it,ot,...st)=>F$1(n$1({parser:_e,key:ot,params:st,translations:nt,locale:it,fallbackLocale:et},tt.hasOwnProperty("fallbackValue")?{fallbackValue:tt.fallbackValue}:{}))})),{get:(e,a,..._)=>get_store_value(this.l)(e,a,..._)}),this.getLocale=e=>{let{fallbackLocale:a}=get_store_value(this.config)||{},_=e||a;if(!_)return;let b=this.locales.get();return b.find(_e=>h$1(_).includes(_e))||b.find(_e=>h$1(a).includes(_e))},this.setLocale=e=>{if(e&&e!==get_store_value(this.internalLocale))return d$1.debug(`Setting '${e}' locale.`),this.internalLocale.set(e),this.loading.toPromise(e,get_store_value(this.currentRoute))},this.setRoute=e=>{if(e!==get_store_value(this.currentRoute)){d$1.debug(`Setting '${e}' route.`),this.currentRoute.set(e);let a=get_store_value(this.internalLocale);return this.loading.toPromise(a,e)}},this.loadConfig=async e=>{await this.configLoader(e)},this.getTranslationProps=async(e=this.locale.get(),a=get_store_value(this.currentRoute))=>{let _=get_store_value(this.config);if(!_||!e)return[];let b=this.translations.get(),{loaders:_e,fallbackLocale:et="",cache:tt=D$2}=_||{},nt=Number.isNaN(+tt)?D$2:+tt;this.cachedAt?Date.now()>nt+this.cachedAt&&(d$1.debug("Refreshing cache."),this.loadedKeys={},this.cachedAt=0):(d$1.debug("Setting cache timestamp."),this.cachedAt=Date.now());let[it,ot]=h$1(e,et),st=b[it],at=b[ot],lt=(_e||[]).map(ut=>{var ft=ut,{locale:mt}=ft,ht=T$1(ft,["locale"]);return u$2(n$1({},ht),{locale:h$1(mt)[0]})}).filter(({routes:ut})=>!ut||(ut||[]).some(W$1(a))).filter(({key:ut,locale:ft})=>ft===it&&(!st||!(this.loadedKeys[it]||[]).includes(ut))||et&&ft===ot&&(!at||!(this.loadedKeys[ot]||[]).includes(ut)));if(lt.length){this.isLoading.set(!0),d$1.debug("Fetching translations...");let ut=await E$1(lt);this.isLoading.set(!1);let ft=Object.keys(ut).reduce((ht,vt)=>u$2(n$1({},ht),{[vt]:Object.keys(ut[vt])}),{}),mt=lt.filter(({key:ht,locale:vt})=>(ft[vt]||[]).some(Et=>`${Et}`.startsWith(ht))).reduce((ht,{key:vt,locale:Et})=>u$2(n$1({},ht),{[Et]:[...ht[Et]||[],vt]}),{});return[ut,mt]}return[]},this.addTranslations=(e,a)=>{if(!e)return;let _=get_store_value(this.config),{preprocess:b}=_||{};d$1.debug("Adding translations...");let _e=Object.keys(e||{});this.privateRawTranslations.update(et=>_e.reduce((tt,nt)=>u$2(n$1({},tt),{[nt]:n$1(n$1({},tt[nt]||{}),e[nt])}),et)),this.privateTranslations.update(et=>_e.reduce((tt,nt)=>{let it=!0,ot=e[nt];return typeof b=="function"&&(ot=b(ot)),(typeof b=="function"||b==="none")&&(it=!1),u$2(n$1({},tt),{[nt]:n$1(n$1({},tt[nt]||{}),it?x$1(ot,b==="preserveArrays"):ot)})},et)),_e.forEach(et=>{let tt=Object.keys(e[et]).map(nt=>`${nt}`.split(".")[0]);a&&(tt=a[et]),this.loadedKeys[et]=Array.from(new Set([...this.loadedKeys[et]||[],...tt||[]]))})},this.loader=async([e,a])=>{let _=this.getLocale(e)||void 0;d$1.debug(`Adding loader promise for '${_}' locale and '${a}' route.`);let b=(async()=>{let _e=await this.getTranslationProps(_,a);_e.length&&this.addTranslations(..._e)})();this.promises.add({locale:_,route:a,promise:b}),b.then(()=>{_&&this.locale.get()!==_&&this.locale.forceSet(_)})},this.loadTranslations=(e,a=get_store_value(this.currentRoute)||"")=>{let _=this.getLocale(e);if(_)return this.setRoute(a),this.setLocale(_),this.loading.toPromise(_,a)},this.loaderTrigger.subscribe(this.loader),this.isLoading.subscribe(async e=>{e&&this.promises.size&&(await this.loading.toPromise(),this.promises.clear(),d$1.debug("Loader promises have been purged."))}),o&&this.loadConfig(o)}async configLoader(o){if(!o)return d$1.error("No config provided!");let e=o,{initLocale:a,fallbackLocale:_,translations:b,log:_e}=e,et=T$1(e,["initLocale","fallbackLocale","translations","log"]);_e&&V$1(z$1(_e)),[a]=h$1(a),[_]=h$1(_),d$1.debug("Setting config."),this.config.set(n$1({initLocale:a,fallbackLocale:_,translations:b},et)),b&&this.addTranslations(b),a&&await this.loadTranslations(a)}},R=Object.defineProperty,A=Object.defineProperties,E=Object.getOwnPropertyDescriptors,x=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,p$1=(o,e,a)=>e in o?R(o,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):o[e]=a,u$1=(o,e)=>{for(var a in e||(e={}))C.call(e,a)&&p$1(o,a,e[a]);if(x)for(var a of x(e))O.call(e,a)&&p$1(o,a,e[a]);return o},T=(o,e)=>A(o,E(e)),c=(o,e)=>{var a={};for(var _ in o)C.call(o,_)&&e.indexOf(_)<0&&(a[_]=o[_]);if(o!=null&&x)for(var _ of x(o))e.indexOf(_)<0&&O.call(o,_)&&(a[_]=o[_]);return a},j=(o,e)=>{for(var a in e)R(o,a,{get:e[a],enumerable:!0})},h={};j(h,{ago:()=>Q,currency:()=>W,date:()=>G,eq:()=>$,gt:()=>L,gte:()=>z,lt:()=>V,lte:()=>v,ne:()=>S,number:()=>B});var g=(o,e)=>{let{modifierDefaults:a}=e||{},{[o]:_}=a||{};return _||{}},$=({value:o,options:e=[],defaultValue:a=""})=>(e.find(({key:_})=>`${_}`.toLowerCase()===`${o}`.toLowerCase())||{}).value||a,S=({value:o,options:e=[],defaultValue:a=""})=>(e.find(({key:_})=>`${_}`.toLowerCase()!==`${o}`.toLowerCase())||{}).value||a,V=({value:o,options:e=[],defaultValue:a=""})=>(e.sort((_,b)=>+_.key-+b.key).find(({key:_})=>+o<+_)||{}).value||a,L=({value:o,options:e=[],defaultValue:a=""})=>(e.sort((_,b)=>+b.key-+_.key).find(({key:_})=>+o>+_)||{}).value||a,v=({value:o,options:e=[],defaultValue:a=""})=>$({value:o,options:e,defaultValue:V({value:o,options:e,defaultValue:a})}),z=({value:o,options:e=[],defaultValue:a=""})=>$({value:o,options:e,defaultValue:L({value:o,options:e,defaultValue:a})}),B=({value:o,props:e,defaultValue:a="",locale:_="",parserOptions:b})=>{if(!_)return"";let _e=g("number",b),{maximumFractionDigits:et}=_e,tt=c(_e,["maximumFractionDigits"]),nt=(e==null?void 0:e.number)||{},{maximumFractionDigits:it=et||2}=nt,ot=c(nt,["maximumFractionDigits"]);return new Intl.NumberFormat(_,u$1(T(u$1({},tt),{maximumFractionDigits:it}),ot)).format(+o||+a)},G=({value:o,props:e,defaultValue:a="",locale:_="",parserOptions:b})=>{if(!_)return"";let _e=c(g("date",b),[]),et=c((e==null?void 0:e.date)||{},[]);return new Intl.DateTimeFormat(_,u$1(u$1({},_e),et)).format(+o||+a)},D$1=[{key:"second",multiplier:1e3},{key:"minute",multiplier:60},{key:"hour",multiplier:60},{key:"day",multiplier:24},{key:"week",multiplier:7},{key:"month",multiplier:13/3},{key:"year",multiplier:12}],N=(o="",e="")=>new RegExp(`^${o}s?$`).test(e),H=o=>D$1.indexOf(D$1.find(({key:e})=>N(e,o))),J=(o,e)=>D$1.reduce(([a,_],{key:b,multiplier:_e},et)=>{if(N(_,e))return[a,_];if(!_||et===H(_)+1){let tt=Math.round(a/_e);if(!_||Math.abs(tt)>=1||e!=="auto")return[tt,b]}return[a,_]},[o,""]),Q=({value:o,defaultValue:e="",locale:a="",props:_,parserOptions:b})=>{if(!a)return"";let _e=g("ago",b),{format:et,numeric:tt}=_e,nt=c(_e,["format","numeric"]),it=(_==null?void 0:_.ago)||{},{format:ot=et||"auto",numeric:st=tt||"auto"}=it,at=c(it,["format","numeric"]),lt=+o||+e,ut=J(lt,ot);return new Intl.RelativeTimeFormat(a,u$1(T(u$1({},nt),{numeric:st}),at)).format(...ut)},W=({value:o,defaultValue:e="",locale:a="",props:_,parserOptions:b})=>{if(!a)return"";let _e=g("currency",b),{ratio:et,currency:tt}=_e,nt=c(_e,["ratio","currency"]),it=(_==null?void 0:_.currency)||{},{ratio:ot=et||1,currency:st=tt}=it,at=c(it,["ratio","currency"]);return new Intl.NumberFormat(a,u$1(T(u$1({},nt),{style:"currency",currency:st}),at)).format(ot*(o||e))},X=o=>typeof o=="string"&&/{{(?:(?!{{|}}).)+}}/.test(o),F=o=>typeof o=="string"?o.replace(/\\(?=:|;|{|})/g,""):o,Y=({value:o,props:e,payload:a,parserOptions:_,locale:b})=>`${o}`.replace(/{{\s*(?:(?!{{|}}).)+\s*}}/g,_e=>{let et=F(`${_e.match(/(?!{|\s).+?(?!\\[:;]).(?=\s*(?:[:;]|}}$))/)}`),tt=a==null?void 0:a[et],[,nt=""]=_e.match(/.+?(?!\\;).;\s*default\s*:\s*([^\s:;].+?(?:\\[:;]|[^;}])*)(?=\s*(?:;|}}$))/i)||[];nt=nt||(a==null?void 0:a.default)||"";let[,it=""]=_e.match(/{{\s*(?:[^;]|(?:\\;))+\s*(?:(?!\\:).[:])\s*(?!\s)((?:\\;|[^;])+?)(?=\s*(?:[;]|}}$))/i)||[];if(tt===void 0&&it!=="ne")return nt;let ot=!!it,{customModifiers:st}=_||{},at=u$1(u$1({},h),st||{});it=Object.keys(at).includes(it)?it:"eq";let lt=at[it],ut=(_e.match(/[^\s:;{](?:[^;]|\\[;])+[^:;}]/gi)||[]).reduce((ft,mt,ht)=>{if(ht>0){let vt=F(`${mt.match(/(?:(?:\\:)|[^:])+/)}`.trim()),Et=`${mt.match(/(?:(?:\\:)|[^:])+$/)}`.trimStart();if(vt&&vt!=="default"&&Et)return[...ft,{key:vt,value:Et}]}return ft},[]);return!ot&&!ut.length?tt:lt({value:tt,options:ut,props:e,defaultValue:nt,locale:b,parserOptions:_})}),U=({value:o,props:e,payload:a,parserOptions:_,locale:b})=>{if(X(o)){let _e=Y({value:o,payload:a,props:e,parserOptions:_,locale:b});return U({value:_e,payload:a,props:e,parserOptions:_,locale:b})}else return F(o)},Z=o=>({parse:(e,[a,_],b,_e)=>(a!=null&&a.default&&e===void 0&&(e=a.default),e===void 0&&(e=_e),U({value:e,payload:a,props:_,parserOptions:o,locale:b}))}),rt=Z,n=Object.defineProperty,M=Object.defineProperties,u=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable,i=(o,e,a)=>e in o?n(o,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):o[e]=a,p=(o,e)=>{for(var a in e||(e={}))f.call(e,a)&&i(o,a,e[a]);if(s)for(var a of s(e))P.call(e,a)&&i(o,a,e[a]);return o},d=(o,e)=>M(o,u(e)),l=(o,e)=>{var a={};for(var _ in o)f.call(o,_)&&e.indexOf(_)<0&&(a[_]=o[_]);if(o!=null&&s)for(var _ of s(o))e.indexOf(_)<0&&P.call(o,_)&&(a[_]=o[_]);return a},m=o=>{var e=o,{parserOptions:a={}}=e,_=l(e,["parserOptions"]);return d(p({},_),{parser:rt(a)})},t=class extends K{constructor(o){super(o&&m(o)),this.loadConfig=e=>super.configLoader(m(e))}},D=t,accept$4="Accept",cancel$4="Cancel",close$4="Close",decline$4="Decline",error$4={title:"Error",subtitle:"An Error happened."},loading$4="Loading",login$4={complete:"Awaiting response from your wallet.",enter:{account:"Enter account name",lookup:"Lookup Account",not_found:"Unable to find account"},select:{account:"Select an available account",blockchain:"Select which blockchain to login with",wallet:"Connect your wallet to login",no_accounts:"No accounts found",no_match:"No accounts found matching {{publicKey}}"},title:"Login","title-app":"{{appName}}"},transact$4={title:"Transact",subtitle:" ",processing:"Processing transaction",signing:"Signing transaction",signed:"Transaction signed",broadcasting:"Broadcasting transaction",broadcasted:"Transaction sent"},settings$4={title:"Settings",language:{title:"Language"},theme:{title:"Theme",automatic:"Automatic",light:"Light",dark:"Dark"},animations:{title:"Animations",enabled:"Enabled",disabled:"Disabled"},github:"Report an issue on Github",about:{title:"About",version:"Version {{version}}",author:"An open source SDK for Antelope-based blockchains created by Greymass and made possible through funding by the Antelope Coalition (EOS, Telos, UX, and WAX).",link:"Read more about Wharf"}},en$2={accept:accept$4,cancel:cancel$4,close:close$4,decline:decline$4,error:error$4,loading:loading$4,login:login$4,transact:transact$4,settings:settings$4},accept$3="",cancel$3="",close$3="",decline$3="",error$3$1={title:"",subtitle:" ."},loading$3="...",login$3$1={complete:"",enter:{account:"Enter account name",lookup:"Lookup Account",not_found:"Unable to find account"},select:{account:" ",blockchain:" ",wallet:" ",no_match:"{{publicKey}}     ."},title:"","title-app":"{{appName}} "},transact$3$1={title:"",subtitle:" ",processing:"Performing transaction...",signing:" ",signed:" ",broadcasting:" ",broadcasted:" "},settings$3={title:"",language:{title:""},theme:{title:"",automatic:"",light:" ",dark:" "},animations:{title:"",enabled:"",disabled:""},github:"Github  ",about:{title:"",version:"{{version}} ",author:"",link:"   "}},ko$2={accept:accept$3,cancel:cancel$3,close:close$3,decline:decline$3,error:error$3$1,loading:loading$3,login:login$3$1,transact:transact$3$1,settings:settings$3},accept$2="",cancel$2="",close$2="",decline$2="",error$2$1={title:"",subtitle:""},loading$2="",login$2$1={complete:"",enter:{account:"Enter account name",lookup:"Lookup Account",not_found:"Unable to find account"},select:{account:"",blockchain:"",wallet:"",no_match:" {{publicKey}} "},title:"","title-app":" {{appName}}"},transact$2$1={title:"",subtitle:" ",processing:"Performing transaction...",signing:"",signed:"",broadcasting:"",broadcasted:""},settings$2={title:"",language:{title:""},theme:{title:"",automatic:"",light:"",dark:""},animations:{title:"",enabled:"",disabled:""},github:" Github ",about:{title:"",version:" {{version}}",author:"",link:""}},zh_hans$1={accept:accept$2,cancel:cancel$2,close:close$2,decline:decline$2,error:error$2$1,loading:loading$2,login:login$2$1,transact:transact$2$1,settings:settings$2},accept$1="",cancel$1$1="",close$1="",decline$1="",error$1$1={title:"",subtitle:""},loading$1="",login$1$1={complete:"",enter:{account:"Enter account name",lookup:"Lookup Account",not_found:"Unable to find account"},select:{account:"",blockchain:"",wallet:"",no_match:" {{publicKey}} "},title:"","title-app":" {{appName}}"},transact$1$1={title:"",subtitle:"",processing:"Performing transaction...",signing:"",signed:"",broadcasting:"",broadcasted:""},settings$1={title:"",language:{title:""},theme:{title:"",automatic:"",light:"",dark:""},animations:{title:"",enabled:"",disabled:""},github:" Github ",about:{title:"",version:" {{version}}",author:"",link:""}},zh_hant$1={accept:accept$1,cancel:cancel$1$1,close:close$1,decline:decline$1,error:error$1$1,loading:loading$1,login:login$1$1,transact:transact$1$1,settings:settings$1},accept="Kabul Et",cancel$5="ptal",close="Kapat",decline="Reddet",error$5={title:"Hata",subtitle:"Bir Hata meydana geldi."},loading="Ykleniyor...",login$5={complete:"Czdannzdan yant bekleniyor.",enter:{account:"Hesap adn girin",lookup:"Hesap Ara",not_found:"Hesap bulunamad"},select:{account:"Mevcut bir hesap sein",blockchain:"Hangi blockchain ile giri yaplacan sein",wallet:"Czdannz balayarak giri yapn",no_match:"{{publicKey}} ile eleen hesap bulunamad"},title:"Giri","title-app":"{{appName}}"},transact$5={title:"lem",subtitle:" ",processing:"lem yaplyor...",signing:"lem imzalanyor",signed:"lem imzaland",broadcasting:"lem yaynlanyor",broadcasted:"lem gnderildi"},settings={title:"Ayarlar",language:{title:"Dil"},theme:{title:"Tema",automatic:"Otomatik",light:"Ak",dark:"Koyu"},animations:{title:"Animasyonlar",enabled:"Etkin",disabled:"Devre D"},github:"Github zerinde bir sorun bildir",about:{title:"Hakknda",version:"Srm {{version}}",author:"Greymass tarafndan oluturulan ve Antelope tabanl blockchain'ler iin bir ak kaynak SDK olan Wharf', Antelope Koalisyonu (EOS, Telos, UX ve WAX) tarafndan finanse edilerek mmkn klnmtr.",link:"Wharf hakknda daha fazla bilgi edinin"}},tr={accept,cancel:cancel$5,close,decline,error:error$5,loading,login:login$5,transact:transact$5,settings};const translations={en:{...lang,...en$2},ko:{...lang,...ko$2},"zh-Hans":{...lang,...zh_hans$1},"zh-Hant":{...lang,...zh_hant$1},tr:{...lang,...tr}},ZH_LANGUAGE_MAPPINGS={zh:"zh-Hans","zh-cn":"zh-Hans","zh-sg":"zh-Hans","zh-hans":"zh-Hans","zh-tw":"zh-Hant","zh-hk":"zh-Hant","zh-hant":"zh-Hant"},config$1={initLocale:"en",translations},makeLocalization=(o={})=>{const e={...config$1,...o};return new D(e)};function mapChineseLanguage(o){if(!o)return"zh-Hans";const e=o.toLowerCase().trim();return ZH_LANGUAGE_MAPPINGS[e]||"zh-Hans"}new D(config$1);const defaultWebRendererOptions={id:"wharfkit-web-ui",minimal:!1},getNavigatorLanguage=()=>{const o=navigator.languages&&navigator.languages.length?navigator.languages[0]:navigator.language||"en";let e=o.split("-")[0];return e==="zh"&&(e=mapChineseLanguage(o)),e};class WebRenderer extends AbstractUserInterface{constructor(e=defaultWebRendererOptions){super(),this.elementId="wharfkit-web-ui",this.initialized=!1,this.logging=!1,this.minimal=!1,this.addCancelablePromise=a=>cancelablePromises.update(_=>[..._,a]),this.options=e,typeof document<"u"&&this.initialize()}initialize(){if(this.initialized)return;const{options:e}=this;this.element=document.createElement("div"),this.elementId=e.id||defaultWebRendererOptions.id,this.element.id=this.elementId,this.shadow=this.element.attachShadow({mode:"closed"}),this.i18n=makeLocalization();let a=getNavigatorLanguage();this.minimal=e.minimal||!1;const _=get_store_value(settings$5).language;_&&(a=_),e.logging!==void 0&&(this.logging=e.logging),this.log(`Setting language to ${a}`),settings$5.update(b=>({...b,language:a})),this.i18n.loadTranslations(a),document.readyState==="complete"||document.readyState==="interactive"?this.appendDialogElement():document.addEventListener("DOMContentLoaded",()=>this.appendDialogElement()),this.initialized=!0}appendDialogElement(){const e=document.getElementById(this.elementId);if(!this.element||!this.shadow)throw new Error("The WebRenderer is not initialized. Call the initialize method first.");e||(document.body.append(this.element),document.removeEventListener("DOMContentLoaded",()=>this.appendDialogElement()),new App$1({target:this.shadow,props:{i18n:this.i18n}}))}log(...e){this.logging&&console.log("WebRenderer, LOG:",...e)}async login(e){this.log("login",e),prompt.set(void 0),router.push("login");const a=cancelable(new Promise((_,b)=>loginPromise.set({reject:b,resolve:_})));return this.addCancelablePromise(a.cancel),loginContext.set(e),await a,this.minimal&&active.set(!1),a}async onError(e){const a=e instanceof Canceled,_=a&&e.silent===!0;this.log("onError",{isCancelable:a,isSilent:_,error:e}),!_&&(this.minimal?active.set(!1):(active.set(!0),errorDetails.set(String(e)),router.push("error")))}async onAccountCreate(e){this.log("onAccountCreate",e),active.set(!0),router.push("create-account");const a=cancelable(new Promise((_,b)=>accountCreationPromise.set({reject:b,resolve:_})));return this.addCancelablePromise(a.cancel),accountCreationContext.set(e),a}async onAccountCreateComplete(){this.log("onAccountCreateComplete"),active.set(!1),resetState()}async onLogin(){this.log("onLogin"),active.set(!0),props.update(e=>({...e,title:this.i18n.t.get("login.title",{default:"Login"}),subtitle:""})),router.push("login")}async onLoginComplete(){this.log("onLoginResult"),active.set(!1),resetState()}async onTransact(){this.log("onTransact"),this.minimal||active.set(!0),props.update(e=>({...e,title:this.i18n.t.get("transact.title",{default:"Transact"}),subtitle:""})),router.push("transact")}async onTransactComplete(){this.log("onTransactResult"),resetState(),active.set(!1)}async onSign(){this.log("onSign")}async onSignComplete(){this.log("onSignComplete")}async onBroadcast(){this.log("onBroadcast")}async onBroadcastComplete(){this.log("onBroadcastComplete")}prompt(e){this.log("prompt",e),(!this.minimal||this.minimal&&!e.optional)&&(active.set(!0),router.push("prompt"));const a=cancelable(new Promise((_,b)=>{prompt.set({args:e,resolve:_,reject:b})}),_=>{throw _});return this.addCancelablePromise(a.cancel),a}status(e){this.minimal||active.set(!0),props.update(a=>({...a,subtitle:e}))}translate(e,a,_){return _?this.i18n.t.get(`${_}.${e}`,a):this.i18n.t.get(e,a)}addTranslations(e){const a={},_=new Set;for(const[b,_e]of Object.entries(e)){if(!b){this.log("Skipping invalid language: empty or null");continue}let et=b;b.startsWith("zh")&&(et=mapChineseLanguage(b)),_.has(et)?this.log(`Skipping duplicate language: ${b} (normalized to ${et})`):(a[et]=_e,_.add(et))}this.i18n.addTranslations(a)}}WebRenderer.version="1.4.2";const byteToHex=[];for(let o=0;o<256;++o)byteToHex.push((o+256).toString(16).slice(1));function unsafeStringify(o,e=0){return(byteToHex[o[e+0]]+byteToHex[o[e+1]]+byteToHex[o[e+2]]+byteToHex[o[e+3]]+"-"+byteToHex[o[e+4]]+byteToHex[o[e+5]]+"-"+byteToHex[o[e+6]]+byteToHex[o[e+7]]+"-"+byteToHex[o[e+8]]+byteToHex[o[e+9]]+"-"+byteToHex[o[e+10]]+byteToHex[o[e+11]]+byteToHex[o[e+12]]+byteToHex[o[e+13]]+byteToHex[o[e+14]]+byteToHex[o[e+15]]).toLowerCase()}let getRandomValues;const rnds8=new Uint8Array(16);function rng(){if(!getRandomValues){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");getRandomValues=crypto.getRandomValues.bind(crypto)}return getRandomValues(rnds8)}const randomUUID=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),native={randomUUID};function v4(o,e,a){var b;if(native.randomUUID&&!e&&!o)return native.randomUUID();o=o||{};const _=o.random??((b=o.rng)==null?void 0:b.call(o))??rng();if(_.length<16)throw new Error("Random bytes length must be >= 16");if(_[6]=_[6]&15|64,_[8]=_[8]&63|128,e){if(a=a||0,a<0||a+16>e.length)throw new RangeError(`UUID byte range ${a}:${a+15} is out of buffer bounds`);for(let _e=0;_e<16;++_e)e[a+_e]=_[_e];return e}return unsafeStringify(_)}const AWS_CLOUDWATCH_CATEGORY="Logging",USER_AGENT_HEADER$1="x-amz-user-agent",NO_HUBCALLBACK_PROVIDED_EXCEPTION="NoHubcallbackProvidedException";var LogType;(function(o){o.DEBUG="DEBUG",o.ERROR="ERROR",o.INFO="INFO",o.WARN="WARN",o.VERBOSE="VERBOSE",o.NONE="NONE"})(LogType||(LogType={}));const LOG_LEVELS={VERBOSE:1,DEBUG:2,INFO:3,WARN:4,ERROR:5,NONE:6};class ConsoleLogger{constructor(e,a=LogType.WARN){this.name=e,this.level=a,this._pluggables=[]}_padding(e){return e<10?"0"+e:""+e}_ts(){const e=new Date;return[this._padding(e.getMinutes()),this._padding(e.getSeconds())].join(":")+"."+e.getMilliseconds()}configure(e){return e?(this._config=e,this._config):this._config}_log(e,...a){let _=this.level;ConsoleLogger.LOG_LEVEL&&(_=ConsoleLogger.LOG_LEVEL),typeof window<"u"&&window.LOG_LEVEL&&(_=window.LOG_LEVEL);const b=LOG_LEVELS[_];if(!(LOG_LEVELS[e]>=b))return;let et=console.log.bind(console);e===LogType.ERROR&&console.error&&(et=console.error.bind(console)),e===LogType.WARN&&console.warn&&(et=console.warn.bind(console)),ConsoleLogger.BIND_ALL_LOG_LEVELS&&(e===LogType.INFO&&console.info&&(et=console.info.bind(console)),e===LogType.DEBUG&&console.debug&&(et=console.debug.bind(console)));const tt=`[${e}] ${this._ts()} ${this.name}`;let nt="";if(a.length===1&&typeof a[0]=="string")nt=`${tt} - ${a[0]}`,et(nt);else if(a.length===1)nt=`${tt} ${a[0]}`,et(tt,a[0]);else if(typeof a[0]=="string"){let it=a.slice(1);it.length===1&&(it=it[0]),nt=`${tt} - ${a[0]} ${it}`,et(`${tt} - ${a[0]}`,it)}else nt=`${tt} ${a}`,et(tt,a);for(const it of this._pluggables){const ot={message:nt,timestamp:Date.now()};it.pushLogs([ot])}}log(...e){this._log(LogType.INFO,...e)}info(...e){this._log(LogType.INFO,...e)}warn(...e){this._log(LogType.WARN,...e)}error(...e){this._log(LogType.ERROR,...e)}debug(...e){this._log(LogType.DEBUG,...e)}verbose(...e){this._log(LogType.VERBOSE,...e)}addPluggable(e){e&&e.getCategoryName()===AWS_CLOUDWATCH_CATEGORY&&(this._pluggables.push(e),e.configure(this._config))}listPluggables(){return this._pluggables}}ConsoleLogger.LOG_LEVEL=null;ConsoleLogger.BIND_ALL_LOG_LEVELS=!1;class AmplifyError extends Error{constructor({message:e,name:a,recoverySuggestion:_,underlyingError:b,metadata:_e}){if(super(e),this.name=a,this.underlyingError=b,this.recoverySuggestion=_,_e){const{extendedRequestId:et,httpStatusCode:tt,requestId:nt}=_e;this.metadata={extendedRequestId:et,httpStatusCode:tt,requestId:nt}}this.constructor=AmplifyError,Object.setPrototypeOf(this,AmplifyError.prototype)}}var AmplifyErrorCode;(function(o){o.NoEndpointId="NoEndpointId",o.PlatformNotSupported="PlatformNotSupported",o.Unknown="Unknown",o.NetworkError="NetworkError"})(AmplifyErrorCode||(AmplifyErrorCode={}));const createAssertionFunction=(o,e=AmplifyError)=>(a,_,b)=>{const{message:_e,recoverySuggestion:et}=o[_];if(!a)throw new e({name:_,message:b?`${_e} ${b}`:_e,recoverySuggestion:et})},AMPLIFY_SYMBOL=typeof Symbol<"u"?Symbol("amplify_default"):"@@amplify_default",logger$9=new ConsoleLogger("Hub");class HubClass{constructor(e){this.listeners=new Map,this.protectedChannels=["core","auth","api","analytics","interactions","pubsub","storage","ui","xr"],this.name=e}_remove(e,a){const _=this.listeners.get(e);if(!_){logger$9.warn(`No listeners for ${e}`);return}this.listeners.set(e,[..._.filter(({callback:b})=>b!==a)])}dispatch(e,a,_,b){typeof e=="string"&&this.protectedChannels.indexOf(e)>-1&&(b===AMPLIFY_SYMBOL||logger$9.warn(`WARNING: ${e} is protected and dispatching on it can have unintended consequences`));const _e={channel:e,payload:{...a},source:_,patternInfo:[]};try{this._toListeners(_e)}catch(et){logger$9.error(et)}}listen(e,a,_="noname"){let b;if(typeof a!="function")throw new AmplifyError({name:NO_HUBCALLBACK_PROVIDED_EXCEPTION,message:"No callback supplied to Hub"});b=a;let _e=this.listeners.get(e);return _e||(_e=[],this.listeners.set(e,_e)),_e.push({name:_,callback:b}),()=>{this._remove(e,b)}}_toListeners(e){const{channel:a,payload:_}=e,b=this.listeners.get(a);b&&b.forEach(_e=>{logger$9.debug(`Dispatching to ${a} with `,_);try{_e.callback(e)}catch(et){logger$9.error(et)}})}}const Hub=new HubClass("__default__"),getBtoa=()=>{if(typeof window<"u"&&typeof window.btoa=="function")return window.btoa;if(typeof btoa=="function")return btoa;throw new AmplifyError({name:"Base64EncoderError",message:"Cannot resolve the `btoa` function from the environment."})},getAtob=()=>{if(typeof window<"u"&&typeof window.atob=="function")return window.atob;if(typeof atob=="function")return atob;throw new AmplifyError({name:"Base64EncoderError",message:"Cannot resolve the `atob` function from the environment."})},base64Decoder={convert(o,e){let a=o;return e!=null&&e.urlSafe&&(a=a.replace(/-/g,"+").replace(/_/g,"/")),getAtob()(a)}};var AuthConfigurationErrorCode;(function(o){o.AuthTokenConfigException="AuthTokenConfigException",o.AuthUserPoolAndIdentityPoolException="AuthUserPoolAndIdentityPoolException",o.AuthUserPoolException="AuthUserPoolException",o.InvalidIdentityPoolIdException="InvalidIdentityPoolIdException",o.OAuthNotConfigureException="OAuthNotConfigureException"})(AuthConfigurationErrorCode||(AuthConfigurationErrorCode={}));const authConfigurationErrorMap={[AuthConfigurationErrorCode.AuthTokenConfigException]:{message:"Auth Token Provider not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app."},[AuthConfigurationErrorCode.AuthUserPoolAndIdentityPoolException]:{message:"Auth UserPool or IdentityPool not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app with UserPoolId and IdentityPoolId."},[AuthConfigurationErrorCode.AuthUserPoolException]:{message:"Auth UserPool not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app with userPoolId and userPoolClientId."},[AuthConfigurationErrorCode.InvalidIdentityPoolIdException]:{message:"Invalid identity pool id provided.",recoverySuggestion:"Make sure a valid identityPoolId is given in the config."},[AuthConfigurationErrorCode.OAuthNotConfigureException]:{message:"oauth param not configured.",recoverySuggestion:"Make sure to call Amplify.configure with oauth parameter in your app."}},assert$1=createAssertionFunction(authConfigurationErrorMap);function assertTokenProviderConfig(o){let e=!0;o?e=!!o.userPoolId&&!!o.userPoolClientId:e=!1,assert$1(e,AuthConfigurationErrorCode.AuthUserPoolException)}function assertIdentityPoolIdConfig(o){const e=!!(o!=null&&o.identityPoolId);assert$1(e,AuthConfigurationErrorCode.InvalidIdentityPoolIdException)}function decodeJWT(o){const e=o.split(".");if(e.length!==3)throw new Error("Invalid token");try{const _=e[1].replace(/-/g,"+").replace(/_/g,"/"),b=decodeURIComponent(base64Decoder.convert(_).split("").map(et=>`%${`00${et.charCodeAt(0).toString(16)}`.slice(-2)}`).join("")),_e=JSON.parse(b);return{toString:()=>o,payload:_e}}catch{throw new Error("Invalid token payload")}}const isNonRetryableError=o=>o&&o["nonRetryable"],logger$8=new ConsoleLogger("retryUtil");async function retry(o,e,a,_){if(typeof o!="function")throw Error("functionToRetry must be a function");return new Promise(async(b,_e)=>{let et=0,tt=!1,nt=()=>{},it;for(;!tt;){et++,logger$8.debug(`${o.name} attempt #${et} with this vars: ${JSON.stringify(e)}`);try{b(await o(...e));return}catch(ot){if(it=ot,logger$8.debug(`error on ${o.name}`,ot),isNonRetryableError(ot)){logger$8.debug(`${o.name} non retryable error`,ot),_e(ot);return}const st=a(et,e,ot);if(logger$8.debug(`${o.name} retrying in ${st} ms`),st===!1||tt){_e(ot);return}else await new Promise(at=>{nt=at,setTimeout(nt,st)})}}_e(it)})}const deepFreeze=o=>{const e=Reflect.ownKeys(o);for(const a of e){const _=o[a];(_&&typeof _=="object"||typeof _=="function")&&deepFreeze(_)}return Object.freeze(o)},logger$7=new ConsoleLogger("parseAWSExports"),authTypeMapping={API_KEY:"apiKey",AWS_IAM:"iam",AMAZON_COGNITO_USER_POOLS:"userPool",OPENID_CONNECT:"oidc",NONE:"none",AWS_LAMBDA:"lambda",LAMBDA:"lambda"},parseAWSExports=(o={})=>{var Ht,Wt,Ut,Rt,$t,Ft;if(!Object.prototype.hasOwnProperty.call(o,"aws_project_region"))throw new AmplifyError({name:"InvalidParameterException",message:"Invalid config parameter.",recoverySuggestion:"Ensure passing the config object imported from  `amplifyconfiguration.json`."});const{aws_appsync_apiKey:e,aws_appsync_authenticationType:a,aws_appsync_graphqlEndpoint:_,aws_appsync_region:b,aws_bots_config:_e,aws_cognito_identity_pool_id:et,aws_cognito_sign_up_verification_method:tt,aws_cognito_mfa_configuration:nt,aws_cognito_mfa_types:it,aws_cognito_password_protection_settings:ot,aws_cognito_verification_mechanisms:st,aws_cognito_signup_attributes:at,aws_cognito_social_providers:lt,aws_cognito_username_attributes:ut,aws_mandatory_sign_in:ft,aws_mobile_analytics_app_id:mt,aws_mobile_analytics_app_region:ht,aws_user_files_s3_bucket:vt,aws_user_files_s3_bucket_region:Et,aws_user_files_s3_dangerously_connect_to_http_endpoint_for_testing:At,aws_user_pools_id:Ct,aws_user_pools_web_client_id:Mt,geo:Bt,oauth:Lt,predictions:jt,aws_cloud_logic_custom:Vt,Notifications:Nt,modelIntrospection:kt}=o,_t={};mt&&(_t.Analytics={Pinpoint:{appId:mt,region:ht}});const{InAppMessaging:ct,Push:dt}=Nt??{};if(ct!=null&&ct.AWSPinpoint||dt!=null&&dt.AWSPinpoint){if(ct!=null&&ct.AWSPinpoint){const{appId:Kt,region:Dt}=ct.AWSPinpoint;_t.Notifications={InAppMessaging:{Pinpoint:{appId:Kt,region:Dt}}}}if(dt!=null&&dt.AWSPinpoint){const{appId:Kt,region:Dt}=dt.AWSPinpoint;_t.Notifications={..._t.Notifications,PushNotification:{Pinpoint:{appId:Kt,region:Dt}}}}}if(Array.isArray(_e)&&(_t.Interactions={LexV1:Object.fromEntries(_e.map(Kt=>[Kt.name,Kt]))}),_){const Kt=authTypeMapping[a];Kt||logger$7.debug(`Invalid authentication type ${a}. Falling back to IAM.`),_t.API={GraphQL:{endpoint:_,apiKey:e,region:b,defaultAuthMode:Kt??"iam"}},kt&&(_t.API.GraphQL.modelIntrospection=kt)}const wt=nt?{status:nt&&nt.toLowerCase(),totpEnabled:(it==null?void 0:it.includes("TOTP"))??!1,smsEnabled:(it==null?void 0:it.includes("SMS"))??!1}:void 0,gt=ot?{minLength:ot.passwordPolicyMinLength,requireLowercase:((Ht=ot.passwordPolicyCharacters)==null?void 0:Ht.includes("REQUIRES_LOWERCASE"))??!1,requireUppercase:((Wt=ot.passwordPolicyCharacters)==null?void 0:Wt.includes("REQUIRES_UPPERCASE"))??!1,requireNumbers:((Ut=ot.passwordPolicyCharacters)==null?void 0:Ut.includes("REQUIRES_NUMBERS"))??!1,requireSpecialCharacters:((Rt=ot.passwordPolicyCharacters)==null?void 0:Rt.includes("REQUIRES_SYMBOLS"))??!1}:void 0,xt=Array.from(new Set([...st??[],...at??[]])).reduce((Kt,Dt)=>({...Kt,[Dt.toLowerCase()]:{required:!0}}),{}),yt=(ut==null?void 0:ut.includes("EMAIL"))??!1,St=(ut==null?void 0:ut.includes("PHONE_NUMBER"))??!1;(et||Ct)&&(_t.Auth={Cognito:{identityPoolId:et,allowGuestAccess:ft!=="enable",signUpVerificationMethod:tt,userAttributes:xt,userPoolClientId:Mt,userPoolId:Ct,mfa:wt,passwordFormat:gt,loginWith:{username:!(yt||St),email:yt,phone:St}}});const pt=Lt?Object.keys(Lt).length>0:!1,Tt=lt?lt.length>0:!1;if(_t.Auth&&pt&&(_t.Auth.Cognito.loginWith={..._t.Auth.Cognito.loginWith,oauth:{...getOAuthConfig(Lt),...Tt&&{providers:parseSocialProviders(lt)}}}),vt&&(_t.Storage={S3:{bucket:vt,region:Et,dangerouslyConnectToHttpEndpointForTesting:At}}),Bt){const{amazon_location_service:Kt}=Bt;_t.Geo={LocationService:{maps:Kt.maps,geofenceCollections:Kt.geofenceCollections,searchIndices:Kt.search_indices,region:Kt.region}}}if(Vt&&(_t.API={..._t.API,REST:Vt.reduce((Kt,Dt)=>{const{name:Ot,endpoint:Gt,region:Jt,service:er}=Dt;return{...Kt,[Ot]:{endpoint:Gt,...er?{service:er}:void 0,...Jt?{region:Jt}:void 0}}},{})}),jt){const{VoiceId:Kt}=((Ft=($t=jt==null?void 0:jt.convert)==null?void 0:$t.speechGenerator)==null?void 0:Ft.defaults)??{};_t.Predictions=Kt?{...jt,convert:{...jt.convert,speechGenerator:{...jt.convert.speechGenerator,defaults:{voiceId:Kt}}}}:jt}return _t},getRedirectUrl=o=>(o==null?void 0:o.split(","))??[],getOAuthConfig=({domain:o,scope:e,redirectSignIn:a,redirectSignOut:_,responseType:b})=>({domain:o,scopes:e,redirectSignIn:getRedirectUrl(a),redirectSignOut:getRedirectUrl(_),responseType:b}),parseSocialProviders=o=>o.map(e=>{const a=e.toLowerCase();return a.charAt(0).toUpperCase()+a.slice(1)}),ADD_OAUTH_LISTENER=Symbol("oauth-listener");function isAmplifyOutputs(o){const{version:e}=o;return e?e.startsWith("1"):!1}function parseStorage(o){if(!o)return;const{bucket_name:e,aws_region:a,buckets:_}=o;return{S3:{bucket:e,region:a,buckets:_&&createBucketInfoMap(_)}}}function parseAuth(o){if(!o)return;const{user_pool_id:e,user_pool_client_id:a,identity_pool_id:_,password_policy:b,mfa_configuration:_e,mfa_methods:et,unauthenticated_identities_enabled:tt,oauth:nt,username_attributes:it,standard_required_attributes:ot,groups:st}=o,at={Cognito:{userPoolId:e,userPoolClientId:a,groups:st}};return _&&(at.Cognito={...at.Cognito,identityPoolId:_}),b&&(at.Cognito.passwordFormat={requireLowercase:b.require_lowercase,requireNumbers:b.require_numbers,requireUppercase:b.require_uppercase,requireSpecialCharacters:b.require_symbols,minLength:b.min_length??6}),_e&&(at.Cognito.mfa={status:getMfaStatus(_e),smsEnabled:et==null?void 0:et.includes("SMS"),totpEnabled:et==null?void 0:et.includes("TOTP")}),tt&&(at.Cognito.allowGuestAccess=tt),nt&&(at.Cognito.loginWith={oauth:{domain:nt.domain,redirectSignIn:nt.redirect_sign_in_uri,redirectSignOut:nt.redirect_sign_out_uri,responseType:nt.response_type==="token"?"token":"code",scopes:nt.scopes,providers:getOAuthProviders(nt.identity_providers)}}),it&&(at.Cognito.loginWith={...at.Cognito.loginWith,email:it.includes("email"),phone:it.includes("phone_number"),username:it.includes("username")}),ot&&(at.Cognito.userAttributes=ot.reduce((lt,ut)=>({...lt,[ut]:{required:!0}}),{})),at}function parseAnalytics(o){if(!(o!=null&&o.amazon_pinpoint))return;const{amazon_pinpoint:e}=o;return{Pinpoint:{appId:e.app_id,region:e.aws_region}}}function parseGeo(o){if(!o)return;const{aws_region:e,geofence_collections:a,maps:_,search_indices:b}=o;return{LocationService:{region:e,searchIndices:b,geofenceCollections:a,maps:_}}}function parseData(o){if(!o)return;const{aws_region:e,default_authorization_type:a,url:_,api_key:b,model_introspection:_e}=o;return{GraphQL:{endpoint:_,defaultAuthMode:getGraphQLAuthMode(a),region:e,apiKey:b,modelIntrospection:_e}}}function parseCustom(o){if(!(o!=null&&o.events))return;const{url:e,aws_region:a,api_key:_,default_authorization_type:b}=o.events;return{Events:{endpoint:e,defaultAuthMode:getGraphQLAuthMode(b),region:a,apiKey:_}}}function parseNotifications(o){if(!o)return;const{aws_region:e,channels:a,amazon_pinpoint_app_id:_}=o,b=a.includes("IN_APP_MESSAGING"),_e=a.includes("APNS")||a.includes("FCM");if(!(b||_e))return;const et={};return b&&(et.InAppMessaging={Pinpoint:{appId:_,region:e}}),_e&&(et.PushNotification={Pinpoint:{appId:_,region:e}}),et}function parseAmplifyOutputs(o){const e={};if(o.storage&&(e.Storage=parseStorage(o.storage)),o.auth&&(e.Auth=parseAuth(o.auth)),o.analytics&&(e.Analytics=parseAnalytics(o.analytics)),o.geo&&(e.Geo=parseGeo(o.geo)),o.data&&(e.API=parseData(o.data)),o.custom){const a=parseCustom(o.custom);a&&"Events"in a&&(e.API={...e.API,...a})}return o.notifications&&(e.Notifications=parseNotifications(o.notifications)),e}const authModeNames={AMAZON_COGNITO_USER_POOLS:"userPool",API_KEY:"apiKey",AWS_IAM:"iam",AWS_LAMBDA:"lambda",OPENID_CONNECT:"oidc"};function getGraphQLAuthMode(o){return authModeNames[o]}const providerNames={GOOGLE:"Google",LOGIN_WITH_AMAZON:"Amazon",FACEBOOK:"Facebook",SIGN_IN_WITH_APPLE:"Apple"};function getOAuthProviders(o=[]){return o.reduce((e,a)=>(providerNames[a]!==void 0&&e.push(providerNames[a]),e),[])}function getMfaStatus(o){return o==="OPTIONAL"?"optional":o==="REQUIRED"?"on":"off"}function createBucketInfoMap(o){const e={};return o.forEach(({name:a,bucket_name:_,aws_region:b,paths:_e})=>{if(a in e)throw new Error(`Duplicate friendly name found: ${a}. Name must be unique.`);const et=_e?Object.entries(_e).reduce((tt,[nt,it])=>(it!==void 0&&(tt[nt]=it),tt),{}):void 0;e[a]={bucketName:_,region:b,paths:et}}),e}const parseAmplifyConfig=o=>Object.keys(o).some(e=>e.startsWith("aws_"))?parseAWSExports(o):isAmplifyOutputs(o)?parseAmplifyOutputs(o):o;var BLOCK_SIZE=64,DIGEST_LENGTH=32,KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],MAX_HASHABLE_LENGTH=Math.pow(2,53)-1,RawSha256=function(){function o(){this.state=Int32Array.from(INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return o.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var a=0,_=e.byteLength;if(this.bytesHashed+=_,this.bytesHashed*8>MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;_>0;)this.buffer[this.bufferLength++]=e[a++],_--,this.bufferLength===BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},o.prototype.digest=function(){if(!this.finished){var e=this.bytesHashed*8,a=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),_=this.bufferLength;if(a.setUint8(this.bufferLength++,128),_%BLOCK_SIZE>=BLOCK_SIZE-8){for(var b=this.bufferLength;b<BLOCK_SIZE;b++)a.setUint8(b,0);this.hashBuffer(),this.bufferLength=0}for(var b=this.bufferLength;b<BLOCK_SIZE-8;b++)a.setUint8(b,0);a.setUint32(BLOCK_SIZE-8,Math.floor(e/4294967296),!0),a.setUint32(BLOCK_SIZE-4,e),this.hashBuffer(),this.finished=!0}for(var _e=new Uint8Array(DIGEST_LENGTH),b=0;b<8;b++)_e[b*4]=this.state[b]>>>24&255,_e[b*4+1]=this.state[b]>>>16&255,_e[b*4+2]=this.state[b]>>>8&255,_e[b*4+3]=this.state[b]>>>0&255;return _e},o.prototype.hashBuffer=function(){for(var e=this,a=e.buffer,_=e.state,b=_[0],_e=_[1],et=_[2],tt=_[3],nt=_[4],it=_[5],ot=_[6],st=_[7],at=0;at<BLOCK_SIZE;at++){if(at<16)this.temp[at]=(a[at*4]&255)<<24|(a[at*4+1]&255)<<16|(a[at*4+2]&255)<<8|a[at*4+3]&255;else{var lt=this.temp[at-2],ut=(lt>>>17|lt<<15)^(lt>>>19|lt<<13)^lt>>>10;lt=this.temp[at-15];var ft=(lt>>>7|lt<<25)^(lt>>>18|lt<<14)^lt>>>3;this.temp[at]=(ut+this.temp[at-7]|0)+(ft+this.temp[at-16]|0)}var mt=(((nt>>>6|nt<<26)^(nt>>>11|nt<<21)^(nt>>>25|nt<<7))+(nt&it^~nt&ot)|0)+(st+(KEY[at]+this.temp[at]|0)|0)|0,ht=((b>>>2|b<<30)^(b>>>13|b<<19)^(b>>>22|b<<10))+(b&_e^b&et^_e&et)|0;st=ot,ot=it,it=nt,nt=tt+mt|0,tt=et,et=_e,_e=b,b=mt+ht|0}_[0]+=b,_[1]+=_e,_[2]+=et,_[3]+=tt,_[4]+=nt,_[5]+=it,_[6]+=ot,_[7]+=st},o}();const fromUtf8$2=o=>new TextEncoder().encode(o);var fromUtf8$1=typeof Buffer<"u"&&Buffer.from?function(o){return Buffer.from(o,"utf8")}:fromUtf8$2;function convertToBuffer(o){return o instanceof Uint8Array?o:typeof o=="string"?fromUtf8$1(o):ArrayBuffer.isView(o)?new Uint8Array(o.buffer,o.byteOffset,o.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(o)}function isEmptyData(o){return typeof o=="string"?o.length===0:o.byteLength===0}var Sha256=function(){function o(e){this.secret=e,this.hash=new RawSha256,this.reset()}return o.prototype.update=function(e){if(!(isEmptyData(e)||this.error))try{this.hash.update(convertToBuffer(e))}catch(a){this.error=a}},o.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},o.prototype.digest=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2,this.digestSync()]})})},o.prototype.reset=function(){if(this.hash=new RawSha256,this.secret){this.outer=new RawSha256;var e=bufferFromSecret(this.secret),a=new Uint8Array(BLOCK_SIZE);a.set(e);for(var _=0;_<BLOCK_SIZE;_++)e[_]^=54,a[_]^=92;this.hash.update(e),this.outer.update(a);for(var _=0;_<e.byteLength;_++)e[_]=0}},o}();function bufferFromSecret(o){var e=convertToBuffer(o);if(e.byteLength>BLOCK_SIZE){var a=new RawSha256;a.update(e),e=a.digest()}var _=new Uint8Array(BLOCK_SIZE);return _.set(e),_}const SHORT_TO_HEX={};for(let o=0;o<256;o++){let e=o.toString(16).toLowerCase();e.length===1&&(e=`0${e}`),SHORT_TO_HEX[o]=e}function toHex(o){let e="";for(let a=0;a<o.byteLength;a++)e+=SHORT_TO_HEX[o[a]];return e}var Framework;(function(o){o.WebUnknown="0",o.React="1",o.NextJs="2",o.Angular="3",o.VueJs="4",o.Nuxt="5",o.Svelte="6",o.ServerSideUnknown="100",o.ReactSSR="101",o.NextJsSSR="102",o.AngularSSR="103",o.VueJsSSR="104",o.NuxtSSR="105",o.SvelteSSR="106",o.ReactNative="201",o.Expo="202"})(Framework||(Framework={}));var Category;(function(o){o.AI="ai",o.API="api",o.Auth="auth",o.Analytics="analytics",o.DataStore="datastore",o.Geo="geo",o.InAppMessaging="inappmessaging",o.Interactions="interactions",o.Predictions="predictions",o.PubSub="pubsub",o.PushNotification="pushnotification",o.Storage="storage"})(Category||(Category={}));var AiAction$1;(function(o){o.CreateConversation="1",o.GetConversation="2",o.ListConversations="3",o.DeleteConversation="4",o.SendMessage="5",o.ListMessages="6",o.OnMessage="7",o.Generation="8",o.UpdateConversation="9"})(AiAction$1||(AiAction$1={}));var AnalyticsAction;(function(o){o.Record="1",o.IdentifyUser="2"})(AnalyticsAction||(AnalyticsAction={}));var ApiAction;(function(o){o.GraphQl="1",o.Get="2",o.Post="3",o.Put="4",o.Patch="5",o.Del="6",o.Head="7"})(ApiAction||(ApiAction={}));var AuthAction;(function(o){o.SignUp="1",o.ConfirmSignUp="2",o.ResendSignUpCode="3",o.SignIn="4",o.FetchMFAPreference="6",o.UpdateMFAPreference="7",o.SetUpTOTP="10",o.VerifyTOTPSetup="11",o.ConfirmSignIn="12",o.DeleteUserAttributes="15",o.DeleteUser="16",o.UpdateUserAttributes="17",o.FetchUserAttributes="18",o.ConfirmUserAttribute="22",o.SignOut="26",o.UpdatePassword="27",o.ResetPassword="28",o.ConfirmResetPassword="29",o.FederatedSignIn="30",o.RememberDevice="32",o.ForgetDevice="33",o.FetchDevices="34",o.SendUserAttributeVerificationCode="35",o.SignInWithRedirect="36",o.StartWebAuthnRegistration="37",o.CompleteWebAuthnRegistration="38",o.ListWebAuthnCredentials="39",o.DeleteWebAuthnCredential="40"})(AuthAction||(AuthAction={}));var DataStoreAction;(function(o){o.Subscribe="1",o.GraphQl="2"})(DataStoreAction||(DataStoreAction={}));var GeoAction;(function(o){o.SearchByText="0",o.SearchByCoordinates="1",o.SearchForSuggestions="2",o.SearchByPlaceId="3",o.SaveGeofences="4",o.GetGeofence="5",o.ListGeofences="6",o.DeleteGeofences="7"})(GeoAction||(GeoAction={}));var InAppMessagingAction;(function(o){o.SyncMessages="1",o.IdentifyUser="2",o.NotifyMessageInteraction="3"})(InAppMessagingAction||(InAppMessagingAction={}));var InteractionsAction;(function(o){o.None="0"})(InteractionsAction||(InteractionsAction={}));var PredictionsAction;(function(o){o.Convert="1",o.Identify="2",o.Interpret="3"})(PredictionsAction||(PredictionsAction={}));var PubSubAction;(function(o){o.Subscribe="1"})(PubSubAction||(PubSubAction={}));var PushNotificationAction;(function(o){o.InitializePushNotifications="1",o.IdentifyUser="2"})(PushNotificationAction||(PushNotificationAction={}));var StorageAction;(function(o){o.UploadData="1",o.DownloadData="2",o.List="3",o.Copy="4",o.Remove="5",o.GetProperties="6",o.GetUrl="7",o.GetDataAccess="8",o.ListCallerAccessGrants="9"})(StorageAction||(StorageAction={}));const version$1="6.15.9",globalExists=()=>typeof global$1<"u",windowExists=()=>typeof window<"u",documentExists=()=>typeof document<"u",processExists=()=>typeof process$1$1<"u",keyPrefixMatch=(o,e)=>!!Object.keys(o).find(a=>a.startsWith(e));var define_process_env_default$2={};function reactWebDetect(){const o=_=>_.startsWith("_react")||_.startsWith("__react"),e=_=>Object.keys(_).find(o),a=()=>Array.from(document.querySelectorAll("[id]"));return documentExists()&&a().some(e)}function reactSSRDetect(){return processExists()&&typeof define_process_env_default$2<"u"&&!!Object.keys(define_process_env_default$2).find(o=>o.includes("react"))}function vueWebDetect(){return windowExists()&&keyPrefixMatch(window,"__VUE")}function vueSSRDetect(){return globalExists()&&keyPrefixMatch(global$1,"__VUE")}var define_process_env_default$1={};function svelteWebDetect(){return windowExists()&&keyPrefixMatch(window,"__SVELTE")}function svelteSSRDetect(){return processExists()&&typeof define_process_env_default$1<"u"&&!!Object.keys(define_process_env_default$1).find(o=>o.includes("svelte"))}function nextWebDetect(){return windowExists()&&window.next&&typeof window.next=="object"}function nextSSRDetect(){return globalExists()&&(keyPrefixMatch(global$1,"__next")||keyPrefixMatch(global$1,"__NEXT"))}function nuxtWebDetect(){return windowExists()&&(window.__NUXT__!==void 0||window.$nuxt!==void 0)}function nuxtSSRDetect(){return globalExists()&&typeof global$1.__NUXT_PATHS__<"u"}var define_process_env_default={};function angularWebDetect(){const o=!!(documentExists()&&document.querySelector("[ng-version]")),e=!!(windowExists()&&typeof window.ng<"u");return o||e}function angularSSRDetect(){var o;return processExists()&&typeof define_process_env_default=="object"&&((o=define_process_env_default.npm_lifecycle_script)==null?void 0:o.startsWith("ng "))||!1}function reactNativeDetect(){return typeof navigator<"u"&&typeof navigator.product<"u"&&navigator.product==="ReactNative"}function expoDetect(){return globalExists()&&typeof global$1.expo<"u"}function webDetect(){return windowExists()}const detectionMap=[{platform:Framework.Expo,detectionMethod:expoDetect},{platform:Framework.ReactNative,detectionMethod:reactNativeDetect},{platform:Framework.NextJs,detectionMethod:nextWebDetect},{platform:Framework.Nuxt,detectionMethod:nuxtWebDetect},{platform:Framework.Angular,detectionMethod:angularWebDetect},{platform:Framework.React,detectionMethod:reactWebDetect},{platform:Framework.VueJs,detectionMethod:vueWebDetect},{platform:Framework.Svelte,detectionMethod:svelteWebDetect},{platform:Framework.WebUnknown,detectionMethod:webDetect},{platform:Framework.NextJsSSR,detectionMethod:nextSSRDetect},{platform:Framework.NuxtSSR,detectionMethod:nuxtSSRDetect},{platform:Framework.ReactSSR,detectionMethod:reactSSRDetect},{platform:Framework.VueJsSSR,detectionMethod:vueSSRDetect},{platform:Framework.AngularSSR,detectionMethod:angularSSRDetect},{platform:Framework.SvelteSSR,detectionMethod:svelteSSRDetect}];function detect(){var o;return((o=detectionMap.find(e=>e.detectionMethod()))==null?void 0:o.platform)||Framework.ServerSideUnknown}let frameworkCache;const frameworkChangeObservers=[];let resetTriggered=!1;const SSR_RESET_TIMEOUT=10,WEB_RESET_TIMEOUT=10,PRIME_FRAMEWORK_DELAY=1e3,detectFramework=()=>{var o;if(!frameworkCache){if(frameworkCache=detect(),resetTriggered)for(;frameworkChangeObservers.length;)(o=frameworkChangeObservers.pop())==null||o();else frameworkChangeObservers.forEach(e=>{e()});resetTimeout(Framework.ServerSideUnknown,SSR_RESET_TIMEOUT),resetTimeout(Framework.WebUnknown,WEB_RESET_TIMEOUT)}return frameworkCache};function clearCache(){frameworkCache=void 0}function resetTimeout(o,e){frameworkCache===o&&!resetTriggered&&setTimeout(()=>{clearCache(),resetTriggered=!0,setTimeout(detectFramework,PRIME_FRAMEWORK_DELAY)},e)}const customUserAgentState={},getCustomUserAgent=(o,e)=>{var a,_;return(_=(a=customUserAgentState[o])==null?void 0:a[e])==null?void 0:_.additionalDetails},BASE_USER_AGENT="aws-amplify",sanitizeAmplifyVersion=o=>o.replace(/\+.*/,""),getAmplifyUserAgentObject=({category:o,action:e}={})=>{const a=[[BASE_USER_AGENT,sanitizeAmplifyVersion(version$1)]];if(o&&a.push([o,e]),a.push(["framework",detectFramework()]),o&&e){const _=getCustomUserAgent(o,e);_&&_.forEach(b=>{a.push(b)})}return a},getAmplifyUserAgent=o=>getAmplifyUserAgentObject(o).map(([_,b])=>_&&b?`${_}/${b}`:_).join(" ");function isFunction$1(o){return typeof o=="function"}function createErrorClass(o){var e=function(_){Error.call(_),_.stack=new Error().stack},a=o(e);return a.prototype=Object.create(Error.prototype),a.prototype.constructor=a,a}var UnsubscriptionError=createErrorClass(function(o){return function(a){o(this),this.message=a?a.length+` errors occurred during unsubscription:
`+a.map(function(_,b){return b+1+") "+_.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=a}});function arrRemove(o,e){if(o){var a=o.indexOf(e);0<=a&&o.splice(a,1)}}var Subscription=function(){function o(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return o.prototype.unsubscribe=function(){var e,a,_,b,_e;if(!this.closed){this.closed=!0;var et=this._parentage;if(et)if(this._parentage=null,Array.isArray(et))try{for(var tt=__values(et),nt=tt.next();!nt.done;nt=tt.next()){var it=nt.value;it.remove(this)}}catch(ft){e={error:ft}}finally{try{nt&&!nt.done&&(a=tt.return)&&a.call(tt)}finally{if(e)throw e.error}}else et.remove(this);var ot=this.initialTeardown;if(isFunction$1(ot))try{ot()}catch(ft){_e=ft instanceof UnsubscriptionError?ft.errors:[ft]}var st=this._finalizers;if(st){this._finalizers=null;try{for(var at=__values(st),lt=at.next();!lt.done;lt=at.next()){var ut=lt.value;try{execFinalizer(ut)}catch(ft){_e=_e??[],ft instanceof UnsubscriptionError?_e=__spreadArray(__spreadArray([],__read(_e)),__read(ft.errors)):_e.push(ft)}}}catch(ft){_={error:ft}}finally{try{lt&&!lt.done&&(b=at.return)&&b.call(at)}finally{if(_)throw _.error}}}if(_e)throw new UnsubscriptionError(_e)}},o.prototype.add=function(e){var a;if(e&&e!==this)if(this.closed)execFinalizer(e);else{if(e instanceof o){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(a=this._finalizers)!==null&&a!==void 0?a:[]).push(e)}},o.prototype._hasParent=function(e){var a=this._parentage;return a===e||Array.isArray(a)&&a.includes(e)},o.prototype._addParent=function(e){var a=this._parentage;this._parentage=Array.isArray(a)?(a.push(e),a):a?[a,e]:e},o.prototype._removeParent=function(e){var a=this._parentage;a===e?this._parentage=null:Array.isArray(a)&&arrRemove(a,e)},o.prototype.remove=function(e){var a=this._finalizers;a&&arrRemove(a,e),e instanceof o&&e._removeParent(this)},o.EMPTY=function(){var e=new o;return e.closed=!0,e}(),o}();Subscription.EMPTY;function isSubscription(o){return o instanceof Subscription||o&&"closed"in o&&isFunction$1(o.remove)&&isFunction$1(o.add)&&isFunction$1(o.unsubscribe)}function execFinalizer(o){isFunction$1(o)?o():o.unsubscribe()}var config={Promise:void 0},timeoutProvider={setTimeout:function(o,e){for(var a=[],_=2;_<arguments.length;_++)a[_-2]=arguments[_];return setTimeout.apply(void 0,__spreadArray([o,e],__read(a)))},clearTimeout:function(o){return clearTimeout(o)},delegate:void 0};function reportUnhandledError(o){timeoutProvider.setTimeout(function(){throw o})}function noop$1(){}function errorContext(o){o()}var Subscriber=function(o){__extends(e,o);function e(a){var _=o.call(this)||this;return _.isStopped=!1,a?(_.destination=a,isSubscription(a)&&a.add(_)):_.destination=EMPTY_OBSERVER,_}return e.create=function(a,_,b){return new SafeSubscriber(a,_,b)},e.prototype.next=function(a){this.isStopped||this._next(a)},e.prototype.error=function(a){this.isStopped||(this.isStopped=!0,this._error(a))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,o.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(a){this.destination.next(a)},e.prototype._error=function(a){try{this.destination.error(a)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(Subscription),ConsumerObserver=function(){function o(e){this.partialObserver=e}return o.prototype.next=function(e){var a=this.partialObserver;if(a.next)try{a.next(e)}catch(_){handleUnhandledError(_)}},o.prototype.error=function(e){var a=this.partialObserver;if(a.error)try{a.error(e)}catch(_){handleUnhandledError(_)}else handleUnhandledError(e)},o.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(a){handleUnhandledError(a)}},o}(),SafeSubscriber=function(o){__extends(e,o);function e(a,_,b){var _e=o.call(this)||this,et;return isFunction$1(a)||!a?et={next:a??void 0,error:_??void 0,complete:b??void 0}:et=a,_e.destination=new ConsumerObserver(et),_e}return e}(Subscriber);function handleUnhandledError(o){reportUnhandledError(o)}function defaultErrorHandler(o){throw o}var EMPTY_OBSERVER={closed:!0,next:noop$1,error:defaultErrorHandler,complete:noop$1},observable=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function identity(o){return o}function pipeFromArray(o){return o.length===0?identity:o.length===1?o[0]:function(a){return o.reduce(function(_,b){return b(_)},a)}}var Observable=function(){function o(e){e&&(this._subscribe=e)}return o.prototype.lift=function(e){var a=new o;return a.source=this,a.operator=e,a},o.prototype.subscribe=function(e,a,_){var b=this,_e=isSubscriber(e)?e:new SafeSubscriber(e,a,_);return errorContext(function(){var et=b,tt=et.operator,nt=et.source;_e.add(tt?tt.call(_e,nt):nt?b._subscribe(_e):b._trySubscribe(_e))}),_e},o.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(a){e.error(a)}},o.prototype.forEach=function(e,a){var _=this;return a=getPromiseCtor(a),new a(function(b,_e){var et=new SafeSubscriber({next:function(tt){try{e(tt)}catch(nt){_e(nt),et.unsubscribe()}},error:_e,complete:b});_.subscribe(et)})},o.prototype._subscribe=function(e){var a;return(a=this.source)===null||a===void 0?void 0:a.subscribe(e)},o.prototype[observable]=function(){return this},o.prototype.pipe=function(){for(var e=[],a=0;a<arguments.length;a++)e[a]=arguments[a];return pipeFromArray(e)(this)},o.prototype.toPromise=function(e){var a=this;return e=getPromiseCtor(e),new e(function(_,b){var _e;a.subscribe(function(et){return _e=et},function(et){return b(et)},function(){return _(_e)})})},o.create=function(e){return new o(e)},o}();function getPromiseCtor(o){var e;return(e=o??config.Promise)!==null&&e!==void 0?e:Promise}function isObserver(o){return o&&isFunction$1(o.next)&&isFunction$1(o.error)&&isFunction$1(o.complete)}function isSubscriber(o){return o&&o instanceof Subscriber||isObserver(o)&&isSubscription(o)}function hasLift(o){return isFunction$1(o==null?void 0:o.lift)}function operate(o){return function(e){if(hasLift(e))return e.lift(function(a){try{return o(a,this)}catch(_){this.error(_)}});throw new TypeError("Unable to lift unknown Observable type")}}function createOperatorSubscriber(o,e,a,_,b){return new OperatorSubscriber(o,e,a,_,b)}var OperatorSubscriber=function(o){__extends(e,o);function e(a,_,b,_e,et,tt){var nt=o.call(this,a)||this;return nt.onFinalize=et,nt.shouldUnsubscribe=tt,nt._next=_?function(it){try{_(it)}catch(ot){a.error(ot)}}:o.prototype._next,nt._error=_e?function(it){try{_e(it)}catch(ot){a.error(ot)}finally{this.unsubscribe()}}:o.prototype._error,nt._complete=b?function(){try{b()}catch(it){a.error(it)}finally{this.unsubscribe()}}:o.prototype._complete,nt}return e.prototype.unsubscribe=function(){var a;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var _=this.closed;o.prototype.unsubscribe.call(this),!_&&((a=this.onFinalize)===null||a===void 0||a.call(this))}},e}(Subscriber),isArrayLike=function(o){return o&&typeof o.length=="number"&&typeof o!="function"};function isPromise(o){return isFunction$1(o==null?void 0:o.then)}function isInteropObservable(o){return isFunction$1(o[observable])}function isAsyncIterable(o){return Symbol.asyncIterator&&isFunction$1(o==null?void 0:o[Symbol.asyncIterator])}function createInvalidObservableTypeError(o){return new TypeError("You provided "+(o!==null&&typeof o=="object"?"an invalid object":"'"+o+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function getSymbolIterator(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var iterator=getSymbolIterator();function isIterable(o){return isFunction$1(o==null?void 0:o[iterator])}function readableStreamLikeToAsyncGenerator(o){return __asyncGenerator(this,arguments,function(){var a,_,b,_e;return __generator(this,function(et){switch(et.label){case 0:a=o.getReader(),et.label=1;case 1:et.trys.push([1,,9,10]),et.label=2;case 2:return[4,__await(a.read())];case 3:return _=et.sent(),b=_.value,_e=_.done,_e?[4,__await(void 0)]:[3,5];case 4:return[2,et.sent()];case 5:return[4,__await(b)];case 6:return[4,et.sent()];case 7:return et.sent(),[3,2];case 8:return[3,10];case 9:return a.releaseLock(),[7];case 10:return[2]}})})}function isReadableStreamLike(o){return isFunction$1(o==null?void 0:o.getReader)}function innerFrom(o){if(o instanceof Observable)return o;if(o!=null){if(isInteropObservable(o))return fromInteropObservable(o);if(isArrayLike(o))return fromArrayLike(o);if(isPromise(o))return fromPromise(o);if(isAsyncIterable(o))return fromAsyncIterable(o);if(isIterable(o))return fromIterable(o);if(isReadableStreamLike(o))return fromReadableStreamLike(o)}throw createInvalidObservableTypeError(o)}function fromInteropObservable(o){return new Observable(function(e){var a=o[observable]();if(isFunction$1(a.subscribe))return a.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function fromArrayLike(o){return new Observable(function(e){for(var a=0;a<o.length&&!e.closed;a++)e.next(o[a]);e.complete()})}function fromPromise(o){return new Observable(function(e){o.then(function(a){e.closed||(e.next(a),e.complete())},function(a){return e.error(a)}).then(null,reportUnhandledError)})}function fromIterable(o){return new Observable(function(e){var a,_;try{for(var b=__values(o),_e=b.next();!_e.done;_e=b.next()){var et=_e.value;if(e.next(et),e.closed)return}}catch(tt){a={error:tt}}finally{try{_e&&!_e.done&&(_=b.return)&&_.call(b)}finally{if(a)throw a.error}}e.complete()})}function fromAsyncIterable(o){return new Observable(function(e){process(o,e).catch(function(a){return e.error(a)})})}function fromReadableStreamLike(o){return fromAsyncIterable(readableStreamLikeToAsyncGenerator(o))}function process(o,e){var a,_,b,_e;return __awaiter(this,void 0,void 0,function(){var et,tt;return __generator(this,function(nt){switch(nt.label){case 0:nt.trys.push([0,5,6,11]),a=__asyncValues(o),nt.label=1;case 1:return[4,a.next()];case 2:if(_=nt.sent(),!!_.done)return[3,4];if(et=_.value,e.next(et),e.closed)return[2];nt.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return tt=nt.sent(),b={error:tt},[3,11];case 6:return nt.trys.push([6,,9,10]),_&&!_.done&&(_e=a.return)?[4,_e.call(a)]:[3,8];case 7:nt.sent(),nt.label=8;case 8:return[3,10];case 9:if(b)throw b.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}function executeSchedule(o,e,a,_,b){_===void 0&&(_=0),b===void 0&&(b=!1);var _e=e.schedule(function(){a(),b?o.add(this.schedule(null,_)):this.unsubscribe()},_);if(o.add(_e),!b)return _e}function observeOn(o,e){return e===void 0&&(e=0),operate(function(a,_){a.subscribe(createOperatorSubscriber(_,function(b){return executeSchedule(_,o,function(){return _.next(b)},e)},function(){return executeSchedule(_,o,function(){return _.complete()},e)},function(b){return executeSchedule(_,o,function(){return _.error(b)},e)}))})}function subscribeOn(o,e){return e===void 0&&(e=0),operate(function(a,_){_.add(o.schedule(function(){return a.subscribe(_)},e))})}function scheduleObservable(o,e){return innerFrom(o).pipe(subscribeOn(e),observeOn(e))}function schedulePromise(o,e){return innerFrom(o).pipe(subscribeOn(e),observeOn(e))}function scheduleArray(o,e){return new Observable(function(a){var _=0;return e.schedule(function(){_===o.length?a.complete():(a.next(o[_++]),a.closed||this.schedule())})})}function scheduleIterable(o,e){return new Observable(function(a){var _;return executeSchedule(a,e,function(){_=o[iterator](),executeSchedule(a,e,function(){var b,_e,et;try{b=_.next(),_e=b.value,et=b.done}catch(tt){a.error(tt);return}et?a.complete():a.next(_e)},0,!0)}),function(){return isFunction$1(_==null?void 0:_.return)&&_.return()}})}function scheduleAsyncIterable(o,e){if(!o)throw new Error("Iterable cannot be null");return new Observable(function(a){executeSchedule(a,e,function(){var _=o[Symbol.asyncIterator]();executeSchedule(a,e,function(){_.next().then(function(b){b.done?a.complete():a.next(b.value)})},0,!0)})})}function scheduleReadableStreamLike(o,e){return scheduleAsyncIterable(readableStreamLikeToAsyncGenerator(o),e)}function scheduled(o,e){if(o!=null){if(isInteropObservable(o))return scheduleObservable(o,e);if(isArrayLike(o))return scheduleArray(o,e);if(isPromise(o))return schedulePromise(o,e);if(isAsyncIterable(o))return scheduleAsyncIterable(o,e);if(isIterable(o))return scheduleIterable(o,e);if(isReadableStreamLike(o))return scheduleReadableStreamLike(o,e)}throw createInvalidObservableTypeError(o)}function from$1(o,e){return e?scheduled(o,e):innerFrom(o)}function map$2(o,e){return operate(function(a,_){var b=0;a.subscribe(createOperatorSubscriber(_,function(_e){_.next(o.call(e,_e,b++))}))})}function filter(o,e){return operate(function(a,_){var b=0;a.subscribe(createOperatorSubscriber(_,function(_e){return o.call(e,_e,b++)&&_.next(_e)}))})}function catchError(o){return operate(function(e,a){var _=null,b=!1,_e;_=e.subscribe(createOperatorSubscriber(a,void 0,void 0,function(et){_e=innerFrom(o(et,catchError(o)(e))),_?(_.unsubscribe(),_=null,_e.subscribe(a)):b=!0})),b&&(_.unsubscribe(),_=null,_e.subscribe(a))})}const isWebWorker=()=>{if(typeof self>"u")return!1;const o=self;return typeof o.WorkerGlobalScope<"u"&&self instanceof o.WorkerGlobalScope};class Reachability{networkMonitor(e){const a=isWebWorker()?self:typeof window<"u"&&window;return a?new Observable(_=>{_.next({online:a.navigator.onLine});const b=()=>{_.next({online:!0})},_e=()=>{_.next({online:!1})};return a.addEventListener("online",b),a.addEventListener("offline",_e),Reachability._observers.push(_),()=>{a.removeEventListener("online",b),a.removeEventListener("offline",_e),Reachability._observers=Reachability._observers.filter(et=>et!==_)}}):from$1([{online:!0}])}static _observerOverride(e){for(const a of this._observers){if(a.closed){this._observers=this._observers.filter(_=>_!==a);continue}a!=null&&a.next&&a.next(e)}}}Reachability._observers=[];const isBrowser=()=>typeof window<"u"&&typeof window.document<"u",logger$6=new ConsoleLogger("Auth");class AuthClass{configure(e,a){var _,b;this.authConfig=e,this.authOptions=a,e&&((_=e.Cognito)!=null&&_.userPoolEndpoint)&&logger$6.warn(getCustomEndpointWarningMessage("Amazon Cognito User Pool")),e&&((b=e.Cognito)!=null&&b.identityPoolEndpoint)&&logger$6.warn(getCustomEndpointWarningMessage("Amazon Cognito Identity Pool"))}async fetchAuthSession(e={}){var _e,et,tt,nt,it,ot;let a,_;const b=await this.getTokens(e);return b?(_=(et=(_e=b.accessToken)==null?void 0:_e.payload)==null?void 0:et.sub,a=await((nt=(tt=this.authOptions)==null?void 0:tt.credentialsProvider)==null?void 0:nt.getCredentialsAndIdentityId({authConfig:this.authConfig,tokens:b,authenticated:!0,forceRefresh:e.forceRefresh}))):a=await((ot=(it=this.authOptions)==null?void 0:it.credentialsProvider)==null?void 0:ot.getCredentialsAndIdentityId({authConfig:this.authConfig,authenticated:!1,forceRefresh:e.forceRefresh})),{tokens:b,credentials:a==null?void 0:a.credentials,identityId:a==null?void 0:a.identityId,userSub:_}}async clearCredentials(){var e,a;await((a=(e=this.authOptions)==null?void 0:e.credentialsProvider)==null?void 0:a.clearCredentialsAndIdentityId())}async getTokens(e){var a,_;return await((_=(a=this.authOptions)==null?void 0:a.tokenProvider)==null?void 0:_.getTokens(e))??void 0}}const getCustomEndpointWarningMessage=o=>`You are using a custom Amazon ${o} endpoint, ensure the endpoint is correct.`;class AmplifyClass{constructor(){this.oAuthListener=void 0,this.isConfigured=!1,this.resourcesConfig={},this.libraryOptions={},this.Auth=new AuthClass}configure(e,a){const _=parseAmplifyConfig(e);this.resourcesConfig=_,a&&(this.libraryOptions=a),this.resourcesConfig=deepFreeze(this.resourcesConfig),this.Auth.configure(this.resourcesConfig.Auth,this.libraryOptions.Auth),Hub.dispatch("core",{event:"configure",data:this.resourcesConfig},"Configure",AMPLIFY_SYMBOL),this.notifyOAuthListener(),this.isConfigured=!0}getConfig(){return this.isConfigured||console.warn("Amplify has not been configured. Please call Amplify.configure() before using this service."),this.resourcesConfig}[ADD_OAUTH_LISTENER](e){var a,_,b;(_=(a=this.resourcesConfig.Auth)==null?void 0:a.Cognito.loginWith)!=null&&_.oauth?e((b=this.resourcesConfig.Auth)==null?void 0:b.Cognito):this.oAuthListener=e}notifyOAuthListener(){var e,a,_;!((a=(e=this.resourcesConfig.Auth)==null?void 0:e.Cognito.loginWith)!=null&&a.oauth)||!this.oAuthListener||(this.oAuthListener((_=this.resourcesConfig.Auth)==null?void 0:_.Cognito),this.oAuthListener=void 0)}}const Amplify=new AmplifyClass,fetchAuthSession$1=(o,e)=>o.Auth.fetchAuthSession(e),fetchAuthSession=o=>fetchAuthSession$1(Amplify,o),parseMetadata=o=>{const{headers:e,statusCode:a}=o;return{...isMetadataBearer(o)?o.$metadata:{},httpStatusCode:a,requestId:e["x-amzn-requestid"]??e["x-amzn-request-id"]??e["x-amz-request-id"],extendedRequestId:e["x-amz-id-2"],cfId:e["x-amz-cf-id"]}},isMetadataBearer=o=>typeof(o==null?void 0:o.$metadata)=="object",parseJsonError=async o=>{if(!o||o.statusCode<300)return;const e=await parseJsonBody(o),_=(et=>{const[tt]=et.toString().split(/[,:]+/);return tt.includes("#")?tt.split("#")[1]:tt})(o.headers["x-amzn-errortype"]??e.code??e.__type??"UnknownError"),b=e.message??e.Message??"Unknown error",_e=new Error(b);return Object.assign(_e,{name:_,$metadata:parseMetadata(o)})},parseJsonBody=async o=>{if(!o.body)throw new Error("Missing response payload");const e=await o.body.json();return Object.assign(e,{$metadata:parseMetadata(o)})},composeServiceApi=(o,e,a,_)=>async(b,_e)=>{const et={..._,...b},tt=await et.endpointResolver(et,_e),nt=await e(_e,tt),it=await o(nt,{...et});return a(it)},MAX_DELAY_MS$1=5*60*1e3;function jitteredBackoff$1(o=MAX_DELAY_MS$1){return _=>{const b=2**_*100+100*Math.random();return b>o?!1:b}}const DEFAULT_RETRY_ATTEMPTS=3,AMZ_SDK_INVOCATION_ID_HEADER="amz-sdk-invocation-id",AMZ_SDK_REQUEST_HEADER="amz-sdk-request",DEFAULT_MAX_DELAY_MS=5*60*1e3,jitteredBackoff=o=>{const a=jitteredBackoff$1(DEFAULT_MAX_DELAY_MS)(o);return a===!1?DEFAULT_MAX_DELAY_MS:a},CLOCK_SKEW_ERROR_CODES=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch","BadRequestException"],isClockSkewError=o=>!!o&&CLOCK_SKEW_ERROR_CODES.includes(o),getRetryDecider=o=>async(e,a)=>{const _=a??await o(e)??void 0,b=(_==null?void 0:_.code)||(_==null?void 0:_.name),_e=e==null?void 0:e.statusCode;return{retryable:isConnectionError(a)||isThrottlingError(_e,b)||isClockSkewError(b)||isServerSideError(_e,b)}},THROTTLING_ERROR_CODES=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException"],TIMEOUT_ERROR_CODES=["TimeoutError","RequestTimeout","RequestTimeoutException"],isThrottlingError=(o,e)=>o===429||!!e&&THROTTLING_ERROR_CODES.includes(e),isConnectionError=o=>[AmplifyErrorCode.NetworkError,"ERR_NETWORK"].includes(o==null?void 0:o.name),isServerSideError=(o,e)=>!!o&&[500,502,503,504].includes(o)||!!e&&TIMEOUT_ERROR_CODES.includes(e),COGNITO_IDENTITY_SERVICE_NAME="cognito-identity",DEFAULT_SERVICE_CLIENT_API_CONFIG$1={service:COGNITO_IDENTITY_SERVICE_NAME,retryDecider:getRetryDecider(parseJsonError),computeDelay:jitteredBackoff,cache:"no-store"},retryMiddlewareFactory=({maxAttempts:o=DEFAULT_RETRY_ATTEMPTS,retryDecider:e,computeDelay:a,abortSignal:_})=>{if(o<1)throw new Error("maxAttempts must be greater than 0");return(b,_e)=>async function(tt){let nt,it=_e.attemptsCount??0,ot;const st=()=>{if(ot)return addOrIncrementMetadataAttempts(ot,it),ot;throw addOrIncrementMetadataAttempts(nt,it),nt};for(;!(_!=null&&_.aborted)&&it<o;){try{ot=await b(tt),nt=void 0}catch(ut){nt=ut,ot=void 0}it=(_e.attemptsCount??0)>it?_e.attemptsCount??0:it+1,_e.attemptsCount=it;const{isCredentialsExpiredError:at,retryable:lt}=await e(ot,nt,_e);if(lt){if(_e.isCredentialsExpired=!!at,!(_!=null&&_.aborted)&&it<o){const ut=a(it);await cancellableSleep(ut,_)}continue}else return st()}if(_!=null&&_.aborted)throw new Error("Request aborted.");return st()}},cancellableSleep=(o,e)=>{if(e!=null&&e.aborted)return Promise.resolve();let a,_;const b=new Promise(_e=>{_=_e,a=setTimeout(_e,o)});return e==null||e.addEventListener("abort",function _e(et){clearTimeout(a),e==null||e.removeEventListener("abort",_e),_()}),b},addOrIncrementMetadataAttempts=(o,e)=>{Object.prototype.toString.call(o)==="[object Object]"&&(o.$metadata={...o.$metadata??{},attempts:e})},amplifyUuid=v4,amzSdkInvocationIdHeaderMiddlewareFactory=()=>o=>async function(a){return a.headers[AMZ_SDK_INVOCATION_ID_HEADER]||(a.headers[AMZ_SDK_INVOCATION_ID_HEADER]=amplifyUuid()),o(a)},amzSdkRequestHeaderMiddlewareFactory=({maxAttempts:o=DEFAULT_RETRY_ATTEMPTS})=>(e,a)=>async function(b){const _e=a.attemptsCount??0;return b.headers[AMZ_SDK_REQUEST_HEADER]=`attempt=${_e+1}; max=${o}`,e(b)},userAgentMiddlewareFactory=({userAgentHeader:o="x-amz-user-agent",userAgentValue:e=""})=>a=>async function(b){if(e.trim().length===0)return await a(b);{const _e=o.toLowerCase();return b.headers[_e]=b.headers[_e]?`${b.headers[_e]} ${e}`:e,await a(b)}},composeTransferHandler=(o,e)=>(a,_)=>{const b={};let _e=et=>o(et,_);for(let et=e.length-1;et>=0;et--){const tt=e[et];_e=tt(_)(_e,b)}return _e(a)},withMemoization=o=>{let e;return()=>(e||(e=o()),e)},shouldSendBody=o=>!["HEAD","GET"].includes(o.toUpperCase()),fetchTransferHandler=async({url:o,method:e,headers:a,body:_},{abortSignal:b,cache:_e,withCrossDomainCredentials:et})=>{var st;let tt;try{tt=await fetch(o,{method:e,headers:a,body:shouldSendBody(e)?_:void 0,signal:b,cache:_e,credentials:et?"include":"same-origin"})}catch(at){throw at instanceof TypeError?new AmplifyError({name:AmplifyErrorCode.NetworkError,message:"A network error has occurred.",underlyingError:at}):at}const nt={};(st=tt.headers)==null||st.forEach((at,lt)=>{nt[lt.toLowerCase()]=at});const it={statusCode:tt.status,headers:nt,body:null},ot=Object.assign(tt.body??{},{text:withMemoization(()=>tt.text()),blob:withMemoization(()=>tt.blob()),json:withMemoization(()=>tt.json())});return{...it,body:ot}},unauthenticatedHandler$1=composeTransferHandler(fetchTransferHandler,[userAgentMiddlewareFactory,amzSdkInvocationIdHeaderMiddlewareFactory,retryMiddlewareFactory,amzSdkRequestHeaderMiddlewareFactory]),createDisableCacheMiddleware=()=>o=>async function(a){return a.headers["cache-control"]="no-store",o(a)},cognitoIdentityTransferHandler=composeTransferHandler(unauthenticatedHandler$1,[createDisableCacheMiddleware]),createClientSerializer=o=>(e,a)=>{const _=getSharedHeaders$1(o),b=JSON.stringify(e);return buildHttpRpcRequest$1(a,_,b)},getSharedHeaders$1=o=>({"content-type":"application/x-amz-json-1.1","x-amz-target":`AWSCognitoIdentityService.${o}`}),buildHttpRpcRequest$1=({url:o},e,a)=>({headers:e,url:o,body:a,method:"POST"}),createGetCredentialsForIdentityClient=o=>composeServiceApi(cognitoIdentityTransferHandler,createClientSerializer("GetCredentialsForIdentity"),getCredentialsForIdentityDeserializer,{...DEFAULT_SERVICE_CLIENT_API_CONFIG$1,...o,userAgentValue:getAmplifyUserAgent()}),getCredentialsForIdentityDeserializer=async o=>{if(o.statusCode>=300)throw await parseJsonError(o);const e=await parseJsonBody(o);return{IdentityId:e.IdentityId,Credentials:deserializeCredentials(e.Credentials),$metadata:parseMetadata(o)}},deserializeCredentials=({Expiration:o,...e}={})=>({...e,Expiration:o&&new Date(o*1e3)}),createGetIdClient=o=>composeServiceApi(cognitoIdentityTransferHandler,createClientSerializer("GetId"),getIdDeserializer,{...DEFAULT_SERVICE_CLIENT_API_CONFIG$1,...o,userAgentValue:getAmplifyUserAgent()}),getIdDeserializer=async o=>{if(o.statusCode>=300)throw await parseJsonError(o);return{IdentityId:(await parseJsonBody(o)).IdentityId,$metadata:parseMetadata(o)}},defaultPartition={id:"aws",outputs:{dnsSuffix:"amazonaws.com"},regionRegex:"^(us|eu|ap|sa|ca|me|af)\\-\\w+\\-\\d+$",regions:["aws-global"]},partitionsInfo={partitions:[defaultPartition,{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn"},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:["aws-cn-global"]}]},getDnsSuffix=o=>{const{partitions:e}=partitionsInfo;for(const{regions:a,outputs:_,regionRegex:b}of e){const _e=new RegExp(b);if(a.includes(o)||_e.test(o))return _.dnsSuffix}return defaultPartition.outputs.dnsSuffix},AmplifyUrl=URL,AmplifyUrlSearchParams=URLSearchParams,cognitoIdentityPoolEndpointResolver=({region:o})=>({url:new AmplifyUrl(`https://${COGNITO_IDENTITY_SERVICE_NAME}.${o}.${getDnsSuffix(o)}`)});class PlatformNotSupportedError extends AmplifyError{constructor(){super({name:AmplifyErrorCode.PlatformNotSupported,message:"Function not supported on current platform"})}}class KeyValueStorage{constructor(e){this.storage=e}async setItem(e,a){if(!this.storage)throw new PlatformNotSupportedError;this.storage.setItem(e,a)}async getItem(e){if(!this.storage)throw new PlatformNotSupportedError;return this.storage.getItem(e)}async removeItem(e){if(!this.storage)throw new PlatformNotSupportedError;this.storage.removeItem(e)}async clear(){if(!this.storage)throw new PlatformNotSupportedError;this.storage.clear()}}class InMemoryStorage{constructor(){this.storage=new Map}get length(){return this.storage.size}key(e){return e>this.length-1?null:Array.from(this.storage.keys())[e]}setItem(e,a){this.storage.set(e,a)}getItem(e){return this.storage.get(e)??null}removeItem(e){this.storage.delete(e)}clear(){this.storage.clear()}}const logger$5=new ConsoleLogger("CoreStorageUtils"),getLocalStorageWithFallback=()=>{try{if(typeof window<"u"&&window.localStorage)return window.localStorage}catch{logger$5.info("localStorage not found. InMemoryStorage is used as a fallback.")}return new InMemoryStorage},getSessionStorageWithFallback=()=>{try{if(typeof window<"u"&&window.sessionStorage)return window.sessionStorage.getItem("test"),window.sessionStorage;throw new Error("sessionStorage is not defined")}catch{return logger$5.info("sessionStorage not found. InMemoryStorage is used as a fallback."),new InMemoryStorage}};class DefaultStorage extends KeyValueStorage{constructor(){super(getLocalStorageWithFallback())}}class SessionStorage extends KeyValueStorage{constructor(){super(getSessionStorageWithFallback())}}class SyncKeyValueStorage{constructor(e){this._storage=e}get storage(){if(!this._storage)throw new PlatformNotSupportedError;return this._storage}setItem(e,a){this.storage.setItem(e,a)}getItem(e){return this.storage.getItem(e)}removeItem(e){this.storage.removeItem(e)}clear(){this.storage.clear()}}class SyncSessionStorage extends SyncKeyValueStorage{constructor(){super(getSessionStorageWithFallback())}}/*! js-cookie v3.0.5 | MIT */function assign(o){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var _ in a)o[_]=a[_]}return o}var defaultConverter={read:function(o){return o[0]==='"'&&(o=o.slice(1,-1)),o.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(o){return encodeURIComponent(o).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function init(o,e){function a(b,_e,et){if(!(typeof document>"u")){et=assign({},e,et),typeof et.expires=="number"&&(et.expires=new Date(Date.now()+et.expires*864e5)),et.expires&&(et.expires=et.expires.toUTCString()),b=encodeURIComponent(b).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var tt="";for(var nt in et)et[nt]&&(tt+="; "+nt,et[nt]!==!0&&(tt+="="+et[nt].split(";")[0]));return document.cookie=b+"="+o.write(_e,b)+tt}}function _(b){if(!(typeof document>"u"||arguments.length&&!b)){for(var _e=document.cookie?document.cookie.split("; "):[],et={},tt=0;tt<_e.length;tt++){var nt=_e[tt].split("="),it=nt.slice(1).join("=");try{var ot=decodeURIComponent(nt[0]);if(et[ot]=o.read(it,ot),b===ot)break}catch{}}return b?et[b]:et}}return Object.create({set:a,get:_,remove:function(b,_e){a(b,"",assign({},_e,{expires:-1}))},withAttributes:function(b){return init(this.converter,assign({},this.attributes,b))},withConverter:function(b){return init(assign({},this.converter,b),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(o)}})}var api=init(defaultConverter,{path:"/"});class CookieStorage{constructor(e={}){const{path:a,domain:_,expires:b,sameSite:_e,secure:et}=e;if(this.domain=_,this.path=a||"/",this.expires=Object.prototype.hasOwnProperty.call(e,"expires")?b:365,this.secure=Object.prototype.hasOwnProperty.call(e,"secure")?et:!0,Object.prototype.hasOwnProperty.call(e,"sameSite")){if(!_e||!["strict","lax","none"].includes(_e))throw new Error('The sameSite value of cookieStorage must be "lax", "strict" or "none".');if(_e==="none"&&!this.secure)throw new Error("sameSite = None requires the Secure attribute in latest browser versions.");this.sameSite=_e}}async setItem(e,a){api.set(e,a,this.getData())}async getItem(e){return api.get(e)??null}async removeItem(e){api.remove(e,this.getData())}async clear(){const e=api.get(),a=Object.keys(e).map(_=>this.removeItem(_));await Promise.all(a)}getData(){return{path:this.path,expires:this.expires,domain:this.domain,secure:this.secure,...this.sameSite&&{sameSite:this.sameSite}}}}const defaultStorage=new DefaultStorage;new SessionStorage;new SyncSessionStorage;const getSignedHeaders=o=>Object.keys(o).map(e=>e.toLowerCase()).sort().join(";"),AMZ_DATE_QUERY_PARAM="X-Amz-Date",TOKEN_QUERY_PARAM="X-Amz-Security-Token",AUTH_HEADER="authorization",HOST_HEADER="host",AMZ_DATE_HEADER=AMZ_DATE_QUERY_PARAM.toLowerCase(),TOKEN_HEADER=TOKEN_QUERY_PARAM.toLowerCase(),KEY_TYPE_IDENTIFIER="aws4_request",SHA256_ALGORITHM_IDENTIFIER="AWS4-HMAC-SHA256",SIGNATURE_IDENTIFIER="AWS4",EMPTY_HASH="e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855",UNSIGNED_PAYLOAD="UNSIGNED-PAYLOAD",getCredentialScope=(o,e,a)=>`${o}/${e}/${a}/${KEY_TYPE_IDENTIFIER}`,getFormattedDates=o=>{const e=o.toISOString().replace(/[:-]|\.\d{3}/g,"");return{longDate:e,shortDate:e.slice(0,8)}},getSigningValues=({credentials:o,signingDate:e=new Date,signingRegion:a,signingService:_,uriEscapePath:b=!0})=>{const{accessKeyId:_e,secretAccessKey:et,sessionToken:tt}=o,{longDate:nt,shortDate:it}=getFormattedDates(e),ot=getCredentialScope(it,a,_);return{accessKeyId:_e,credentialScope:ot,longDate:nt,secretAccessKey:et,sessionToken:tt,shortDate:it,signingRegion:a,signingService:_,uriEscapePath:b}},getHashedData=(o,e)=>{const a=new Sha256(o??void 0);return a.update(e),a.digestSync()},getHashedDataAsHex=(o,e)=>{const a=getHashedData(o,e);return toHex(a)},getCanonicalHeaders=o=>Object.entries(o).map(([e,a])=>({key:e.toLowerCase(),value:(a==null?void 0:a.trim().replace(/\s+/g," "))??""})).sort((e,a)=>e.key<a.key?-1:1).map(e=>`${e.key}:${e.value}
`).join(""),getCanonicalQueryString=o=>Array.from(o).sort(([e,a],[_,b])=>e===_?a<b?-1:1:e<_?-1:1).map(([e,a])=>`${escapeUri(e)}=${escapeUri(a)}`).join("&"),escapeUri=o=>encodeURIComponent(o).replace(/[!'()*]/g,hexEncode),hexEncode=o=>`%${o.charCodeAt(0).toString(16).toUpperCase()}`,getCanonicalUri=(o,e=!0)=>o?e?encodeURIComponent(o).replace(/%2F/g,"/"):o:"/",getHashedPayload=o=>o==null?EMPTY_HASH:isSourceData(o)?getHashedDataAsHex(null,o):UNSIGNED_PAYLOAD,isSourceData=o=>o!==UNSIGNED_PAYLOAD&&(typeof o=="string"||ArrayBuffer.isView(o)||isArrayBuffer(o)),isArrayBuffer=o=>typeof ArrayBuffer=="function"&&o instanceof ArrayBuffer||Object.prototype.toString.call(o)==="[object ArrayBuffer]",getCanonicalRequest=({body:o,headers:e,method:a,url:_},b=!0)=>[a,getCanonicalUri(_.pathname,b),getCanonicalQueryString(_.searchParams),getCanonicalHeaders(e),getSignedHeaders(e),getHashedPayload(o)].join(`
`),getSigningKey=(o,e,a,_)=>{const b=`${SIGNATURE_IDENTIFIER}${o}`,_e=getHashedData(b,e),et=getHashedData(_e,a),tt=getHashedData(et,_);return getHashedData(tt,KEY_TYPE_IDENTIFIER)},getStringToSign=(o,e,a)=>[SHA256_ALGORITHM_IDENTIFIER,o,e,a].join(`
`),getSignature=(o,{credentialScope:e,longDate:a,secretAccessKey:_,shortDate:b,signingRegion:_e,signingService:et,uriEscapePath:tt})=>{const nt=getCanonicalRequest(o,tt),it=getHashedDataAsHex(null,nt),ot=getStringToSign(a,e,it);return getHashedDataAsHex(getSigningKey(_,b,_e,et),ot)},signRequest=(o,e)=>{const a=getSigningValues(e),{accessKeyId:_,credentialScope:b,longDate:_e,sessionToken:et}=a,tt={...o.headers};tt[HOST_HEADER]=o.url.host,tt[AMZ_DATE_HEADER]=_e,et&&(tt[TOKEN_HEADER]=et);const nt={...o,headers:tt},it=getSignature(nt,a),ot=`Credential=${_}/${b}`,st=`SignedHeaders=${getSignedHeaders(tt)}`,at=`Signature=${it}`;return tt[AUTH_HEADER]=`${SHA256_ALGORITHM_IDENTIFIER} ${ot}, ${st}, ${at}`,nt},getSkewCorrectedDate=o=>new Date(Date.now()+o),SKEW_WINDOW=5*60*1e3,isClockSkewed=(o,e)=>Math.abs(getSkewCorrectedDate(e).getTime()-o)>=SKEW_WINDOW,getUpdatedSystemClockOffset=(o,e)=>isClockSkewed(o,e)?o-Date.now():e,signingMiddlewareFactory=({credentials:o,region:e,service:a,uriEscapePath:_=!0})=>{let b;return(_e,et)=>async function(nt){b=b??0;const it={credentials:typeof o=="function"?await o({forceRefresh:!!(et!=null&&et.isCredentialsExpired)}):o,signingDate:getSkewCorrectedDate(b),signingRegion:e,signingService:a,uriEscapePath:_},ot=await signRequest(nt,it),st=await _e(ot),at=getDateHeader(st);return at&&(b=getUpdatedSystemClockOffset(Date.parse(at),b)),st}},getDateHeader=({headers:o}={})=>(o==null?void 0:o.date)??(o==null?void 0:o.Date)??(o==null?void 0:o["x-amz-date"]);class NonRetryableError extends Error{constructor(){super(...arguments),this.nonRetryable=!0}}const jitteredExponentialRetry=(o,e,a=MAX_DELAY_MS$1,_)=>retry(o,e,jitteredBackoff$1(a)),deDupeAsyncFunction=o=>{let e;return async(...a)=>e||(e=new Promise((_,b)=>{o(...a).then(_e=>{_(_e)}).catch(_e=>{b(_e)}).finally(()=>{e=void 0})}),e)};function isTokenExpired({expiresAt:o,clockDrift:e,tolerance:a=5e3}){return Date.now()+e+a>o}class ApiError extends AmplifyError{get response(){return this._response?replicateApiErrorResponse(this._response):void 0}constructor(e){super(e),this.constructor=ApiError,Object.setPrototypeOf(this,ApiError.prototype),e.response&&(this._response=e.response)}}const replicateApiErrorResponse=o=>({...o,headers:{...o.headers}});function bytesToString(o){return Array.from(o,e=>String.fromCodePoint(e)).join("")}const base64Encoder={convert(o,e={urlSafe:!1,skipPadding:!1}){const a=typeof o=="string"?o:bytesToString(o);let _=getBtoa()(a);return e.urlSafe&&(_=_.replace(/\+/g,"-").replace(/\//g,"_")),e.skipPadding&&(_=_.replace(/=/g,"")),_}};class AuthError extends AmplifyError{constructor(e){super(e),this.constructor=AuthError,Object.setPrototypeOf(this,AuthError.prototype)}}function getRegionFromUserPoolId(o){const e=o==null?void 0:o.split("_")[0];if(!o||o.indexOf("_")<0||!e||typeof e!="string")throw new AuthError({name:"InvalidUserPoolId",message:"Invalid user pool id provided."});return e}function getRegionFromIdentityPoolId(o){if(!o||!o.includes(":"))throw new AuthError({name:"InvalidIdentityPoolIdException",message:"Invalid identity pool id provided.",recoverySuggestion:"Make sure a valid identityPoolId is given in the config."});return o.split(":")[0]}const USER_UNAUTHENTICATED_EXCEPTION="UserUnAuthenticatedException",INVALID_REDIRECT_EXCEPTION="InvalidRedirectException",INVALID_APP_SCHEME_EXCEPTION="InvalidAppSchemeException",INVALID_PREFERRED_REDIRECT_EXCEPTION="InvalidPreferredRedirectUrlException";new AuthError({name:INVALID_REDIRECT_EXCEPTION,message:"signInRedirect or signOutRedirect had an invalid format or was not found.",recoverySuggestion:"Please make sure the signIn/Out redirect in your oauth config is valid."});new AuthError({name:INVALID_APP_SCHEME_EXCEPTION,message:"A valid non-http app scheme was not found in the config.",recoverySuggestion:"Please make sure a valid custom app scheme is present in the config."});new AuthError({name:INVALID_PREFERRED_REDIRECT_EXCEPTION,message:"The given preferredRedirectUrl does not match any items in the redirectSignOutUrls array from the config.",recoverySuggestion:"Please make sure a matching preferredRedirectUrl is provided."});const INVALID_ORIGIN_EXCEPTION="InvalidOriginException";new AuthError({name:INVALID_ORIGIN_EXCEPTION,message:"redirect is coming from a different origin. The oauth flow needs to be initiated from the same origin",recoverySuggestion:"Please call signInWithRedirect from the same origin."});const TOKEN_REFRESH_EXCEPTION="TokenRefreshException";function assertIdTokenInAuthTokens(o){if(!o||!o.idToken)throw new AuthError({name:USER_UNAUTHENTICATED_EXCEPTION,message:"User needs to be authenticated to call this API.",recoverySuggestion:"Sign in before calling this API again."})}const oAuthTokenRefreshException=new AuthError({name:TOKEN_REFRESH_EXCEPTION,message:`Token refresh is not supported when authenticated with the 'implicit grant' (token) oauth flow. 
	Please change your oauth configuration to use 'code grant' flow.`,recoverySuggestion:`Please logout and change your Amplify configuration to use "code grant" flow. 
	E.g { responseType: 'code' }`}),tokenRefreshException=new AuthError({name:USER_UNAUTHENTICATED_EXCEPTION,message:"User needs to be authenticated to call this API.",recoverySuggestion:"Sign in before calling this API again."});function assertAuthTokensWithRefreshToken(o){if(isAuthenticatedWithImplicitOauthFlow(o))throw oAuthTokenRefreshException;if(!isAuthenticatedWithRefreshToken(o))throw tokenRefreshException}const OAuthStorageKeys={inflightOAuth:"inflightOAuth",oauthSignIn:"oauthSignIn",oauthPKCE:"oauthPKCE",oauthState:"oauthState"};function isAuthenticated(o){return(o==null?void 0:o.accessToken)||(o==null?void 0:o.idToken)}function isAuthenticatedWithRefreshToken(o){return isAuthenticated(o)&&(o==null?void 0:o.refreshToken)}function isAuthenticatedWithImplicitOauthFlow(o){return isAuthenticated(o)&&!(o!=null&&o.refreshToken)}const createUserPoolSerializer=o=>(e,a)=>{const _=getSharedHeaders(o),b=JSON.stringify(e);return buildHttpRpcRequest(a,_,b)},getSharedHeaders=o=>({"content-type":"application/x-amz-json-1.1","x-amz-target":`AWSCognitoIdentityProviderService.${o}`}),buildHttpRpcRequest=({url:o},e,a)=>({headers:e,url:o,body:a,method:"POST"});function assertServiceError(o){if(!o||o.name==="Error"||o instanceof TypeError)throw new AuthError({name:AmplifyErrorCode.Unknown,message:"An unknown error has occurred.",underlyingError:o})}const createUserPoolDeserializer=()=>async o=>{if(o.statusCode>=300){const e=await parseJsonError(o);throw assertServiceError(e),new AuthError({name:e.name,message:e.message,metadata:e.$metadata})}return parseJsonBody(o)},disableCacheMiddlewareFactory=()=>(o,e)=>async function(_){return _.headers["cache-control"]="no-store",o(_)},cognitoUserPoolTransferHandler=composeTransferHandler(unauthenticatedHandler$1,[disableCacheMiddlewareFactory]),COGNITO_IDP_SERVICE_NAME="cognito-idp",DEFAULT_SERVICE_CLIENT_API_CONFIG={service:COGNITO_IDP_SERVICE_NAME,retryDecider:getRetryDecider(parseJsonError),computeDelay:jitteredBackoff,get userAgentValue(){return getAmplifyUserAgent()},cache:"no-store"},cognitoUserPoolEndpointResolver=({region:o})=>({url:new AmplifyUrl(`https://${COGNITO_IDP_SERVICE_NAME}.${o}.${getDnsSuffix(o)}`)}),createCognitoUserPoolEndpointResolver=({endpointOverride:o})=>e=>o?{url:new AmplifyUrl(o)}:cognitoUserPoolEndpointResolver(e),createGetTokensFromRefreshTokenClient=o=>composeServiceApi(cognitoUserPoolTransferHandler,createUserPoolSerializer("GetTokensFromRefreshToken"),createUserPoolDeserializer(),{...DEFAULT_SERVICE_CLIENT_API_CONFIG,...o}),refreshAuthTokensFunction=async({tokens:o,authConfig:e,username:a,clientMetadata:_})=>{var ut;assertTokenProviderConfig(e==null?void 0:e.Cognito);const{userPoolId:b,userPoolClientId:_e,userPoolEndpoint:et}=e.Cognito,tt=getRegionFromUserPoolId(b);assertAuthTokensWithRefreshToken(o);const nt=createGetTokensFromRefreshTokenClient({endpointResolver:createCognitoUserPoolEndpointResolver({endpointOverride:et})}),{AuthenticationResult:it}=await nt({region:tt},{ClientId:_e,RefreshToken:o.refreshToken,DeviceKey:(ut=o.deviceMetadata)==null?void 0:ut.deviceKey,ClientMetadata:_}),ot=decodeJWT((it==null?void 0:it.AccessToken)??""),st=it!=null&&it.IdToken?decodeJWT(it.IdToken):void 0,{iat:at}=ot.payload;if(!at)throw new AuthError({name:"iatNotFoundException",message:"iat not found in access token"});const lt=at*1e3-new Date().getTime();return{accessToken:ot,idToken:st,clockDrift:lt,refreshToken:(it==null?void 0:it.RefreshToken)??o.refreshToken,username:a}},refreshAuthTokens=deDupeAsyncFunction(refreshAuthTokensFunction),AuthTokenStorageKeys={accessToken:"accessToken",idToken:"idToken",oidcProvider:"oidcProvider",clockDrift:"clockDrift",refreshToken:"refreshToken",deviceKey:"deviceKey",randomPasswordKey:"randomPasswordKey",deviceGroupKey:"deviceGroupKey",signInDetails:"signInDetails",oauthMetadata:"oauthMetadata"};var TokenProviderErrorCode;(function(o){o.InvalidAuthTokens="InvalidAuthTokens"})(TokenProviderErrorCode||(TokenProviderErrorCode={}));const tokenValidationErrorMap={[TokenProviderErrorCode.InvalidAuthTokens]:{message:"Invalid tokens.",recoverySuggestion:"Make sure the tokens are valid."}},assert=createAssertionFunction(tokenValidationErrorMap),AUTH_KEY_PREFIX="CognitoIdentityServiceProvider";class DefaultTokenStore{getKeyValueStorage(){if(!this.keyValueStorage)throw new AuthError({name:"KeyValueStorageNotFoundException",message:"KeyValueStorage was not found in TokenStore"});return this.keyValueStorage}setKeyValueStorage(e){this.keyValueStorage=e}setAuthConfig(e){this.authConfig=e}async loadTokens(){try{const e=await this.getAuthKeys(),a=await this.getKeyValueStorage().getItem(e.accessToken);if(!a)throw new AuthError({name:"NoSessionFoundException",message:"Auth session was not found. Make sure to call signIn."});const _=decodeJWT(a),b=await this.getKeyValueStorage().getItem(e.idToken),_e=b?decodeJWT(b):void 0,et=await this.getKeyValueStorage().getItem(e.refreshToken)??void 0,tt=await this.getKeyValueStorage().getItem(e.clockDrift)??"0",nt=Number.parseInt(tt),it=await this.getKeyValueStorage().getItem(e.signInDetails),ot={accessToken:_,idToken:_e,refreshToken:et,deviceMetadata:await this.getDeviceMetadata()??void 0,clockDrift:nt,username:await this.getLastAuthUser()};return it&&(ot.signInDetails=JSON.parse(it)),ot}catch{return null}}async storeTokens(e){assert(e!==void 0,TokenProviderErrorCode.InvalidAuthTokens);const a=e.username;await this.getKeyValueStorage().setItem(this.getLastAuthUserKey(),a);const _=await this.getAuthKeys();await this.getKeyValueStorage().setItem(_.accessToken,e.accessToken.toString()),e.idToken?await this.getKeyValueStorage().setItem(_.idToken,e.idToken.toString()):await this.getKeyValueStorage().removeItem(_.idToken),e.refreshToken?await this.getKeyValueStorage().setItem(_.refreshToken,e.refreshToken):await this.getKeyValueStorage().removeItem(_.refreshToken),e.deviceMetadata&&(e.deviceMetadata.deviceKey&&await this.getKeyValueStorage().setItem(_.deviceKey,e.deviceMetadata.deviceKey),e.deviceMetadata.deviceGroupKey&&await this.getKeyValueStorage().setItem(_.deviceGroupKey,e.deviceMetadata.deviceGroupKey),await this.getKeyValueStorage().setItem(_.randomPasswordKey,e.deviceMetadata.randomPassword)),e.signInDetails?await this.getKeyValueStorage().setItem(_.signInDetails,JSON.stringify(e.signInDetails)):await this.getKeyValueStorage().removeItem(_.signInDetails),await this.getKeyValueStorage().setItem(_.clockDrift,`${e.clockDrift}`)}async clearTokens(){const e=await this.getAuthKeys();await Promise.all([this.getKeyValueStorage().removeItem(e.accessToken),this.getKeyValueStorage().removeItem(e.idToken),this.getKeyValueStorage().removeItem(e.clockDrift),this.getKeyValueStorage().removeItem(e.refreshToken),this.getKeyValueStorage().removeItem(e.signInDetails),this.getKeyValueStorage().removeItem(this.getLastAuthUserKey()),this.getKeyValueStorage().removeItem(e.oauthMetadata)])}async getDeviceMetadata(e){const a=await this.getAuthKeys(e),_=await this.getKeyValueStorage().getItem(a.deviceKey),b=await this.getKeyValueStorage().getItem(a.deviceGroupKey),_e=await this.getKeyValueStorage().getItem(a.randomPasswordKey);return _e&&b&&_?{deviceKey:_,deviceGroupKey:b,randomPassword:_e}:null}async clearDeviceMetadata(e){const a=await this.getAuthKeys(e);await Promise.all([this.getKeyValueStorage().removeItem(a.deviceKey),this.getKeyValueStorage().removeItem(a.deviceGroupKey),this.getKeyValueStorage().removeItem(a.randomPasswordKey)])}async getAuthKeys(e){var _;assertTokenProviderConfig((_=this.authConfig)==null?void 0:_.Cognito);const a=e??await this.getLastAuthUser();return createKeysForAuthStorage$2(AUTH_KEY_PREFIX,`${this.authConfig.Cognito.userPoolClientId}.${a}`)}getLastAuthUserKey(){var a;assertTokenProviderConfig((a=this.authConfig)==null?void 0:a.Cognito);const e=this.authConfig.Cognito.userPoolClientId;return`${AUTH_KEY_PREFIX}.${e}.LastAuthUser`}async getLastAuthUser(){return await this.getKeyValueStorage().getItem(this.getLastAuthUserKey())??"username"}async setOAuthMetadata(e){const{oauthMetadata:a}=await this.getAuthKeys();await this.getKeyValueStorage().setItem(a,JSON.stringify(e))}async getOAuthMetadata(){const{oauthMetadata:e}=await this.getAuthKeys(),a=await this.getKeyValueStorage().getItem(e);return a&&JSON.parse(a)}}const createKeysForAuthStorage$2=(o,e)=>getAuthStorageKeys(AuthTokenStorageKeys)(`${o}`,e);function getAuthStorageKeys(o){const e=Object.values({...o});return(a,_)=>e.reduce((b,_e)=>({...b,[_e]:`${a}.${_}.${_e}`}),{})}const V5_HOSTED_UI_KEY="amplify-signin-with-hostedUI",name="CognitoIdentityServiceProvider";class DefaultOAuthStore{constructor(e){this.keyValueStorage=e}async clearOAuthInflightData(){assertTokenProviderConfig(this.cognitoConfig);const e=createKeysForAuthStorage$1(name,this.cognitoConfig.userPoolClientId);await Promise.all([this.keyValueStorage.removeItem(e.inflightOAuth),this.keyValueStorage.removeItem(e.oauthPKCE),this.keyValueStorage.removeItem(e.oauthState)])}async clearOAuthData(){assertTokenProviderConfig(this.cognitoConfig);const e=createKeysForAuthStorage$1(name,this.cognitoConfig.userPoolClientId);return await this.clearOAuthInflightData(),await this.keyValueStorage.removeItem(V5_HOSTED_UI_KEY),this.keyValueStorage.removeItem(e.oauthSignIn)}loadOAuthState(){assertTokenProviderConfig(this.cognitoConfig);const e=createKeysForAuthStorage$1(name,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.getItem(e.oauthState)}storeOAuthState(e){assertTokenProviderConfig(this.cognitoConfig);const a=createKeysForAuthStorage$1(name,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.setItem(a.oauthState,e)}loadPKCE(){assertTokenProviderConfig(this.cognitoConfig);const e=createKeysForAuthStorage$1(name,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.getItem(e.oauthPKCE)}storePKCE(e){assertTokenProviderConfig(this.cognitoConfig);const a=createKeysForAuthStorage$1(name,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.setItem(a.oauthPKCE,e)}setAuthConfig(e){this.cognitoConfig=e}async loadOAuthInFlight(){assertTokenProviderConfig(this.cognitoConfig);const e=createKeysForAuthStorage$1(name,this.cognitoConfig.userPoolClientId);return await this.keyValueStorage.getItem(e.inflightOAuth)==="true"}async storeOAuthInFlight(e){assertTokenProviderConfig(this.cognitoConfig);const a=createKeysForAuthStorage$1(name,this.cognitoConfig.userPoolClientId);await this.keyValueStorage.setItem(a.inflightOAuth,`${e}`)}async loadOAuthSignIn(){var _e;assertTokenProviderConfig(this.cognitoConfig);const e=createKeysForAuthStorage$1(name,this.cognitoConfig.userPoolClientId),a=await this.keyValueStorage.getItem(V5_HOSTED_UI_KEY),[_,b]=((_e=await this.keyValueStorage.getItem(e.oauthSignIn))==null?void 0:_e.split(","))??[];return{isOAuthSignIn:_==="true"||a==="true",preferPrivateSession:b==="true"}}async storeOAuthSignIn(e,a=!1){assertTokenProviderConfig(this.cognitoConfig);const _=createKeysForAuthStorage$1(name,this.cognitoConfig.userPoolClientId);await this.keyValueStorage.setItem(_.oauthSignIn,`${e},${a}`)}}const createKeysForAuthStorage$1=(o,e)=>getAuthStorageKeys(OAuthStorageKeys)(o,e),oAuthStore=new DefaultOAuthStore(defaultStorage);class TokenOrchestrator{constructor(){this.waitForInflightOAuth=isBrowser()?async()=>{if(await oAuthStore.loadOAuthInFlight())return this.inflightPromise?this.inflightPromise:(this.inflightPromise=new Promise((e,a)=>{}),this.inflightPromise)}:async()=>{}}setAuthConfig(e){oAuthStore.setAuthConfig(e.Cognito),this.authConfig=e}setTokenRefresher(e){this.tokenRefresher=e}setAuthTokenStore(e){this.tokenStore=e}getTokenStore(){if(!this.tokenStore)throw new AuthError({name:"EmptyTokenStoreException",message:"TokenStore not set"});return this.tokenStore}getTokenRefresher(){if(!this.tokenRefresher)throw new AuthError({name:"EmptyTokenRefresherException",message:"TokenRefresher not set"});return this.tokenRefresher}setClientMetadataProvider(e){this.clientMetadataProvider=e}async getTokens(e){var et,tt,nt,it,ot,st;let a;try{assertTokenProviderConfig((et=this.authConfig)==null?void 0:et.Cognito)}catch{return null}await this.waitForInflightOAuth(),this.inflightPromise=void 0,a=await this.getTokenStore().loadTokens();const _=await this.getTokenStore().getLastAuthUser();if(a===null)return null;const b=!!(a!=null&&a.idToken)&&isTokenExpired({expiresAt:(((nt=(tt=a.idToken)==null?void 0:tt.payload)==null?void 0:nt.exp)??0)*1e3,clockDrift:a.clockDrift??0}),_e=isTokenExpired({expiresAt:(((ot=(it=a.accessToken)==null?void 0:it.payload)==null?void 0:ot.exp)??0)*1e3,clockDrift:a.clockDrift??0});return(e!=null&&e.forceRefresh||b||_e)&&(a=await this.refreshTokens({tokens:a,username:_,clientMetadata:(e==null?void 0:e.clientMetadata)??await((st=this.clientMetadataProvider)==null?void 0:st.call(this))}),a===null)?null:{accessToken:a==null?void 0:a.accessToken,idToken:a==null?void 0:a.idToken,signInDetails:a==null?void 0:a.signInDetails}}async refreshTokens({tokens:e,username:a,clientMetadata:_}){try{const{signInDetails:b}=e,_e=await this.getTokenRefresher()({tokens:e,authConfig:this.authConfig,username:a,clientMetadata:_});return _e.signInDetails=b,await this.setTokens({tokens:_e}),Hub.dispatch("auth",{event:"tokenRefresh"},"Auth",AMPLIFY_SYMBOL),_e}catch(b){return this.handleErrors(b)}}handleErrors(e){if(assertServiceError(e),this.isAuthenticationError(e)&&this.clearTokens(),Hub.dispatch("auth",{event:"tokenRefresh_failure",data:{error:e}},"Auth",AMPLIFY_SYMBOL),e.name.startsWith("NotAuthorizedException"))return null;throw e}isAuthenticationError(e){return["NotAuthorizedException","TokenRevokedException","UserNotFoundException","PasswordResetRequiredException","UserNotConfirmedException","RefreshTokenReuseException"].some(_=>{var b,_e;return(_e=(b=e==null?void 0:e.name)==null?void 0:b.startsWith)==null?void 0:_e.call(b,_)})}async setTokens({tokens:e}){return this.getTokenStore().storeTokens(e)}async clearTokens(){return this.getTokenStore().clearTokens()}getDeviceMetadata(e){return this.getTokenStore().getDeviceMetadata(e)}clearDeviceMetadata(e){return this.getTokenStore().clearDeviceMetadata(e)}setOAuthMetadata(e){return this.getTokenStore().setOAuthMetadata(e)}getOAuthMetadata(){return this.getTokenStore().getOAuthMetadata()}}class CognitoUserPoolsTokenProvider{constructor(){this.authTokenStore=new DefaultTokenStore,this.authTokenStore.setKeyValueStorage(defaultStorage),this.tokenOrchestrator=new TokenOrchestrator,this.tokenOrchestrator.setAuthTokenStore(this.authTokenStore),this.tokenOrchestrator.setTokenRefresher(refreshAuthTokens)}getTokens(e={}){return this.tokenOrchestrator.getTokens(e)}setKeyValueStorage(e){this.authTokenStore.setKeyValueStorage(e)}setClientMetadataProvider(e){this.tokenOrchestrator.setClientMetadataProvider(e)}setAuthConfig(e){this.authTokenStore.setAuthConfig(e),this.tokenOrchestrator.setAuthConfig(e)}}const cognitoUserPoolsTokenProvider=new CognitoUserPoolsTokenProvider,{tokenOrchestrator}=cognitoUserPoolsTokenProvider,IdentityIdStorageKeys={identityId:"identityId"},logger$4=new ConsoleLogger("DefaultIdentityIdStore");class DefaultIdentityIdStore{setAuthConfig(e){assertIdentityPoolIdConfig(e.Cognito),this.authConfig=e,this._authKeys=createKeysForAuthStorage("Cognito",e.Cognito.identityPoolId)}constructor(e){this._authKeys={},this._hasGuestIdentityId=!1,this.keyValueStorage=e}async loadIdentityId(){var e;assertIdentityPoolIdConfig((e=this.authConfig)==null?void 0:e.Cognito);try{if(this._primaryIdentityId)return{id:this._primaryIdentityId,type:"primary"};{const a=await this.keyValueStorage.getItem(this._authKeys.identityId);return a?(this._hasGuestIdentityId=!0,{id:a,type:"guest"}):null}}catch(a){return logger$4.log("Error getting stored IdentityId.",a),null}}async storeIdentityId(e){var a;assertIdentityPoolIdConfig((a=this.authConfig)==null?void 0:a.Cognito),e.type==="guest"?(this.keyValueStorage.setItem(this._authKeys.identityId,e.id),this._primaryIdentityId=void 0,this._hasGuestIdentityId=!0):(this._primaryIdentityId=e.id,this._hasGuestIdentityId&&(this.keyValueStorage.removeItem(this._authKeys.identityId),this._hasGuestIdentityId=!1))}async clearIdentityId(){this._primaryIdentityId=void 0,await this.keyValueStorage.removeItem(this._authKeys.identityId)}}const createKeysForAuthStorage=(o,e)=>getAuthStorageKeys(IdentityIdStorageKeys)(`com.amplify.${o}`,e),createCognitoIdentityPoolEndpointResolver=({endpointOverride:o})=>e=>o?{url:new AmplifyUrl(o)}:cognitoIdentityPoolEndpointResolver(e);function formLoginsMap(o){const e=decodeJWT(o).payload.iss,a={};if(!e)throw new AuthError({name:"InvalidIdTokenException",message:"Invalid Idtoken."});const _=e.replace(/(^\w+:|^)\/\//,"");return a[_]=o,a}async function cognitoIdentityIdProvider({tokens:o,authConfig:e,identityIdStore:a}){a.setAuthConfig({Cognito:e});const _=await a.loadIdentityId();if(_)return _.id;const b=o!=null&&o.idToken?formLoginsMap(o.idToken.toString()):{},_e=await generateIdentityId(b,e);return a.storeIdentityId({id:_e,type:o?"primary":"guest"}),_e}async function generateIdentityId(o,e){const a=e==null?void 0:e.identityPoolId,_=getRegionFromIdentityPoolId(a),b=createGetIdClient({endpointResolver:createCognitoIdentityPoolEndpointResolver({endpointOverride:e.identityPoolEndpoint})});let _e;try{_e=(await b({region:_},{IdentityPoolId:a,Logins:o})).IdentityId}catch(et){throw assertServiceError(et),new AuthError(et)}if(!_e)throw new AuthError({name:"GetIdResponseException",message:"Received undefined response from getId operation",recoverySuggestion:"Make sure to pass a valid identityPoolId in the configuration."});return _e}const logger$3=new ConsoleLogger("CognitoCredentialsProvider"),CREDENTIALS_TTL=50*60*1e3;class CognitoAWSCredentialsAndIdentityIdProvider{constructor(e){this._nextCredentialsRefresh=0,this._identityIdStore=e}async clearCredentialsAndIdentityId(){logger$3.debug("Clearing out credentials and identityId"),this._credentialsAndIdentityId=void 0,await this._identityIdStore.clearIdentityId()}async clearCredentials(){logger$3.debug("Clearing out in-memory credentials"),this._credentialsAndIdentityId=void 0}async getCredentialsAndIdentityId(e){const a=e.authenticated,{tokens:_}=e,{authConfig:b}=e;try{assertIdentityPoolIdConfig(b==null?void 0:b.Cognito)}catch{return}if(!a&&!b.Cognito.allowGuestAccess)return;const{forceRefresh:_e}=e,et=this.hasTokenChanged(_),tt=await cognitoIdentityIdProvider({tokens:_,authConfig:b.Cognito,identityIdStore:this._identityIdStore});return(_e||et)&&this.clearCredentials(),a?(assertIdTokenInAuthTokens(_),this.credsForOIDCTokens(b.Cognito,_,tt)):this.getGuestCredentials(tt,b.Cognito)}async getGuestCredentials(e,a){var et,tt;if(this._credentialsAndIdentityId&&!this.isPastTTL()&&this._credentialsAndIdentityId.isAuthenticatedCreds===!1)return logger$3.info("returning stored credentials as they neither past TTL nor expired."),this._credentialsAndIdentityId;this.clearCredentials();const _=getRegionFromIdentityPoolId(a.identityPoolId),b=createGetCredentialsForIdentityClient({endpointResolver:createCognitoIdentityPoolEndpointResolver({endpointOverride:a.identityPoolEndpoint})});let _e;try{_e=await b({region:_},{IdentityId:e})}catch(nt){throw assertServiceError(nt),new AuthError(nt)}if((et=_e==null?void 0:_e.Credentials)!=null&&et.AccessKeyId&&((tt=_e==null?void 0:_e.Credentials)!=null&&tt.SecretKey)){this._nextCredentialsRefresh=new Date().getTime()+CREDENTIALS_TTL;const nt={credentials:{accessKeyId:_e.Credentials.AccessKeyId,secretAccessKey:_e.Credentials.SecretKey,sessionToken:_e.Credentials.SessionToken,expiration:_e.Credentials.Expiration},identityId:e};return _e.IdentityId&&(nt.identityId=_e.IdentityId,this._identityIdStore.storeIdentityId({id:_e.IdentityId,type:"guest"})),this._credentialsAndIdentityId={...nt,isAuthenticatedCreds:!1},nt}else throw new AuthError({name:"CredentialsNotFoundException",message:"Cognito did not respond with either Credentials, AccessKeyId or SecretKey."})}async credsForOIDCTokens(e,a,_){var nt,it,ot;if(this._credentialsAndIdentityId&&!this.isPastTTL()&&this._credentialsAndIdentityId.isAuthenticatedCreds===!0)return logger$3.debug("returning stored credentials as they neither past TTL nor expired."),this._credentialsAndIdentityId;this.clearCredentials();const b=a.idToken?formLoginsMap(a.idToken.toString()):{},_e=getRegionFromIdentityPoolId(e.identityPoolId),et=createGetCredentialsForIdentityClient({endpointResolver:createCognitoIdentityPoolEndpointResolver({endpointOverride:e.identityPoolEndpoint})});let tt;try{tt=await et({region:_e},{IdentityId:_,Logins:b})}catch(st){throw assertServiceError(st),new AuthError(st)}if((nt=tt==null?void 0:tt.Credentials)!=null&&nt.AccessKeyId&&((it=tt==null?void 0:tt.Credentials)!=null&&it.SecretKey)){this._nextCredentialsRefresh=new Date().getTime()+CREDENTIALS_TTL;const st={credentials:{accessKeyId:tt.Credentials.AccessKeyId,secretAccessKey:tt.Credentials.SecretKey,sessionToken:tt.Credentials.SessionToken,expiration:tt.Credentials.Expiration},identityId:_};return tt.IdentityId&&(st.identityId=tt.IdentityId,this._identityIdStore.storeIdentityId({id:tt.IdentityId,type:"primary"})),this._credentialsAndIdentityId={...st,isAuthenticatedCreds:!0,associatedIdToken:(ot=a.idToken)==null?void 0:ot.toString()},st}else throw new AuthError({name:"CredentialsException",message:"Cognito did not respond with either Credentials, AccessKeyId or SecretKey."})}isPastTTL(){return this._nextCredentialsRefresh===void 0?!0:this._nextCredentialsRefresh<=Date.now()}hasTokenChanged(e){var a,_;return!!e&&!!((a=this._credentialsAndIdentityId)!=null&&a.associatedIdToken)&&((_=e.idToken)==null?void 0:_.toString())!==this._credentialsAndIdentityId.associatedIdToken}}const cognitoCredentialsProvider=new CognitoAWSCredentialsAndIdentityIdProvider(new DefaultIdentityIdStore(defaultStorage)),DefaultAmplify={configure(o,e){const a=parseAmplifyConfig(o),_=new CookieStorage({sameSite:"lax"}),b=e!=null&&e.ssr?_:defaultStorage,_e=e!=null&&e.ssr?new CognitoAWSCredentialsAndIdentityIdProvider(new DefaultIdentityIdStore(_)):cognitoCredentialsProvider;if(!a.Auth){Amplify.configure(a,e);return}if(e!=null&&e.Auth){Amplify.configure(a,e);return}if(!Amplify.libraryOptions.Auth){cognitoUserPoolsTokenProvider.setAuthConfig(a.Auth),cognitoUserPoolsTokenProvider.setKeyValueStorage(b),Amplify.configure(a,{...e,Auth:{tokenProvider:cognitoUserPoolsTokenProvider,credentialsProvider:_e}});return}if(e){const et=Amplify.libraryOptions.Auth;e.ssr!==void 0&&(cognitoUserPoolsTokenProvider.setKeyValueStorage(b),et.credentialsProvider=_e),Amplify.configure(a,{Auth:et,...e});return}Amplify.configure(a)},getConfig(){return Amplify.getConfig()}};function _typeof$2(o){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$2=function(a){return typeof a}:_typeof$2=function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof$2(o)}function isObjectLike(o){return _typeof$2(o)=="object"&&o!==null}var SYMBOL_TO_STRING_TAG=typeof Symbol=="function"&&Symbol.toStringTag!=null?Symbol.toStringTag:"@@toStringTag";function getLocation(o,e){for(var a=/\r\n|[\n\r]/g,_=1,b=e+1,_e;(_e=a.exec(o.body))&&_e.index<e;)_+=1,b=e+1-(_e.index+_e[0].length);return{line:_,column:b}}function printLocation(o){return printSourceLocation(o.source,getLocation(o.source,o.start))}function printSourceLocation(o,e){var a=o.locationOffset.column-1,_=whitespace(a)+o.body,b=e.line-1,_e=o.locationOffset.line-1,et=e.line+_e,tt=e.line===1?a:0,nt=e.column+tt,it="".concat(o.name,":").concat(et,":").concat(nt,`
`),ot=_.split(/\r\n|[\n\r]/g),st=ot[b];if(st.length>120){for(var at=Math.floor(nt/80),lt=nt%80,ut=[],ft=0;ft<st.length;ft+=80)ut.push(st.slice(ft,ft+80));return it+printPrefixedLines([["".concat(et),ut[0]]].concat(ut.slice(1,at+1).map(function(mt){return["",mt]}),[[" ",whitespace(lt-1)+"^"],["",ut[at+1]]]))}return it+printPrefixedLines([["".concat(et-1),ot[b-1]],["".concat(et),st],["",whitespace(nt-1)+"^"],["".concat(et+1),ot[b+1]]])}function printPrefixedLines(o){var e=o.filter(function(_){_[0];var b=_[1];return b!==void 0}),a=Math.max.apply(Math,e.map(function(_){var b=_[0];return b.length}));return e.map(function(_){var b=_[0],_e=_[1];return leftPad(a,b)+(_e?" | "+_e:" |")}).join(`
`)}function whitespace(o){return Array(o+1).join(" ")}function leftPad(o,e){return whitespace(o-e.length)+e}function _typeof$1(o){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$1=function(a){return typeof a}:_typeof$1=function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof$1(o)}function ownKeys(o,e){var a=Object.keys(o);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(o);e&&(_=_.filter(function(b){return Object.getOwnPropertyDescriptor(o,b).enumerable})),a.push.apply(a,_)}return a}function _objectSpread(o){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?ownKeys(Object(a),!0).forEach(function(_){_defineProperty(o,_,a[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(a)):ownKeys(Object(a)).forEach(function(_){Object.defineProperty(o,_,Object.getOwnPropertyDescriptor(a,_))})}return o}function _defineProperty(o,e,a){return e in o?Object.defineProperty(o,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):o[e]=a,o}function _classCallCheck(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$1(o,e){for(var a=0;a<e.length;a++){var _=e[a];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(o,_.key,_)}}function _createClass$1(o,e,a){return e&&_defineProperties$1(o.prototype,e),o}function _inherits(o,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),e&&_setPrototypeOf(o,e)}function _createSuper(o){var e=_isNativeReflectConstruct();return function(){var _=_getPrototypeOf(o),b;if(e){var _e=_getPrototypeOf(this).constructor;b=Reflect.construct(_,arguments,_e)}else b=_.apply(this,arguments);return _possibleConstructorReturn(this,b)}}function _possibleConstructorReturn(o,e){return e&&(_typeof$1(e)==="object"||typeof e=="function")?e:_assertThisInitialized(o)}function _assertThisInitialized(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function _wrapNativeSuper(o){var e=typeof Map=="function"?new Map:void 0;return _wrapNativeSuper=function(_){if(_===null||!_isNativeFunction(_))return _;if(typeof _!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(_))return e.get(_);e.set(_,b)}function b(){return _construct(_,arguments,_getPrototypeOf(this).constructor)}return b.prototype=Object.create(_.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(b,_)},_wrapNativeSuper(o)}function _construct(o,e,a){return _isNativeReflectConstruct()?_construct=Reflect.construct:_construct=function(b,_e,et){var tt=[null];tt.push.apply(tt,_e);var nt=Function.bind.apply(b,tt),it=new nt;return et&&_setPrototypeOf(it,et.prototype),it},_construct.apply(null,arguments)}function _isNativeReflectConstruct(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function _isNativeFunction(o){return Function.toString.call(o).indexOf("[native code]")!==-1}function _setPrototypeOf(o,e){return _setPrototypeOf=Object.setPrototypeOf||function(_,b){return _.__proto__=b,_},_setPrototypeOf(o,e)}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)},_getPrototypeOf(o)}var GraphQLError=function(o){_inherits(a,o);var e=_createSuper(a);function a(_,b,_e,et,tt,nt,it){var ot,st,at,lt;_classCallCheck(this,a),lt=e.call(this,_),lt.name="GraphQLError",lt.originalError=nt??void 0,lt.nodes=undefinedIfEmpty(Array.isArray(b)?b:b?[b]:void 0);for(var ut=[],ft=0,mt=(ht=lt.nodes)!==null&&ht!==void 0?ht:[];ft<mt.length;ft++){var ht,vt=mt[ft],Et=vt.loc;Et!=null&&ut.push(Et)}ut=undefinedIfEmpty(ut),lt.source=_e??((ot=ut)===null||ot===void 0?void 0:ot[0].source),lt.positions=et??((st=ut)===null||st===void 0?void 0:st.map(function(Ct){return Ct.start})),lt.locations=et&&_e?et.map(function(Ct){return getLocation(_e,Ct)}):(at=ut)===null||at===void 0?void 0:at.map(function(Ct){return getLocation(Ct.source,Ct.start)}),lt.path=tt??void 0;var At=nt==null?void 0:nt.extensions;return it==null&&isObjectLike(At)?lt.extensions=_objectSpread({},At):lt.extensions=it??{},Object.defineProperties(_assertThisInitialized(lt),{message:{enumerable:!0},locations:{enumerable:lt.locations!=null},path:{enumerable:lt.path!=null},extensions:{enumerable:lt.extensions!=null&&Object.keys(lt.extensions).length>0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),nt!=null&&nt.stack?(Object.defineProperty(_assertThisInitialized(lt),"stack",{value:nt.stack,writable:!0,configurable:!0}),_possibleConstructorReturn(lt)):(Error.captureStackTrace?Error.captureStackTrace(_assertThisInitialized(lt),a):Object.defineProperty(_assertThisInitialized(lt),"stack",{value:Error().stack,writable:!0,configurable:!0}),lt)}return _createClass$1(a,[{key:"toString",value:function(){return printError(this)}},{key:SYMBOL_TO_STRING_TAG,get:function(){return"Object"}}]),a}(_wrapNativeSuper(Error));function undefinedIfEmpty(o){return o===void 0||o.length===0?void 0:o}function printError(o){var e=o.message;if(o.nodes)for(var a=0,_=o.nodes;a<_.length;a++){var b=_[a];b.loc&&(e+=`

`+printLocation(b.loc))}else if(o.source&&o.locations)for(var _e=0,et=o.locations;_e<et.length;_e++){var tt=et[_e];e+=`

`+printSourceLocation(o.source,tt)}return e}function syntaxError(o,e,a){return new GraphQLError("Syntax Error: ".concat(a),void 0,o,[e])}var Kind=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"});function invariant(o,e){var a=!!o;if(!a)throw new Error("Unexpected invariant triggered.")}var nodejsCustomInspectSymbol=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):void 0;function defineInspect(o){var e=o.prototype.toJSON;typeof e=="function"||invariant(0),o.prototype.inspect=e,nodejsCustomInspectSymbol&&(o.prototype[nodejsCustomInspectSymbol]=e)}var Location=function(){function o(a,_,b){this.start=a.start,this.end=_.end,this.startToken=a,this.endToken=_,this.source=b}var e=o.prototype;return e.toJSON=function(){return{start:this.start,end:this.end}},o}();defineInspect(Location);var Token=function(){function o(a,_,b,_e,et,tt,nt){this.kind=a,this.start=_,this.end=b,this.line=_e,this.column=et,this.value=nt,this.prev=tt,this.next=null}var e=o.prototype;return e.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},o}();defineInspect(Token);function isNode(o){return o!=null&&typeof o.kind=="string"}var TokenKind=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"});function _typeof(o){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function(a){return typeof a}:_typeof=function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(o)}var MAX_ARRAY_LENGTH=10,MAX_RECURSIVE_DEPTH=2;function inspect(o){return formatValue(o,[])}function formatValue(o,e){switch(_typeof(o)){case"string":return JSON.stringify(o);case"function":return o.name?"[function ".concat(o.name,"]"):"[function]";case"object":return o===null?"null":formatObjectValue(o,e);default:return String(o)}}function formatObjectValue(o,e){if(e.indexOf(o)!==-1)return"[Circular]";var a=[].concat(e,[o]),_=getCustomFn(o);if(_!==void 0){var b=_.call(o);if(b!==o)return typeof b=="string"?b:formatValue(b,a)}else if(Array.isArray(o))return formatArray(o,a);return formatObject(o,a)}function formatObject(o,e){var a=Object.keys(o);if(a.length===0)return"{}";if(e.length>MAX_RECURSIVE_DEPTH)return"["+getObjectTag(o)+"]";var _=a.map(function(b){var _e=formatValue(o[b],e);return b+": "+_e});return"{ "+_.join(", ")+" }"}function formatArray(o,e){if(o.length===0)return"[]";if(e.length>MAX_RECURSIVE_DEPTH)return"[Array]";for(var a=Math.min(MAX_ARRAY_LENGTH,o.length),_=o.length-a,b=[],_e=0;_e<a;++_e)b.push(formatValue(o[_e],e));return _===1?b.push("... 1 more item"):_>1&&b.push("... ".concat(_," more items")),"["+b.join(", ")+"]"}function getCustomFn(o){var e=o[String(nodejsCustomInspectSymbol)];if(typeof e=="function")return e;if(typeof o.inspect=="function")return o.inspect}function getObjectTag(o){var e=Object.prototype.toString.call(o).replace(/^\[object /,"").replace(/]$/,"");if(e==="Object"&&typeof o.constructor=="function"){var a=o.constructor.name;if(typeof a=="string"&&a!=="")return a}return e}function devAssert(o,e){var a=!!o;if(!a)throw new Error(e)}const instanceOf=function o(e,a){return e instanceof a};function _defineProperties(o,e){for(var a=0;a<e.length;a++){var _=e[a];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(o,_.key,_)}}function _createClass(o,e,a){return e&&_defineProperties(o.prototype,e),o}var Source=function(){function o(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"GraphQL request",_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{line:1,column:1};typeof e=="string"||devAssert(0,"Body must be a string. Received: ".concat(inspect(e),".")),this.body=e,this.name=a,this.locationOffset=_,this.locationOffset.line>0||devAssert(0,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||devAssert(0,"column in locationOffset is 1-indexed and must be positive.")}return _createClass(o,[{key:SYMBOL_TO_STRING_TAG,get:function(){return"Source"}}]),o}();function isSource(o){return instanceOf(o,Source)}var DirectiveLocation=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"});function dedentBlockStringValue(o){var e=o.split(/\r\n|[\n\r]/g),a=getBlockStringIndentation(o);if(a!==0)for(var _=1;_<e.length;_++)e[_]=e[_].slice(a);for(var b=0;b<e.length&&isBlank(e[b]);)++b;for(var _e=e.length;_e>b&&isBlank(e[_e-1]);)--_e;return e.slice(b,_e).join(`
`)}function isBlank(o){for(var e=0;e<o.length;++e)if(o[e]!==" "&&o[e]!=="	")return!1;return!0}function getBlockStringIndentation(o){for(var e,a=!0,_=!0,b=0,_e=null,et=0;et<o.length;++et)switch(o.charCodeAt(et)){case 13:o.charCodeAt(et+1)===10&&++et;case 10:a=!1,_=!0,b=0;break;case 9:case 32:++b;break;default:_&&!a&&(_e===null||b<_e)&&(_e=b),_=!1}return(e=_e)!==null&&e!==void 0?e:0}function printBlockString(o){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,_=o.indexOf(`
`)===-1,b=o[0]===" "||o[0]==="	",_e=o[o.length-1]==='"',et=o[o.length-1]==="\\",tt=!_||_e||et||a,nt="";return tt&&!(_&&b)&&(nt+=`
`+e),nt+=e?o.replace(/\n/g,`
`+e):o,tt&&(nt+=`
`),'"""'+nt.replace(/"""/g,'\\"""')+'"""'}var Lexer=function(){function o(a){var _=new Token(TokenKind.SOF,0,0,0,0,null);this.source=a,this.lastToken=_,this.token=_,this.line=1,this.lineStart=0}var e=o.prototype;return e.advance=function(){this.lastToken=this.token;var _=this.token=this.lookahead();return _},e.lookahead=function(){var _=this.token;if(_.kind!==TokenKind.EOF)do{var b;_=(b=_.next)!==null&&b!==void 0?b:_.next=readToken(this,_)}while(_.kind===TokenKind.COMMENT);return _},o}();function isPunctuatorTokenKind(o){return o===TokenKind.BANG||o===TokenKind.DOLLAR||o===TokenKind.AMP||o===TokenKind.PAREN_L||o===TokenKind.PAREN_R||o===TokenKind.SPREAD||o===TokenKind.COLON||o===TokenKind.EQUALS||o===TokenKind.AT||o===TokenKind.BRACKET_L||o===TokenKind.BRACKET_R||o===TokenKind.BRACE_L||o===TokenKind.PIPE||o===TokenKind.BRACE_R}function printCharCode(o){return isNaN(o)?TokenKind.EOF:o<127?JSON.stringify(String.fromCharCode(o)):'"\\u'.concat(("00"+o.toString(16).toUpperCase()).slice(-4),'"')}function readToken(o,e){for(var a=o.source,_=a.body,b=_.length,_e=e.end;_e<b;){var et=_.charCodeAt(_e),tt=o.line,nt=1+_e-o.lineStart;switch(et){case 65279:case 9:case 32:case 44:++_e;continue;case 10:++_e,++o.line,o.lineStart=_e;continue;case 13:_.charCodeAt(_e+1)===10?_e+=2:++_e,++o.line,o.lineStart=_e;continue;case 33:return new Token(TokenKind.BANG,_e,_e+1,tt,nt,e);case 35:return readComment(a,_e,tt,nt,e);case 36:return new Token(TokenKind.DOLLAR,_e,_e+1,tt,nt,e);case 38:return new Token(TokenKind.AMP,_e,_e+1,tt,nt,e);case 40:return new Token(TokenKind.PAREN_L,_e,_e+1,tt,nt,e);case 41:return new Token(TokenKind.PAREN_R,_e,_e+1,tt,nt,e);case 46:if(_.charCodeAt(_e+1)===46&&_.charCodeAt(_e+2)===46)return new Token(TokenKind.SPREAD,_e,_e+3,tt,nt,e);break;case 58:return new Token(TokenKind.COLON,_e,_e+1,tt,nt,e);case 61:return new Token(TokenKind.EQUALS,_e,_e+1,tt,nt,e);case 64:return new Token(TokenKind.AT,_e,_e+1,tt,nt,e);case 91:return new Token(TokenKind.BRACKET_L,_e,_e+1,tt,nt,e);case 93:return new Token(TokenKind.BRACKET_R,_e,_e+1,tt,nt,e);case 123:return new Token(TokenKind.BRACE_L,_e,_e+1,tt,nt,e);case 124:return new Token(TokenKind.PIPE,_e,_e+1,tt,nt,e);case 125:return new Token(TokenKind.BRACE_R,_e,_e+1,tt,nt,e);case 34:return _.charCodeAt(_e+1)===34&&_.charCodeAt(_e+2)===34?readBlockString(a,_e,tt,nt,e,o):readString(a,_e,tt,nt,e);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return readNumber(a,_e,et,tt,nt,e);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return readName(a,_e,tt,nt,e)}throw syntaxError(a,_e,unexpectedCharacterMessage(et))}var it=o.line,ot=1+_e-o.lineStart;return new Token(TokenKind.EOF,b,b,it,ot,e)}function unexpectedCharacterMessage(o){return o<32&&o!==9&&o!==10&&o!==13?"Cannot contain the invalid character ".concat(printCharCode(o),"."):o===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:"Cannot parse the unexpected character ".concat(printCharCode(o),".")}function readComment(o,e,a,_,b){var _e=o.body,et,tt=e;do et=_e.charCodeAt(++tt);while(!isNaN(et)&&(et>31||et===9));return new Token(TokenKind.COMMENT,e,tt,a,_,b,_e.slice(e+1,tt))}function readNumber(o,e,a,_,b,_e){var et=o.body,tt=a,nt=e,it=!1;if(tt===45&&(tt=et.charCodeAt(++nt)),tt===48){if(tt=et.charCodeAt(++nt),tt>=48&&tt<=57)throw syntaxError(o,nt,"Invalid number, unexpected digit after 0: ".concat(printCharCode(tt),"."))}else nt=readDigits(o,nt,tt),tt=et.charCodeAt(nt);if(tt===46&&(it=!0,tt=et.charCodeAt(++nt),nt=readDigits(o,nt,tt),tt=et.charCodeAt(nt)),(tt===69||tt===101)&&(it=!0,tt=et.charCodeAt(++nt),(tt===43||tt===45)&&(tt=et.charCodeAt(++nt)),nt=readDigits(o,nt,tt),tt=et.charCodeAt(nt)),tt===46||isNameStart(tt))throw syntaxError(o,nt,"Invalid number, expected digit but got: ".concat(printCharCode(tt),"."));return new Token(it?TokenKind.FLOAT:TokenKind.INT,e,nt,_,b,_e,et.slice(e,nt))}function readDigits(o,e,a){var _=o.body,b=e,_e=a;if(_e>=48&&_e<=57){do _e=_.charCodeAt(++b);while(_e>=48&&_e<=57);return b}throw syntaxError(o,b,"Invalid number, expected digit but got: ".concat(printCharCode(_e),"."))}function readString(o,e,a,_,b){for(var _e=o.body,et=e+1,tt=et,nt=0,it="";et<_e.length&&!isNaN(nt=_e.charCodeAt(et))&&nt!==10&&nt!==13;){if(nt===34)return it+=_e.slice(tt,et),new Token(TokenKind.STRING,e,et+1,a,_,b,it);if(nt<32&&nt!==9)throw syntaxError(o,et,"Invalid character within String: ".concat(printCharCode(nt),"."));if(++et,nt===92){switch(it+=_e.slice(tt,et-1),nt=_e.charCodeAt(et),nt){case 34:it+='"';break;case 47:it+="/";break;case 92:it+="\\";break;case 98:it+="\b";break;case 102:it+="\f";break;case 110:it+=`
`;break;case 114:it+="\r";break;case 116:it+="	";break;case 117:{var ot=uniCharCode(_e.charCodeAt(et+1),_e.charCodeAt(et+2),_e.charCodeAt(et+3),_e.charCodeAt(et+4));if(ot<0){var st=_e.slice(et+1,et+5);throw syntaxError(o,et,"Invalid character escape sequence: \\u".concat(st,"."))}it+=String.fromCharCode(ot),et+=4;break}default:throw syntaxError(o,et,"Invalid character escape sequence: \\".concat(String.fromCharCode(nt),"."))}++et,tt=et}}throw syntaxError(o,et,"Unterminated string.")}function readBlockString(o,e,a,_,b,_e){for(var et=o.body,tt=e+3,nt=tt,it=0,ot="";tt<et.length&&!isNaN(it=et.charCodeAt(tt));){if(it===34&&et.charCodeAt(tt+1)===34&&et.charCodeAt(tt+2)===34)return ot+=et.slice(nt,tt),new Token(TokenKind.BLOCK_STRING,e,tt+3,a,_,b,dedentBlockStringValue(ot));if(it<32&&it!==9&&it!==10&&it!==13)throw syntaxError(o,tt,"Invalid character within String: ".concat(printCharCode(it),"."));it===10?(++tt,++_e.line,_e.lineStart=tt):it===13?(et.charCodeAt(tt+1)===10?tt+=2:++tt,++_e.line,_e.lineStart=tt):it===92&&et.charCodeAt(tt+1)===34&&et.charCodeAt(tt+2)===34&&et.charCodeAt(tt+3)===34?(ot+=et.slice(nt,tt)+'"""',tt+=4,nt=tt):++tt}throw syntaxError(o,tt,"Unterminated string.")}function uniCharCode(o,e,a,_){return char2hex(o)<<12|char2hex(e)<<8|char2hex(a)<<4|char2hex(_)}function char2hex(o){return o>=48&&o<=57?o-48:o>=65&&o<=70?o-55:o>=97&&o<=102?o-87:-1}function readName(o,e,a,_,b){for(var _e=o.body,et=_e.length,tt=e+1,nt=0;tt!==et&&!isNaN(nt=_e.charCodeAt(tt))&&(nt===95||nt>=48&&nt<=57||nt>=65&&nt<=90||nt>=97&&nt<=122);)++tt;return new Token(TokenKind.NAME,e,tt,a,_,b,_e.slice(e,tt))}function isNameStart(o){return o===95||o>=65&&o<=90||o>=97&&o<=122}function parse$1(o,e){var a=new Parser(o,e);return a.parseDocument()}var Parser=function(){function o(a,_){var b=isSource(a)?a:new Source(a);this._lexer=new Lexer(b),this._options=_}var e=o.prototype;return e.parseName=function(){var _=this.expectToken(TokenKind.NAME);return{kind:Kind.NAME,value:_.value,loc:this.loc(_)}},e.parseDocument=function(){var _=this._lexer.token;return{kind:Kind.DOCUMENT,definitions:this.many(TokenKind.SOF,this.parseDefinition,TokenKind.EOF),loc:this.loc(_)}},e.parseDefinition=function(){if(this.peek(TokenKind.NAME))switch(this._lexer.token.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return this.parseTypeSystemDefinition();case"extend":return this.parseTypeSystemExtension()}else{if(this.peek(TokenKind.BRACE_L))return this.parseOperationDefinition();if(this.peekDescription())return this.parseTypeSystemDefinition()}throw this.unexpected()},e.parseOperationDefinition=function(){var _=this._lexer.token;if(this.peek(TokenKind.BRACE_L))return{kind:Kind.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet(),loc:this.loc(_)};var b=this.parseOperationType(),_e;return this.peek(TokenKind.NAME)&&(_e=this.parseName()),{kind:Kind.OPERATION_DEFINITION,operation:b,name:_e,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(_)}},e.parseOperationType=function(){var _=this.expectToken(TokenKind.NAME);switch(_.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw this.unexpected(_)},e.parseVariableDefinitions=function(){return this.optionalMany(TokenKind.PAREN_L,this.parseVariableDefinition,TokenKind.PAREN_R)},e.parseVariableDefinition=function(){var _=this._lexer.token;return{kind:Kind.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(TokenKind.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(TokenKind.EQUALS)?this.parseValueLiteral(!0):void 0,directives:this.parseDirectives(!0),loc:this.loc(_)}},e.parseVariable=function(){var _=this._lexer.token;return this.expectToken(TokenKind.DOLLAR),{kind:Kind.VARIABLE,name:this.parseName(),loc:this.loc(_)}},e.parseSelectionSet=function(){var _=this._lexer.token;return{kind:Kind.SELECTION_SET,selections:this.many(TokenKind.BRACE_L,this.parseSelection,TokenKind.BRACE_R),loc:this.loc(_)}},e.parseSelection=function(){return this.peek(TokenKind.SPREAD)?this.parseFragment():this.parseField()},e.parseField=function(){var _=this._lexer.token,b=this.parseName(),_e,et;return this.expectOptionalToken(TokenKind.COLON)?(_e=b,et=this.parseName()):et=b,{kind:Kind.FIELD,alias:_e,name:et,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(TokenKind.BRACE_L)?this.parseSelectionSet():void 0,loc:this.loc(_)}},e.parseArguments=function(_){var b=_?this.parseConstArgument:this.parseArgument;return this.optionalMany(TokenKind.PAREN_L,b,TokenKind.PAREN_R)},e.parseArgument=function(){var _=this._lexer.token,b=this.parseName();return this.expectToken(TokenKind.COLON),{kind:Kind.ARGUMENT,name:b,value:this.parseValueLiteral(!1),loc:this.loc(_)}},e.parseConstArgument=function(){var _=this._lexer.token;return{kind:Kind.ARGUMENT,name:this.parseName(),value:(this.expectToken(TokenKind.COLON),this.parseValueLiteral(!0)),loc:this.loc(_)}},e.parseFragment=function(){var _=this._lexer.token;this.expectToken(TokenKind.SPREAD);var b=this.expectOptionalKeyword("on");return!b&&this.peek(TokenKind.NAME)?{kind:Kind.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1),loc:this.loc(_)}:{kind:Kind.INLINE_FRAGMENT,typeCondition:b?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(_)}},e.parseFragmentDefinition=function(){var _,b=this._lexer.token;return this.expectKeyword("fragment"),((_=this._options)===null||_===void 0?void 0:_.experimentalFragmentVariables)===!0?{kind:Kind.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(b)}:{kind:Kind.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(b)}},e.parseFragmentName=function(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()},e.parseValueLiteral=function(_){var b=this._lexer.token;switch(b.kind){case TokenKind.BRACKET_L:return this.parseList(_);case TokenKind.BRACE_L:return this.parseObject(_);case TokenKind.INT:return this._lexer.advance(),{kind:Kind.INT,value:b.value,loc:this.loc(b)};case TokenKind.FLOAT:return this._lexer.advance(),{kind:Kind.FLOAT,value:b.value,loc:this.loc(b)};case TokenKind.STRING:case TokenKind.BLOCK_STRING:return this.parseStringLiteral();case TokenKind.NAME:switch(this._lexer.advance(),b.value){case"true":return{kind:Kind.BOOLEAN,value:!0,loc:this.loc(b)};case"false":return{kind:Kind.BOOLEAN,value:!1,loc:this.loc(b)};case"null":return{kind:Kind.NULL,loc:this.loc(b)};default:return{kind:Kind.ENUM,value:b.value,loc:this.loc(b)}}case TokenKind.DOLLAR:if(!_)return this.parseVariable();break}throw this.unexpected()},e.parseStringLiteral=function(){var _=this._lexer.token;return this._lexer.advance(),{kind:Kind.STRING,value:_.value,block:_.kind===TokenKind.BLOCK_STRING,loc:this.loc(_)}},e.parseList=function(_){var b=this,_e=this._lexer.token,et=function(){return b.parseValueLiteral(_)};return{kind:Kind.LIST,values:this.any(TokenKind.BRACKET_L,et,TokenKind.BRACKET_R),loc:this.loc(_e)}},e.parseObject=function(_){var b=this,_e=this._lexer.token,et=function(){return b.parseObjectField(_)};return{kind:Kind.OBJECT,fields:this.any(TokenKind.BRACE_L,et,TokenKind.BRACE_R),loc:this.loc(_e)}},e.parseObjectField=function(_){var b=this._lexer.token,_e=this.parseName();return this.expectToken(TokenKind.COLON),{kind:Kind.OBJECT_FIELD,name:_e,value:this.parseValueLiteral(_),loc:this.loc(b)}},e.parseDirectives=function(_){for(var b=[];this.peek(TokenKind.AT);)b.push(this.parseDirective(_));return b},e.parseDirective=function(_){var b=this._lexer.token;return this.expectToken(TokenKind.AT),{kind:Kind.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(_),loc:this.loc(b)}},e.parseTypeReference=function(){var _=this._lexer.token,b;return this.expectOptionalToken(TokenKind.BRACKET_L)?(b=this.parseTypeReference(),this.expectToken(TokenKind.BRACKET_R),b={kind:Kind.LIST_TYPE,type:b,loc:this.loc(_)}):b=this.parseNamedType(),this.expectOptionalToken(TokenKind.BANG)?{kind:Kind.NON_NULL_TYPE,type:b,loc:this.loc(_)}:b},e.parseNamedType=function(){var _=this._lexer.token;return{kind:Kind.NAMED_TYPE,name:this.parseName(),loc:this.loc(_)}},e.parseTypeSystemDefinition=function(){var _=this.peekDescription()?this._lexer.lookahead():this._lexer.token;if(_.kind===TokenKind.NAME)switch(_.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}throw this.unexpected(_)},e.peekDescription=function(){return this.peek(TokenKind.STRING)||this.peek(TokenKind.BLOCK_STRING)},e.parseDescription=function(){if(this.peekDescription())return this.parseStringLiteral()},e.parseSchemaDefinition=function(){var _=this._lexer.token,b=this.parseDescription();this.expectKeyword("schema");var _e=this.parseDirectives(!0),et=this.many(TokenKind.BRACE_L,this.parseOperationTypeDefinition,TokenKind.BRACE_R);return{kind:Kind.SCHEMA_DEFINITION,description:b,directives:_e,operationTypes:et,loc:this.loc(_)}},e.parseOperationTypeDefinition=function(){var _=this._lexer.token,b=this.parseOperationType();this.expectToken(TokenKind.COLON);var _e=this.parseNamedType();return{kind:Kind.OPERATION_TYPE_DEFINITION,operation:b,type:_e,loc:this.loc(_)}},e.parseScalarTypeDefinition=function(){var _=this._lexer.token,b=this.parseDescription();this.expectKeyword("scalar");var _e=this.parseName(),et=this.parseDirectives(!0);return{kind:Kind.SCALAR_TYPE_DEFINITION,description:b,name:_e,directives:et,loc:this.loc(_)}},e.parseObjectTypeDefinition=function(){var _=this._lexer.token,b=this.parseDescription();this.expectKeyword("type");var _e=this.parseName(),et=this.parseImplementsInterfaces(),tt=this.parseDirectives(!0),nt=this.parseFieldsDefinition();return{kind:Kind.OBJECT_TYPE_DEFINITION,description:b,name:_e,interfaces:et,directives:tt,fields:nt,loc:this.loc(_)}},e.parseImplementsInterfaces=function(){var _;if(!this.expectOptionalKeyword("implements"))return[];if(((_=this._options)===null||_===void 0?void 0:_.allowLegacySDLImplementsInterfaces)===!0){var b=[];this.expectOptionalToken(TokenKind.AMP);do b.push(this.parseNamedType());while(this.expectOptionalToken(TokenKind.AMP)||this.peek(TokenKind.NAME));return b}return this.delimitedMany(TokenKind.AMP,this.parseNamedType)},e.parseFieldsDefinition=function(){var _;return((_=this._options)===null||_===void 0?void 0:_.allowLegacySDLEmptyFields)===!0&&this.peek(TokenKind.BRACE_L)&&this._lexer.lookahead().kind===TokenKind.BRACE_R?(this._lexer.advance(),this._lexer.advance(),[]):this.optionalMany(TokenKind.BRACE_L,this.parseFieldDefinition,TokenKind.BRACE_R)},e.parseFieldDefinition=function(){var _=this._lexer.token,b=this.parseDescription(),_e=this.parseName(),et=this.parseArgumentDefs();this.expectToken(TokenKind.COLON);var tt=this.parseTypeReference(),nt=this.parseDirectives(!0);return{kind:Kind.FIELD_DEFINITION,description:b,name:_e,arguments:et,type:tt,directives:nt,loc:this.loc(_)}},e.parseArgumentDefs=function(){return this.optionalMany(TokenKind.PAREN_L,this.parseInputValueDef,TokenKind.PAREN_R)},e.parseInputValueDef=function(){var _=this._lexer.token,b=this.parseDescription(),_e=this.parseName();this.expectToken(TokenKind.COLON);var et=this.parseTypeReference(),tt;this.expectOptionalToken(TokenKind.EQUALS)&&(tt=this.parseValueLiteral(!0));var nt=this.parseDirectives(!0);return{kind:Kind.INPUT_VALUE_DEFINITION,description:b,name:_e,type:et,defaultValue:tt,directives:nt,loc:this.loc(_)}},e.parseInterfaceTypeDefinition=function(){var _=this._lexer.token,b=this.parseDescription();this.expectKeyword("interface");var _e=this.parseName(),et=this.parseImplementsInterfaces(),tt=this.parseDirectives(!0),nt=this.parseFieldsDefinition();return{kind:Kind.INTERFACE_TYPE_DEFINITION,description:b,name:_e,interfaces:et,directives:tt,fields:nt,loc:this.loc(_)}},e.parseUnionTypeDefinition=function(){var _=this._lexer.token,b=this.parseDescription();this.expectKeyword("union");var _e=this.parseName(),et=this.parseDirectives(!0),tt=this.parseUnionMemberTypes();return{kind:Kind.UNION_TYPE_DEFINITION,description:b,name:_e,directives:et,types:tt,loc:this.loc(_)}},e.parseUnionMemberTypes=function(){return this.expectOptionalToken(TokenKind.EQUALS)?this.delimitedMany(TokenKind.PIPE,this.parseNamedType):[]},e.parseEnumTypeDefinition=function(){var _=this._lexer.token,b=this.parseDescription();this.expectKeyword("enum");var _e=this.parseName(),et=this.parseDirectives(!0),tt=this.parseEnumValuesDefinition();return{kind:Kind.ENUM_TYPE_DEFINITION,description:b,name:_e,directives:et,values:tt,loc:this.loc(_)}},e.parseEnumValuesDefinition=function(){return this.optionalMany(TokenKind.BRACE_L,this.parseEnumValueDefinition,TokenKind.BRACE_R)},e.parseEnumValueDefinition=function(){var _=this._lexer.token,b=this.parseDescription(),_e=this.parseName(),et=this.parseDirectives(!0);return{kind:Kind.ENUM_VALUE_DEFINITION,description:b,name:_e,directives:et,loc:this.loc(_)}},e.parseInputObjectTypeDefinition=function(){var _=this._lexer.token,b=this.parseDescription();this.expectKeyword("input");var _e=this.parseName(),et=this.parseDirectives(!0),tt=this.parseInputFieldsDefinition();return{kind:Kind.INPUT_OBJECT_TYPE_DEFINITION,description:b,name:_e,directives:et,fields:tt,loc:this.loc(_)}},e.parseInputFieldsDefinition=function(){return this.optionalMany(TokenKind.BRACE_L,this.parseInputValueDef,TokenKind.BRACE_R)},e.parseTypeSystemExtension=function(){var _=this._lexer.lookahead();if(_.kind===TokenKind.NAME)switch(_.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(_)},e.parseSchemaExtension=function(){var _=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");var b=this.parseDirectives(!0),_e=this.optionalMany(TokenKind.BRACE_L,this.parseOperationTypeDefinition,TokenKind.BRACE_R);if(b.length===0&&_e.length===0)throw this.unexpected();return{kind:Kind.SCHEMA_EXTENSION,directives:b,operationTypes:_e,loc:this.loc(_)}},e.parseScalarTypeExtension=function(){var _=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");var b=this.parseName(),_e=this.parseDirectives(!0);if(_e.length===0)throw this.unexpected();return{kind:Kind.SCALAR_TYPE_EXTENSION,name:b,directives:_e,loc:this.loc(_)}},e.parseObjectTypeExtension=function(){var _=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");var b=this.parseName(),_e=this.parseImplementsInterfaces(),et=this.parseDirectives(!0),tt=this.parseFieldsDefinition();if(_e.length===0&&et.length===0&&tt.length===0)throw this.unexpected();return{kind:Kind.OBJECT_TYPE_EXTENSION,name:b,interfaces:_e,directives:et,fields:tt,loc:this.loc(_)}},e.parseInterfaceTypeExtension=function(){var _=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");var b=this.parseName(),_e=this.parseImplementsInterfaces(),et=this.parseDirectives(!0),tt=this.parseFieldsDefinition();if(_e.length===0&&et.length===0&&tt.length===0)throw this.unexpected();return{kind:Kind.INTERFACE_TYPE_EXTENSION,name:b,interfaces:_e,directives:et,fields:tt,loc:this.loc(_)}},e.parseUnionTypeExtension=function(){var _=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");var b=this.parseName(),_e=this.parseDirectives(!0),et=this.parseUnionMemberTypes();if(_e.length===0&&et.length===0)throw this.unexpected();return{kind:Kind.UNION_TYPE_EXTENSION,name:b,directives:_e,types:et,loc:this.loc(_)}},e.parseEnumTypeExtension=function(){var _=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");var b=this.parseName(),_e=this.parseDirectives(!0),et=this.parseEnumValuesDefinition();if(_e.length===0&&et.length===0)throw this.unexpected();return{kind:Kind.ENUM_TYPE_EXTENSION,name:b,directives:_e,values:et,loc:this.loc(_)}},e.parseInputObjectTypeExtension=function(){var _=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");var b=this.parseName(),_e=this.parseDirectives(!0),et=this.parseInputFieldsDefinition();if(_e.length===0&&et.length===0)throw this.unexpected();return{kind:Kind.INPUT_OBJECT_TYPE_EXTENSION,name:b,directives:_e,fields:et,loc:this.loc(_)}},e.parseDirectiveDefinition=function(){var _=this._lexer.token,b=this.parseDescription();this.expectKeyword("directive"),this.expectToken(TokenKind.AT);var _e=this.parseName(),et=this.parseArgumentDefs(),tt=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var nt=this.parseDirectiveLocations();return{kind:Kind.DIRECTIVE_DEFINITION,description:b,name:_e,arguments:et,repeatable:tt,locations:nt,loc:this.loc(_)}},e.parseDirectiveLocations=function(){return this.delimitedMany(TokenKind.PIPE,this.parseDirectiveLocation)},e.parseDirectiveLocation=function(){var _=this._lexer.token,b=this.parseName();if(DirectiveLocation[b.value]!==void 0)return b;throw this.unexpected(_)},e.loc=function(_){var b;if(((b=this._options)===null||b===void 0?void 0:b.noLocation)!==!0)return new Location(_,this._lexer.lastToken,this._lexer.source)},e.peek=function(_){return this._lexer.token.kind===_},e.expectToken=function(_){var b=this._lexer.token;if(b.kind===_)return this._lexer.advance(),b;throw syntaxError(this._lexer.source,b.start,"Expected ".concat(getTokenKindDesc(_),", found ").concat(getTokenDesc(b),"."))},e.expectOptionalToken=function(_){var b=this._lexer.token;if(b.kind===_)return this._lexer.advance(),b},e.expectKeyword=function(_){var b=this._lexer.token;if(b.kind===TokenKind.NAME&&b.value===_)this._lexer.advance();else throw syntaxError(this._lexer.source,b.start,'Expected "'.concat(_,'", found ').concat(getTokenDesc(b),"."))},e.expectOptionalKeyword=function(_){var b=this._lexer.token;return b.kind===TokenKind.NAME&&b.value===_?(this._lexer.advance(),!0):!1},e.unexpected=function(_){var b=_??this._lexer.token;return syntaxError(this._lexer.source,b.start,"Unexpected ".concat(getTokenDesc(b),"."))},e.any=function(_,b,_e){this.expectToken(_);for(var et=[];!this.expectOptionalToken(_e);)et.push(b.call(this));return et},e.optionalMany=function(_,b,_e){if(this.expectOptionalToken(_)){var et=[];do et.push(b.call(this));while(!this.expectOptionalToken(_e));return et}return[]},e.many=function(_,b,_e){this.expectToken(_);var et=[];do et.push(b.call(this));while(!this.expectOptionalToken(_e));return et},e.delimitedMany=function(_,b){this.expectOptionalToken(_);var _e=[];do _e.push(b.call(this));while(this.expectOptionalToken(_));return _e},o}();function getTokenDesc(o){var e=o.value;return getTokenKindDesc(o.kind)+(e!=null?' "'.concat(e,'"'):"")}function getTokenKindDesc(o){return isPunctuatorTokenKind(o)?'"'.concat(o,'"'):o}var QueryDocumentKeys={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},BREAK=Object.freeze({});function visit(o,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:QueryDocumentKeys,_=void 0,b=Array.isArray(o),_e=[o],et=-1,tt=[],nt=void 0,it=void 0,ot=void 0,st=[],at=[],lt=o;do{et++;var ut=et===_e.length,ft=ut&&tt.length!==0;if(ut){if(it=at.length===0?void 0:st[st.length-1],nt=ot,ot=at.pop(),ft){if(b)nt=nt.slice();else{for(var mt={},ht=0,vt=Object.keys(nt);ht<vt.length;ht++){var Et=vt[ht];mt[Et]=nt[Et]}nt=mt}for(var At=0,Ct=0;Ct<tt.length;Ct++){var Mt=tt[Ct][0],Bt=tt[Ct][1];b&&(Mt-=At),b&&Bt===null?(nt.splice(Mt,1),At++):nt[Mt]=Bt}}et=_.index,_e=_.keys,tt=_.edits,b=_.inArray,_=_.prev}else{if(it=ot?b?et:_e[et]:void 0,nt=ot?ot[it]:lt,nt==null)continue;ot&&st.push(it)}var Lt=void 0;if(!Array.isArray(nt)){if(!isNode(nt))throw new Error("Invalid AST Node: ".concat(inspect(nt),"."));var jt=getVisitFn(e,nt.kind,ut);if(jt){if(Lt=jt.call(e,nt,it,ot,st,at),Lt===BREAK)break;if(Lt===!1){if(!ut){st.pop();continue}}else if(Lt!==void 0&&(tt.push([it,Lt]),!ut))if(isNode(Lt))nt=Lt;else{st.pop();continue}}}if(Lt===void 0&&ft&&tt.push([it,nt]),ut)st.pop();else{var Vt;_={inArray:b,index:et,keys:_e,edits:tt,prev:_},b=Array.isArray(nt),_e=b?nt:(Vt=a[nt.kind])!==null&&Vt!==void 0?Vt:[],et=-1,tt=[],ot&&at.push(ot),ot=nt}}while(_!==void 0);return tt.length!==0&&(lt=tt[tt.length-1][1]),lt}function getVisitFn(o,e,a){var _=o[e];if(_){if(!a&&typeof _=="function")return _;var b=a?_.leave:_.enter;if(typeof b=="function")return b}else{var _e=a?o.leave:o.enter;if(_e){if(typeof _e=="function")return _e;var et=_e[e];if(typeof et=="function")return et}}}function print(o){return visit(o,{leave:printDocASTReducer})}var MAX_LINE_LENGTH=80,printDocASTReducer={Name:function o(e){return e.value},Variable:function o(e){return"$"+e.name},Document:function o(e){return join(e.definitions,`

`)+`
`},OperationDefinition:function o(e){var a=e.operation,_=e.name,b=wrap("(",join(e.variableDefinitions,", "),")"),_e=join(e.directives," "),et=e.selectionSet;return!_&&!_e&&!b&&a==="query"?et:join([a,join([_,b]),_e,et]," ")},VariableDefinition:function o(e){var a=e.variable,_=e.type,b=e.defaultValue,_e=e.directives;return a+": "+_+wrap(" = ",b)+wrap(" ",join(_e," "))},SelectionSet:function o(e){var a=e.selections;return block(a)},Field:function o(e){var a=e.alias,_=e.name,b=e.arguments,_e=e.directives,et=e.selectionSet,tt=wrap("",a,": ")+_,nt=tt+wrap("(",join(b,", "),")");return nt.length>MAX_LINE_LENGTH&&(nt=tt+wrap(`(
`,indent(join(b,`
`)),`
)`)),join([nt,join(_e," "),et]," ")},Argument:function o(e){var a=e.name,_=e.value;return a+": "+_},FragmentSpread:function o(e){var a=e.name,_=e.directives;return"..."+a+wrap(" ",join(_," "))},InlineFragment:function o(e){var a=e.typeCondition,_=e.directives,b=e.selectionSet;return join(["...",wrap("on ",a),join(_," "),b]," ")},FragmentDefinition:function o(e){var a=e.name,_=e.typeCondition,b=e.variableDefinitions,_e=e.directives,et=e.selectionSet;return"fragment ".concat(a).concat(wrap("(",join(b,", "),")")," ")+"on ".concat(_," ").concat(wrap("",join(_e," ")," "))+et},IntValue:function o(e){var a=e.value;return a},FloatValue:function o(e){var a=e.value;return a},StringValue:function o(e,a){var _=e.value,b=e.block;return b?printBlockString(_,a==="description"?"":"  "):JSON.stringify(_)},BooleanValue:function o(e){var a=e.value;return a?"true":"false"},NullValue:function o(){return"null"},EnumValue:function o(e){var a=e.value;return a},ListValue:function o(e){var a=e.values;return"["+join(a,", ")+"]"},ObjectValue:function o(e){var a=e.fields;return"{"+join(a,", ")+"}"},ObjectField:function o(e){var a=e.name,_=e.value;return a+": "+_},Directive:function o(e){var a=e.name,_=e.arguments;return"@"+a+wrap("(",join(_,", "),")")},NamedType:function o(e){var a=e.name;return a},ListType:function o(e){var a=e.type;return"["+a+"]"},NonNullType:function o(e){var a=e.type;return a+"!"},SchemaDefinition:addDescription(function(o){var e=o.directives,a=o.operationTypes;return join(["schema",join(e," "),block(a)]," ")}),OperationTypeDefinition:function o(e){var a=e.operation,_=e.type;return a+": "+_},ScalarTypeDefinition:addDescription(function(o){var e=o.name,a=o.directives;return join(["scalar",e,join(a," ")]," ")}),ObjectTypeDefinition:addDescription(function(o){var e=o.name,a=o.interfaces,_=o.directives,b=o.fields;return join(["type",e,wrap("implements ",join(a," & ")),join(_," "),block(b)]," ")}),FieldDefinition:addDescription(function(o){var e=o.name,a=o.arguments,_=o.type,b=o.directives;return e+(hasMultilineItems(a)?wrap(`(
`,indent(join(a,`
`)),`
)`):wrap("(",join(a,", "),")"))+": "+_+wrap(" ",join(b," "))}),InputValueDefinition:addDescription(function(o){var e=o.name,a=o.type,_=o.defaultValue,b=o.directives;return join([e+": "+a,wrap("= ",_),join(b," ")]," ")}),InterfaceTypeDefinition:addDescription(function(o){var e=o.name,a=o.interfaces,_=o.directives,b=o.fields;return join(["interface",e,wrap("implements ",join(a," & ")),join(_," "),block(b)]," ")}),UnionTypeDefinition:addDescription(function(o){var e=o.name,a=o.directives,_=o.types;return join(["union",e,join(a," "),_&&_.length!==0?"= "+join(_," | "):""]," ")}),EnumTypeDefinition:addDescription(function(o){var e=o.name,a=o.directives,_=o.values;return join(["enum",e,join(a," "),block(_)]," ")}),EnumValueDefinition:addDescription(function(o){var e=o.name,a=o.directives;return join([e,join(a," ")]," ")}),InputObjectTypeDefinition:addDescription(function(o){var e=o.name,a=o.directives,_=o.fields;return join(["input",e,join(a," "),block(_)]," ")}),DirectiveDefinition:addDescription(function(o){var e=o.name,a=o.arguments,_=o.repeatable,b=o.locations;return"directive @"+e+(hasMultilineItems(a)?wrap(`(
`,indent(join(a,`
`)),`
)`):wrap("(",join(a,", "),")"))+(_?" repeatable":"")+" on "+join(b," | ")}),SchemaExtension:function o(e){var a=e.directives,_=e.operationTypes;return join(["extend schema",join(a," "),block(_)]," ")},ScalarTypeExtension:function o(e){var a=e.name,_=e.directives;return join(["extend scalar",a,join(_," ")]," ")},ObjectTypeExtension:function o(e){var a=e.name,_=e.interfaces,b=e.directives,_e=e.fields;return join(["extend type",a,wrap("implements ",join(_," & ")),join(b," "),block(_e)]," ")},InterfaceTypeExtension:function o(e){var a=e.name,_=e.interfaces,b=e.directives,_e=e.fields;return join(["extend interface",a,wrap("implements ",join(_," & ")),join(b," "),block(_e)]," ")},UnionTypeExtension:function o(e){var a=e.name,_=e.directives,b=e.types;return join(["extend union",a,join(_," "),b&&b.length!==0?"= "+join(b," | "):""]," ")},EnumTypeExtension:function o(e){var a=e.name,_=e.directives,b=e.values;return join(["extend enum",a,join(_," "),block(b)]," ")},InputObjectTypeExtension:function o(e){var a=e.name,_=e.directives,b=e.fields;return join(["extend input",a,join(_," "),block(b)]," ")}};function addDescription(o){return function(e){return join([e.description,o(e)],`
`)}}function join(o){var e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return(e=o==null?void 0:o.filter(function(_){return _}).join(a))!==null&&e!==void 0?e:""}function block(o){return wrap(`{
`,indent(join(o,`
`)),`
}`)}function wrap(o,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";return e!=null&&e!==""?o+e+a:""}function indent(o){return wrap("  ",o.replace(/\n/g,`
  `))}function isMultiline(o){return o.indexOf(`
`)!==-1}function hasMultilineItems(o){return o!=null&&o.some(isMultiline)}class RestApiError extends ApiError{constructor(e){super(e),this.constructor=RestApiError,Object.setPrototypeOf(this,RestApiError.prototype)}}class CanceledError extends RestApiError{constructor(e={}){super({name:"CanceledError",message:"Request is canceled by user",...e}),this.constructor=CanceledError,Object.setPrototypeOf(this,CanceledError.prototype)}}const isCancelError$1=o=>!!o&&o instanceof CanceledError;var RestApiValidationErrorCode;(function(o){o.InvalidApiName="InvalidApiName"})(RestApiValidationErrorCode||(RestApiValidationErrorCode={}));RestApiValidationErrorCode.InvalidApiName+"";const parseRestApiServiceError=async o=>{var a;if(!o)return;const e=await parseJsonError(stubErrorResponse(o));if(e){const _=await((a=o.body)==null?void 0:a.text());return buildRestApiError(e,{statusCode:o.statusCode,headers:o.headers,body:_})}},stubErrorResponse=o=>{let e;const a=new Proxy(o.body,{get(b,_e,et){return _e==="json"?async()=>{e||(e=b.text());try{return JSON.parse(await e)}catch{return{}}}:_e==="text"?async()=>(e||(e=b.text()),e):Reflect.get(b,_e,et)}});return new Proxy(o,{get(b,_e,et){return _e==="body"?a:Reflect.get(b,_e,et)}})},buildRestApiError=(o,e)=>{const a=new RestApiError({name:o==null?void 0:o.name,message:o.message,underlyingError:o,response:e});return Object.assign(a,{$metadata:o.$metadata})},logger$2=new ConsoleLogger("RestApis");function createCancellableOperation(o,e,a,_){const b=e.signal;return(async()=>{try{const et=await o();if(et.statusCode>=300)throw await parseRestApiServiceError(et);return et}catch(et){if(et.name==="AbortError"||(b==null?void 0:b.aborted)===!0){const tt=b.reason,nt=new CanceledError({...tt&&{message:tt},underlyingError:et,recoverySuggestion:"The API request was explicitly canceled. If this is not intended, validate if you called the `cancel()` function on the API request erroneously."});throw logger$2.debug(nt),nt}throw logger$2.debug(et),et}})()}const DEFAULT_REST_IAM_SIGNING_SERVICE="execute-api",DEFAULT_IAM_SIGNING_REGION="us-east-1",APIG_HOSTNAME_PATTERN=/^.+\.([a-z0-9-]+)\.([a-z0-9-]+)\.amazonaws\.com/,parseSigningInfo=(o,e)=>{const{service:a=DEFAULT_REST_IAM_SIGNING_SERVICE,region:_=DEFAULT_IAM_SIGNING_REGION}={},{hostname:b}=o,[,_e,et]=APIG_HOSTNAME_PATTERN.exec(b)??[];return _e===DEFAULT_REST_IAM_SIGNING_SERVICE?{service:_e,region:et??_}:_e==="appsync-api"?{service:"appsync",region:et??_}:{service:a,region:_}},isIamAuthApplicableForGraphQL=({headers:o},e)=>!o.authorization&&!o["x-api-key"]&&!!e,resolveLibraryOptions$1=o=>{var _,b,_e,et,tt,nt;const e=(_e=(b=(_=o.libraryOptions)==null?void 0:_.API)==null?void 0:b.REST)==null?void 0:_e.retryStrategy,a=(nt=(tt=(et=o.libraryOptions)==null?void 0:et.API)==null?void 0:tt.REST)==null?void 0:nt.defaultAuthMode;return{retryStrategy:e,defaultAuthMode:a}},resolveHeaders=(o,e)=>{const a={};for(const _ in o)a[_.toLowerCase()]=o[_];if(e){const _=a["content-type"];_&&(_.startsWith("application/json")||_.startsWith("application/")&&_.includes("+json"))||(a["content-type"]="application/json; charset=UTF-8"),e instanceof FormData&&delete a["content-type"]}return a},authenticatedHandler=composeTransferHandler(fetchTransferHandler,[userAgentMiddlewareFactory,retryMiddlewareFactory,signingMiddlewareFactory]),unauthenticatedHandler=composeTransferHandler(fetchTransferHandler,[userAgentMiddlewareFactory,retryMiddlewareFactory]),transferHandler=async(o,e,a,_)=>{const{url:b,method:_e,headers:et,body:tt,withCredentials:nt,abortSignal:it,retryStrategy:ot}=e,st=tt?tt instanceof FormData?tt:JSON.stringify(tt??""):void 0,at=resolveHeaders(et,tt),lt={url:b,headers:at,method:_e,body:st},{retryStrategy:ut,defaultAuthMode:ft}=resolveLibraryOptions$1(o),mt={retryDecider:getRetryDeciderFromStrategy(ot??ut),computeDelay:jitteredBackoff,withCrossDomainCredentials:nt,abortSignal:it},ht=e.defaultAuthMode??ft;let vt=null;ht!=="none"&&(vt=await resolveCredentials(o));let Et;if(a(lt,_)&&vt){const Ct=parseSigningInfo(b),Mt=(_==null?void 0:_.service)??Ct.service,Bt=(_==null?void 0:_.region)??Ct.region;Et=await authenticatedHandler(lt,{...mt,credentials:vt,region:Bt,service:Mt})}else Et=await unauthenticatedHandler(lt,{...mt});return{statusCode:Et.statusCode,headers:Et.headers,body:Et.body}},getRetryDeciderFromStrategy=o=>(o==null?void 0:o.strategy)==="no-retry"?()=>Promise.resolve({retryable:!1}):getRetryDecider(parseRestApiServiceError),resolveCredentials=async o=>{try{const{credentials:e}=await o.Auth.fetchAuthSession();if(e)return e}catch{logger$2.debug("No credentials available, the request will be unsigned.")}return null},cancelTokenMap=new WeakMap,post=(o,{url:e,options:a,abortController:_})=>{const b=_??new AbortController,et=createCancellableOperation(async()=>transferHandler(o,{url:e,method:"POST",...a,abortSignal:b.signal,retryStrategy:{strategy:"jittered-exponential-backoff"}},isIamAuthApplicableForGraphQL,a==null?void 0:a.signingServiceInfo),b).finally(()=>{cancelTokenMap.delete(et)});return et},cancel$1=(o,e)=>{const a=cancelTokenMap.get(o);return a?(a.abort(e),e&&a.signal.reason!==e&&(a.signal.reason=e),!0):!1},updateRequestToBeCancellable=(o,e)=>{cancelTokenMap.set(o,e)},MAX_DELAY_MS=5e3,NON_RETRYABLE_CODES=[400,401,403],NON_RETRYABLE_ERROR_TYPES=["BadRequestException","UnauthorizedException"],CONNECTION_STATE_CHANGE="ConnectionStateChange";var MESSAGE_TYPES;(function(o){o.GQL_CONNECTION_INIT="connection_init",o.GQL_CONNECTION_ERROR="connection_error",o.GQL_CONNECTION_ACK="connection_ack",o.GQL_START="start",o.GQL_START_ACK="start_ack",o.DATA="data",o.GQL_CONNECTION_KEEP_ALIVE="ka",o.GQL_STOP="stop",o.GQL_COMPLETE="complete",o.GQL_ERROR="error",o.EVENT_SUBSCRIBE="subscribe",o.EVENT_PUBLISH="publish",o.EVENT_SUBSCRIBE_ACK="subscribe_success",o.EVENT_PUBLISH_ACK="publish_success",o.EVENT_STOP="unsubscribe",o.EVENT_COMPLETE="unsubscribe_success",o.EVENT_SUBSCRIBE_ERROR="subscribe_error"})(MESSAGE_TYPES||(MESSAGE_TYPES={}));var SUBSCRIPTION_STATUS;(function(o){o[o.PENDING=0]="PENDING",o[o.CONNECTED=1]="CONNECTED",o[o.FAILED=2]="FAILED"})(SUBSCRIPTION_STATUS||(SUBSCRIPTION_STATUS={}));var SOCKET_STATUS;(function(o){o[o.CLOSED=0]="CLOSED",o[o.READY=1]="READY",o[o.CONNECTING=2]="CONNECTING"})(SOCKET_STATUS||(SOCKET_STATUS={}));const AWS_APPSYNC_REALTIME_HEADERS={accept:"application/json, text/javascript","content-encoding":"amz-1.0","content-type":"application/json; charset=UTF-8"},CONNECTION_INIT_TIMEOUT=15e3,START_ACK_TIMEOUT=15e3,DEFAULT_KEEP_ALIVE_TIMEOUT=5*60*1e3,DEFAULT_KEEP_ALIVE_HEARTBEAT_TIMEOUT=5*1e3,DEFAULT_KEEP_ALIVE_ALERT_TIMEOUT=65*1e3,RECONNECT_DELAY=5*1e3,RECONNECT_INTERVAL=60*1e3;var CONTROL_MSG;(function(o){o.CONNECTION_CLOSED="Connection closed",o.CONNECTION_FAILED="Connection failed",o.REALTIME_SUBSCRIPTION_INIT_ERROR="AppSync Realtime subscription init error",o.SUBSCRIPTION_ACK="Subscription ack",o.TIMEOUT_DISCONNECT="Timeout disconnect"})(CONTROL_MSG||(CONTROL_MSG={}));var ConnectionState;(function(o){o.Connected="Connected",o.ConnectedPendingNetwork="ConnectedPendingNetwork",o.ConnectionDisrupted="ConnectionDisrupted",o.ConnectionDisruptedPendingNetwork="ConnectionDisruptedPendingNetwork",o.Connecting="Connecting",o.ConnectedPendingDisconnect="ConnectedPendingDisconnect",o.Disconnected="Disconnected",o.ConnectedPendingKeepAlive="ConnectedPendingKeepAlive"})(ConnectionState||(ConnectionState={}));const ReachabilityMonitor=()=>new Reachability().networkMonitor(),CONNECTION_CHANGE={KEEP_ALIVE_MISSED:{keepAliveState:"unhealthy"},KEEP_ALIVE:{keepAliveState:"healthy"},CONNECTION_ESTABLISHED:{connectionState:"connected"},CONNECTION_FAILED:{intendedConnectionState:"disconnected",connectionState:"disconnected"},CLOSING_CONNECTION:{intendedConnectionState:"disconnected"},OPENING_CONNECTION:{intendedConnectionState:"connected",connectionState:"connecting"},CLOSED:{connectionState:"disconnected"},ONLINE:{networkState:"connected"},OFFLINE:{networkState:"disconnected"}};class ConnectionStateMonitor{constructor(){this._networkMonitoringSubscription=void 0,this._linkedConnectionState={networkState:"connected",connectionState:"disconnected",intendedConnectionState:"disconnected",keepAliveState:"healthy"},this._initialNetworkStateSubscription=ReachabilityMonitor().subscribe(({online:e})=>{var a;this.record(e?CONNECTION_CHANGE.ONLINE:CONNECTION_CHANGE.OFFLINE),(a=this._initialNetworkStateSubscription)==null||a.unsubscribe()}),this._linkedConnectionStateObservable=new Observable(e=>{e.next(this._linkedConnectionState),this._linkedConnectionStateObserver=e})}enableNetworkMonitoring(){var e;(e=this._initialNetworkStateSubscription)==null||e.unsubscribe(),this._networkMonitoringSubscription===void 0&&(this._networkMonitoringSubscription=ReachabilityMonitor().subscribe(({online:a})=>{this.record(a?CONNECTION_CHANGE.ONLINE:CONNECTION_CHANGE.OFFLINE)}))}disableNetworkMonitoring(){var e;(e=this._networkMonitoringSubscription)==null||e.unsubscribe(),this._networkMonitoringSubscription=void 0}get connectionStateObservable(){let e;return this._linkedConnectionStateObservable.pipe(map$2(a=>this.connectionStatesTranslator(a))).pipe(filter(a=>{const _=a!==e;return e=a,_}))}record(e){var _;e.intendedConnectionState==="connected"?this.enableNetworkMonitoring():e.intendedConnectionState==="disconnected"&&this.disableNetworkMonitoring();const a={...this._linkedConnectionState,...e};this._linkedConnectionState={...a},(_=this._linkedConnectionStateObserver)==null||_.next(this._linkedConnectionState)}connectionStatesTranslator({connectionState:e,networkState:a,intendedConnectionState:_,keepAliveState:b}){return e==="connected"&&a==="disconnected"?ConnectionState.ConnectedPendingNetwork:e==="connected"&&_==="disconnected"?ConnectionState.ConnectedPendingDisconnect:e==="disconnected"&&_==="connected"&&a==="disconnected"?ConnectionState.ConnectionDisruptedPendingNetwork:e==="disconnected"&&_==="connected"?ConnectionState.ConnectionDisrupted:e==="connected"&&b==="unhealthy"?ConnectionState.ConnectedPendingKeepAlive:e==="connecting"?ConnectionState.Connecting:e==="disconnected"?ConnectionState.Disconnected:ConnectionState.Connected}}var ReconnectEvent;(function(o){o.START_RECONNECT="START_RECONNECT",o.HALT_RECONNECT="HALT_RECONNECT"})(ReconnectEvent||(ReconnectEvent={}));class ReconnectionMonitor{constructor(){this.reconnectObservers=[]}addObserver(e){this.reconnectObservers.push(e)}record(e){e===ReconnectEvent.START_RECONNECT&&this.reconnectSetTimeoutId===void 0&&this.reconnectIntervalId===void 0&&(this.reconnectSetTimeoutId=setTimeout(()=>{this._triggerReconnect(),this.reconnectIntervalId=setInterval(()=>{this._triggerReconnect()},RECONNECT_INTERVAL)},RECONNECT_DELAY)),e===ReconnectEvent.HALT_RECONNECT&&(this.reconnectIntervalId&&(clearInterval(this.reconnectIntervalId),this.reconnectIntervalId=void 0),this.reconnectSetTimeoutId&&(clearTimeout(this.reconnectSetTimeoutId),this.reconnectSetTimeoutId=void 0))}close(){this.reconnectObservers.forEach(e=>{var a;(a=e.complete)==null||a.call(e)})}_triggerReconnect(){this.reconnectObservers.forEach(e=>{var a;(a=e.next)==null||a.call(e)})}}const protocol="wss://",standardDomainPattern=/^https:\/\/\w{26}\.appsync-api\.\w{2}(?:(?:-\w{2,})+)-\d\.amazonaws.com(?:\.cn)?\/graphql$/i,eventDomainPattern=/^https:\/\/\w{26}\.\w+-api\.\w{2}(?:(?:-\w{2,})+)-\d\.amazonaws.com(?:\.cn)?\/event$/i,customDomainPath="/realtime",isCustomDomain=o=>o.match(standardDomainPattern)===null,isEventDomain=o=>o.match(eventDomainPattern)!==null,getRealtimeEndpointUrl=o=>{let e=o??"";return isEventDomain(e)?e=e.concat(customDomainPath).replace("ddpg-api","grt-gamma").replace("appsync-api","appsync-realtime-api"):isCustomDomain(e)?e=e.concat(customDomainPath):e=e.replace("appsync-api","appsync-realtime-api").replace("gogi-beta","grt-beta").replace("ddpg-api","grt-gamma"),e=e.replace("https://",protocol).replace("http://",protocol),new AmplifyUrl(e)},extractNonAuthHeaders=o=>{if(!o)return{};if("Authorization"in o){const{Authorization:e,...a}=o;return a}return o},queryParamsFromCustomHeaders=o=>{const e=extractNonAuthHeaders(o),a=new AmplifyUrlSearchParams;return Object.entries(e).forEach(([_,b])=>{a.append(_,b)}),a},realtimeUrlWithQueryString=(o,e)=>{const a=getRealtimeEndpointUrl(o),_=new AmplifyUrlSearchParams(a.search);for(const[b,_e]of e.entries())_.append(b,_e);return a.search=_.toString(),a.toString()},additionalHeadersFromOptions=async o=>{const{appSyncGraphqlEndpoint:e,query:a,libraryConfigHeaders:_=()=>({}),additionalHeaders:b={},authToken:_e}=o;let et={};const tt=await _();return typeof b=="function"?et=await b({url:e||"",queryString:a||""}):et=b,_e&&(et={...et,Authorization:_e}),{additionalCustomHeaders:et,libraryConfigHeaders:tt}},logger$1=new ConsoleLogger("AWSAppSyncRealTimeProvider Auth"),awsAuthTokenHeader=async({host:o})=>{var a,_;const e=await fetchAuthSession();return{Authorization:(_=(a=e==null?void 0:e.tokens)==null?void 0:a.accessToken)==null?void 0:_.toString(),host:o}},awsRealTimeApiKeyHeader=async({apiKey:o,host:e})=>{const _=new Date().toISOString().replace(/[:-]|\.\d{3}/g,"");return{host:e,"x-amz-date":_,"x-api-key":o}},awsRealTimeIAMHeader=async({payload:o,canonicalUri:e,appSyncGraphqlEndpoint:a,region:_})=>{const b={region:_,service:"appsync"},_e=(await fetchAuthSession()).credentials,et={url:`${a}${e}`,data:o,method:"POST",headers:{...AWS_APPSYNC_REALTIME_HEADERS}};return signRequest({headers:et.headers,method:et.method,url:new AmplifyUrl(et.url),body:et.data},{credentials:_e,signingRegion:b.region,signingService:b.service}).headers},customAuthHeader=async({host:o,additionalCustomHeaders:e})=>{if(!(e!=null&&e.Authorization))throw new Error("No auth token specified");return{Authorization:e.Authorization,host:o}},awsRealTimeHeaderBasedAuth=async({apiKey:o,authenticationType:e,canonicalUri:a,appSyncGraphqlEndpoint:_,region:b,additionalCustomHeaders:_e,payload:et})=>{const tt={apiKey:awsRealTimeApiKeyHeader,iam:awsRealTimeIAMHeader,oidc:awsAuthTokenHeader,userPool:awsAuthTokenHeader,lambda:customAuthHeader,none:customAuthHeader};if(!e||!tt[e]){logger$1.debug(`Authentication type ${e} not supported`);return}else{const nt=tt[e],it=_?new AmplifyUrl(_).host:void 0,ot=e==="apiKey"?o:void 0;return logger$1.debug(`Authenticating with ${JSON.stringify(e)}`),await nt({payload:et,canonicalUri:a,appSyncGraphqlEndpoint:_,apiKey:ot,region:b,host:it,additionalCustomHeaders:_e})}},dispatchApiEvent=o=>{Hub.dispatch("api",o,"PubSub",AMPLIFY_SYMBOL)};class AWSWebSocketProvider{constructor(e){this.subscriptionObserverMap=new Map,this.allowNoSubscriptions=!1,this.socketStatus=SOCKET_STATUS.CLOSED,this.keepAliveTimestamp=Date.now(),this.promiseArray=[],this.connectionStateMonitor=new ConnectionStateMonitor,this.reconnectionMonitor=new ReconnectionMonitor,this._establishConnection=async(a,_)=>{this.logger.debug(`Establishing WebSocket connection to ${a}`);try{await this._openConnection(a,_),await this._initiateHandshake()}catch(b){const{errorType:_e,errorCode:et}=b;throw NON_RETRYABLE_CODES.includes(et)||NON_RETRYABLE_ERROR_TYPES.includes(_e)?new NonRetryableError(_e):_e?new Error(_e):b}},this.logger=new ConsoleLogger(e.providerName),this.wsProtocolName=e.wsProtocolName,this.wsConnectUri=e.connectUri,this.connectionStateMonitorSubscription=this._startConnectionStateMonitoring()}close(){return this.socketStatus=SOCKET_STATUS.CLOSED,this.connectionStateMonitor.record(CONNECTION_CHANGE.CONNECTION_FAILED),this.connectionStateMonitorSubscription.unsubscribe(),this.reconnectionMonitor.close(),new Promise((e,a)=>{this.awsRealTimeSocket?(this.awsRealTimeSocket.onclose=_=>{this._closeSocket(),this.subscriptionObserverMap=new Map,this.awsRealTimeSocket=void 0,e()},this.awsRealTimeSocket.onerror=_=>{a(_)},this.awsRealTimeSocket.close()):e()})}subscribe(e,a){return new Observable(_=>{if(!(e!=null&&e.appSyncGraphqlEndpoint)){_.error({errors:[{...new GraphQLError("Subscribe only available for AWS AppSync endpoint")}]}),_.complete();return}let b=!1;const _e=amplifyUuid(),et=()=>{b||(b=!0,this._startSubscriptionWithAWSAppSyncRealTime({options:e,observer:_,subscriptionId:_e,customUserAgentDetails:a}).catch(nt=>{this.logger.debug(`${CONTROL_MSG.REALTIME_SUBSCRIPTION_INIT_ERROR}: ${nt}`),this._closeSocket()}).finally(()=>{b=!1}))},tt=new Observable(nt=>{this.reconnectionMonitor.addObserver(nt)}).subscribe(()=>{et()});return et(),async()=>{await this._cleanupSubscription(_e,tt)}})}async connect(e){this.socketStatus!==SOCKET_STATUS.READY&&await this._connectWebSocket(e)}async publish(e,a){if(this.socketStatus!==SOCKET_STATUS.READY)throw new Error("Subscription has not been initialized");return this._publishMessage(e,a)}async _connectWebSocket(e){const{apiKey:a,appSyncGraphqlEndpoint:_,authenticationType:b,region:_e}=e,{additionalCustomHeaders:et}=await additionalHeadersFromOptions(e);this.connectionStateMonitor.record(CONNECTION_CHANGE.OPENING_CONNECTION),await this._initializeWebSocketConnection({apiKey:a,appSyncGraphqlEndpoint:_,authenticationType:b,region:_e,additionalCustomHeaders:et})}async _publishMessage(e,a){const _=amplifyUuid(),{additionalCustomHeaders:b,libraryConfigHeaders:_e}=await additionalHeadersFromOptions(e),et=await this._prepareSubscriptionPayload({options:e,subscriptionId:_,customUserAgentDetails:a,additionalCustomHeaders:b,libraryConfigHeaders:_e,publish:!0});return new Promise((tt,nt)=>{if(this.awsRealTimeSocket){const it=lt=>{const ut=JSON.parse(lt.data);if(ut.id===_&&ut.type==="publish_success"&&(this.awsRealTimeSocket&&this.awsRealTimeSocket.removeEventListener("message",it),at(),tt()),ut.errors&&ut.errors.length>0){const ft=ut.errors.map(mt=>mt.errorType);at(),nt(new Error(`Publish errors: ${ft.join(", ")}`))}},ot=lt=>{at(),nt(new Error(`WebSocket error: ${lt}`))},st=()=>{at(),nt(new Error("WebSocket is closed"))},at=()=>{var lt,ut,ft;(lt=this.awsRealTimeSocket)==null||lt.removeEventListener("message",it),(ut=this.awsRealTimeSocket)==null||ut.removeEventListener("error",ot),(ft=this.awsRealTimeSocket)==null||ft.removeEventListener("close",st)};this.awsRealTimeSocket.addEventListener("message",it),this.awsRealTimeSocket.addEventListener("error",ot),this.awsRealTimeSocket.addEventListener("close",st),this.awsRealTimeSocket.send(et)}else nt(new Error("WebSocket is not connected"))})}async _cleanupSubscription(e,a){a==null||a.unsubscribe();try{await this._waitForSubscriptionToBeConnected(e);const{subscriptionState:_}=this.subscriptionObserverMap.get(e)||{};if(!_)return;if(_===SUBSCRIPTION_STATUS.CONNECTED)this._sendUnsubscriptionMessage(e);else throw new Error("Subscription never connected")}catch(_){this.logger.debug(`Error while unsubscribing ${_}`)}finally{this._removeSubscriptionObserver(e)}}_startConnectionStateMonitoring(){return this.connectionStateMonitor.connectionStateObservable.subscribe(e=>{dispatchApiEvent({event:CONNECTION_STATE_CHANGE,data:{provider:this,connectionState:e},message:`Connection state is ${e}`}),this.connectionState=e,e===ConnectionState.ConnectionDisrupted&&this.reconnectionMonitor.record(ReconnectEvent.START_RECONNECT),[ConnectionState.Connected,ConnectionState.ConnectedPendingDisconnect,ConnectionState.ConnectedPendingKeepAlive,ConnectionState.ConnectedPendingNetwork,ConnectionState.ConnectionDisruptedPendingNetwork,ConnectionState.Disconnected].includes(e)&&this.reconnectionMonitor.record(ReconnectEvent.HALT_RECONNECT)})}async _startSubscriptionWithAWSAppSyncRealTime({options:e,observer:a,subscriptionId:_,customUserAgentDetails:b}){const{query:_e,variables:et}=e;this.subscriptionObserverMap.set(_,{observer:a,query:_e??"",variables:et??{},subscriptionState:SUBSCRIPTION_STATUS.PENDING,startAckTimeoutId:void 0});const{additionalCustomHeaders:tt,libraryConfigHeaders:nt}=await additionalHeadersFromOptions(e),it=await this._prepareSubscriptionPayload({options:e,subscriptionId:_,customUserAgentDetails:b,additionalCustomHeaders:tt,libraryConfigHeaders:nt});try{await this._connectWebSocket(e)}catch(at){this._logStartSubscriptionError(_,a,at);return}const{subscriptionFailedCallback:ot,subscriptionReadyCallback:st}=this.subscriptionObserverMap.get(_)??{};this.subscriptionObserverMap.set(_,{observer:a,subscriptionState:SUBSCRIPTION_STATUS.PENDING,query:_e??"",variables:et??{},subscriptionReadyCallback:st,subscriptionFailedCallback:ot,startAckTimeoutId:setTimeout(()=>{this._timeoutStartSubscriptionAck(_)},START_ACK_TIMEOUT)}),this.awsRealTimeSocket&&this.awsRealTimeSocket.send(it)}_logStartSubscriptionError(e,a,_){this.logger.debug({err:_});const b=String(_.message??"");if(this._closeSocket(),this.connectionState!==ConnectionState.ConnectionDisruptedPendingNetwork){isNonRetryableError(_)?a.error({errors:[{...new GraphQLError(`${CONTROL_MSG.CONNECTION_FAILED}: ${b}`)}]}):this.logger.debug(`${CONTROL_MSG.CONNECTION_FAILED}: ${b}`);const{subscriptionFailedCallback:_e}=this.subscriptionObserverMap.get(e)||{};typeof _e=="function"&&_e()}}async _waitForSubscriptionToBeConnected(e){const a=this.subscriptionObserverMap.get(e);if(a){const{subscriptionState:_}=a;if(_===SUBSCRIPTION_STATUS.PENDING)return new Promise((b,_e)=>{const{observer:et,subscriptionState:tt,variables:nt,query:it}=a;this.subscriptionObserverMap.set(e,{observer:et,subscriptionState:tt,variables:nt,query:it,subscriptionReadyCallback:b,subscriptionFailedCallback:_e})})}}_sendUnsubscriptionMessage(e){try{if(this.awsRealTimeSocket&&this.awsRealTimeSocket.readyState===WebSocket.OPEN&&this.socketStatus===SOCKET_STATUS.READY){const a=this._unsubscribeMessage(e),_=JSON.stringify(a);this.awsRealTimeSocket.send(_)}}catch(a){this.logger.debug({err:a})}}_removeSubscriptionObserver(e){this.subscriptionObserverMap.delete(e),this.allowNoSubscriptions||setTimeout(this._closeSocketIfRequired.bind(this),1e3)}_closeSocketIfRequired(){if(!(this.subscriptionObserverMap.size>0)){if(!this.awsRealTimeSocket){this.socketStatus=SOCKET_STATUS.CLOSED;return}if(this.connectionStateMonitor.record(CONNECTION_CHANGE.CLOSING_CONNECTION),this.awsRealTimeSocket.bufferedAmount>0)setTimeout(this._closeSocketIfRequired.bind(this),1e3);else{this.logger.debug("closing WebSocket...");const e=this.awsRealTimeSocket;e.onclose=null,e.onerror=null,e.close(1e3),this.awsRealTimeSocket=void 0,this.socketStatus=SOCKET_STATUS.CLOSED,this._closeSocket()}}}maintainKeepAlive(){this.keepAliveTimestamp=Date.now()}keepAliveHeartbeat(e){const a=Date.now();a-this.keepAliveTimestamp>DEFAULT_KEEP_ALIVE_ALERT_TIMEOUT?this.connectionStateMonitor.record(CONNECTION_CHANGE.KEEP_ALIVE_MISSED):this.connectionStateMonitor.record(CONNECTION_CHANGE.KEEP_ALIVE),a-this.keepAliveTimestamp>e&&this._errorDisconnect(CONTROL_MSG.TIMEOUT_DISCONNECT)}_handleIncomingSubscriptionMessage(e){if(typeof e.data!="string")return;const[a,_]=this._handleSubscriptionData(e);if(a){this.maintainKeepAlive();return}const{type:b,id:_e,payload:et}=_,{observer:tt=null,query:nt="",variables:it={},startAckTimeoutId:ot,subscriptionReadyCallback:st,subscriptionFailedCallback:at}=this.subscriptionObserverMap.get(_e)||{};if(b===MESSAGE_TYPES.GQL_START_ACK||b===MESSAGE_TYPES.EVENT_SUBSCRIBE_ACK){this.logger.debug(`subscription ready for ${JSON.stringify({query:nt,variables:it})}`),typeof st=="function"&&st(),ot&&clearTimeout(ot),dispatchApiEvent({event:CONTROL_MSG.SUBSCRIPTION_ACK,data:{query:nt,variables:it},message:"Connection established for subscription"});const lt=SUBSCRIPTION_STATUS.CONNECTED;tt&&this.subscriptionObserverMap.set(_e,{observer:tt,query:nt,variables:it,startAckTimeoutId:void 0,subscriptionState:lt,subscriptionReadyCallback:st,subscriptionFailedCallback:at}),this.connectionStateMonitor.record(CONNECTION_CHANGE.CONNECTION_ESTABLISHED);return}if(b===MESSAGE_TYPES.GQL_CONNECTION_KEEP_ALIVE){this.maintainKeepAlive();return}if(b===MESSAGE_TYPES.GQL_ERROR||b===MESSAGE_TYPES.EVENT_SUBSCRIBE_ERROR){const lt=SUBSCRIPTION_STATUS.FAILED;if(tt){this.subscriptionObserverMap.set(_e,{observer:tt,query:nt,variables:it,startAckTimeoutId:ot,subscriptionReadyCallback:st,subscriptionFailedCallback:at,subscriptionState:lt});let ut=JSON.stringify(et??_);if(b===MESSAGE_TYPES.EVENT_SUBSCRIBE_ERROR){const{errors:ft}=JSON.parse(String(e.data));if(Array.isArray(ft)&&ft.length>0){const mt=ft[0];ut=`${mt.errorType}: ${mt.message}`}}this.logger.debug(`${CONTROL_MSG.CONNECTION_FAILED}: ${ut}`),tt.error({errors:[{...new GraphQLError(`${CONTROL_MSG.CONNECTION_FAILED}: ${ut}`)}]}),ot&&clearTimeout(ot),typeof at=="function"&&at()}}}_errorDisconnect(e){this.logger.debug(`Disconnect error: ${e}`),this.awsRealTimeSocket&&(this._closeSocket(),this.awsRealTimeSocket.close()),this.socketStatus=SOCKET_STATUS.CLOSED}_closeSocket(){this.keepAliveHeartbeatIntervalId&&(clearInterval(this.keepAliveHeartbeatIntervalId),this.keepAliveHeartbeatIntervalId=void 0),this.connectionStateMonitor.record(CONNECTION_CHANGE.CLOSED)}_timeoutStartSubscriptionAck(e){const a=this.subscriptionObserverMap.get(e);if(a){const{observer:_,query:b,variables:_e}=a;if(!_)return;this.subscriptionObserverMap.set(e,{observer:_,query:b,variables:_e,subscriptionState:SUBSCRIPTION_STATUS.FAILED}),this._closeSocket(),this.logger.debug("timeoutStartSubscription",JSON.stringify({query:b,variables:_e}))}}_initializeWebSocketConnection({appSyncGraphqlEndpoint:e,authenticationType:a,apiKey:_,region:b,additionalCustomHeaders:_e}){if(this.socketStatus!==SOCKET_STATUS.READY)return new Promise(async(et,tt)=>{if(this.promiseArray.push({res:et,rej:tt}),this.socketStatus===SOCKET_STATUS.CLOSED)try{this.socketStatus=SOCKET_STATUS.CONNECTING;const it=await awsRealTimeHeaderBasedAuth({authenticationType:a,payload:"{}",canonicalUri:this.wsConnectUri,apiKey:_,appSyncGraphqlEndpoint:e,region:b,additionalCustomHeaders:_e}),ot=it?JSON.stringify(it):"",at=`header-${base64Encoder.convert(ot,{urlSafe:!0,skipPadding:!0})}`,lt=queryParamsFromCustomHeaders(_e),ut=realtimeUrlWithQueryString(e,lt);await this._establishRetryableConnection(ut,at),this.promiseArray.forEach(({res:ft})=>{this.logger.debug("Notifying connection successful"),ft()}),this.socketStatus=SOCKET_STATUS.READY,this.promiseArray=[]}catch(nt){this.logger.debug("Connection exited with",nt),this.promiseArray.forEach(({rej:it})=>{it(nt)}),this.promiseArray=[],this.awsRealTimeSocket&&this.awsRealTimeSocket.readyState===WebSocket.OPEN&&this.awsRealTimeSocket.close(3001),this.awsRealTimeSocket=void 0,this.socketStatus=SOCKET_STATUS.CLOSED}})}async _establishRetryableConnection(e,a){this.logger.debug("Establishing retryable connection"),await jitteredExponentialRetry(this._establishConnection.bind(this),[e,a],MAX_DELAY_MS)}async _openConnection(e,a){return new Promise((_,b)=>{const _e=this._getNewWebSocket(e,[this.wsProtocolName,a]);_e.onerror=()=>{this.logger.debug("WebSocket connection error")},_e.onclose=()=>{this._closeSocket(),b(new Error("Connection handshake error"))},_e.onopen=()=>{this.awsRealTimeSocket=_e,_()}})}_getNewWebSocket(e,a){return new WebSocket(e,a)}async _initiateHandshake(){return new Promise((e,a)=>{if(!this.awsRealTimeSocket){a(new Error("awsRealTimeSocket undefined"));return}let _=!1;this.awsRealTimeSocket.onerror=et=>{this.logger.debug(`WebSocket error ${JSON.stringify(et)}`)},this.awsRealTimeSocket.onclose=et=>{this.logger.debug(`WebSocket closed ${et.reason}`),this._closeSocket(),a(new Error(JSON.stringify(et)))},this.awsRealTimeSocket.onmessage=et=>{if(typeof et.data!="string")return;this.logger.debug(`subscription message from AWS AppSyncRealTime: ${et.data} `);const tt=JSON.parse(et.data),{type:nt}=tt,it=this._extractConnectionTimeout(tt);if(nt===MESSAGE_TYPES.GQL_CONNECTION_ACK){_=!0,this._registerWebsocketHandlers(it),e("Connected to AWS AppSyncRealTime");return}if(nt===MESSAGE_TYPES.GQL_CONNECTION_ERROR){const{errorType:ot,errorCode:st}=this._extractErrorCodeAndType(tt);a({errorType:ot,errorCode:st})}};const b={type:MESSAGE_TYPES.GQL_CONNECTION_INIT};this.awsRealTimeSocket.send(JSON.stringify(b));const _e=et=>{et||(this.connectionStateMonitor.record(CONNECTION_CHANGE.CONNECTION_FAILED),a(new Error(`Connection timeout: ack from AWSAppSyncRealTime was not received after ${CONNECTION_INIT_TIMEOUT} ms`)))};setTimeout(()=>{_e(_)},CONNECTION_INIT_TIMEOUT)})}_registerWebsocketHandlers(e){this.awsRealTimeSocket&&(this.keepAliveHeartbeatIntervalId=setInterval(()=>{this.keepAliveHeartbeat(e)},DEFAULT_KEEP_ALIVE_HEARTBEAT_TIMEOUT),this.awsRealTimeSocket.onmessage=this._handleIncomingSubscriptionMessage.bind(this),this.awsRealTimeSocket.onerror=a=>{this.logger.debug(a),this._errorDisconnect(CONTROL_MSG.CONNECTION_CLOSED)},this.awsRealTimeSocket.onclose=a=>{this.logger.debug(`WebSocket closed ${a.reason}`),this._closeSocket(),this._errorDisconnect(CONTROL_MSG.CONNECTION_CLOSED)})}}const PROVIDER_NAME$1="AWSAppSyncRealTimeProvider",WS_PROTOCOL_NAME$1="graphql-ws",CONNECT_URI$1="/connect";class AWSAppSyncRealTimeProvider extends AWSWebSocketProvider{constructor(){super({providerName:PROVIDER_NAME$1,wsProtocolName:WS_PROTOCOL_NAME$1,connectUri:CONNECT_URI$1})}getProviderName(){return PROVIDER_NAME$1}subscribe(e,a){return super.subscribe(e,a)}async _prepareSubscriptionPayload({options:e,subscriptionId:a,customUserAgentDetails:_,additionalCustomHeaders:b,libraryConfigHeaders:_e}){const{appSyncGraphqlEndpoint:et,authenticationType:tt,query:nt,variables:it,apiKey:ot,region:st}=e,lt=JSON.stringify({query:nt,variables:it}),ut={...await awsRealTimeHeaderBasedAuth({apiKey:ot,appSyncGraphqlEndpoint:et,authenticationType:tt,payload:lt,canonicalUri:"",region:st,additionalCustomHeaders:b}),..._e,...b,[USER_AGENT_HEADER$1]:getAmplifyUserAgent(_)},ft={id:a,payload:{data:lt,extensions:{authorization:{...ut}}},type:MESSAGE_TYPES.GQL_START};return JSON.stringify(ft)}_handleSubscriptionData(e){this.logger.debug(`subscription message from AWS AppSync RealTime: ${e.data}`);const{id:a="",payload:_,type:b}=JSON.parse(String(e.data)),{observer:_e=null,query:et="",variables:tt={}}=this.subscriptionObserverMap.get(a)||{};return this.logger.debug({id:a,observer:_e,query:et,variables:tt}),b===MESSAGE_TYPES.DATA&&_&&_.data?(_e?_e.next(_):this.logger.debug(`observer not found for id: ${a}`),[!0,{id:a,type:b,payload:_}]):[!1,{id:a,type:b,payload:_}]}_unsubscribeMessage(e){return{id:e,type:MESSAGE_TYPES.GQL_STOP}}_extractConnectionTimeout(e){const{payload:{connectionTimeoutMs:a=DEFAULT_KEEP_ALIVE_TIMEOUT}={}}=e;return a}_extractErrorCodeAndType(e){const{payload:{errors:[{errorType:a="",errorCode:_=0}={}]=[]}={}}=e;return{errorCode:_,errorType:a}}}class GraphQLApiError extends AmplifyError{constructor(e){super(e),this.constructor=GraphQLApiError,Object.setPrototypeOf(this,GraphQLApiError.prototype)}}var APIValidationErrorCode;(function(o){o.NoAuthSession="NoAuthSession",o.NoRegion="NoRegion",o.NoCustomEndpoint="NoCustomEndpoint"})(APIValidationErrorCode||(APIValidationErrorCode={}));const validationErrorMap={[APIValidationErrorCode.NoAuthSession]:{message:"Auth session should not be empty."},[APIValidationErrorCode.NoRegion]:{message:"Missing region."},[APIValidationErrorCode.NoCustomEndpoint]:{message:"Custom endpoint region is present without custom endpoint."}};function assertValidationError(o,e){const{message:a,recoverySuggestion:_}=validationErrorMap[e];if(!o)throw new GraphQLApiError({name:e,message:a,recoverySuggestion:_})}const logger=new ConsoleLogger("GraphQLAPI resolveConfig"),resolveConfig=o=>{var nt,it;const e=o.getConfig();(nt=e.API)!=null&&nt.GraphQL||logger.warn("The API configuration is missing. This is likely due to Amplify.configure() not being called prior to generateClient().");const{apiKey:a,customEndpoint:_,customEndpointRegion:b,defaultAuthMode:_e,endpoint:et,region:tt}=((it=e.API)==null?void 0:it.GraphQL)??{};return assertValidationError(!(!_&&b),APIValidationErrorCode.NoCustomEndpoint),{apiKey:a,customEndpoint:_,customEndpointRegion:b,defaultAuthMode:_e,endpoint:et,region:tt}},resolveLibraryOptions=o=>{var _,b,_e,et,tt,nt;const e=(_e=(b=(_=o.libraryOptions)==null?void 0:_.API)==null?void 0:b.GraphQL)==null?void 0:_e.headers,a=(nt=(tt=(et=o.libraryOptions)==null?void 0:et.API)==null?void 0:tt.GraphQL)==null?void 0:nt.withCredentials;return{headers:e,withCredentials:a}};function repackageUnauthorizedError(o){return o.errors&&Array.isArray(o.errors)&&o.errors.forEach(e=>{isUnauthorizedError(e)&&(e.message="Unauthorized",e.recoverySuggestion=`If you're calling an Amplify-generated API, make sure to set the "authMode" in generateClient({ authMode: '...' }) to the backend authorization rule's auth provider ('apiKey', 'userPool', 'iam', 'oidc', 'lambda')`)}),o}function isUnauthorizedError(o){var e,a,_,b;return!!((a=(e=o==null?void 0:o.originalError)==null?void 0:e.name)!=null&&a.startsWith("UnauthorizedException")||(_=o.message)!=null&&_.startsWith("Connection failed:")&&((b=o.message)!=null&&b.includes("Permission denied")))}var GraphQLAuthError;(function(o){o.NO_API_KEY="No api-key configured",o.NO_CURRENT_USER="No current user",o.NO_CREDENTIALS="No credentials",o.NO_FEDERATED_JWT="No federated jwt",o.NO_AUTH_TOKEN="No auth token specified"})(GraphQLAuthError||(GraphQLAuthError={}));const __amplify=Symbol("amplify"),__authMode=Symbol("authMode"),__authToken=Symbol("authToken"),__apiKey=Symbol("apiKey"),__headers=Symbol("headers"),__endpoint=Symbol("endpoint");function getInternals(o){const e=o;return{amplify:e[__amplify],apiKey:e[__apiKey],authMode:e[__authMode],authToken:e[__authToken],endpoint:e[__endpoint],headers:e[__headers]}}const NO_API_KEY={name:"NoApiKey",message:GraphQLAuthError.NO_API_KEY,recoverySuggestion:'The API request was made with `authMode: "apiKey"` but no API Key was passed into `Amplify.configure()`. Review if your API key is passed into the `Amplify.configure()` function.'},NO_VALID_CREDENTIALS={name:"NoCredentials",message:GraphQLAuthError.NO_CREDENTIALS,recoverySuggestion:'The API request was made with `authMode: "iam"` but no authentication credentials are available.\n\nIf you intended to make a request using an authenticated role, review if your user is signed in before making the request.\n\nIf you intend to make a request using an unauthenticated role or also known as "guest access", verify if "Auth.Cognito.allowGuestAccess" is set to "true" in the `Amplify.configure()` function.'},NO_VALID_AUTH_TOKEN={name:"NoValidAuthTokens",message:GraphQLAuthError.NO_FEDERATED_JWT,recoverySuggestion:"If you intended to make an authenticated API request, review if the current user is signed in."},NO_SIGNED_IN_USER={name:"NoSignedUser",message:GraphQLAuthError.NO_CURRENT_USER,recoverySuggestion:"Review the underlying exception field for more details. If you intended to make an authenticated API request, review if the current user is signed in."},NO_AUTH_TOKEN_HEADER={name:"NoAuthorizationHeader",message:GraphQLAuthError.NO_AUTH_TOKEN,recoverySuggestion:'The API request was made with `authMode: "lambda"` but no `authToken` is set. Review if a valid authToken is passed into the request options or in the `Amplify.configure()` function.'},NO_ENDPOINT={name:"NoEndpoint",message:"No GraphQL endpoint configured in `Amplify.configure()`.",recoverySuggestion:"Review if the GraphQL API endpoint is set in the `Amplify.configure()` function."},createGraphQLResultWithError=o=>({data:{},errors:[new GraphQLError(o.message,null,null,null,null,o)]});function isGraphQLResponseWithErrors(o){if(!o)return!1;const e=o;return Array.isArray(e.errors)&&e.errors.length>0}async function headerBasedAuth(o,e,a,_={}){var _e;let b={};switch(e){case"apiKey":if(!a)throw new GraphQLApiError(NO_API_KEY);b={"X-Api-Key":a};break;case"iam":{if((await o.Auth.fetchAuthSession()).credentials===void 0)throw new GraphQLApiError(NO_VALID_CREDENTIALS);break}case"oidc":case"userPool":{let et;try{et=(_e=(await o.Auth.fetchAuthSession()).tokens)==null?void 0:_e.accessToken.toString()}catch(tt){throw new GraphQLApiError({...NO_SIGNED_IN_USER,underlyingError:tt})}if(!et)throw new GraphQLApiError(NO_VALID_AUTH_TOKEN);b={Authorization:et};break}case"lambda":if(typeof _=="object"&&!_.Authorization)throw new GraphQLApiError(NO_AUTH_TOKEN_HEADER);b={Authorization:_.Authorization};break}return b}const USER_AGENT_HEADER="x-amz-user-agent",isAmplifyInstance=o=>typeof o!="function";class InternalGraphQLAPIClass{constructor(){this.appSyncRealTime=new Map,this._api={post,cancelREST:cancel$1,isCancelErrorREST:isCancelError$1,updateRequestToBeCancellable}}getModuleName(){return"InternalGraphQLAPI"}getGraphqlOperationType(e){const _=parse$1(e).definitions,[{operation:b}]=_;return b}graphql(e,{query:a,variables:_={},authMode:b,authToken:_e,endpoint:et,apiKey:tt},nt,it){const ot=parse$1(typeof a=="string"?a:print(a)),[st={}]=ot.definitions.filter(ut=>ut.kind==="OperationDefinition"),{operation:at}=st,lt=nt||{};switch(at){case"query":case"mutation":{const ut=new AbortController;let ft;return isAmplifyInstance(e)?ft=this._graphql(e,{query:ot,variables:_,authMode:b,apiKey:tt,endpoint:et},lt,ut,it,_e):ft=e(async ht=>await this._graphql(ht,{query:ot,variables:_,authMode:b,apiKey:tt,endpoint:et},lt,ut,it,_e)),this._api.updateRequestToBeCancellable(ft,ut),ft}case"subscription":return this._graphqlSubscribe(e,{query:ot,variables:_,authMode:b,apiKey:tt,endpoint:et},lt,it,_e);default:throw new Error(`invalid operation type: ${at}`)}}async _graphql(e,{query:a,variables:_,authMode:b,endpoint:_e,apiKey:et},tt={},nt,it,ot){const{apiKey:st,region:at,endpoint:lt,customEndpoint:ut,customEndpointRegion:ft,defaultAuthMode:mt}=resolveConfig(e),ht=b||mt||"iam",vt=ht==="identityPool"?"iam":ht,{headers:Et,withCredentials:At}=resolveLibraryOptions(e);let Ct;if(typeof tt=="function"){const kt={method:"POST",url:new AmplifyUrl(_e||ut||lt||"").toString(),queryString:print(a)};Ct=await tt(kt)}else Ct=tt;ot&&(Ct={...Ct,Authorization:ot});const Mt=await headerBasedAuth(e,vt,et??st,Ct),Bt={...!ut&&Mt,...ut&&(ft?Mt:{})||{},...Et&&await Et({query:print(a),variables:_}),...Ct,...!ut&&{[USER_AGENT_HEADER]:getAmplifyUserAgent(it)}},Lt={query:print(a),variables:_||null};let jt;ut&&!ft||vt!=="oidc"&&vt!=="userPool"&&vt!=="iam"&&vt!=="lambda"?jt=void 0:jt={service:ft?"execute-api":"appsync",region:ft||at};const Vt=_e||ut||lt;if(!Vt)throw createGraphQLResultWithError(new GraphQLApiError(NO_ENDPOINT));let Nt;try{const{body:kt}=await this._api.post(e,{url:new AmplifyUrl(Vt),options:{headers:Bt,body:Lt,signingServiceInfo:jt,withCredentials:At},abortController:nt});Nt=await kt.json()}catch(kt){if(this.isCancelError(kt))throw kt;Nt=createGraphQLResultWithError(kt)}if(isGraphQLResponseWithErrors(Nt))throw repackageUnauthorizedError(Nt);return Nt}isCancelError(e){return this._api.isCancelErrorREST(e)}cancel(e,a){return this._api.cancelREST(e,a)}_graphqlSubscribe(e,{query:a,variables:_,authMode:b,apiKey:_e,endpoint:et},tt={},nt,it){const ot=resolveConfig(e),st=b||(ot==null?void 0:ot.defaultAuthMode)||"iam",at=st==="identityPool"?"iam":st,{headers:lt}=resolveLibraryOptions(e),ut=et??(ot==null?void 0:ot.endpoint),ft=ut??"none",mt=this.appSyncRealTime.get(ft)??new AWSAppSyncRealTimeProvider;return this.appSyncRealTime.set(ft,mt),mt.subscribe({query:print(a),variables:_,appSyncGraphqlEndpoint:ut,region:ot==null?void 0:ot.region,authenticationType:at,apiKey:_e??(ot==null?void 0:ot.apiKey),additionalHeaders:tt,authToken:it,libraryConfigHeaders:lt},nt).pipe(catchError(ht=>{throw ht.errors?repackageUnauthorizedError(ht):ht}))}}function resolveOwnerFields(o){const e=new Set;for(const a of o.attributes||[])if(isAuthAttribute(a))for(const _ of a.properties.rules)_.allow==="owner"?e.add(_.ownerField||"owner"):_.allow==="groups"&&_.groupsField!==void 0&&e.add(_.groupsField);return Array.from(e)}function isAuthAttribute(o){var e,a;return(o==null?void 0:o.type)==="auth"&&typeof(o==null?void 0:o.properties)=="object"&&Array.isArray((e=o==null?void 0:o.properties)==null?void 0:e.rules)?((a=o==null?void 0:o.properties)==null?void 0:a.rules).every(_=>!!_.allow):!1}function capitalize(o){return`${o[0].toUpperCase()}${o.slice(1)}`}function selfAwareAsync(o){let e,a;const _=new Promise((b,_e)=>{e=b,a=_e});return o(_).then(b=>{e(b)}).catch(b=>{a(b)}),_}const promiseMap=new WeakMap;function extendCancellability(o,e){return promiseMap.set(e,o),o.finally(()=>{promiseMap.delete(e)})}function upgradeClientCancellation(o){const e=o.cancel.bind(o);o.cancel=function(a,_){const b=new Set;let _e=a;for(;_e&&promiseMap.has(_e);){if(b.has(_e))throw new Error("A cycle was detected in the modeled graphql cancellation chain. This is a bug. Please report it!");b.add(_e),_e=promiseMap.get(_e)}return e(_e,_)}}const connectionType={HAS_ONE:"HAS_ONE",HAS_MANY:"HAS_MANY",BELONGS_TO:"BELONGS_TO"},skGraphQlFieldTypeMap={ID:"ID",String:"String",AWSDate:"String",AWSTime:"String",AWSDateTime:"String",AWSTimestamp:"Int",AWSEmail:"String",AWSPhone:"String",AWSURL:"String",AWSIPAddress:"String",AWSJSON:"String",Boolean:"Boolean",Int:"Int",Float:"Float"},resolvedSkName=o=>o.length===1?o[0]:o.reduce((e,a,_)=>_===0?a:e+capitalize(a),""),flattenItems=(o,e,a)=>{var b;if(!a)return null;const _={};for(const[_e,et]of Object.entries(a)){const tt=e?(b=o.models[e])==null?void 0:b.fields[_e]:void 0,nt={fieldDef:tt,value:et};isRelatedModelItemsArrayPair(nt)?_[_e]=nt.value.items.map(it=>flattenItems(o,nt.fieldDef.type.model,it)):isRelatedModelProperty(tt)?_[_e]=flattenItems(o,tt.type.model,et):_[_e]=et}return _};function isRelatedModelItemsArrayPair(o){var e,a;return typeof((e=o.fieldDef)==null?void 0:e.type)=="object"&&"model"in o.fieldDef.type&&typeof o.fieldDef.type.model=="string"&&o.fieldDef.isArray&&Array.isArray((a=o.value)==null?void 0:a.items)}function isRelatedModelProperty(o){return typeof(o==null?void 0:o.type)=="object"&&"model"in o.type&&typeof o.type.model=="string"}function initializeModel(o,e,a,_,b,_e,et=!1){const tt=_.models[e],nt=tt.fields,it=Object.entries(nt).filter(([ot,st])=>{var at;return((at=st==null?void 0:st.type)==null?void 0:at.model)!==void 0}).map(([ot])=>ot);return a.map(ot=>{var at,lt,ut,ft,mt;if(ot==null)return ot;const st={};for(const ht of it){const vt=nt[ht],At=(vt==null?void 0:vt.type).model,Ct=_.models[At],Mt=Ct.primaryKeyInfo.primaryKeyFieldName,Bt=Ct.primaryKeyInfo.sortKeyFieldNames,Lt=(at=vt.association)==null?void 0:at.connectionType;let jt=[];vt.association&&"associatedWith"in vt.association&&(jt=vt.association.associatedWith);const Vt=[];switch(vt.association&&"targetNames"in vt.association&&Vt.push(...vt.association.targetNames),Lt){case connectionType.BELONGS_TO:{const Nt=Bt.reduce((kt,_t)=>(ot[_t]&&(kt[_t]=ot[_t]),kt),{});if(((lt=o.models[At])==null?void 0:lt.get)===void 0)break;et?st[ht]=(kt,_t)=>ot[Vt[0]]?o.models[At].get(kt,{[Mt]:ot[Vt[0]],...Nt},{authMode:(_t==null?void 0:_t.authMode)||b,authToken:(_t==null?void 0:_t.authToken)||_e}):{data:null}:st[ht]=kt=>ot[Vt[0]]?o.models[At].get({[Mt]:ot[Vt[0]],...Nt},{authMode:(kt==null?void 0:kt.authMode)||b,authToken:(kt==null?void 0:kt.authToken)||_e}):{data:null};break}case connectionType.HAS_ONE:case connectionType.HAS_MANY:{const Nt=Lt===connectionType.HAS_ONE?gt=>({data:(gt==null?void 0:gt.data.shift())||null,errors:gt.errors,extensions:gt.extensions}):gt=>gt,kt=tt.primaryKeyInfo.primaryKeyFieldName,_t=tt.primaryKeyInfo.sortKeyFieldNames,ct=Ct.fields[jt[0]];if(ct.type.model){let gt=[];ct.association&&"targetNames"in ct.association&&(gt=(ut=ct.association)==null?void 0:ut.targetNames);const bt=gt.map((xt,yt)=>yt===0?{[xt]:{eq:ot[kt]}}:{[xt]:{eq:ot[_t[yt-1]]}});if(((ft=o.models[At])==null?void 0:ft.list)===void 0)break;et?st[ht]=(xt,yt)=>ot[kt]?selfAwareAsync(async St=>{const pt=o.models[At].list(xt,{filter:{and:bt},limit:yt==null?void 0:yt.limit,nextToken:yt==null?void 0:yt.nextToken,authMode:(yt==null?void 0:yt.authMode)||b,authToken:(yt==null?void 0:yt.authToken)||_e}),Tt=extendCancellability(pt,St);return Nt(await Tt)}):[]:st[ht]=xt=>ot[kt]?selfAwareAsync(async yt=>{const St=o.models[At].list({filter:{and:bt},limit:xt==null?void 0:xt.limit,nextToken:xt==null?void 0:xt.nextToken,authMode:(xt==null?void 0:xt.authMode)||b,authToken:(xt==null?void 0:xt.authToken)||_e}),pt=extendCancellability(St,yt);return Nt(await pt)}):[];break}const wt=jt.map((gt,bt)=>bt===0?{[gt]:{eq:ot[kt]}}:{[gt]:{eq:ot[_t[bt-1]]}});if(((mt=o.models[At])==null?void 0:mt.list)===void 0)break;et?st[ht]=(gt,bt)=>ot[kt]?selfAwareAsync(async xt=>{const yt=o.models[At].list(gt,{filter:{and:wt},limit:bt==null?void 0:bt.limit,nextToken:bt==null?void 0:bt.nextToken,authMode:(bt==null?void 0:bt.authMode)||b,authToken:(bt==null?void 0:bt.authToken)||_e}),St=extendCancellability(yt,xt);return Nt(await St)}):[]:st[ht]=gt=>ot[kt]?selfAwareAsync(async bt=>{const xt=o.models[At].list({filter:{and:wt},limit:gt==null?void 0:gt.limit,nextToken:gt==null?void 0:gt.nextToken,authMode:(gt==null?void 0:gt.authMode)||b,authToken:(gt==null?void 0:gt.authToken)||_e}),yt=extendCancellability(xt,bt);return Nt(await yt)}):[];break}}}return{...ot,...st}})}const graphQLOperationsInfo={CREATE:{operationPrefix:"create",usePlural:!1},GET:{operationPrefix:"get",usePlural:!1},UPDATE:{operationPrefix:"update",usePlural:!1},DELETE:{operationPrefix:"delete",usePlural:!1},LIST:{operationPrefix:"list",usePlural:!0},INDEX_QUERY:{operationPrefix:"",usePlural:!1},ONCREATE:{operationPrefix:"onCreate",usePlural:!1},ONUPDATE:{operationPrefix:"onUpdate",usePlural:!1},ONDELETE:{operationPrefix:"onDelete",usePlural:!1},OBSERVEQUERY:{operationPrefix:"observeQuery",usePlural:!1}},SELECTION_SET_WILDCARD="*",getDefaultSelectionSetForNonModelWithIR=(o,e)=>{const{fields:a}=o,_=Object.values(a).map(({type:b,name:_e})=>{if(typeof b.enum=="string")return[_e,FIELD_IR];if(typeof b.nonModel=="string")return[_e,getDefaultSelectionSetForNonModelWithIR(e.nonModels[b.nonModel],e)];if(typeof b=="string")return[_e,FIELD_IR]}).filter(b=>b!==void 0);return Object.fromEntries(_)},getDefaultSelectionSetForModelWithIR=(o,e)=>{const{fields:a}=o,_=Object.values(a).map(({type:_e,name:et})=>{if(typeof _e.enum=="string"||typeof _e=="string")return[et,FIELD_IR];if(typeof _e.nonModel=="string")return[et,getDefaultSelectionSetForNonModelWithIR(e.nonModels[_e.nonModel],e)]}).filter(_e=>_e!==void 0),b=resolveOwnerFields(o).map(_e=>[_e,FIELD_IR]);return Object.fromEntries(_.concat(b))};function defaultSelectionSetForModel(o){const{fields:e}=o,a=Object.values(e).map(({type:b,name:_e})=>{if(typeof b=="string")return _e;if(typeof b=="object"){if(typeof(b==null?void 0:b.enum)=="string")return _e;if(typeof(b==null?void 0:b.nonModel)=="string")return`${_e}.${SELECTION_SET_WILDCARD}`}}).filter(Boolean),_=resolveOwnerFields(o);return Array.from(new Set(a.concat(_)))}const FIELD_IR="";function customSelectionSetToIR(o,e,a){const _=(b,_e)=>{var mt,ht,vt,Et,At,Ct;const[et,...tt]=b.split("."),nt=tt[0],it=o.models[_e]??o.nonModels[_e],ot=it==null?void 0:it.fields,st=(ht=(mt=ot==null?void 0:ot[et])==null?void 0:mt.type)==null?void 0:ht.model,at=o.models[st],lt=(Et=(vt=ot==null?void 0:ot[et])==null?void 0:vt.type)==null?void 0:Et.nonModel,ut=o.nonModels[lt],ft=at?"model":ut?"nonModel":"field";if(ft==="nonModel"){let Mt={};if(!nt)throw Error(`${et} must declare a wildcard (*) or a field of custom type ${lt}`);return nt===SELECTION_SET_WILDCARD?Mt={[et]:getDefaultSelectionSetForNonModelWithIR(ut,o)}:Mt={[et]:_(tt.join("."),lt)},Mt}else if(ft==="model"){let Mt={};if(!nt)throw Error(`${et} must declare a wildcard (*) or a field of model ${st}`);if(nt===SELECTION_SET_WILDCARD){const Bt=o.models[st];Mt={[et]:getDefaultSelectionSetForModelWithIR(Bt,o)}}else Mt={[et]:_(tt.join("."),st)};return(At=ot[et])!=null&&At.isArray&&(Mt={[et]:{items:Mt[et]}}),Mt}else{const Mt=ot==null?void 0:ot[et],Bt=o.nonModels[_e],Lt=(Ct=Bt==null?void 0:Bt.fields)==null?void 0:Ct[et];if(Bt){if(!Lt)throw Error(`${et} is not a field of custom type ${_e}`)}else{const jt=resolveOwnerFields(it).includes(et);if(!Mt&&!jt)throw Error(`${et} is not a field of model ${_e}`)}return{[et]:FIELD_IR}}};return a.reduce((b,_e)=>deepMergeSelectionSetObjects(_(_e,e),b),{})}function selectionSetIRToString(o){const e=[];return Object.entries(o).forEach(([a,_])=>{_===FIELD_IR?e.push(a):typeof _=="object"&&_!==null&&(_!=null&&_.items?e.push(a,"{","items","{",selectionSetIRToString(_.items),"}","}"):e.push(a,"{",selectionSetIRToString(_),"}"))}),e.join(" ")}function deepMergeSelectionSetObjects(o,e){const a=_=>_&&typeof _=="object";for(const _ in o)Object.prototype.hasOwnProperty.call(o,_)&&(Object.prototype.hasOwnProperty.call(e,_)&&a(e[_])?deepMergeSelectionSetObjects(o[_],e[_]):e[_]=o[_]);return e}function generateSelectionSet(o,e,a){const _=o.models[e],b=customSelectionSetToIR(o,e,a??defaultSelectionSetForModel(_));return selectionSetIRToString(b)}function generateGraphQLDocument(o,e,a,_,b){var Nt,kt;const{name:_e,pluralName:et,fields:tt,primaryKeyInfo:{isCustomPrimaryKey:nt,primaryKeyFieldName:it,sortKeyFieldNames:ot},attributes:st}=e,at=_e.charAt(0).toUpperCase()+_e.slice(1),lt=et.charAt(0).toUpperCase()+et.slice(1),{operationPrefix:ut,usePlural:ft}=graphQLOperationsInfo[a],{selectionSet:mt}=_||{};let ht,vt;if(ut)ht=`${ut}${ft?lt:at}`;else if(b){const{queryField:_t,pk:ct,sk:dt=[]}=b;ht=_t;let wt={};if(dt.length===1){const[gt]=dt,bt=typeof tt[gt].type=="string"?tt[gt].type:"String",xt=skGraphQlFieldTypeMap[bt];wt={[gt]:`Model${xt}KeyConditionInput`}}else if(dt.length>1){const gt=resolvedSkName(dt),bt=(kt=(Nt=st==null?void 0:st.find(xt=>{var yt;return((yt=xt==null?void 0:xt.properties)==null?void 0:yt.queryField)===_t}))==null?void 0:Nt.properties)==null?void 0:kt.name;wt={[gt]:`Model${capitalize(_e)}${capitalize(bt)}CompositeKeyConditionInput`}}vt={[ct]:`${Object.prototype.hasOwnProperty.call(tt[ct].type,"enum")?tt[ct].type.enum:tt[ct].type}!`,...wt}}else throw new Error("Error generating GraphQL Document - invalid operation name");let Et,At,Ct;const Mt=generateSelectionSet(o,_e,mt),Bt={[it]:`${tt[it].type}!`},Lt={},jt=_t=>{if(ot.length===0)return{};if(_t==="get")return ot.reduce((ct,dt)=>{const wt=tt[dt].type;return _t==="get"&&(ct[dt]=`${wt}!`),ct},{});if(ot.length===1){const[ct]=ot,dt=typeof tt[ct].type=="string"?tt[ct].type:"String",wt=skGraphQlFieldTypeMap[dt];return{[ct]:`Model${wt}KeyConditionInput`}}else return{[resolvedSkName(ot)]:`Model${capitalize(_e)}PrimaryCompositeKeyConditionInput`}};switch(nt&&(Object.assign(Bt,jt("get")),Object.assign(Lt,{[it]:`${tt[it].type}`,sortDirection:"ModelSortDirection"},jt("list"))),a){case"CREATE":case"UPDATE":case"DELETE":Ct??(Ct={input:`${ut.charAt(0).toLocaleUpperCase()+ut.slice(1)}${at}Input!`}),Et??(Et="mutation");case"GET":Ct??(Ct=Bt),At??(At=Mt);case"LIST":Ct??(Ct={...Lt,filter:`Model${at}FilterInput`,limit:"Int",nextToken:"String"}),Et??(Et="query"),At??(At=`items { ${Mt} } nextToken __typename`);case"INDEX_QUERY":Ct??(Ct={...vt,filter:`Model${at}FilterInput`,sortDirection:"ModelSortDirection",limit:"Int",nextToken:"String"}),Et??(Et="query"),At??(At=`items { ${Mt} } nextToken __typename`);case"ONCREATE":case"ONUPDATE":case"ONDELETE":Ct??(Ct={filter:`ModelSubscription${at}FilterInput`}),Et??(Et="subscription"),At??(At=Mt);break;case"OBSERVEQUERY":default:throw new Error("Internal error: Attempted to generate graphql document for observeQuery. Please report this error.")}return`${Et}${Ct?`(${Object.entries(Ct).map(([_t,ct])=>`$${_t}: ${ct}`)})`:""} { ${ht}${Ct?`(${Object.keys(Ct).map(_t=>`${_t}: $${_t}`)})`:""} { ${At} } }`}function buildGraphQLVariables(o,e,a,_,b){const{fields:_e,primaryKeyInfo:{isCustomPrimaryKey:et,primaryKeyFieldName:tt,sortKeyFieldNames:nt}}=o,it=(nt==null?void 0:nt.length)&&resolvedSkName(nt);let ot={};switch(e){case"CREATE":ot={input:a?normalizeMutationInput(a,o,_):{}};break;case"UPDATE":ot={input:a?Object.fromEntries(Object.entries(normalizeMutationInput(a,o,_)).filter(([st])=>_e[st]?!_e[st].isReadOnly:!resolveOwnerFields(o).includes(st))):{}};break;case"GET":case"DELETE":a&&(ot=et?[tt,...nt].reduce((st,at)=>(st[at]=a[at],st),{}):{[tt]:a[tt]}),e==="DELETE"&&(ot={input:ot});break;case"LIST":a!=null&&a.filter&&(ot.filter=a.filter),a!=null&&a.sortDirection&&(ot.sortDirection=a.sortDirection),a&&a[tt]&&(ot[tt]=a[tt]),it&&a&&a[it]&&(ot[it]=a[it]),a!=null&&a.nextToken&&(ot.nextToken=a.nextToken),a!=null&&a.limit&&(ot.limit=a.limit);break;case"INDEX_QUERY":{const{pk:st,sk:at=[]}=b,lt=(at==null?void 0:at.length)&&resolvedSkName(at);ot[st]=a[st],lt&&a&&a[lt]&&(ot[lt]=a[lt]),a!=null&&a.filter&&(ot.filter=a.filter),a!=null&&a.sortDirection&&(ot.sortDirection=a.sortDirection),a!=null&&a.nextToken&&(ot.nextToken=a.nextToken),a!=null&&a.limit&&(ot.limit=a.limit);break}case"ONCREATE":case"ONUPDATE":case"ONDELETE":a!=null&&a.filter&&(ot={filter:a.filter});break;case"OBSERVEQUERY":throw new Error("Internal error: Attempted to build variables for observeQuery. Please report this error.");default:{const st=e;throw new Error(`Unhandled operation case: ${st}`)}}return ot}function normalizeMutationInput(o,e,a){const{fields:_}=e,b={};return Object.entries(o).forEach(([_e,et])=>{var it,ot;const tt=(it=_[_e])==null?void 0:it.type,nt=tt==null?void 0:tt.model;if(nt){const st=(ot=_[_e])==null?void 0:ot.association,lt=a.models[nt].primaryKeyInfo;if((st==null?void 0:st.connectionType)===connectionType.HAS_ONE){const ut=st;ut.targetNames.forEach((ft,mt)=>{const ht=ut.associatedWith[mt];b[ft]=et[ht]})}(st==null?void 0:st.connectionType)===connectionType.BELONGS_TO&&st.targetNames.forEach((ft,mt)=>{if(mt===0){const ht=lt.primaryKeyFieldName;b[ft]=et[ht]}else{const ht=lt.sortKeyFieldNames[mt-1];b[ft]=et[ht]}})}else b[_e]=et}),b}function authModeParams(o,e,a={}){const _=e(o);return{authMode:a.authMode||_.authMode,authToken:a.authToken||_.authToken}}function getCustomHeaders(o,e,a){let _=e(o).headers||{};return a&&(_=a),_}function handleListGraphQlError(o){if(o!=null&&o.errors)return{...o,data:[]};throw o}function handleSingularGraphQlError(o){if(o.errors)return{...o,data:null};throw o}const INTERNAL_USER_AGENT_OVERRIDE=Symbol("INTERNAL_USER_AGENT_OVERRIDE");var AiAction;(function(o){o.CreateConversation="1",o.GetConversation="2",o.ListConversations="3",o.DeleteConversation="4",o.SendMessage="5",o.ListMessages="6",o.OnStreamEvent="7",o.Generation="8",o.UpdateConversation="9"})(AiAction||(AiAction={}));const getCustomUserAgentDetails=o=>({category:"ai",action:o});function createUserAgentOverride(o){return o?{[INTERNAL_USER_AGENT_OVERRIDE]:o}:void 0}const argIsContextSpec=o=>{var e;return typeof((e=o==null?void 0:o.token)==null?void 0:e.value)=="symbol"};function customOpFactory(o,e,a,_,b,_e,et){const tt=_.arguments!==void 0;return(...it)=>{const ot=it[it.length-1];let st,at;if(b)if(argIsContextSpec(it[0]))st=it[0];else throw new Error(`Invalid first argument passed to ${_.name}. Expected contextSpec`);return tt&&(b?at=it[1]:at=it[0]),a==="subscription"?_opSubscription(o,e,_,_e,at,ot,et):_op(o,e,a,_,_e,at,ot,st,et)}}function hasStringField(o,e){return typeof o[e]=="string"}function isEnumType(o){return o instanceof Object&&"enum"in o}function isInputType(o){return o instanceof Object&&"input"in o}function argumentBaseTypeString({type:o,isRequired:e}){const a=e?"!":"";return isEnumType(o)?`${o.enum}${a}`:isInputType(o)?`${o.input}${a}`:`${o}${a}`}function outerArguments(o){if(o.arguments===void 0)return"";const e=Object.entries(o.arguments).map(([a,_])=>{const b=argumentBaseTypeString(_),_e=_.isArray?`[${b}]${_.isArrayNullable?"":"!"}`:b;return`$${a}: ${_e}`}).join(", ");return e.length>0?`(${e})`:""}function innerArguments(o){if(o.arguments===void 0)return"";const e=Object.keys(o.arguments).map(a=>`${a}: $${a}`).join(", ");return e.length>0?`(${e})`:""}function operationSelectionSet(o,e){if(hasStringField(e,"type")||hasStringField(e.type,"enum"))return"";if(hasStringField(e.type,"nonModel")){const a=o.nonModels[e.type.nonModel];return`{${selectionSetIRToString(getDefaultSelectionSetForNonModelWithIR(a,o))}}`}else return hasStringField(e.type,"model")?`{${generateSelectionSet(o,e.type.model)}}`:""}function operationVariables(o,e={}){const a={};if(o.arguments===void 0)return a;for(const _ of Object.values(o.arguments))if(typeof e[_.name]<"u")a[_.name]=e[_.name];else if(_.isRequired)throw new Error(`${o.name} requires arguments '${_.name}'`);return a}function _op(o,e,a,_,b,_e,et,tt,nt){return selfAwareAsync(async it=>{const{name:ot}=_,st=authModeParams(o,b,et),at=getCustomHeaders(o,b,et==null?void 0:et.headers),lt=outerArguments(_),ut=innerArguments(_),ft=operationSelectionSet(e,_),mt=hasStringField(_.type,"model")?_.type.model:void 0,ht=`
    ${a.toLocaleLowerCase()}${lt} {
      ${ot}${ut} ${ft}
    }
  `,vt=operationVariables(_,_e),Et=createUserAgentOverride(nt);try{const At=tt?o.graphql(tt,{...st,query:ht,variables:vt},at):o.graphql({...st,query:ht,variables:vt,...Et},at),Ct=extendCancellability(At,it),{data:Mt,extensions:Bt}=await Ct;if(Mt){const[Lt]=Object.keys(Mt),jt=Array.isArray(Mt[Lt]),Vt=jt?Mt[Lt].filter(kt=>kt):Mt[Lt],Nt=mt?initializeModel(o,mt,jt?Vt:[Vt],e,st.authMode,st.authToken,!!tt):Vt;return{data:!jt&&Array.isArray(Nt)?Nt.shift():Nt,extensions:Bt}}else return{data:null,extensions:Bt}}catch(At){const{data:Ct,errors:Mt}=At;if(Ct&&Object.keys(Ct).length!==0&&Mt){const[Bt]=Object.keys(Ct),Lt=Array.isArray(Ct[Bt]),jt=Lt?Ct[Bt].filter(Vt=>Vt):Ct[Bt];if(jt){const Vt=mt?initializeModel(o,mt,Lt?jt:[jt],e,st.authMode,st.authToken,!!tt):jt;return{data:!Lt&&Array.isArray(Vt)?Vt.shift():Vt,errors:Mt}}else return handleSingularGraphQlError(At)}else return handleSingularGraphQlError(At)}})}function _opSubscription(o,e,a,_,b,_e,et){const tt="subscription",{name:nt}=a,it=authModeParams(o,_,_e),ot=getCustomHeaders(o,_,_e==null?void 0:_e.headers),st=outerArguments(a),at=innerArguments(a),lt=operationSelectionSet(e,a),ut=hasStringField(a.type,"model")?a.type.model:void 0,ft=`
    ${tt.toLocaleLowerCase()}${st} {
      ${nt}${at} ${lt}
    }
  `,mt=operationVariables(a,b),ht=createUserAgentOverride(et);return o.graphql({...it,query:ft,variables:mt,...ht},ot).pipe(map$2(Et=>{const[At]=Object.keys(Et.data),Ct=Et.data[At],[Mt]=ut?initializeModel(o,ut,[Ct],e,it.authMode,it.authToken):[Ct];return Mt}))}const operationTypeMap={queries:"query",mutations:"mutation",subscriptions:"subscription"};function generateCustomOperationsProperty(o,e,a,_){if(!e)return{};const b=e.modelIntrospection;if(!b)return{};const _e=b[a];if(!_e)return{};const et={},tt=_(o).amplify===null;for(const nt of Object.values(_e))et[nt.name]=customOpFactory(o,b,operationTypeMap[a],nt,tt,_);return et}function generateCustomMutationsProperty(o,e,a){return generateCustomOperationsProperty(o,e,"mutations",a)}function generateCustomQueriesProperty(o,e,a){return generateCustomOperationsProperty(o,e,"queries",a)}function generateCustomSubscriptionsProperty(o,e,a){return generateCustomOperationsProperty(o,e,"subscriptions",a)}function getFactory(o,e,a,_,b,_e=!1,et){return _e?(it,ot,st)=>_get(o,e,a,ot,st,_,b,it,et):(it,ot)=>_get(o,e,a,it,ot,_,b,void 0,et)}function _get(o,e,a,_,b,_e,et,tt,nt){return selfAwareAsync(async it=>{const{name:ot}=a,st=generateGraphQLDocument(e,a,_e,b),at=buildGraphQLVariables(a,_e,_,e),lt=authModeParams(o,et,b),ut=getCustomHeaders(o,et,b==null?void 0:b.headers),ft=createUserAgentOverride(nt);try{const mt=tt?o.graphql(tt,{...lt,query:st,variables:at},ut):o.graphql({...lt,query:st,variables:at,...ft},ut),ht=extendCancellability(mt,it),{data:vt,extensions:Et}=await ht;if(vt){const[At]=Object.keys(vt),Ct=flattenItems(e,ot,vt[At]);if(Ct===null)return{data:null,extensions:Et};if(b!=null&&b.selectionSet)return{data:Ct,extensions:Et};{const[Mt]=initializeModel(o,ot,[Ct],e,lt.authMode,lt.authToken,!!tt);return{data:Mt,extensions:Et}}}else return{data:null,extensions:Et}}catch(mt){const{data:ht,errors:vt}=mt;if(ht&&Object.keys(ht).length!==0&&vt){const[Et]=Object.keys(ht),At=flattenItems(e,ot,ht[Et]);if(At){if(b!=null&&b.selectionSet)return{data:At,errors:vt};{const[Ct]=initializeModel(o,ot,[At],e,lt.authMode,lt.authToken,!!tt);return{data:Ct,errors:vt}}}else return handleSingularGraphQlError(mt)}else return handleSingularGraphQlError(mt)}})}function listFactory(o,e,a,_,b=!1,_e){return b?(nt,it)=>_list(o,e,a,_,it,nt,_e):nt=>_list(o,e,a,_,nt,void 0,_e)}function _list(o,e,a,_,b,_e,et){return selfAwareAsync(async tt=>{var ut,ft,mt,ht;const{name:nt}=a,it=generateGraphQLDocument(e,a,"LIST",b),ot=buildGraphQLVariables(a,"LIST",b,e),st=authModeParams(o,_,b),at=getCustomHeaders(o,_,b==null?void 0:b.headers),lt=createUserAgentOverride(et);try{const vt=_e?o.graphql(_e,{...st,query:it,variables:ot},at):o.graphql({...st,query:it,variables:ot,...lt},at),Et=extendCancellability(vt,tt),{data:At,extensions:Ct}=await Et;if(At!==void 0){const[Mt]=Object.keys(At);if(At[Mt].items){const Bt=At[Mt].items.map(Lt=>flattenItems(e,nt,Lt));return b!=null&&b.selectionSet?{data:Bt,nextToken:At[Mt].nextToken,extensions:Ct}:{data:initializeModel(o,nt,Bt,e,st.authMode,st.authToken,!!_e),nextToken:At[Mt].nextToken,extensions:Ct}}return{data:At[Mt],nextToken:At[Mt].nextToken,extensions:Ct}}}catch(vt){const{data:Et,errors:At}=vt;if(Et!=null&&Object.keys(Et).length!==0&&At){const[Ct]=Object.keys(Et);if((ut=Et[Ct])!=null&&ut.items){const Mt=Et[Ct].items.map(Bt=>flattenItems(e,nt,Bt));return Mt?b!=null&&b.selectionSet?{data:Mt,nextToken:(ft=Et[Ct])==null?void 0:ft.nextToken,errors:At}:{data:initializeModel(o,nt,Mt,e,st.authMode,st.authToken,!!_e),nextToken:(mt=Et[Ct])==null?void 0:mt.nextToken,errors:At}:{data:Et[Ct],nextToken:(ht=Et[Ct])==null?void 0:ht.nextToken,errors:At}}else return handleListGraphQlError(vt)}else return handleListGraphQlError(vt)}})}const alphabetByEncoding={},alphabetByValue=new Array(64);for(let o=0,e=65,a=90;o+e<=a;o++){const _=String.fromCharCode(o+e);alphabetByEncoding[_]=o,alphabetByValue[o]=_}for(let o=0,e=97,a=122;o+e<=a;o++){const _=String.fromCharCode(o+e),b=o+26;alphabetByEncoding[_]=b,alphabetByValue[b]=_}for(let o=0;o<10;o++){alphabetByEncoding[o.toString(10)]=o+52;const e=o.toString(10),a=o+52;alphabetByEncoding[e]=a,alphabetByValue[a]=e}alphabetByEncoding["+"]=62;alphabetByValue[62]="+";alphabetByEncoding["/"]=63;alphabetByValue[63]="/";const bitsPerLetter=6,bitsPerByte=8,maxLetterValue=63,fromBase64=o=>{let e=o.length/4*3;o.slice(-2)==="=="?e-=2:o.slice(-1)==="="&&e--;const a=new ArrayBuffer(e),_=new DataView(a);for(let b=0;b<o.length;b+=4){let _e=0,et=0;for(let it=b,ot=b+3;it<=ot;it++)if(o[it]!=="="){if(!(o[it]in alphabetByEncoding))throw new TypeError(`Invalid character ${o[it]} in base64 string.`);_e|=alphabetByEncoding[o[it]]<<(ot-it)*bitsPerLetter,et+=bitsPerLetter}else _e>>=bitsPerLetter;const tt=b/4*3;_e>>=et%bitsPerByte;const nt=Math.floor(et/bitsPerByte);for(let it=0;it<nt;it++){const ot=(nt-it-1)*bitsPerByte;_.setUint8(tt+it,(_e&255<<ot)>>ot)}}return new Uint8Array(a)},fromUtf8=o=>new TextEncoder().encode(o);function toBase64(o){let e;typeof o=="string"?e=fromUtf8(o):e=o;const a=typeof e=="object"&&typeof e.length=="number",_=typeof e=="object"&&typeof e.byteOffset=="number"&&typeof e.byteLength=="number";if(!a&&!_)throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");let b="";for(let _e=0;_e<e.length;_e+=3){let et=0,tt=0;for(let it=_e,ot=Math.min(_e+3,e.length);it<ot;it++)et|=e[it]<<(ot-it-1)*bitsPerByte,tt+=bitsPerByte;const nt=Math.ceil(tt/bitsPerLetter);et<<=nt*bitsPerLetter-tt;for(let it=1;it<=nt;it++){const ot=(nt-it)*bitsPerLetter;b+=alphabetByValue[(et&maxLetterValue<<ot)>>ot]}b+="==".slice(0,4-nt)}return b}const deserializeContent=o=>o.map(e=>e.image?deserializeImageBlock(e):e.document?deserializeDocumentBlock(e):e.toolUse?deserializeToolUseBlock$1(e):e.toolResult?deserializeToolResultBlock(e):removeNullsFromBlock(e)),deserializeImageBlock=({image:o})=>({image:{...o,source:{...o.source,bytes:fromBase64(o.source.bytes)}}}),deserializeDocumentBlock=({document:o})=>({document:{...o,source:{...o.source,bytes:fromBase64(o.source.bytes)}}}),deserializeJsonBlock=({json:o})=>({json:JSON.parse(o)}),deserializeToolUseBlock$1=({toolUse:o})=>({toolUse:{...o,input:JSON.parse(o.input)}}),deserializeToolResultBlock=({toolResult:o})=>({toolResult:{toolUseId:o.toolUseId,content:o.content.map(e=>e.image?deserializeImageBlock(e):e.json?deserializeJsonBlock(e):removeNullsFromBlock(e))}}),removeNullsFromBlock=o=>Object.fromEntries(Object.entries(o).filter(([e,a])=>a!==null)),convertItemToConversationMessage=({content:o,createdAt:e,id:a,conversationId:_,role:b})=>({content:deserializeContent(o??[]),conversationId:_,createdAt:e,id:a,role:b}),createListMessagesFunction=(o,e,a,_,b)=>async _e=>{const et=listFactory(o,e,_,b,!1,getCustomUserAgentDetails(AiAction.ListMessages)),{data:tt,nextToken:nt,errors:it}=await et({..._e,filter:{conversationId:{eq:a}}});return{data:tt.map(ot=>convertItemToConversationMessage(ot)),nextToken:nt,errors:it}},convertItemToConversationStreamEvent=({id:o,conversationId:e,associatedUserMessageId:a,contentBlockIndex:_,contentBlockDoneAtIndex:b,contentBlockDeltaIndex:_e,contentBlockText:et,contentBlockToolUse:tt,stopReason:nt,errors:it})=>it?{error:{id:o,conversationId:e,associatedUserMessageId:a,errors:it}}:{next:removeNullsFromConversationStreamEvent({id:o,conversationId:e,associatedUserMessageId:a,contentBlockIndex:_,contentBlockDoneAtIndex:b,contentBlockDeltaIndex:_e,text:et,toolUse:deserializeToolUseBlock(tt),stopReason:nt})},deserializeToolUseBlock=o=>{if(o)return{...o,input:JSON.parse(o.input)}},removeNullsFromConversationStreamEvent=o=>Object.fromEntries(Object.entries(o).filter(([e,a])=>a!==null)),createOnStreamEventFunction=(o,e,a,_,b)=>_e=>{const{conversations:et}=e;if(!et)return{};const tt=et[_].message.subscribe;return customOpFactory(o,e,"subscription",tt,!1,b,getCustomUserAgentDetails(AiAction.OnStreamEvent))({conversationId:a}).subscribe(it=>{const{next:ot,error:st}=convertItemToConversationStreamEvent(it);st&&_e.error(st),ot&&_e.next(ot)})},serializeAiContext=o=>JSON.stringify(o),serializeContent=o=>o.map(e=>e.image?serializeImageBlock(e):e.document?serializeDocumentBlock(e):e.toolResult?serializeToolResultBlock(e):e),serializeToolConfiguration=({tools:o})=>({tools:Object.entries(o).map(([e,a])=>({toolSpec:{name:e,description:a.description,inputSchema:{json:JSON.stringify(a.inputSchema.json)}}}))}),serializeImageBlock=({image:o})=>({image:{...o,source:{...o.source,bytes:toBase64(o.source.bytes)}}}),serializeDocumentBlock=({document:o})=>({document:{...o,source:{...o.source,bytes:toBase64(o.source.bytes)}}}),serializeJsonBlock=({json:o})=>({json:JSON.stringify(o)}),serializeToolResultBlock=({toolResult:o})=>({toolResult:{...o,content:o.content.map(e=>e.image?serializeImageBlock(e):e.json?serializeJsonBlock(e):e)}}),createSendMessageFunction=(o,e,a,_,b)=>async _e=>{const{conversations:et}=e;if(!et)return{};const tt=typeof _e=="string"?{content:[{text:_e}]}:_e,{content:nt,aiContext:it,toolConfiguration:ot}=tt,st=et[_].message.send,at=customOpFactory(o,e,"mutation",st,!1,b,getCustomUserAgentDetails(AiAction.SendMessage)),{data:lt,errors:ut}=await at({conversationId:a,content:serializeContent(nt),...it&&{aiContext:serializeAiContext(it)},...ot&&{toolConfiguration:serializeToolConfiguration(ot)}});return{data:lt&&convertItemToConversationMessage(lt),errors:ut}},convertItemToConversation=(o,e,a,_,b,_e,et,tt,nt,it)=>{if(!a)throw new Error(`An error occurred converting a ${_e} conversation: Missing ID`);return{id:a,createdAt:_,updatedAt:b,metadata:nt,name:it,onStreamEvent:createOnStreamEventFunction(o,e,a,_e,tt),sendMessage:createSendMessageFunction(o,e,a,_e,tt),listMessages:createListMessagesFunction(o,e,a,et,tt)}},createCreateConversationFunction=(o,e,a,_,b,_e)=>async et=>{const{name:tt,metadata:nt}=et??{},it=JSON.stringify(nt),ot=getFactory(o,e,_,"CREATE",_e,!1,getCustomUserAgentDetails(AiAction.CreateConversation)),{data:st,errors:at}=await ot({name:tt,metadata:it});return{data:convertItemToConversation(o,e,st==null?void 0:st.id,st==null?void 0:st.createdAt,st==null?void 0:st.updatedAt,a,b,_e,st==null?void 0:st.metadata,st==null?void 0:st.name),errors:at}},createGetConversationFunction=(o,e,a,_,b,_e)=>async({id:et})=>{const tt=getFactory(o,e,_,"GET",_e,!1,getCustomUserAgentDetails(AiAction.GetConversation)),{data:nt,errors:it}=await tt({id:et});return{data:nt&&convertItemToConversation(o,e,nt.id,nt.createdAt,nt.updatedAt,a,b,_e,nt==null?void 0:nt.metadata,nt==null?void 0:nt.name),errors:it}},createListConversationsFunction=(o,e,a,_,b,_e)=>async et=>{const tt=listFactory(o,e,_,_e,!1,getCustomUserAgentDetails(AiAction.ListConversations)),{data:nt,nextToken:it,errors:ot}=await tt(et);return{data:nt.map(st=>convertItemToConversation(o,e,st.id,st.createdAt,st.updatedAt,a,b,_e,st==null?void 0:st.metadata,st==null?void 0:st.name)),nextToken:it,errors:ot}},createDeleteConversationFunction=(o,e,a,_,b,_e)=>async({id:et})=>{const tt=getFactory(o,e,_,"DELETE",_e,!1,getCustomUserAgentDetails(AiAction.DeleteConversation)),{data:nt,errors:it}=await tt({id:et});return{data:nt&&convertItemToConversation(o,e,nt==null?void 0:nt.id,nt==null?void 0:nt.createdAt,nt==null?void 0:nt.updatedAt,a,b,_e,nt==null?void 0:nt.metadata,nt==null?void 0:nt.name),errors:it}},createUpdateConversationFunction=(o,e,a,_,b,_e)=>async({id:et,metadata:tt,name:nt})=>{const it=JSON.stringify(tt),ot=getFactory(o,e,_,"UPDATE",_e,!1,getCustomUserAgentDetails(AiAction.UpdateConversation)),{data:st,errors:at}=await ot({id:et,metadata:it,name:nt});return{data:st&&convertItemToConversation(o,e,st==null?void 0:st.id,st==null?void 0:st.createdAt,st==null?void 0:st.updatedAt,a,b,_e,st==null?void 0:st.metadata,st==null?void 0:st.name),errors:at}};function generateConversationsProperty(o,e,a){const _=e==null?void 0:e.modelIntrospection;if(!(_!=null&&_.conversations))return{};const b={};for(const{name:_e,conversation:et,message:tt,models:nt,nonModels:it,enums:ot}of Object.values(_.conversations)){const st=nt[et.modelName],at=nt[tt.modelName];if(!st||!at)return{};const lt={..._,models:{..._.models,...nt},nonModels:{..._.nonModels,...it},enums:{..._.enums,...ot}};b[_e]={update:createUpdateConversationFunction(o,lt,_e,st,at,a),create:createCreateConversationFunction(o,lt,_e,st,at,a),get:createGetConversationFunction(o,lt,_e,st,at,a),delete:createDeleteConversationFunction(o,lt,_e,st,at,a),list:createListConversationsFunction(o,lt,_e,st,at,a)}}return b}function generateGenerationsProperty(o,e,a){const _=e==null?void 0:e.modelIntrospection;if(!(_!=null&&_.generations))return{};const b={};for(const _e of Object.values(_.generations))b[_e.name]=customOpFactory(o,_,"query",_e,!1,a,getCustomUserAgentDetails(AiAction.Generation));return b}const generateEnumsProperty=o=>{const e=o.modelIntrospection;if(!e)return{};const a={};for(const[_,b]of Object.entries(e.enums))a[b.name]={values:()=>b.values};return a};function indexQueryFactory(o,e,a,_,b,_e=!1){return _e?(nt,it,ot)=>_indexQuery(o,e,a,_,b,{...it,...ot},nt):(nt,it)=>_indexQuery(o,e,a,_,b,{...nt,...it})}function processGraphQlResponse(o,e,a,_,b){const{data:_e,extensions:et}=a,[tt]=Object.keys(_e);if(_e[tt].items){const nt=_e[tt].items.map(it=>flattenItems(o,e,it));return{data:_?nt:b(nt),nextToken:_e[tt].nextToken,extensions:et}}return{data:_e[tt],nextToken:_e[tt].nextToken,extensions:et}}function _indexQuery(o,e,a,_,b,_e,et){return selfAwareAsync(async tt=>{var lt,ut,ft,mt;const{name:nt}=a,it=generateGraphQLDocument(e,a,"INDEX_QUERY",_e,_),ot=buildGraphQLVariables(a,"INDEX_QUERY",_e,e,_),st=authModeParams(o,b,_e),at=ht=>initializeModel(o,nt,ht,e,st.authMode,st.authToken,!!et);try{const ht=getCustomHeaders(o,b,_e==null?void 0:_e.headers),Et=[{...st,query:it,variables:ot},ht];et!==void 0&&Et.unshift(et);const At=o.graphql(...Et),Mt=await extendCancellability(At,tt);if(Mt.data!==void 0)return processGraphQlResponse(e,nt,Mt,_e==null?void 0:_e.selectionSet,at)}catch(ht){const{data:vt,errors:Et}=ht;if(vt!=null&&Object.keys(vt).length!==0&&Et){const[At]=Object.keys(vt);if((lt=vt[At])!=null&&lt.items){const Ct=(ut=vt[At])==null?void 0:ut.items.map(Mt=>flattenItems(e,nt,Mt));if(Ct)return{data:_e!=null&&_e.selectionSet?Ct:at(Ct),nextToken:(ft=vt[At])==null?void 0:ft.nextToken}}return{data:vt[At],nextToken:(mt=vt[At])==null?void 0:mt.nextToken}}else return handleListGraphQlError(ht)}})}function subscriptionFactory(o,e,a,_,b){const{name:_e}=a;return tt=>{const nt=generateGraphQLDocument(e,a,_,tt),it=buildGraphQLVariables(a,_,tt,e),ot=authModeParams(o,b,tt),st=getCustomHeaders(o,b,tt==null?void 0:tt.headers);return o.graphql({...ot,query:nt,variables:it},st).pipe(map$2(lt=>{const[ut]=Object.keys(lt.data),ft=lt.data[ut],mt=flattenItems(e,_e,ft);if(mt===null)return null;if(tt!=null&&tt.selectionSet)return mt;{const[ht]=initializeModel(o,_e,[mt],e,ot.authMode,ot.authToken);return ht}}))}}function resolvePKFields(o){const{primaryKeyFieldName:e,sortKeyFieldNames:a}=o.primaryKeyInfo;return[e,...a]}function findIndexByFields(o,e,a){const _=Object.fromEntries(a.map(b=>[b,o[b]]));for(let b=0;b<e.length;b++)if(Object.keys(_).every(_e=>_[_e]===e[b][_e]))return b;return-1}function observeQueryFactory(o,e){const{name:a}=e;return b=>new Observable(_e=>{const et=[],tt=[];let nt=(...ut)=>tt.push(...ut);const it=o[a].onCreate(b).subscribe({next(ut){nt({item:ut,type:"create"})},error(ut){_e.error({type:"onCreate",error:ut})}}),ot=o[a].onUpdate(b).subscribe({next(ut){nt({item:ut,type:"update"})},error(ut){_e.error({type:"onUpdate",error:ut})}}),st=o[a].onDelete(b).subscribe({next(ut){nt({item:ut,type:"delete"})},error(ut){_e.error({type:"onDelete",error:ut})}});function at(ut){for(const ft of ut){const mt=findIndexByFields(ft.item,et,lt);switch(ft.type){case"create":mt<0&&et.push(ft.item);break;case"update":mt>=0&&(et[mt]=ft.item);break;case"delete":mt>=0&&et.splice(mt,1);break;default:console.error("Unrecognized message in observeQuery.",ft)}}_e.next({items:et,isSynced:!0})}const lt=resolvePKFields(e);return(async()=>{let ut=!0,ft=null;for(;!_e.closed&&(ut||ft);){ut=!1;const{data:mt,errors:ht,nextToken:vt}=await o[a].list({...b,nextToken:ft});ft=vt,et.push(...mt);const Et=tt.length===0&&ft==null;if(_e.next({items:et,isSynced:Et}),Array.isArray(ht))for(const At of ht)_e.error(At)}tt.length>0&&at(tt),nt=(...mt)=>(at(mt),et.length)})(),()=>{it.unsubscribe(),ot.unsubscribe(),st.unsubscribe()}})}const attributeIsSecondaryIndex=o=>{var e,a,_;return o.type==="key"&&((e=o.properties)==null?void 0:e.name)&&((a=o.properties)==null?void 0:a.queryField)&&((_=o.properties)==null?void 0:_.fields.length)>0},getSecondaryIndexesFromSchemaModel=o=>{var a;return((a=o.attributes)==null?void 0:a.filter(attributeIsSecondaryIndex).map(_=>{const b=_.properties.queryField,[_e,...et]=_.properties.fields;return{queryField:b,pk:_e,sk:et}}))||[]},excludeDisabledOps=(o,e)=>{var tt;const a=(tt=o.models[e].attributes)==null?void 0:tt.find(nt=>nt.type==="model"),_={queries:["list","get","observeQuery"],mutations:["create","update","delete"],subscriptions:["onCreate","onUpdate","onDelete"]},b=[];if(!a)return graphQLOperationsInfo;if(a.properties)for(const[nt,it]of Object.entries(a.properties))nt in _&&(it===null?b.push(..._[nt]):it instanceof Object&&b.push(...Object.keys(it)));b.includes("list")&&b.push("observeQuery");const _e=b.map(nt=>nt.toUpperCase());return Object.fromEntries(Object.entries(graphQLOperationsInfo).filter(([nt])=>!_e.includes(nt)))};function generateModelsProperty(o,e,a){const _={},b=e.modelIntrospection;if(!b)return{};const _e=["ONCREATE","ONUPDATE","ONDELETE"];for(const et of Object.values(b.models)){const{name:tt}=et;_[tt]={};const nt=excludeDisabledOps(b,tt);Object.entries(nt).forEach(([ot,{operationPrefix:st}])=>{const at=ot;at==="LIST"?_[tt][st]=listFactory(o,b,et,a):_e.includes(at)?_[tt][st]=subscriptionFactory(o,b,et,at,a):at==="OBSERVEQUERY"?_[tt][st]=observeQueryFactory(_,et):_[tt][st]=getFactory(o,b,et,at,a)});const it=getSecondaryIndexesFromSchemaModel(et);for(const ot of it)_[tt][ot.queryField]=indexQueryFactory(o,b,et,ot,a)}return _}function addSchemaToClient(o,e,a){return upgradeClientCancellation(o),o.models=generateModelsProperty(o,e,a),o.enums=generateEnumsProperty(e),o.queries=generateCustomQueriesProperty(o,e,a),o.mutations=generateCustomMutationsProperty(o,e,a),o.subscriptions=generateCustomSubscriptionsProperty(o,e,a),o.conversations=generateConversationsProperty(o,e,a),o.generations=generateGenerationsProperty(o,e,a),o}function isGraphQLOptionsWithOverride(o){return INTERNAL_USER_AGENT_OVERRIDE in o}class GraphQLAPIClass extends InternalGraphQLAPIClass{getModuleName(){return"GraphQLAPI"}graphql(e,a,_){const b={category:Category.API,action:ApiAction.GraphQl};if(isGraphQLOptionsWithOverride(a)){const{[INTERNAL_USER_AGENT_OVERRIDE]:_e,...et}=a;return super.graphql(e,et,_,{...b,..._e})}return super.graphql(e,a,_,{...b})}isCancelError(e){return super.isCancelError(e)}cancel(e,a){return super.cancel(e,a)}}const GraphQLAPI=new GraphQLAPIClass;function graphql(o,e){const a=getInternals(this),_=a.endpoint,b=a.authMode,_e=a.apiKey;if(o.authMode=o.authMode||b,o.apiKey=o.apiKey??_e,o.authToken=o.authToken||a.authToken,_&&o.authMode==="apiKey"&&!o.apiKey)throw new Error("graphql() requires an explicit `apiKey` for a custom `endpoint` when `authMode = 'apiKey'`.");const et=e||a.headers;return GraphQLAPI.graphql(a.amplify,{...o,endpoint:_},et)}function cancel(o,e){return GraphQLAPI.cancel(o,e)}function isCancelError(o){return GraphQLAPI.isCancelError(o)}function isApiGraphQLConfig(o){return o!==void 0}function isConfigureEventWithResourceConfig(o){return o.event==="configure"}function generateClient$1(o){var _;const e={[__amplify]:o.amplify,[__authMode]:o.authMode,[__authToken]:o.authToken,[__apiKey]:"apiKey"in o?o.apiKey:void 0,[__endpoint]:"endpoint"in o?o.endpoint:void 0,[__headers]:o.headers,graphql,cancel,isCancelError,models:emptyProperty,enums:emptyProperty,queries:emptyProperty,mutations:emptyProperty,subscriptions:emptyProperty},a=(_=o.amplify.getConfig().API)==null?void 0:_.GraphQL;if(e[__endpoint]){if(!e[__authMode])throw new Error("generateClient() requires an explicit `authMode` when `endpoint` is provided.");if(e[__authMode]==="apiKey"&&!e[__apiKey])throw new Error("generateClient() requires an explicit `apiKey` when `endpoint` is provided and `authMode = 'apiKey'`.")}return e[__endpoint]||(isApiGraphQLConfig(a)?addSchemaToClient(e,a,getInternals):generateModelsPropertyOnAmplifyConfigure(e)),e}const generateModelsPropertyOnAmplifyConfigure=o=>{Hub.listen("core",e=>{var _;if(!isConfigureEventWithResourceConfig(e.payload))return;const a=(_=e.payload.data.API)==null?void 0:_.GraphQL;isApiGraphQLConfig(a)&&addSchemaToClient(o,a,getInternals)})},emptyProperty=new Proxy({},{get(){throw new Error("Client could not be generated. This is likely due to `Amplify.configure()` not being called prior to `generateClient()` or because the configuration passed to `Amplify.configure()` is missing GraphQL provider configuration.")}});function generateClient(o){return generateClient$1({amplify:Amplify})}const normalizeAuth=(o,e)=>o?o==="identityPool"?"iam":o:e,configure=()=>{var b;const e=(b=Amplify.getConfig().API)==null?void 0:b.Events;if(!e)throw new Error("Amplify configuration is missing. Have you called Amplify.configure()?");const a=normalizeAuth(e.defaultAuthMode,"apiKey");return{appSyncGraphqlEndpoint:e.endpoint,region:e.region,authenticationType:a,apiKey:e.apiKey}},serializeEvents=o=>{if(Array.isArray(o))return o.map((a,_)=>{const b=JSON.stringify(a);if(b===void 0)throw new Error(`Event must be a valid JSON value. Received ${a} at index ${_}`);return b});const e=JSON.stringify(o);if(e===void 0)throw new Error(`Event must be a valid JSON value. Received ${o}`);return[e]},PROVIDER_NAME="AWSAppSyncEventsProvider",WS_PROTOCOL_NAME="aws-appsync-event-ws",CONNECT_URI="";class AWSAppSyncEventProvider extends AWSWebSocketProvider{constructor(){super({providerName:PROVIDER_NAME,wsProtocolName:WS_PROTOCOL_NAME,connectUri:CONNECT_URI}),this.allowNoSubscriptions=!0}getProviderName(){return PROVIDER_NAME}async connect(e){return super.connect(e)}subscribe(e,a){return super.subscribe(e,a).pipe()}async publish(e,a){return super.publish(e,a)}closeIfNoActiveSubscription(){this._closeSocketIfRequired()}async _prepareSubscriptionPayload({options:e,subscriptionId:a,customUserAgentDetails:_,additionalCustomHeaders:b,libraryConfigHeaders:_e,publish:et}){const{appSyncGraphqlEndpoint:tt,authenticationType:nt,query:it,apiKey:ot,region:st,variables:at}=e,lt={channel:it,events:at!==void 0?serializeEvents(at):void 0},ut=JSON.stringify(lt),ft={...await awsRealTimeHeaderBasedAuth({apiKey:ot,appSyncGraphqlEndpoint:tt,authenticationType:nt,payload:ut,canonicalUri:"",region:st,additionalCustomHeaders:b}),..._e,...b,[USER_AGENT_HEADER$1]:getAmplifyUserAgent(_)},mt={id:a,channel:it,events:at!==void 0?serializeEvents(at):void 0,authorization:{...ft},payload:{events:at!==void 0?serializeEvents(at):void 0,channel:it,extensions:{authorization:{...ft}}},type:et?MESSAGE_TYPES.EVENT_PUBLISH:MESSAGE_TYPES.EVENT_SUBSCRIBE};return JSON.stringify(mt)}_handleSubscriptionData(e){this.logger.debug(`subscription message from AWS AppSync Events: ${e.data}`);const{id:a="",event:_,type:b}=JSON.parse(String(e.data)),{observer:_e=null,query:et="",variables:tt={}}=this.subscriptionObserverMap.get(a)||{};if(this.logger.debug({id:a,observer:_e,query:et,variables:tt}),b===MESSAGE_TYPES.DATA&&_){const nt=JSON.parse(_);return _e?_e.next({id:a,type:b,event:nt}):this.logger.debug(`observer not found for id: ${a}`),[!0,{id:a,type:b,payload:nt}]}return[!1,{id:a,type:b,payload:_}]}_unsubscribeMessage(e){return{id:e,type:MESSAGE_TYPES.EVENT_STOP}}_extractConnectionTimeout(e){const{connectionTimeoutMs:a=DEFAULT_KEEP_ALIVE_TIMEOUT}=e;return a}_extractErrorCodeAndType(e){const{errors:[{errorType:a="",errorCode:_=0}={}]=[]}=e;return{errorCode:_,errorType:a}}}const AppSyncEventProvider=new AWSAppSyncEventProvider,openChannels=new Set;async function connect(o,e){const a=configure();a.authenticationType=normalizeAuth(e==null?void 0:e.authMode,a.authenticationType),a.apiKey=(e==null?void 0:e.apiKey)||a.apiKey,a.authToken=(e==null?void 0:e.authToken)||a.authToken,await AppSyncEventProvider.connect(a);const _=amplifyUuid();openChannels.add(_);let b;return{subscribe:(nt,it)=>{if(!openChannels.has(_))throw new Error("Channel is closed");const ot={...a,query:o};return ot.authenticationType=normalizeAuth(it==null?void 0:it.authMode,ot.authenticationType),ot.apiKey=(it==null?void 0:it.apiKey)||ot.apiKey,ot.authToken=(it==null?void 0:it.authToken)||ot.authToken,b=AppSyncEventProvider.subscribe(ot).subscribe(nt),b},close:async()=>{b&&b.unsubscribe(),openChannels.delete(_),setTimeout(()=>{openChannels.size===0&&AppSyncEventProvider.closeIfNoActiveSubscription()},1e3)},publish:async(nt,it)=>{if(!openChannels.has(_))throw new Error("Channel is closed");const ot={...a,query:o,variables:nt};return ot.authenticationType=normalizeAuth(it==null?void 0:it.authMode,ot.authenticationType),ot.apiKey=(it==null?void 0:it.apiKey)||ot.apiKey,ot.authToken=(it==null?void 0:it.authToken)||ot.authToken,AppSyncEventProvider.publish(ot)}}}async function closeAll(){await AppSyncEventProvider.close()}/**
 * @wharfkit/wallet-plugin-cloudwallet v1.5.1
 * https://github.com/wharfkit/wallet-plugin-cloudwallet
 *
 * @license
 * Copyright (c) 2023 Greymass Inc. All Rights Reserved.
 * 
 * Redistribution and use in source and binary forms, with or without modification,
 * are permitted provided that the following conditions are met:
 * 
 * 1.  Redistribution of source code must retain the above copyright notice, this
 *     list of conditions and the following disclaimer.
 * 
 * 2.  Redistribution in binary form must reproduce the above copyright notice,
 *     this list of conditions and the following disclaimer in the documentation
 *     and/or other materials provided with the distribution.
 * 
 * 3.  Neither the name of the copyright holder nor the names of its contributors
 *     may be used to endorse or promote products derived from this software without
 *     specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
 * IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE
 * OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED
 * OF THE POSSIBILITY OF SUCH DAMAGE.
 * 
 * YOU ACKNOWLEDGE THAT THIS SOFTWARE IS NOT DESIGNED, LICENSED OR INTENDED FOR USE
 * IN THE DESIGN, CONSTRUCTION, OPERATION OR MAINTENANCE OF ANY MILITARY FACILITY.
 */let Buyrambytes=class extends Struct{};__decorate$1([Struct.field(Name)],Buyrambytes.prototype,"payer",void 0);__decorate$1([Struct.field(Name)],Buyrambytes.prototype,"receiver",void 0);__decorate$1([Struct.field(UInt32)],Buyrambytes.prototype,"bytes",void 0);Buyrambytes=__decorate$1([Struct.type("buyrambytes")],Buyrambytes);let Transfer=class extends Struct{};__decorate$1([Struct.field(Name)],Transfer.prototype,"from",void 0);__decorate$1([Struct.field(Name)],Transfer.prototype,"to",void 0);__decorate$1([Struct.field(Asset$1)],Transfer.prototype,"quantity",void 0);__decorate$1([Struct.field("string")],Transfer.prototype,"memo",void 0);Transfer=__decorate$1([Struct.type("transfer")],Transfer);function validateModifications(o,e){if(!o.actions.every(b=>e.actions.some(_e=>b.equals(_e))))throw new Error("The modified transaction does not contain all the original actions.");const _=e.actions.filter(b=>!o.actions.some(_e=>b.equals(_e)));for(const b of _)if(b.authorization.find(et=>et.actor===o.actions[0].authorization[0].actor)){if(b.account.equals("eosio.token")&&b.name.equals("transfer")){const nt=Transfer.from(b.data);if(nt.to.equals("txfee.wam")&&nt.memo.startsWith("WAX fee for"))continue}if(b.account.equals("eosio")&&b.name.equals("buyrambytes")&&Buyrambytes.from(b.data).receiver.equals(o.actions[0].authorization[0].actor))continue;throw new Error("The modified transaction contains one or more actions that are not allowed.")}}function registerCloseListener(o,e,a){const _=setInterval(()=>{e.closed&&(clearInterval(_),a(o("error.closed",{default:"The Cloud Wallet was closed before the request was completed"})))},500);return _}function getCurrentTime(){return Math.floor(new Date().getTime())}function isValidEvent(o,e,a){const b=new URL(o.origin).origin===e.origin,_e=o.source===a;return!(!(typeof o.data=="object")||!b||!_e)}async function autoLogin(o,e){const a=new URL(e),_=await fetch(String(a),{credentials:"include",method:"get",headers:{"X-Referer-Url":location.origin}});if(!_.ok)throw new Error(o("error.endpoint",{default:"Login Endpoint Error {{status}} - {{statusText}}",status:_.status,statusText:_.statusText}));return await _.json()}async function popupLogin(o,e,a=3e5){const _=new URL(e),b=await window.open(_,"WalletPluginCloudWalletPopup","height=800,width=600");if(!b)throw new Error(o("error.popup",{default:"Unable to open the popup window. Check your browser settings and try again."}));return new Promise((_e,et)=>{const tt=registerCloseListener(o,b,et),nt=ot=>{if(isValidEvent(ot,_,b))try{_e(ot.data)}catch(st){et(st)}finally{window.removeEventListener("message",nt),clearTimeout(it),clearInterval(tt)}},it=setTimeout(()=>{b.close(),window.removeEventListener("message",nt),et(new Error(o("error.timeout",{default:"The request has timed out after {{timeout}} seconds. Please try again.",timeout:a/1e3})))},a);window.addEventListener("message",nt)})}function allowAutosign(o,e){const a=navigator.userAgent.toLowerCase();if(a.search("chrome")===-1&&a.search("safari")>=0)return!1;try{if(!e)return!1;const _=e.whitelist,{actions:b}=o.resolvedTransaction;return b.every(_e=>_.find(et=>{if(_e.account.equals(et.contract))return _e.account.equals("eosio.token")&&_e.name&&_e.name.equals("transfer")?et.recipients.includes(String(_e.data.to)):!0}))}catch{}return!1}async function autoSign(o,e,a){const _=new URL(e),b=new AbortController;setTimeout(()=>b.abort(),5e3);const _e=await fetch(_,{body:JSON.stringify({feeFallback:!0,freeBandwidth:!0,transaction:a.serializedTransaction}),credentials:"include",headers:{"Content-Type":"application/json"},method:"POST",signal:b.signal});if(!_e.ok)throw new Error(o("error.endpoint",{default:"Login Endpoint Error {{status}} - {{statusText}}",status:_e.status,statusText:_e.statusText}));const et=await _e.json();if(et.processed&&et.processed.except)throw new Error(o("error.exception",{default:"Signing exception occurred: {{exception}}",exception:JSON.stringify(et)}));return et}async function popupTransact(o,e,a,_=3e5){const b=new URL(e),_e=await window.open(b,"WalletPluginCloudWalletPopup","height=800,width=600");if(!_e)throw new Error(o("error.popup",{default:"Unable to open the popup window. Check your browser settings and try again."}));return new Promise((et,tt)=>{const nt=registerCloseListener(o,_e,tt),it=st=>{if(!isValidEvent(st,b,_e))return;_e==null||_e.postMessage({feeFallback:!0,freeBandwidth:!0,startTime:getCurrentTime(),transaction:a.serializedTransaction,type:"TRANSACTION"},String(e));const at=lt=>{if(isValidEvent(lt,b,_e))try{et(lt.data)}catch(ut){tt(ut)}finally{window.removeEventListener("message",it),window.removeEventListener("message",at),clearTimeout(ot),clearInterval(nt)}};window.addEventListener("message",at)},ot=setTimeout(()=>{_e.close(),window.removeEventListener("message",it),tt(new Error(o("error.timeout",{default:"The request has timed out after {{timeout}} seconds. Please try again.",timeout:_/1e3})))},_);window.addEventListener("message",it)})}var connecting$3="Connecting to Cloud Wallet",error$3={closed:"The Cloud Wallet was closed before the request was completed",endpoint:"Login Endpoint Error {{status}} - {{statusText}}",exception:"Signing exception occurred: {{exception}}",popup:"Unable to open the popup window. Check your browser settings and try again.",response:"The Cloud Wallet failed to respond.",timeout:"The request has timed out after {{timeout}} seconds. Please try again."},login$3={popup:"Login with the Cloud Wallet popup window"},transact$3={popup:"Sign with the Cloud Wallet popup window"},en={connecting:connecting$3,error:error$3,login:login$3,transact:transact$3},connecting$2="  ",error$2={closed:"     .",endpoint:"   {{status}} - {{statusText}}",exception:"  : {{exception}}",popup:"    .     .",response:"   .",timeout:"{{timeout}}    .  ."},login$2={popup:"    "},transact$2={popup:"    "},ko={connecting:connecting$2,error:error$2,login:login$2,transact:transact$2},connecting$1="",error$1={closed:"",endpoint:" {{status}} - {{statusText}}",exception:"{{exception}}",popup:"",response:"",timeout:" {{timeout}} "},login$1={popup:""},transact$1={popup:""},zh_hans={connecting:connecting$1,error:error$1,login:login$1,transact:transact$1},connecting="",error={closed:"",endpoint:" {{status}} - {{statusText}}",exception:"{{exception}}",popup:" ",response:"",timeout:" {{timeout}} "},login={popup:""},transact={popup:""},zh_hant={connecting,error,login,transact},defaultTranslations={en,ko,"zh-Hans":zh_hans,"zh-Hant":zh_hant};const isIos=()=>navigator.userAgent.includes("iPhone")||navigator.userAgent.includes("iPad");function generateReturnUrl(){if(!(isAppleHandheld()&&isReactNativeApp())){if(isChromeiOS())return"googlechrome://";if(isFirefoxiOS())return"firefox:://";if(isAppleHandheld()&&isBrave())return"brave://";if(isAppleHandheld()){const o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let e=window.location.href.split("#")[0]+"#";for(let a=0;a<8;a++)e+=o.charAt(Math.floor(Math.random()*o.length));return e}return isAndroid()&&isFirefox()?"android-app://org.mozilla.firefox":isAndroid()&&isEdge()?"android-app://com.microsoft.emmx":isAndroid()&&isOpera()?"android-app://com.opera.browser":isAndroid()&&isBrave()?"android-app://com.brave.browser":isAndroid()&&isAndroidWebView()?"android-app://webview":isAndroid()&&isChromeMobile()?"android-app://com.android.chrome":window.location.href}}function isAppleHandheld(){return/iP(ad|od|hone)/i.test(navigator.userAgent)}function isChromeiOS(){return/CriOS/.test(navigator.userAgent)}function isChromeMobile(){return/Chrome\/[.0-9]* Mobile/i.test(navigator.userAgent)}function isFirefox(){return/Firefox/i.test(navigator.userAgent)}function isFirefoxiOS(){return/FxiOS/.test(navigator.userAgent)}function isOpera(){return/OPR/.test(navigator.userAgent)||/Opera/.test(navigator.userAgent)}function isEdge(){return/Edg/.test(navigator.userAgent)}function isBrave(){return navigator.brave&&typeof navigator.brave.isBrave=="function"}function isAndroid(){return/Android/.test(navigator.userAgent)}function isReactNativeApp(){return!!window.ReactNativeWebView}function isAndroidWebView(){return/wv/.test(navigator.userAgent)||/Android/.test(navigator.userAgent)&&isReactNativeApp()}function decodeSignatureFromWallet(o){let e=o.replace(/-/g,"+").replace(/_/g,"/");for(;e.length%4!==0;)e+="=";try{const a=atob(e);return JSON.parse(a)}catch(a){throw console.error("Failed to decode signature from wallet:",a),new Error("Invalid signature format")}}class TransactionHandler{static generateTransactionMessage(e,a,_){return{id:v4(),type:"requesting",actions:e,namedParams:a,dapp:_}}static isValidTransactionMessage(e){return e&&typeof e=="object"&&typeof e.id=="string"&&typeof e.type=="string"&&["requesting","approved","rejected","error","ready","not-ready"].includes(e.type)}static isMatchingTransaction(e,a){return e.id===a}static processTransactionResult(e){return e!=null&&e.signatures?e.signatures.map(a=>{try{return/^[A-Za-z0-9+/=]+$/.test(a)?atob(a):a}catch(_){return console.warn("Failed to decode signature:",_),a}}):[]}}const publish2channel=`
    mutation Publish2channel($data: AWSJSON!, $name: String!) {
        publish2channel(data: $data, name: $name) {
            data
            name
            __typename
        }
    }
`;class SyncHandlerConfig{constructor(e){DefaultAmplify.configure({API:{GraphQL:{endpoint:e.graphQLRelayEndpoint,region:e.graphQLRelayRegion,defaultAuthMode:"lambda"},Events:{endpoint:e.eventRelayEndpoint,region:e.eventRelayRegion,defaultAuthMode:"lambda"}}})}}class GraphQLSyncHandler{constructor(){this.client=generateClient()}async publishToChannel(e,a,_){await this.client.graphql({query:publish2channel,variables:{name:e,data:JSON.stringify(a)},authToken:_})}async subscribeToChannel(e,a,_,b,_e=18e4){try{const tt=(await connect(e)).subscribe({next:it=>{this.handleMessage(it,a,_)},error:it=>{_(it)}}),nt=setTimeout(()=>{tt.unsubscribe(),_(new Error("Subscription timeout after "+_e+"ms"))},_e);return{unsubscribe:()=>{clearTimeout(nt),tt.unsubscribe()}}}catch(et){return _(et),{unsubscribe:()=>{}}}}}class TransactionSyncHandler extends GraphQLSyncHandler{static parseAuthHeaders(e,a,_){if(typeof a=="string")try{a.startsWith("{")&&(a=JSON.parse(a))}catch(b){console.warn("Failed to parse token:",b)}return JSON.stringify({account:e,token:a,svc:_,mode:"dapp"})}handleMessage(e,a,_){if(TransactionHandler.isValidTransactionMessage(e)){a(e);return}_(new Error("Invalid transaction message received"))}generateChannelName(e,a){return`transact:${e}:${a||""}`}generateTransactionMessage(e,a,_){return TransactionHandler.generateTransactionMessage(e,a,_)}processTransactionResult(e){if(e.type!=="approved")throw new Error("Transaction not approved");return{signatures:TransactionHandler.processTransactionResult(e.result)}}}class ActivationFetchError extends Error{constructor(e=""){super(e),this.name="ActivationFetchError"}}class ActivationExpiredError extends Error{constructor(e=""){super(e),this.name="ActivationExpiredError"}}class ActivationCancelledError extends Error{constructor(e=""){super(e),this.name="ActivationCancelledError"}}class ActivationDeepLinkError extends Error{constructor(e=""){super(e),this.name="ActivationDeepLinkError"}}class InvalidCodeError extends Error{constructor(e=""){super(e),this.name="InvalidCodeError"}}class MobileAppConnect{constructor(e){if(this.mobileAppConnectConfig=e,this.isCanceled=!1,this.connectedType=null,this.WAX_SCHEME_DEEPLINK="mycloudwallet",this.activationEndpoint="https://login-api.mycloudwallet.com",!e||!e.dappInfo)throw new Error("MobileAppConnect is required");this.mobileAppConnectConfig=e,this.dAppInfo=e.dappInfo,this.origin=location.origin,new SyncHandlerConfig({graphQLRelayEndpoint:"https://queue-relay.mycloudwallet.com/graphql",graphQLRelayRegion:"us-east-2",eventRelayEndpoint:"https://direct-connect-api.mycloudwallet.com/event",eventRelayRegion:"eu-east-2"}),this.transactionSyncHandler=new TransactionSyncHandler,this.uuid=v4();const a=localStorage.getItem("connectedType");(a==="direct"||a==="remote"||a==="web")&&(this.connectedType=a)}getConnectedType(){return this.connectedType}async showAppConnectPrompt(e){const a=[];let _,b,_e,et;const tt=new Promise((it,ot)=>{b=it,_e=ot});this.mobileAppConnectConfig.remote&&(_=await this.fetchActivationInfo(this.getActivationPayload(e)),a.unshift({type:"qr",data:_.qrCodeContent})),this.mobileAppConnectConfig.direct&&a.unshift({type:"button",data:{label:"Open in My Cloud Wallet",variant:"primary",onClick:async()=>{try{const it=await this.directConnect(e);b(it)}catch(it){_e(it)}}}});const nt=e.ui.prompt({title:"Connect with My Cloud Wallet!!!",body:"Connect My Cloud Wallet on your mobile device",elements:a});nt.catch(it=>{console.info("User cancelled modal::",it.message),_e(it),this.isCanceled=!0}),_&&(et=this.checkActivation(e,_));try{return et?await Promise.race([tt,et]):await tt}catch(it){throw console.log("showAppConnectPrompt::directConnectPromise::error",it),it instanceof ActivationCancelledError&&(console.log("currentPromptResponse",typeof nt),this.isCanceled=!0,this.connectedType=null),it}}remoteTransact(e,a,_){var tt,nt;if(!((tt=this.user)!=null&&tt.account)||!((nt=this.user)!=null&&nt.token))throw new Error("User not authenticated");const b=this.transactionSyncHandler.generateChannelName(this.origin,this.user.account),_e=this.transactionSyncHandler.generateTransactionMessage(e.request.getRawActions(),_,this.origin),et=TransactionSyncHandler.parseAuthHeaders(this.user.account,this.user.token,this.origin);return new Promise((it,ot)=>{const st=_e;console.log(`start listening on ${b} with transaction ID = ${st.id}...`),this.transactionSyncHandler.publishToChannel(b,_e,et).catch(at=>{console.error("Failed to publish to channel:",at),ot(at)}),this.transactionSyncHandler.subscribeToChannel(b,at=>{if(at.id===st.id)switch(at.type){case"requesting":console.log("tx requesting...");break;case"approved":try{const lt=this.transactionSyncHandler.processTransactionResult(at);it(lt)}catch(lt){console.error("Failed to process transaction result:",lt),ot(lt)}break;case"rejected":ot(new Error("User rejected the transaction"));break;case"error":ot(new Error(at.result));break;default:console.log(`Unknown status: ${JSON.stringify(at)}`);break}},at=>{console.error("Subscription error:",at),ot(at)},et)})}async signTransaction(e,a,_){if(!this.connectedType||this.connectedType==="web")throw new Error("Activation_NotActivated!!!");return this.connectedType==="direct"?await this.directTransact(e,a,_):this.remoteTransact(e,a,_)}async checkActivation(e,a){const _=await this.checkIfActivated(a,this.origin);if(_)return this.user=_,this.connectedType="remote",e.ui.onLoginComplete(),this.user}async fetchActivationInfo({origin:e,dAppName:a,logourl:_,schema:b,description:_e}){try{if(!this.mobileAppConnectConfig.remote)throw new Error("mobileAppConnectConfig remote is required");const et=await this.mobileAppConnectConfig.remote.getDappSingleUsedToken(),tt=await fetch(`${this.activationEndpoint}/v1/wcw/dapp/code`,{method:"POST",headers:{"Content-Type":"application/json","X-dapp-sdk-sut":et.toString(),"X-dapp-sdk-client-id":this.mobileAppConnectConfig.remote.dappClientId.toString()},body:JSON.stringify({dapp:e,dAppName:a,logourl:_,schema:b,description:_e,origin:e})});if(!tt.ok)throw new Error(`Network response was not ok: ${tt.status}`);return await tt.json()}catch(et){throw console.error("Fetch error:",et),new ActivationFetchError}}async checkIfActivated(e,a){return new Promise((_,b)=>{const _e=setInterval(async()=>{const et=Math.floor(Date.now()/1e3);(this.user||this.isCanceled)&&clearInterval(_e),et>e.expire&&(console.log("Current time is greater than expiration. Stopping pulling checkActivation.",et,e.expire),clearInterval(_e),b(new ActivationExpiredError));try{const tt=await fetch(`${this.activationEndpoint}/v1/wcw/dapp/code/check?dapp=${a}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:e.code})});if(tt.status===422){b(new InvalidCodeError);return}if(!tt.ok)throw new Error(`Network response was not ok: ${tt.status}`);const nt=await tt.json();tt.status===202?console.log("Continuing pulling checkActivation"):tt.status===200&&(console.log("Stopping pulling checkActivation"),clearInterval(_e),_(nt))}catch(tt){console.error("Error checking activation:",tt),clearInterval(_e),b(tt)}},5e3)})}getActivationPayload(e){return{origin:this.origin,dAppName:`${this.dAppInfo.name||e.appName}`,logourl:this.dAppInfo.logoUrl,schema:this.dAppInfo.schema,description:this.dAppInfo.description}}openDeepLinkWithFallback(e){return new Promise((a,_)=>{const b=setTimeout(()=>{_(new ActivationDeepLinkError("App likely not installed, fallback triggered."))},4e3),_e=()=>{clearTimeout(b),a()};window.addEventListener("pagehide",_e,{once:!0}),window.addEventListener("blur",_e,{once:!0}),document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&_e()},{once:!0}),window.location.href=e})}async directConnect(e){const a=btoa(generateReturnUrl()||""),_=encodeURIComponent("1234567890");this.uuid=v4();const b=new URLSearchParams({schema:this.dAppInfo.schema||"none",dapp:this.dAppInfo.name||e.appName||"",origin:this.origin,logourl:this.dAppInfo.logoUrl||"",description:this.dAppInfo.description||"",antelope:"antelope-1",callbackHttp:a,uuid:this.uuid,deviceHash:_}),_e=e.arbitrary.nonce;if(_e){const tt=btoa(_e);b.set("n",tt)}const et=`${this.WAX_SCHEME_DEEPLINK}://connect?${b.toString()}`;try{await this.openDeepLinkWithFallback(et)}catch(tt){throw console.error("Failed to open deeplink:",tt),tt}return new Promise((tt,nt)=>{const it=setTimeout(()=>{this.isCanceled=!0,st(),nt(new Error("Connection timeout"))},18e4);let ot;const st=()=>{var ut;clearTimeout(it),clearInterval(lt),(ut=ot==null?void 0:ot.unsubscribe)==null||ut.call(ot)},at=async()=>{try{const ut=await connect(`/device-connect/${this.uuid}`,{authToken:this.uuid});ot=ut.subscribe({next:ft=>{var mt,ht,vt;if((ft==null?void 0:ft.type)==="data"&&((mt=ft==null?void 0:ft.event)!=null&&mt.accountName)){this.user={account:ft.event.accountName,permission:((ht=ft==null?void 0:ft.event)==null?void 0:ht.permission)||"active",keys:[],isTemp:!1,createData:{},token:"",proof:ft.event.proof},this.connectedType="direct",localStorage.setItem("connectedType",this.connectedType),st(),tt(this.user),ut.close();return}else if((vt=ft==null?void 0:ft.event)!=null&&vt.error){const Et=ft.event.error==="ConnectRejected"?"User rejected the connection":"Direct connection error";st(),nt(new ActivationCancelledError(Et)),ut.close();return}else{st(),nt(new Error("Invalid account")),ut.close();return}},error:ft=>{console.error("Subscription error:",ft),st(),nt(ft),ut.close()}})}catch(ut){st(),nt(ut)}},lt=setInterval(()=>{document.hasFocus()&&at()},500)})}async directTransact(e,a,_){if(!this.connectedType||this.connectedType==="remote")throw new Error("Invalid connection type, expect direct connection");const b=Array.from(e.serializedTransaction),_e=btoa(JSON.stringify(b)),et=btoa(generateReturnUrl()||""),tt=encodeURIComponent("1234567890"),nt=v4(),it=new URLSearchParams({transaction:_e,schema:this.dAppInfo.schema||"none",callbackHttp:et,redirect:"true",deviceHash:tt,uuid:nt,broadcast:"false"}),ot=`${this.WAX_SCHEME_DEEPLINK}://transact?${it.toString()}`;try{await this.openDeepLinkWithFallback(ot)}catch(st){throw console.error("Failed to open deeplink:",st),st}return new Promise((st,at)=>{const lt=setTimeout(()=>{ft(),at(new Error("Transaction timeout"))},18e4);let ut;const ft=()=>{var vt;clearTimeout(lt),clearInterval(ht),(vt=ut==null?void 0:ut.unsubscribe)==null||vt.call(ut)},mt=async()=>{try{const vt=await connect(`/device-transact/${nt}`,{authToken:nt});ut=vt.subscribe({next:Et=>{var At,Ct;if((Et==null?void 0:Et.type)==="data"&&((At=Et==null?void 0:Et.event)!=null&&At.signatures)){const Bt={signatures:decodeSignatureFromWallet(Et.event.signatures)};if(Et.event.serializedTransaction){const Lt=Serializer.decode({data:Et.event.serializedTransaction,type:Transaction});Lt.equals(e.transaction)||validateModifications(e.transaction,Lt)}st(Bt),vt.close();return}else if((Ct=Et==null?void 0:Et.event)!=null&&Ct.error){const Mt=Et.event.error==="TransactionDeclined"?"User rejected the transaction":Et.event.error;ft(),at(new Error(Mt)),vt.close();return}else{ft(),at(new Error("Transaction unknown error")),vt.close();return}},error:Et=>{alert("subscription error::"+(Et==null?void 0:Et.message)),console.error("Subscription error:",Et),ft(),at(Et),vt.close()}})}catch(vt){ft(),at(vt);return}},ht=setInterval(()=>{document.hasFocus()&&mt()},350)})}async cleanup(){this.connectedType=null,this.user=void 0,this.isCanceled=!1,localStorage.removeItem("connectedType"),await closeAll()}}class WalletPluginCloudWallet extends AbstractWalletPlugin{constructor(e){super(),this.id="cloudwallet",this.translations=defaultTranslations,this.config={requiresChainSelect:!1,requiresPermissionSelect:!1,supportedChains:["1064487b3cd1a897ce03ae5b6a865651747e2e152090f99c1d19d44e01aea5a4"]},this.metadata=WalletPluginMetadata.from({name:"Cloud Wallet",description:"",logo:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAAAXNSR0IArs4c6QAAAIRlWElmTU0AKgAAAAgABQESAAMAAAABAAEAAAEaAAUAAAABAAAASgEbAAUAAAABAAAAUgEoAAMAAAABAAIAAIdpAAQAAAABAAAAWgAAAAAAAABIAAAAAQAAAEgAAAABAAOgAQADAAAAAQABAACgAgAEAAAAAQAAAGCgAwAEAAAAAQAAAGAAAAAAWgkyTQAAAAlwSFlzAAALEwAACxMBAJqcGAAAAVlpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDYuMC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KGV7hBwAAJUlJREFUeNrlfXmUZFWZ5++7977YM7MsgQZEWtm0CkcQEBFkyLLP6RlBUMGsKkXRnm7EXQsdzsw0DoFLnzmoxcy0fRy7VaTwYGUWiILgQe2TiY6jjRQNDmArAm0BUgJCZUZmbO/e75s/3nbfi4iCzMrCZRLixJqVEb/fty83CL8nP1Mi+lhAmkScPPY+kecHWDwuBB1PzMc5oiNBchgzXsiAciIQAAyARdgJHnaQR5yTB5zI3SB9Fyrq7hto/LfJv9kUUfcCtIPI/T58bvpdv4Hm7Kxpbthgk/sfks7hAnumgjqTRU4j0msNKhAAFg4WIRyHcBHoEABOBAxAjIHAQBDAAej3WwhD9xRDfsgitzijb/lede2u5G9Nzs6aOe9v/39FwJSI3gEwiAQAPixLZxHkAgGdVUKtLgBC9OAkBADLAARQDCEWEAOQGHgnEhHCIgyIFbATAbMY1hooV8EQdOdbSxZys2Xa9n/WHngzAECEpgD1u9KI55wAEaGN3ge+WNrnicglhqonKxD66ILhHCQCXCAkEfiRlEPAEpud5LYInAAuvu9YYCW+LSKOI0IcKS21Gmw/RNhu3+4cX3HHnxx6faoNk5MuEYg/SgKmRLQH/CkifEVA9dMBIJQ2C0QAKAAp6BKDPkhARkRighxLpA2C+BLf5+gxKyKOha2AUKkqB0J/cfEHInTJTw8++MexhGg8h9rwnBHQFDFNItsUKc3z0qdJ6Q8aVBBK2wEEAetUS7zrPPjRfZcjIJZ0CCwjkfqMCBZYloyQ5DbgLAukWtPh0hIcy5V14NKdhx7ahogBkf3jIMCzsR+W/gmQcFuFasd2pQ0ADoD2Yc+Djxh+T/qBAeAz0BOQo8dTyY9NkuM8CZYFLOKcQMv4BMKn99wHTW//5aGH3gkRDc9H/UESICIEAEQkH7CLFyiFfwioXrLStjHwlEHu39qL+YkJKGpCTuILZKQESKQlziMjIgHiGJYrlcC12/3QuQsfPeJPtyF+//uTBLX/TE5TEZEQkXzALV1a0rWriXQplCUnEAMI5SEvAo+hxOyVrDgsze5noaqkxCF13NE1wCLkIIFttx0rVaJa/epDHtx1KYgERIJmU/1BaUBTRCUJ1Qfc4mfLqn5xzy0JEQQEtbc/KjkzlAeUE22IJd8lEVCcE0SSnpmZRNpt/JxjxKYofh17ZinTIGYRwtgEhQvzW5888vCPRB+qqdBs8u+9Bvjgvzdc3Bqo+sVdXnKxvCuRQQkfJfnDJD4xP1KQ/ES6RbxLmiVnUi9x5CR+KIvMfLFAsQDh/LyT2tjFa37+r1tjAnh/aILan+CXTH1L17WdSBZaIv7wewNdhkh/5o6zf2OQiOx1SaImMegp4Fl+kBGSPJ+ZJmIW5VotJ2NjW8Z+tv9IUKtp8xPw3xUubDWmvqXnlpxAlPjg5wAcfsGIx32pTl5UfL0Pck76U2edSLrktSJmyfMbJCKKW4tOGmNbqvc9tF9IUKsHfmQfL+wvbC2ZsS09u+hERCV+ZhjgkFHgD+pELiqSzB+k5sez4yLZ43mHK6lTZgF4SH6QJ0ZIWJRbbDlpjG0p37P6JKjVBP8v+wtbgyAGH1CxFHlgDUqrj/Uw01OUfogf4fhRTfaPsK8J3t/OzEz+tmPfT/hmKoqQwKKk1XLSaGwJVpkEtVrg/0V/YasJxrb0wkXHgtTsZKBJKr0DpkYG7XzR3o/MksXTivg250xMQkQCaKYJnFZUJY2y2H9PmY9IzRHXG1vKdz2QktDcRxLUaoD/9m4CfstxbHZY8pKe2e/IMWZhZkLMKMkXjygZiPeziCYjwU/WWKJSqmNJIx5PuiNnzANOGM6LmOLfIYEovdByvYnxLfhpREJzH0nQ+wr+29rzW0uV8S1hr+UAKIptPhEgSZpBIzIP2kvISaMctYBjXgQkLBCv+EbOMx/Or5TGpsZ5ERBz9liqFbFvSAVGstuGhfoKCr2+vfA7vzrtnIUzJuYe+eatc3Nz0kRTzWFO9jsBPvib2/NbS9XxLf3ugosSrDhnpyLABCkAL8+ChIIPEAKcgABSiowh6IDEaBIicizkRJiFnBMhjrUwATwtT6fOFjkzxF7+wL7Gxa8NRNBTBAjJX9348/4Lv/owmRc/77RTj3j9xPfvv+HWOayMBL1S8Dcuzm8t1ca3hN0Fl5SQkYh+doVMCSi9LUOAJxpWZhAkgY7SWhnVUKIUOdcPnXOPW2d3udA+Ya1zVqSCSsWgWlNhGJJz7KwIWRFKnW2aNSPvE1CMlDIzx/DBh/zljT/vHX797kp4REm7fugqpnbqa446e+K2FZLw7EsRXip+3uL81nJ9bIvtLDgCKYrxoxjjyA5R4X4CNKV/mHwLRcMyX3FQSmvU0XMLewS40QLfdhY7G+WlR4FDQgB4DI8FsmBe0Aed2GN5XSg4R+qNNb2FRYTOOceiw7j8wHF52nqlCh7IDbJum2FBP3qjMfiPlcMXlYn6SXgBLpua7tulKz9+89svBoAmmqqJZ1e2oOWC/4aFp7eWxya2uHbLEUQRYgZiwFVKBMEnJb0ukOApRvFdWa2qxnKnx8yfcb3e577SOGj3s3m7r3z88YMF/H4r+KgtV8r9pbZ1LMZyvgrqV0X9zlqSQxgW9FPJ/0UMfikB35cVrpi67tn2lR+/+fxlkUDLAf/shae3lsfGt9jFliOCUjGWvtQrD1QVI6w8SU9v+8AT5X0zwQaqYfq8cCcr9Y4v0dg9SUftCczRJCa5OVjBoMm5OXXg5KQkXbeX7979spD5aldrnNBbaFlOSIiBZ8n6BCKSc9rBUPDLRP1hmJIQEVdMVXfD5ZFAz9RMSfzqmfO/3VoaX7PFtSLJVwQiygD3JX/wsYgpQl4bkDNNqa+wJd0wPdu6Tpmxt/49UdgUMcDlnPifZyM0k5ddpuaI7IkiwVO7Hr2Wx8ffHD69YK2w4bgqykPKEm6k5A+CT7kojyJNCGq6219KSRAIEUb3E2iv4MfNiH8///Rng/Gxi91CJPmJzVcxyIiJGDBB6fPZ44lG+MB7/tqWzJjpu8XpL5qxzQAwKWLmVtge9MdODn3oke0yNrYp3LNgmdk4eBERZ+1Nw4IeKUBkKPhEBJFhfotSc1Q1Nd213a2Xf2vzR2ICRrU1RidiU4ACkfz5009eqsfHL+7PLzgnoliEsoTIqzrCS1z87BTFEkA+G/Zu28CMmZ4H/pSIntuH3uzchg0WMzMaAH794sM22z3z0xgbMwyyfg0pQSeKdlTscCPwbQx+zndRPsROA8Dof9VzHVcp1S5uvv5rlxJIZqZm1LI0IJG6DU8/eUFQrV/NnbZEEk9ptJNJPOUcrYrf5KjnabiTtqUgkvyrYvD90vYq9EYV4n/reffv2s6NsU12z7xlEZOEoYYFXUUQhvzVN3/RO/zrQx3uUNh8+CMySRSAQJcptL13NL+1eVtzctY05waHwGjU6Mhr9+w5Qdj+iLQpkXMcm57UlisfdA9MVQA3fV1CBGVJQyxRtlIaM2G4OH1VaT+AP4SExs9/tZ0bY5t4zx7LIKM5ivM5BX932b6oRBjucAeBIxriG4QVacUifcf21E/cfP7OmakZvXHHRjeagNjpnvjrX9dq5dJPTK22XtptR0Q6F8EUpFuNIIZie5/8nu8vIjZhK6Vx0w8Xp7ftT/CHkFC976HtPDaxSe3ZY3uKDEsM/vVF8Gm4xBINJYf8VxLZki6b0PXulTJOaO7Y2C865Zxtmpyb0wBQKQefVBMT6227EzKgk9qJK9juYmEr69NmHatc+dcrpLHABqVx0+svPDfgR6AxomIhOutfvFktzE93nrfGsEiYgB+m4FMKaC5/SS4e5Nl/SJ+PBdKErmcrQeNYdOnTALBjaocaSmhiel61+7enKCM/gggUkSSWTRVDTS96UZRPulThNVHYFN+XKM4vVyeM7S5MX1udeG7AH6EJ+OmD0xd97+GNh335wbB/TCVIbD6NStELch5XHXMvy+sBiQCkSIEYr770pvN+PDU1o3fEpihlY0fSH1HuCqrVEDWJhNjrq2b1E0mzR0G+kiiFwSkujoEA1lQnTL87/7sBP9aEZqwJePkRmw755q4Z/dK1AfXFpiWSfKhTlPNM0nNBhfc8KMlSiQguMGWwkisAYMeOKc6ZoMnZWQMiOek3vzmP6o3T7eKiY0Cz33VCBnoSWrrksWIv1uvD5jtXYnVtwnQ789Pbq2t+N+AnuRoRN5sRCc3b3r6p212crpbq8UjiEKeayyJpmIFKQU8u3uM6tF1XNtXTP/nG684DSJqTTTOgX6/Y/Zt/MrX6yeh2XDyal3O2fjlhsNg2JBKKzVZsgmy5scbYpfnpbzR+t+Dnk2ZRzWb0Hppnf217Oahv6oZtC4gpZLqD7piKERGhaI8oLRKTM7qsQ9e7/WPfOPdVqQZMxUAf/9gTZ1GlenLYXmLHotmbqXGSl/6ciSk4Yb8NiMz5Wt0YN73Fp3+vwI8I8DThprds7oVL09WgbojIJhKVmhYiEKn4QvkUrGB6Ui2ILwLo0PW4pMsnf+rc688CgJmpGa12xCmyg1wgJoCAOBp4lSFjfZFJyTc0MjPkvBlNb2zcqrEJ01uYn75pbO0+gy8iNDMjenZWzB1fuCO44wt3BLOzYqQpCvm2z4pJ6IZL09WgYQjKpjDToA5kYGOU6fHoIRCItTaAqAsA4L5jp6I3fOyvnzqc0L8PWtfBLMrz/+QnUoVsVhHlml/Keyy+bYM1E4bn56e/s+b5+wR+s9lUl62/jGjj3mf3ZUb0M73m2Zijy98ws72amiOYYVXbvOQ/U55AIECIFAlkSWu1/j/tOHsXAcD6R37zbjXe+LwsthwATZ71GqznU6G2nz2uKPMZSpENxseNW1iYnl27b+D7oN47I42umT9Z2P0bAGsZcAQ8QpbvOmnzgXfGv0HSBFFzJURnJHziDddtLwe1TT2bJyHpqRKKNaERoWr+GVcJaroTtt9z6Q1v+F8EAC99dPeNqjF2Ni+2nIrblD6wGEIEMNiESes+RDYYaxhuLV73gwMOmFoN8O+ceexACcofFZa3am0Oq5ZqMMZABOj1umh3lwDBnWD87clvOeArADAzI3rjCrQhR8Kbduwo6/qbe7ZrQTA0rCRBw52vDCVEXDmo637Yvuk/f/2cc+iljyw8X7D4C+hgrTgrqbXzAIfkS8xF6VexjYwiHnKqVtXodO7sH3DAKTuJQn81aTk/CYD//I2nzhShL4/V1/xJu9OCtaGwgAHiyNGzBqDKQRVGG7SW5r/rQn7baRcc/Phsc9ZsaC5/EzJJlr7wrjuCJ57Y9eOSqZwQul68UELPUB8ir1k2oBlCpIiFn4JUj6EjH9n9WqXUP8K5aBFBhPyQ0wcdhVp/QoyXIYvSiuBcHwhOvOPgtfesdBU0kfyd1/92kwlK24kU+v1eCIiBxMUUv5wc6ZaDgMfqa4L51tP3sXMbIhLEbGguv6ydVDA/9aavvwxEO4lUCSICHyEZMmAASofJiHwqKJ62ESLSEMKfKWE+HvU6okWSaCPRr90wsjoQA2Bvxp69GlEcATFqdTDk03ccvPaeSZEVgT8Tg3/HN558ldJ6OzOj3+86QAIf/LTHIWmEpEUkWFjc069VGuuJ1NwPt+0+aEOT7GxTzLIJmNtgm5Oz5q9vOPceCH26EtRApJj8UDNqDUKRSi8ohqEgqLgGLJHI2oqpgViOVyI4josje8niczHOj/MB8fMCSZvc4pTSvfmFPT2lPgcAc5dfvoJQU2jjRnIzM6JJ9OfLpQocO5sboZFsZFG8YVxkt0vtzmJYqzTWQeCRMLtsEjB5GwNAYILP9W13j9JGEymJ+lVJ0a2QDfsEZSWJtI7nPXaccsCRrtdH1O0qjnhLru7jCiPfVrLdKwYc6g1Y8I33HnTQ7ikRvZKNktlmVJE9sjT/5lql/oqlzpKDiEkSkmy8XQbGrNOBx0hIgqX2Ylgtj61zVmISNiybhGazyTNTM/qSHWfthlI3VoI6iJSLwm0VXWKph58DUJ6MXDBPUI4tiOhIJSwvdGEIiQtvjrNp4cS0SDLOl+7hyuB4H4uy3R6cpW8DwBNzcytKim7DZFQUdO7N8ZsXeCVw+NKeAp6OcGWj6SwQSBBpwtg625e5H35+ZSTc98SBsZdV32axIAWVZsOUmKDoQoqgFMURIWWZNOXuE8MBwAsVEx3GoY2HT5O5e8mbo0zKc/3ddFcLIhakwqV2aEntBIC5225bfsgpQs0m8R03/boG4NRurwOIaPEk3e/hwtt+SW4nKpztCEjQbi+G1XJjXV/z3K0rISE2Q0rrnZbDUJFOFhAHbD15GuBnxrlqKRExMwjqMMUiSvzlt8KsvPNKD47z0u+vhrJSsMCTXW0fBQBcdtmyB1UvvzyOJ5b0IRAc4JzLzbKnGhDbwQx8b64z2bcXgXC6phS0O4thtdRYp8Utm4RmM/osE43eo0T0pFYmXxMqaEPO/ntkZJXs9DGl0ppP6nzzki/e/HxSfi6SwoCIUnAsTx1ySDQuuJKfy5IblaAm0Uy+NySbOVl4UxnwnktiP/FMkXC67RKbo/o65ezKNAGHhET6Ka0NSJFEEZBKo6CsSOc736IpUrkqUbq16CS/dTJgaljSbRJfE9L1T47W3vfl53JcDgAIO70WETEReaDml/B8s5NbxuOEkChiSO5HmsGxJtTXodebu/XTv1w2CSon4ZkGZEB7DpnypsfXmDQ8zbZEvGvOdm/9aqc/uu1HRU6EnHVwzGsfe+yxYMUaEJst0fY3IvIEkcrsuifR/vaK8JDHvNBU4iRNON6ccRIsdVphtdxY55RZJgmPBUqptQCgSZNKNMCT+MT5UiEcxdBQNdrb5YFZee9aClFQYqqSRCzJCay1cE4OCDvuBbFBX3YUREQiTVGnbnxhRwQ/rARVxDsXyJ0l4YWgObC9VZxEYxMNEN8ncEZCKHru689AQrMZfZawu+YwUuqAyKwr74JczF/sBSDnG5LPqkBErETkEdEBWCC5JYUhS20O+UW25CQSZiF2jqVSDayVEwEAZ5yxsrWd9fEcn5PpyAnHk3g8GO2It7nnb0bKwIeBD34kSIyg3WmF1VJ9nelj7yTMRZ+FDL2yUqoHIOJoSk3FJqngjItagLzZUqREKwOAHlECeVi0BouIyGD4yV7UI4VM2e+asRBzqQQHeV0Uuk2u6ICLuOxMr3rLATe0u4vfr1UaOs73YmnORztJkyhxXgkJiE0pZ044NlnINMRJsNhpheVSYx06PPf15nAS1h/4RLxTov480EEkuTHYWZdMJxOzkY0flSlHV6KVAYEeVo7lASmVEC+SeOfyDK50usJ1NukgYGFtWy0wcE793ocOBpFb6RpncsqKWPWepU6rrZUxAnGp9eF8lCNOUjufv2RSL55D9l8DRtDutsJqUF9n2Q2Q0Gw21cYdG93fvfP2g7XW5/RdDwpKDw0704saKEVQftKIjS5BCA8oAd3tj5MUz1rIH5RRDFNzO7XE1jmuNdYI0ftjr7oiAoiIZ5uz5pS3Pf8+dtgUyZXSYHC2bCwZoInP8kBPB4FzZEk+Yoq1RBjBUm8prAX1df1+f27bR+8+aENzg202Zw0QmZ9SRd5fLTfWiLCj2PzQiNDTv0YaIWUli+Q/BXU3Nf7lX19L2vyjsEO0Vy1+9OdJZaHMjfxGOyW5kYrK0UL6xP76w+/B7KzBCk8mTGr5P/rq45uUMtudc2DHLIAS5qQEHdn1XAiaABsTgkzi2deUlLT4OSdhyVSDdqf1M8tu8oLPHPc4AHzx3T95GUA7BSixdcKI/BJ8cuHlKX5tystNskEtISIFZv4zRWLuZuueEmX8scGBXEDgSQ+ygy4K5onEsZNKtQRxV+MOCeCNiC/3JzEFr37bQdNhaDfHWwhKnLDvC3zHGwOZNzupiYqlZAj4saYEne5iWAnq65So265+38+eH5cgrimXqiUAkfQXMtx8TuANqnstzET6BYBSBsL8VBBU7iYAqP3Lr25EfexsWWw5AnRua72wpU5eYSxpyvhnPFA042vRqBtZbF1nX3bE1MA44LI1IWqo/O+rH9+koDJNSCq4OdteMD0FE8RD/AMnpImAmSFObCVomKXOwk+csw9XTOPcdq/lWKCj3+Vctp1FZpFg+hKfRmnJ4jPEVYK67vbbN33o2tPPiWy0o1sEvmQXjnjBkEWL3OhK8egXNtxqWWmMv1n/34e2Fwdjl68JUUPlNe84aDp0mSYwC3vONMuUGUPBzyVtKDjjXFhLpt1dcEaXXlkJ6ud2wjYDpLOzF4rFtUJEBP/a66yTN0lBcks6migVcwu3FpeElPbqW5kGeHYuM0Xe8QOSHQ+WZNMAjCwsWBkb26TufnDVSDjjPxw87ZzbHH1AFZHg2XweFg257DlIzuRkOQVyDZ1onND1uRd2XNR19aeeC+MoUugOExXMTzo3Ikpp3bVLS9AqJkBEdY48dJcAN6NWhwg5lrxzSQ/FGBodJTu1mcp5M6VG5udXn4QLD552NtwcJzUpCb5zlWF1Iu+Qpux13nEEScEvTfqgANJSPEFkaHbr+QU/4PRIIJCrmBoI+uYPbXvNrmZTlMoUQ7ZJGELAKl9RHAQdXlImnPkKvzHiVc+MtOYtj41twl2rR8KGd79g2jq7mYSgQIqFeVSsz/EFkmmDeNkxCkneMMkeHL0q1HVy42tIHXNhdEg5cQBkGwCsv7cwvhXc8+A/oVo7WbrddDjXPzYgd2yMFN+j7P3ANxGL8QmDVmsaxx+xzyOKiWO+9b8/ukkp2u6cg3OOwaIkPQGlYG64YD6LzyX1LfZK4Gn9Kx/mZpol2XE8uZK4j5kAAheYiu7bzu0fuObUV+U3ZGajrI+hrmBS3vai5KqMOeH2wRd55lP4iAxa8xZjY5v0nb/cXhwRX5kmzJp/9+EXTDNHmkBCmTnyo55ipZQL4HtmqngGWnTlTcIVjnuhQv83PzHtmSdCNDEh6opk5CX/r8X7YfqeB7+Pav10WVpyoHgSYRi+IqOlfdQT0bGJltesMVjwNMGbRFtpsnbLFQ9tAunt7BwsOxYWJS4v7fD6xRhSRR2InFJt4MLkhQzcTwN3kYL0AxBxZVPTvbD9g/ddc8q/jYaIo153Jn07ot0lp+gS6XYAgvabTT7wQ8EfdeakpzJaBFopg6VW/23f/9Wm5uRXtxenk1earJ15yYunnXWbAQVwlKylvBf8wSDAku8f5LRBvKHreNxQ8rOh6f6w5PvCseMVEOm+64I0LonG0rM9seKWpAaRU3c/+D9kYvyDmJ+3IDLLk3gZ+rgWgVIKoSY+/3sPLbzkyw/XgmOeV+r0Fqc//q3zV00TvvHJX24iUbFPYIZXtkhNNOero7mZojiPSEocftuz2IXzcRli85PQNqyVxoJ2uLj1vV955UdmpkRv3JGNaRaljgGATec/YqF1L2o1IyJ2APyhB37mjOZewT/mmofH7VHlUqe3ZKtBY1Pz7K+tmia88dKjpm0Ybo6lVDnHnJakWcCO0zJ1Cr6vqP6hcX60MXAKlXctwyIlAhHZUlAN2v3WvfY3T/wXAJjagZyAqUIZUiCiceyxfYF7h7TbfShtEmL2bmaGPzcMfPenZYVQQIDp2iVbDuqrSsJ5H3/JtLVuM0AAQzEz52pEfgSD/KGBRcvpT2MMKna2sEfFoXQiVtCmb7t9gN/xwW+f2ZuZEl08uEMNqQU7zM4avPyonYBciFIpMX4y0r6P+BkNPvvv33TDJVsJ6puaZ29fNRI2fuol09bazfCjIxZvrAX52lDOGQsGJvFGCODgWUex3Rcho8sQwYXvvfqUnc3JWeObnpG/X/QHuOuXl2Js4hNYiM6FS3XuGfpdOfC/+9DCMV/1wfePNUtlx1ZKddPrd6Yvu2njZn9EfF98wjUfuectmtS1jh2ERYiI/BLEgP3OPVd4DH44Ll5wl2uNCgCulcb0Yn/hY++96qRPFu3+syUgOzv/rgc+i8bYxVhsOUBUdhziCPBZoLRCqCLJP/qaXeP8okom+f5WOfzz5MjWgobp2c70x7755s3+iPhKSLjlA/eXz/zbo3tf+fDdbwlUcK21oUiyOeGdGugV4QaTKf/A2KGg5+r+IhCuBg3dCVtb3/3lk+LjaqIYaXkEeLkBAOCuB7ai3tiCxcWIhIEIarjZOfqaXePuRWVFYWFfJC/9XgFL2Wqpbnp26bqDDnzxWy/6+5PC5uSsweRt3HyWw77NZlOdgTPUhuYGe9U7ZyvSmPhCoEsXWLYc1b+Qc6C5sntxCg8FbUC+6ZKrOEO4WmroTq915UVXnbiPBzZlnyY7N/+f79+KxnieBBlt84++Zldqdohor9LvF7KIyJaDmunbzp0Eesdf33DuPVH8PKPve+JAisjIjz42m5cT5s5Q6w98QpITSb747p+8jLS6ul4ZP6HdXZSsKlwEnryJa8pXVgaSqkIFIJZuEeFqqa474dKVF33pFRcngvBMQrPsQ/tSElp5TRgFvoScrjANJYCGVw4BsqWgYqzr90D0mUAFn7tkx1nP6tC+v3vn7QebkrxfafXRclAt98OuA5GmwQNN82do+jHFkLpXQeJ948PVYEx3wtaywH/2BAwjoZ5pghahUZKfgTwIflY1LJRx4wU0RcoRKV0J6ujbzh4AN5LW3zGQn7Ta/Ig3hxp0+0sv0KATSanXaaXOqZbH1/RdBxBx8cxIztwNxPAFIopLOANhaDYtxpVSQ3f6i8sGf3kEjCBBtVpOE3RoNJ//vQcHwd+b9OdsPxXNUHy2EAkpYkVGV4I6GA6Ww5CIniSipxRpkFJrlVIHlINqUDJl9GwHIuwUaZUc4TXQSElOORHfFyE/ZjAS/JQBrpYaur1C8JdPQIEEtfP+rTI+sUU6i+H5331w6eivFuL8nPQXqoO5JIa889gKh16AQEqBoAREjghKK6O0MtDaxENQUdOIFDERMUHpaHQka5YjV6/JxeyeraERNURvDVWyClM1lvx3rRD8lRFQ1IS7Hvzs+XMPXXzMl34V2iPLAULJFWuLi8w0zPn6bTtC2mPNzdmoXL9V4gU5IVKIFlYUiGLQSaXLc0l/1tt4HigZD/gEohEZP60q+MMz4WdHQPLlBYTjj/jI0dfu2mqOfl4gYdTuGUUvjeI/5xtH7Zj7u7OSiK6CxN83KUz+981gYJJavPkdGRzsHVV7QKEVuIrgr5yAmIRms0kQoebtf/GRTm/xyoqp6WysqNi4GCxkFSWQRlVZ/WVbycrBmR+kXE2qCKw/QZeRwR7ofkEuP/wr+ZPEVxV8YIXfH5AODc/NSZNIzc3Nyffvv+HW1xz1+omyqZ/q2DLlDOxenO8w8+M9PrDyM7Dqo9LVz6L++NYvH4cNeT9Dul2e+OxztLO6PqCoDN4Zyf/1rGu2VkxjS9e1XTQY6Y/E5D88YdDxZseAZRNlOVtOWcM77xe8wdiBqbU84fCdvg++fyRNli0LCHF5YWlVwd9nDUg1wTs3/7b7b7j1tKPOmaiUaqfGqT9RFv5g4PydgiYUxjhyszhE+ahp8AgdGpD4QgiQi8q8GtRQTYj7XnF5YenKi768uuDvmw8Y1AJuIhpH//jN51/c7bevrASRT8hqITTEJGDkkJOMUlEa0Y6QITXkYm3HHzAAcucn+wsflCZZ9SjDvWr1wV81DRiuCV+/9bQjz56olOqnOrEsqbVGfnOc/PxAefeL4akqmCgM1Zh8TjHsuwqGHDhDxbOtEoc7prt28cqLvnTifgF/1QkYRsJrjjpnvFJqnGbZRh+Mct+hMQRwDJqg1Px4R+EXnLH/ej+/QNERU9EMDuQoDIBqpXGVlJT3F/j7hYABEn5x/XdOP/KNrmTKr408mjiKnLOnCcVCHIb6AKQOdzBj9gHN+ZQh1dacQ845Z3FaaR2YMnXC9sfec9VJl+5P8FctCho9CSSJPEvz9dsvgKJ/KOlKyXIvhJBJ0Bk6WxmdaVEoVQwBf8BR01CHnjldVfg+G0pOt3XloGpC2+2z0IXvu/qV2/z3v78wUvuTAIpT1pmpGd381uZtztlTQ9e7t2IaQWwHHIaVA4aUxkY2lWjUZMLgYIMUphziRM4JhGqlMdO33XsVqVe/7+pXbosa6PsX/P1OQILDxh0bXXNy1nzi5vN3PhnuPrEbtrcSCCVT1RSR4FAoUw8tVQz7qqXCDvFAPV+K3ZX02yodIK5kqppIod1f+J8HLNVPuOiqk+7MGuj7F/z9boKKP/75+Z88+/pTWMkVZVM9XQBY1+Po+97iie1CWXrAIePZPK+8laFkSk2YoKhkqophX6//QPS6pL3fuWUH0fvcXQD/Q+egMQv7JjaoVIi3njdeQJ1SUmXT9baoG97ELCLI5X4SztG+wBgmLP2hsVJRYMoRFCkdTmogdkhdP3bodQVH7j6lOsT4Kd2+DnLHykByU80cjLFiZp/6tzrz4KoC0DqrLKp1okIoetDhAGQjR2pIiRbckOdtkRaFB/0ATJaGZRNBSBCN2wvEehmgLZ98Kun3ZzUmGc8gXiuf35nBKQZ9GTTNOea6djJf5u66XBr+UxNdKYQnaZIrY2OCSNYF0LAYHYYJIBglIFWBkaXQKC4MyZPkcIPIXQLtLrlQ9tesyv72ysfefmjIcD3D/cdOyX+cO7fvOl7zyfTP45YjgfhOCI6kkCHgfDC6Av8chrAROphEjwiRA8o4G5A3xUElbvfv+1Vv82q6KLW3wt6Lu383n7+H45sFZym2mugAAAAAElFTkSuQmCC",homepage:"https://www.mycloudwallet.com",download:"https://www.mycloudwallet.com"}),this.url="https://www.mycloudwallet.com",this.autoUrl="https://idm-api.mycloudwallet.com/v1/accounts/auto-accept",this.loginTimeout=3e5,this.allowTemp=!1,this.mobileAppConnect=null,this.options=e,e!=null&&e.supportedChains&&(this.config.supportedChains=e.supportedChains),e!=null&&e.url&&(this.url=e.url),e!=null&&e.autoUrl&&(this.autoUrl=e.autoUrl),e!=null&&e.loginTimeout&&(this.loginTimeout=e.loginTimeout),e!=null&&e.allowTemp&&(this.allowTemp=e.allowTemp),e!=null&&e.mobileAppConnectConfig&&(this.mobileAppConnect=new MobileAppConnect(e.mobileAppConnectConfig))}login(e){let a;return isAndroid()||isIos()?a=this.showLoginPrompt(e):a=this.waxLogin(e),cancelable(a,_=>{throw console.log("[login]canceled",_),_})}async showLoginPrompt(e){let a,_;const b=new Promise((ot,st)=>{a=ot,_=st});let _e,et;const tt=new Promise((ot,st)=>{_e=ot,et=st}),nt=[];return this.mobileAppConnect instanceof MobileAppConnect&&nt.push({type:"button",data:{label:"Open My Cloud Wallet app",variant:"primary",onClick:async()=>{var ot,st,at;try{if(!(this.mobileAppConnect instanceof MobileAppConnect))throw new Error("Mobile App Connect is not initialized");if(!e.chain)throw new Error("A chain must be selected to login with.");const lt=await this.mobileAppConnect.directConnect(e),ut=(st=(ot=lt==null?void 0:lt.proof)==null?void 0:ot.data)==null?void 0:st.signature,ft=ut&&IdentityProof.from({chainId:ChainId.from((at=e==null?void 0:e.chain)==null?void 0:at.id),scope:Name.from(e.appName||""),expiration:TimePointSec.from(new Date().getTime()/1e3+60*60),signer:PermissionLevel.from({actor:`${lt==null?void 0:lt.account}`,permission:(lt==null?void 0:lt.permission)||"active"}),signature:Signature.from(ut)});this.data.identityProof=ft,this.data.proof=lt==null?void 0:lt.proof,this.data.isTempAccount=lt==null?void 0:lt.isTemp,this.data.whitelist=lt==null?void 0:lt.whitelistedContracts,a({chain:e.chain.id,permissionLevel:PermissionLevel.from({actor:`${lt==null?void 0:lt.account}`,permission:(lt==null?void 0:lt.permission)||"active"}),identityProof:ft})}catch(lt){_(lt)}}}}),nt.push({type:"button",data:{label:"Login with web",variant:"primary",onClick:async()=>{try{const ot=await this.waxLogin(e);_e(ot)}catch(ot){et(ot)}}}}),e.ui.prompt({title:"Connect to My Cloud Wallet",body:"Connect My Cloud Wallet on your mobile device",elements:nt}).catch(ot=>{console.info("User cancelled modal::",ot.message),_(ot)}),await Promise.race([b,tt])}async waxLogin(e){var nt,it,ot,st,at;if(!e.chain)throw new Error("A chain must be selected to login with.");const a=e.ui.getTranslate(this.id);let _;const b=new URLSearchParams,_e=e.arbitrary.nonce;if(_e){const lt=btoa(_e);b.set("n",lt)}b.set("returnTemp",this.allowTemp.toString());try{const lt=new URL("/login",this.autoUrl);lt.search=b.toString(),_=await autoLogin(a,lt.toString())}catch{const ut=new URL("/cloud-wallet/login",this.url);ut.search=b.toString(),_=await popupLogin(a,ut.toString())}if(!_)throw new Error(a("login.error.response",{default:"Cloud Wallet failed to respond"}));if(!_.verified)throw new Error(a("error.closed",{default:"Cloud Wallet closed before the login was completed"}));this.data.whitelist=_.whitelistedContracts,this.data.isTempAccount=_.isTemp,this.data.proof=_==null?void 0:_.proof,console.log("waxLogin::response proof",_==null?void 0:_.proof);const tt=((it=(nt=_==null?void 0:_.proof)==null?void 0:nt.data)==null?void 0:it.signature)&&IdentityProof.from({chainId:ChainId.from((ot=e==null?void 0:e.chain)==null?void 0:ot.id),scope:Name.from(e.appName||""),expiration:TimePointSec.from(new Date().getTime()/1e3+60*60),signer:PermissionLevel.from({actor:_.userAccount,permission:_.permission||"active"}),signature:Signature.from((at=(st=_==null?void 0:_.proof)==null?void 0:st.data)==null?void 0:at.signature)});return this.data.identityProof=tt,new Promise(lt=>{if(!e.chain)throw new Error("A chain must be selected to login with.");localStorage.setItem("connectedType","web"),lt({chain:e.chain.id,permissionLevel:PermissionLevel.from({actor:_.userAccount,permission:_.permission||"active"}),identityProof:tt})})}sign(e,a){let _;const b=localStorage.getItem("connectedType");return this.mobileAppConnect instanceof MobileAppConnect&&(b==="direct"||b==="remote")?(console.log("mobileSign"),_=this.mobileSign(e,a)):(console.log("waxSign"),_=this.waxSign(e,a)),cancelable(_,_e=>{throw _e})}async mobileSign(e,a){if(!a.ui)throw new Error("A UserInterface must be defined to sign transactions.");if(!(this.mobileAppConnect instanceof MobileAppConnect))throw new Error("MobileAppConnect is not initialized");let _;const b=new Promise((st,at)=>{_=at}),_e=e.transaction.expiration.toDate(),et=new Date,tt=Math.floor(_e.getTime()-et.getTime());console.log("timeout",tt);let nt=cancelable(new Promise(()=>{}));allowAutosign(e,this.data)||(nt=a.ui.prompt({title:"Sign",body:"Please complete the transaction using the Cloud Wallet app.",optional:!0,elements:[{type:"countdown",data:_e.toISOString()}]}),nt.catch(st=>{clearTimeout(it),_(st)}));const it=setTimeout(()=>{if(!a.ui)throw new Error("No UI defined");nt.cancel("The request expired, please try again.")},tt),ot=this.mobileAppConnect.signTransaction(e,a,{});return Promise.race([b,ot])}async waxSign(e,a){if(!a.ui)throw new Error("A UserInterface must be defined to sign transactions.");const _=a.ui.getTranslate(this.id),b=e.transaction.expiration.toDate(),_e=new Date,et=Math.floor(b.getTime()-_e.getTime()),tt=this.getWalletResponse(e,a,_,et);let nt=cancelable(new Promise(()=>{}));allowAutosign(e,this.data)||(nt=a.ui.prompt({title:"Sign",body:"Please complete the transaction using the Cloud Wallet popup window.",optional:!0,elements:[{type:"countdown",data:b.toISOString()}]}),nt.catch(()=>clearTimeout(it)));const it=setTimeout(()=>{if(!a.ui)throw new Error("No UI defined");nt.cancel("The request expired, please try again.")},et),ot=await Promise.race([tt,nt]).finally(()=>{clearTimeout(it),nt.cancel()});if(isCallback(ot)){const st={signatures:ot.signatures};if(ot.serializedTransaction){const at=Serializer.decode({data:ot.serializedTransaction,type:Transaction});if(!at.equals(e.transaction)){validateModifications(e.transaction,at);const lt=await SigningRequest.create({transaction:at},a.esrOptions);st.resolved=new ResolvedSigningRequest(lt,a.permissionLevel,Transaction.from(at),Serializer.objectify(Transaction.from(at)),ChainId.from(a.chain.id))}}return new Promise(at=>at(st))}throw new Error("The Cloud Wallet failed to respond")}async getWalletResponse(e,a,_,b=3e5){let _e;if(!a.ui)throw new Error("The Cloud Wallet requires a UI to sign transactions.");if(allowAutosign(e,this.data))try{_e=await autoSign(_,`${this.autoUrl}/signing`,e)}catch{_e=await popupTransact(_,`${this.url}/cloud-wallet/signing/`,e,b)}else _e=await popupTransact(_,`${this.url}/cloud-wallet/signing/`,e,b);if(!_e)throw new Error(_("login.error.response",{default:"Cloud Wallet failed to respond"}));if(!_e.verified)throw new Error(_("error.closed",{default:"The Cloud Wallet was closed before the request was completed"}));return this.data.whitelist=_e.whitelistedContracts,_e}async logout(){this.mobileAppConnect&&await this.mobileAppConnect.cleanup()}}function isCallback(o){return"serializedTransaction"in o}const kit=new SessionKit({appName:"DOV COMMAND",chains:[Chains.WAX],ui:new WebRenderer,walletPlugins:[new WalletPluginCloudWallet]});let currentSession=null;const loginWax=async()=>{try{const o=await kit.restore();return o?(currentSession=o,{userAccount:currentSession.actor.toString()}):(currentSession=(await kit.login()).session,{userAccount:currentSession.actor.toString()})}catch(o){return console.error("Login Error:",o),null}},logoutWax=async()=>{try{return currentSession&&(await kit.logout(currentSession),currentSession=null),!0}catch(o){return console.error("Logout Error:",o),!1}},Sidebar=({setView:o,onScan:e,onOpenDataRoom:a,onOpenAudit:_,onInspect:b,systemLogs:_e,dbSize:et,onLoginCheck:tt,currentUser:nt})=>{const[it,ot]=reactExports.useState("u2d2k.c.wam"),[st,at]=reactExports.useState(!1),lt=()=>{confirm("FACTORY RESET: Effacer toutes les donnes locales ?")&&(localStorage.clear(),window.location.reload())},ut=async()=>{const ht=await loginWax();ht&&ht.userAccount&&tt&&tt(ht.userAccount)},ft=async()=>{await logoutWax(),tt&&tt(null),at(!1)},mt=()=>at(!st);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"mobile-header",children:[jsxRuntimeExports.jsxs("div",{className:"app-title-mobile",children:["DOV COMMAND ",jsxRuntimeExports.jsx("span",{style:{fontSize:"10px"},children:"V4.0"})]}),jsxRuntimeExports.jsx("button",{className:"btn-ghost",onClick:mt,style:{padding:"5px 10px"},children:st?"FERMER ":"MENU "})]}),jsxRuntimeExports.jsxs("aside",{className:`sidebar ${st?"mobile-visible":""}`,children:[jsxRuntimeExports.jsxs("div",{className:"app-title desktop-only",children:[jsxRuntimeExports.jsx("div",{className:"status-dot",style:{background:nt?"var(--green)":"var(--red)",boxShadow:nt?"0 0 10px var(--green)":"none"}}),"DOV COMMAND ",jsxRuntimeExports.jsx("span",{style:{opacity:.5,fontWeight:400},children:"V4.0"})]}),jsxRuntimeExports.jsx("div",{style:{marginBottom:"15px"},children:nt?jsxRuntimeExports.jsxs("div",{style:{border:"1px solid var(--green)",padding:"10px",borderRadius:"4px",background:"rgba(0,0,0,0.3)"},children:[jsxRuntimeExports.jsx("div",{style:{fontSize:"9px",color:"#aaa",marginBottom:"5px"},children:"OPERATOR LINKED"}),jsxRuntimeExports.jsx("div",{style:{color:"#fff",fontWeight:"bold",fontSize:"14px",fontFamily:"var(--font-mono)",marginBottom:"10px"},children:nt}),jsxRuntimeExports.jsx("button",{className:"btn-red",style:{width:"100%",fontSize:"10px",padding:"5px"},onClick:ft,children:"DISCONNECT LINK "})]}):jsxRuntimeExports.jsx("button",{className:"btn-ghost",style:{borderColor:"var(--blue)",color:"var(--blue)",width:"100%"},onClick:ut,children:"LOG IN (CLOUD WALLET)"})}),jsxRuntimeExports.jsxs("div",{style:{opacity:nt?1:.3,pointerEvents:nt?"auto":"none",flex:1,overflowY:"auto"},children:[jsxRuntimeExports.jsxs("div",{className:"control-group",children:[jsxRuntimeExports.jsx("span",{className:"grp-lbl",children:"OPERATIONS"}),jsxRuntimeExports.jsx("div",{className:"btn-row",children:jsxRuntimeExports.jsx("button",{className:"btn-green",onClick:()=>{e("global"),at(!1)},children:"BTIMENTS"})}),jsxRuntimeExports.jsxs("div",{className:"btn-row",children:[jsxRuntimeExports.jsx("button",{className:"btn-blue",onClick:()=>{e("zones"),at(!1)},children:"DIVISIONS"}),jsxRuntimeExports.jsx("button",{className:"btn-orange",onClick:()=>{e("eco"),at(!1)},children:"ECONOMY"})]}),jsxRuntimeExports.jsx("div",{className:"btn-row",children:jsxRuntimeExports.jsx("button",{className:"btn-purple",onClick:()=>{o("stats"),at(!1)},children:"STATISTICS"})}),jsxRuntimeExports.jsx("div",{className:"btn-row",children:jsxRuntimeExports.jsx("button",{className:"btn-yellow",onClick:()=>{o("sim"),at(!1)},children:"WAR ROOM"})})]}),jsxRuntimeExports.jsxs("div",{className:"control-group",children:[jsxRuntimeExports.jsx("span",{className:"grp-lbl",children:"TOOLS"}),jsxRuntimeExports.jsx("button",{className:"btn-ghost",style:{color:"#fff",width:"100%",marginBottom:"5px"},onClick:a,children:"DATA ROOM"}),jsxRuntimeExports.jsx("button",{className:"btn-red",style:{width:"100%"},onClick:_,children:"AUDIT INACTIFS"})]}),jsxRuntimeExports.jsxs("div",{className:"control-group",children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"10px",color:"#666",marginTop:"10px"},children:[jsxRuntimeExports.jsx("span",{children:"DB SIZE"})," ",jsxRuntimeExports.jsx("span",{style:{color:"#fff"},children:et||0})]}),jsxRuntimeExports.jsx("button",{className:"btn-ghost",style:{color:"var(--red)",borderColor:"var(--red)",marginTop:"5px",fontSize:"9px"},onClick:lt,children:"FACTORY RESET"})]})]}),jsxRuntimeExports.jsx("div",{className:"console-log desktop-only",id:"sysLog",style:{marginTop:"10px",height:"80px",display:"flex",flexDirection:"column-reverse"},children:_e&&_e.map((ht,vt)=>jsxRuntimeExports.jsx("div",{className:"log-entry",children:ht},vt))})]})]})},SMART_ZONES_BIBLE={1:{name:"Beach 1",cost:1160,win:400,minW:9.66,maxW:13.92,req:[]},2:{name:"Beach 2",cost:6968,win:2405,minW:17.5,maxW:27.29,req:[871036]},3:{name:"Beach 3",cost:8800,win:3037,minW:35,maxW:54.59,req:[871037]},4:{name:"Bunker",cost:11120,win:3838,minW:69.99,maxW:108.53,req:[296767,295956,871038]},5:{name:"Forest 1",cost:14024,win:4840,minW:139.99,maxW:218.35,req:[296767,296754,871039,401181]},6:{name:"Forest 2",cost:17704,win:6110,minW:255.18,maxW:341.18,req:[296768,296754,871041,401181]},7:{name:"Forest 3",cost:22352,win:7714,minW:450,maxW:450,req:[296768,296754,871043,401181]},8:{name:"Camp",cost:28220,win:9739,minW:382.78,maxW:511.76,req:[296768,298537,296761,871045,401182]},9:{name:"Hill 1",cost:37052,win:12788,minW:415.82,maxW:694.78,req:[296768,298537,298529,871048,401182]},10:{name:"Hill 2",cost:48652,win:16791,minW:519.82,maxW:868.55,req:[296769,298537,298529,871049,401182]},11:{name:"Hill 3",cost:64516,win:22266,minW:649.77,maxW:1085.69,req:[296769,298539,298529,871051,401184]},12:{name:"Radar",cost:84712,win:29236,minW:812.17,maxW:1357.04,req:[296770,298539,871052,298548,401184]},13:{name:"Plain 1",cost:99384,win:34300,minW:1298.56,maxW:1696.33,req:[296770,298539,871053,298548,401184]},14:{name:"Plain 2",cost:125708,win:43385,minW:1428.32,maxW:1865.84,req:[296770,298541,871054,298549,401187]},15:{name:"Plain 3",cost:151164,win:52171,minW:1570.79,maxW:2051.96,req:[296770,298541,871055,298553,401187]},16:{name:"HQ",cost:188e3,win:64884,minW:1728.29,maxW:2494.23,req:[296770,298543,871057,298551,401187]},17:{name:"City 1",cost:1664,win:0,minW:69.99,maxW:108.53,req:[871058,645495,645444,645455,645463]},18:{name:"City 2",cost:4448,win:0,minW:382.78,maxW:511.76,req:[871059,645504,645450,645469,645485]},19:{name:"City 3",cost:13440,win:0,minW:812.17,maxW:1357.04,req:[871060,645500,645457,645482,649646]},20:{name:"Bridge",cost:29856,win:0,minW:1728.29,maxW:2494.23,req:[871061,297681,649648,645465,645464]}},REQ_DICT={871036:{n:" KEY BEACH 2",r:"r-rare"},871037:{n:" KEY BEACH 3",r:"r-rare"},871038:{n:" KEY BUNKER",r:"r-rare"},871039:{n:" KEY FOREST 1",r:"r-rare"},871041:{n:" KEY FOREST 2",r:"r-rare"},871043:{n:" KEY FOREST 3",r:"r-rare"},871045:{n:" KEY CAMP",r:"r-rare"},871048:{n:" KEY HILL 1",r:"r-rare"},871049:{n:" KEY HILL 2",r:"r-rare"},871051:{n:" KEY HILL 3",r:"r-rare"},871052:{n:" KEY RADAR",r:"r-rare"},871053:{n:" KEY PLAIN 1",r:"r-rare"},871054:{n:" KEY PLAIN 2",r:"r-rare"},871055:{n:" KEY PLAIN 3",r:"r-rare"},871057:{n:" KEY HQ",r:"r-rare"},871058:{n:" CITY 1 PASS",r:"r-epic"},871059:{n:" CITY 2 PASS",r:"r-epic"},871060:{n:" CITY 3 PASS",r:"r-epic"},871061:{n:" BRIDGE PASS",r:"r-leg"},296767:{n:" ENGINEER",r:"r-epic"},296768:{n:" ENGINEER II",r:"r-epic"},296769:{n:" ENGINEER III",r:"r-leg"},296770:{n:" ENGINEER IV",r:"r-leg"},401181:{n:" RANGER",r:"r-rare"},401182:{n:" CLIMBER",r:"r-epic"},401184:{n:" TECH",r:"r-epic"},401187:{n:" GENERAL",r:"r-leg"},295956:{n:" PART A",r:"r-common"},296754:{n:" PART B",r:"r-common"},298537:{n:" PART C",r:"r-common"},296761:{n:" PART D",r:"r-common"},298529:{n:" PART E",r:"r-common"},298539:{n:" PART F",r:"r-common"},298548:{n:" PART G",r:"r-common"},298541:{n:" PART H",r:"r-common"},298549:{n:" PART I",r:"r-common"},298553:{n:" PART J",r:"r-common"},298543:{n:" PART K",r:"r-common"},298551:{n:" PART L",r:"r-common"},645495:{n:" PERMIT A",r:"r-common"},645444:{n:" PERMIT B",r:"r-common"},645455:{n:" PERMIT C",r:"r-common"},645463:{n:" PERMIT D",r:"r-common"},645504:{n:" PERMIT E",r:"r-common"},645450:{n:" PERMIT F",r:"r-common"},645469:{n:" PERMIT G",r:"r-common"},645485:{n:" PERMIT H",r:"r-common"},645500:{n:" PERMIT I",r:"r-common"},645457:{n:" PERMIT J",r:"r-common"},645482:{n:" PERMIT K",r:"r-common"},649646:{n:" PERMIT L",r:"r-common"},297681:{n:" PERMIT M",r:"r-common"},649648:{n:" PERMIT N",r:"r-common"},645465:{n:" PERMIT O",r:"r-common"},645464:{n:" PERMIT P",r:"r-common"}},TEMPLATES={FUEL:{490122:{name:"C_F1_PRODUCER_FUEL",prod:5.4},492363:{name:"C_F2_PRODUCER_FUEL",prod:12.15},492366:{name:"C_F3_PRODUCER_FUEL",prod:30.38},492368:{name:"C_F4_PRODUCER_FUEL",prod:83.53},492373:{name:"R_F1_PRODUCER_FUEL",prod:16.2},492376:{name:"R_F2_PRODUCER_FUEL",prod:36.45},492379:{name:"R_F3_PRODUCER_FUEL",prod:91.13},492381:{name:"R_F4_PRODUCER_FUEL",prod:250.59},492383:{name:"E_F1_PRODUCER_FUEL",prod:48.6},492385:{name:"E_F2_PRODUCER_FUEL",prod:109.35},492386:{name:"E_F3_PRODUCER_FUEL",prod:273.38},492387:{name:"E_F4_PRODUCER_FUEL",prod:751.78},492389:{name:"L_F1_PRODUCER_FUEL",prod:145.8},492390:{name:"L_F2_PRODUCER_FUEL",prod:328.05},492391:{name:"L_F3_PRODUCER_FUEL",prod:820.13},492392:{name:"L_F4_PRODUCER_FUEL",prod:2255.34},544068:{name:"S1_OWNER_FUEL",prod:2255.34}},HEALTH:{492394:{name:"C_F1_PRODUCER_HEALTH",prod:5.4},492395:{name:"C_F2_PRODUCER_HEALTH",prod:12.15},492396:{name:"C_F3_PRODUCER_HEALTH",prod:30.38},492397:{name:"C_F4_PRODUCER_HEALTH",prod:83.53},492399:{name:"R_F1_PRODUCER_HEALTH",prod:16.2},492401:{name:"R_F2_PRODUCER_HEALTH",prod:36.45},492535:{name:"R_F3_PRODUCER_HEALTH",prod:91.13},492537:{name:"R_F4_PRODUCER_HEALTH",prod:250.59},492539:{name:"E_F1_PRODUCER_HEALTH",prod:48.6},492543:{name:"E_F2_PRODUCER_HEALTH",prod:109.35},492545:{name:"E_F3_PRODUCER_HEALTH",prod:273.38},492546:{name:"E_F4_PRODUCER_HEALTH",prod:751.78},492550:{name:"L_F1_PRODUCER_HEALTH",prod:145.8},492554:{name:"L_F2_PRODUCER_HEALTH",prod:328.05},492555:{name:"L_F3_PRODUCER_HEALTH",prod:820.13},492557:{name:"L_F4_PRODUCER_HEALTH",prod:2255.34},544070:{name:"S1_OWNER_HEALTH",prod:2255.34}},REPAIR:{492559:{name:"C_F1_PRODUCER_REPAIR",prod:5.4},492560:{name:"C_F2_PRODUCER_REPAIR",prod:12.15},492561:{name:"C_F3_PRODUCER_REPAIR",prod:30.38},492562:{name:"C_F4_PRODUCER_REPAIR",prod:83.53},492563:{name:"R_F1_PRODUCER_REPAIR",prod:16.2},492465:{name:"R_F2_PRODUCER_REPAIR",prod:36.45},492566:{name:"R_F3_PRODUCER_REPAIR",prod:91.13},492568:{name:"R_F4_PRODUCER_REPAIR",prod:250.59},492964:{name:"E_F1_PRODUCER_REPAIR",prod:48.6},492965:{name:"E_F2_PRODUCER_REPAIR",prod:109.35},492966:{name:"E_F3_PRODUCER_REPAIR",prod:273.38},492967:{name:"E_F4_PRODUCER_REPAIR",prod:751.78},492572:{name:"L_F1_PRODUCER_REPAIR",prod:145.8},492579:{name:"L_F2_PRODUCER_REPAIR",prod:328.05},492582:{name:"L_F3_PRODUCER_REPAIR",prod:820.13},492583:{name:"L_F4_PRODUCER_REPAIR",prod:2255.34},544061:{name:"S1_OWNER_REPAIR",prod:2255.34}},SUPPLY:{492585:{name:"C_F1_PRODUCER_SUPPLY",prod:5.4},492587:{name:"C_F2_PRODUCER_SUPPLY",prod:12.15},492589:{name:"C_F3_PRODUCER_SUPPLY",prod:30.38},492702:{name:"C_F4_PRODUCER_SUPPLY",prod:83.53},492703:{name:"R_F1_PRODUCER_SUPPLY",prod:16.2},492704:{name:"R_F2_PRODUCER_SUPPLY",prod:36.45},492706:{name:"R_F3_PRODUCER_SUPPLY",prod:91.13},492707:{name:"R_F4_PRODUCER_SUPPLY",prod:250.59},492708:{name:"E_F1_PRODUCER_SUPPLY",prod:48.6},492709:{name:"E_F2_PRODUCER_SUPPLY",prod:109.35},492710:{name:"E_F3_PRODUCER_SUPPLY",prod:273.38},492711:{name:"E_F4_PRODUCER_SUPPLY",prod:751.78},492712:{name:"L_F1_PRODUCER_SUPPLY",prod:145.8},492713:{name:"L_F2_PRODUCER_SUPPLY",prod:328.05},492714:{name:"L_F3_PRODUCER_SUPPLY",prod:820.13},492715:{name:"L_F4_PRODUCER_SUPPLY",prod:2255.34},544064:{name:"S1_OWNER_SUPPLY",prod:2255.34}}},fmt$1=o=>o?o.toLocaleString("fr-FR",{minimumFractionDigits:0,maximumFractionDigits:2}):"0",GlobalView=({addLog:o,registerWallets:e,setInactiveAssets:a})=>{const[_,b]=reactExports.useState(!0),[_e,et]=reactExports.useState({fuel:{hourly:0,cap:0,prod24:0,active:0,total:0},health:{hourly:0,cap:0,prod24:0,active:0,total:0},repair:{hourly:0,cap:0,prod24:0,active:0,total:0},supply:{hourly:0,cap:0,prod24:0,active:0,total:0}}),[tt,nt]=reactExports.useState({fuel:[],health:[],repair:[],supply:[]});reactExports.useEffect(()=>{setTimeout(()=>{it(),b(!1)},500)},[]);const it=()=>{let at={fuel:{hourly:0,cap:0,prod24:0,active:0,total:0},health:{hourly:0,cap:0,prod24:0,active:0,total:0},repair:{hourly:0,cap:0,prod24:0,active:0,total:0},supply:{hourly:0,cap:0,prod24:0,active:0,total:0}},lt={fuel:[],health:[],repair:[],supply:[]},ut=[];Object.keys(TEMPLATES).forEach(ft=>{const mt=TEMPLATES[ft],ht=mt.type.toLowerCase();if(at[ht]){const vt=mt.owned||0,Et=mt.active||0;at[ht].total+=vt,at[ht].active+=Et,at[ht].hourly+=mt.rate*Et,at[ht].cap+=mt.cap*Et,at[ht].prod24+=mt.rate*Et*24,Et<vt&&ut.push({name:mt.name,inactive:vt-Et}),vt>0&&lt[ht].push({name:ft,act:Et,tot:vt,rate:mt.rate*Et,prod24:mt.rate*Et*24,yield:mt.cost>0?mt.rate*24*30/mt.cost*100:0,cost:mt.cost*Et})}}),et(at),Object.keys(lt).forEach(ft=>lt[ft].sort((mt,ht)=>ht.rate-mt.rate)),nt(lt),a&&a(ut)},ot=({label:at,data:lt,color:ut})=>jsxRuntimeExports.jsxs("div",{className:"data-panel",style:{padding:"15px"},children:[jsxRuntimeExports.jsx("div",{className:"kpi-lbl",children:"DAILY PRODUCTION"}),jsxRuntimeExports.jsxs("div",{className:"kpi-val",style:{color:ut},children:[fmt$1(lt.prod24)," ",jsxRuntimeExports.jsx("span",{className:"kpi-unit",children:at})]}),jsxRuntimeExports.jsxs("div",{style:{fontSize:"10px",color:"#666",marginTop:"5px"},children:["HOURLY: ",fmt$1(lt.hourly)]}),jsxRuntimeExports.jsx("div",{style:{height:"4px",background:"#333",marginTop:"10px",borderRadius:"2px"},children:jsxRuntimeExports.jsx("div",{style:{width:`${lt.prod24/lt.cap*100}%`,height:"100%",background:ut}})})]}),st=({title:at,data:lt,color:ut})=>jsxRuntimeExports.jsxs("div",{className:"data-panel",children:[jsxRuntimeExports.jsx("div",{className:"dp-head",children:jsxRuntimeExports.jsxs("span",{className:"dp-title",children:[at," BREAKDOWN"]})}),jsxRuntimeExports.jsx("div",{style:{overflowX:"auto"},children:jsxRuntimeExports.jsxs("table",{children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{children:"TEMPLATE"}),jsxRuntimeExports.jsx("th",{children:"ACT/TOT"}),jsxRuntimeExports.jsx("th",{children:"PROD/H"}),jsxRuntimeExports.jsx("th",{children:"YIELD"}),jsxRuntimeExports.jsx("th",{children:"COST"})]})}),jsxRuntimeExports.jsx("tbody",{children:lt.map((ft,mt)=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{style:{color:ut},children:ft.name}),jsxRuntimeExports.jsxs("td",{children:[ft.act,"/",ft.tot]}),jsxRuntimeExports.jsx("td",{children:fmt$1(ft.rate)}),jsxRuntimeExports.jsxs("td",{children:[ft.yield.toFixed(1),"%"]}),jsxRuntimeExports.jsx("td",{children:fmt$1(ft.cost)})]},mt))})]})})]});return _?jsxRuntimeExports.jsx("div",{children:"INITIALIZING..."}):jsxRuntimeExports.jsxs("div",{className:"view-section active-view",children:[jsxRuntimeExports.jsx("h1",{className:"page-h1",children:"PRODUCTION BTIMENTS"}),jsxRuntimeExports.jsx("div",{className:"sub-txt",children:"TERMIN (RESTAURATION)"}),jsxRuntimeExports.jsxs("div",{className:"grid-4",children:[jsxRuntimeExports.jsx(ot,{label:"FUEL",data:_e.fuel,color:"var(--orange)"}),jsxRuntimeExports.jsx(ot,{label:"HEALTH",data:_e.health,color:"var(--red)"}),jsxRuntimeExports.jsx(ot,{label:"REPAIR",data:_e.repair,color:"var(--blue)"}),jsxRuntimeExports.jsx(ot,{label:"SUPPLY",data:_e.supply,color:"#ffd700"})]}),jsxRuntimeExports.jsxs("div",{className:"grid-2",children:[jsxRuntimeExports.jsx(st,{title:"FUEL",data:tt.fuel,color:"var(--orange)"}),jsxRuntimeExports.jsx(st,{title:"HEALTH",data:tt.health,color:"var(--red)"})]}),jsxRuntimeExports.jsxs("div",{className:"grid-2",children:[jsxRuntimeExports.jsx(st,{title:"REPAIR",data:tt.repair,color:"var(--blue)"}),jsxRuntimeExports.jsx(st,{title:"SUPPLY",data:tt.supply,color:"#ffd700"})]})]})},CONFIG_PRIX={WAX_USD:.00751,DOVX_WAX:.00528553,DOVR_WAX:52051e-8,DOVF_WAX:52051e-8,DOVH_WAX:52051e-8,DOVS_WAX:52051e-8,PRIX_MOYEN_NFT_USD:5},NFTHIVE_SNAPSHOT={sales:"$954.1K",assets:"140 466",marketCap:"$883.3K",users:"8 334",fee:"6%"},API_CONFIG={rpcNodes:["https://wax.greymass.com","https://wax.eosio.online","https://wax.api.eosnation.io","https://wax.dapplica.io","https://wax.eosphere.io","https://wax.eosusa.io","https://wax-public1.neftyblocks.com","https://wax-public2.neftyblocks.com","https://wax.eosrio.io","https://api.wax.detroitledger.tech","https://wax.oiac.io","https://api.hivebp.io","https://api2.hivebp.io","https://api-wax.eosauthority.com","https://wax.eosdac.io","https://wax.blacklusion.io","https://api.waxsweden.org","https://wax-bp.wizardsguild.one","https://api.wax.alohaeos.com","https://wax.eu.eosamsterdam.net"]},AA_API="https://wax.api.atomicassets.io",PROJECT_DATA={links:[{name:"Official Website",url:"https://dawnofvictory.io/"},{name:"Whitepaper",url:"https://dawn-of-victory.gitbook.io/dov/"},{name:"Beta Access",url:"https://beta.dawnofvictory.io/"},{name:"Twitter",url:"https://twitter.com/DOVNFT"},{name:"Telegram",url:"https://t.me/dawnofvictorynft"},{name:"Email",url:"mailto:info@dawnofvictory.io"},{name:"Top 100 Holders",url:"https://wax.bloks.io/tokens/DOVX-wax-dovvaultfort"},{name:"Blend Your NFT",url:"https://neftyblocks.com/c/dovdivisions/blends"},{name:"Whimsical Info",url:"https://whimsical.com/dawn-of-victory-marketing-NgpNonWnGyLUqosCRRJ5Ng@3CRerdhrAvzbxBHgLbRvGZoU"}],markets:[{name:"DOVX (Swap)",url:"https://wax.alcor.exchange/swap?output=DOVX-dovvaultfort&input=WAX-eosio.token"},{name:"DOVX / WAX",url:"https://alcor.exchange/trade/dovx-dovvaultfort_wax-eosio.token"},{name:"DOVH / WAX",url:"https://wax.alcor.exchange/trade/dovh-dovvaultfort_wax-eosio.token"},{name:"DOVS / WAX",url:"https://wax.alcor.exchange/trade/dovs-dovvaultfort_wax-eosio.token"},{name:"DOVR / WAX",url:"https://wax.alcor.exchange/trade/dovr-dovvaultfort_wax-eosio.token"},{name:"DOVF / WAX",url:"https://wax.alcor.exchange/trade/dovf-dovvaultfort_wax-eosio.token"}],contracts:["dovutilstake","dovpvecontrl","dawnfvictory","atomicdropsx","neftyblocksd"]},SYBIL_WHITELIST=["alcordexmain","eosio.stake","atomicmarket","waxapps","farmersworld","alien.worlds","cpu4","blenderizerx","neftyblocksd","dovutilstake","swap.taco"],fetchWithTimeout=async(o,e={},a=3e3)=>{const _=new AbortController,b=setTimeout(()=>_.abort(),a),_e={...e,signal:_.signal};try{const et=await fetch(o,_e);return clearTimeout(b),et}catch(et){throw clearTimeout(b),et}},fetchSmartCluster=async(o,e)=>{let _=[...API_CONFIG.rpcNodes].sort(()=>.5-Math.random());for(let b=0;b<_.length;b++)try{const _e=_[b]+o,et=await fetchWithTimeout(_e,{method:"POST",body:e?JSON.stringify(e):null},2500);if(et.ok)return await et.json()}catch{continue}throw new Error("CLUSTER RPC UNREACHABLE")},HYPERION_NODES=["https://wax.eosrio.io","https://wax.greymass.com","https://api.waxsweden.org","https://wax.eu.eosamsterdam.net"],fetchHistoryCluster=async o=>{let a=[...HYPERION_NODES].sort(()=>.5-Math.random());for(let _=0;_<a.length;_++)try{const b=a[_]+o,_e=await fetchWithTimeout(b,{method:"GET"},4e3);if(_e.ok)return await _e.json()}catch{continue}throw new Error("CLUSTER HISTORY UNREACHABLE")},fmt=o=>o.toLocaleString("fr-FR",{maximumFractionDigits:0}),fmtDec=o=>o.toLocaleString("fr-FR",{minimumFractionDigits:2,maximumFractionDigits:2}),fmtUsd=o=>o.toLocaleString("en-US",{style:"currency",currency:"USD",minimumFractionDigits:4}),ZonesView=({addLog:o,registerWallets:e,onInspect:a})=>{const[_,b]=reactExports.useState("PRT"),[_e,et]=reactExports.useState({totalDivs:0,activeDivs:0,totalProd:0,cityBurn:0,bf:0,bh:0,br:0,bs:0}),[tt,nt]=reactExports.useState({}),[it,ot]=reactExports.useState(null),[st,at]=reactExports.useState([]),[lt,ut]=reactExports.useState({});reactExports.useEffect(()=>{let At={};Object.keys(SMART_ZONES_BIBLE).forEach(Ct=>{At[Ct]={count:0,active:0,prod:0,cityBurn:0,bf:0,bh:0,br:0,bs:0,details:[]}}),nt(At),ft()},[]);const ft=async()=>{let At=new Set;Object.values(SMART_ZONES_BIBLE).forEach(Mt=>{Mt.req&&Mt.req.forEach(Bt=>At.add(Bt))});let Ct=Array.from(At);if(Ct.length!==0)try{const Bt=await(await fetch(`${AA_API}/atomicassets/v1/templates?collection_name=dovdivisions&ids=${Ct.join(",")}&limit=100`)).json();if(Bt.data){let Lt={};Bt.data.forEach(jt=>{jt.immutable_data&&jt.immutable_data.img&&(Lt[jt.template_id]=jt.immutable_data.img)}),ut(jt=>({...jt,...Lt}))}}catch(Mt){console.log("Image load error",Mt)}},mt=async()=>{b("SCAN EN COURS..."),o&&o("START: Divisions Scan initiated...");let At="",Ct={totalDivs:0,activeDivs:0,totalProd:0,cityBurn:0,bf:0,bh:0,br:0,bs:0},Mt={},Bt=new Set;Object.keys(SMART_ZONES_BIBLE).forEach(Lt=>{Mt[Lt]={count:0,active:0,prod:0,cityBurn:0,bf:0,bh:0,br:0,bs:0,details:[]}});try{let Lt=!0;for(;Lt;){const jt=await fetchSmartCluster("/v1/chain/get_table_rows",{json:!0,code:"dovpvecontrl",scope:"dovpvecontrl",table:"sdivisions",limit:1e3,lower_bound:At});if(!jt.rows)break;for(let Vt of jt.rows){let Nt=Vt.zone_id||Vt.zoneID;if(Mt[Nt]&&(Mt[Nt].count++,Ct.totalDivs++,Vt.owner&&Bt.add(Vt.owner),parseFloat(Vt.unlock_time||Vt.end_time||0)>Date.now()/1e3)){Mt[Nt].active++,Ct.activeDivs++;let ct=SMART_ZONES_BIBLE[Nt];[17,18,19,20].includes(parseInt(Nt))?(Mt[Nt].cityBurn+=ct.cost,Ct.cityBurn+=ct.cost):(Mt[Nt].bf+=ct.cost,Ct.bf+=ct.cost,Mt[Nt].bh+=ct.cost,Ct.bh+=ct.cost,Mt[Nt].br+=ct.cost,Ct.br+=ct.cost,Mt[Nt].bs+=ct.cost,Ct.bs+=ct.cost),Mt[Nt].prod+=ct.win,Ct.totalProd+=ct.win,Mt[Nt].details.push({owner:Vt.owner,reward:ct.win,asset_ids:Vt.asset_ids||[]})}}jt.more?At=jt.next_key:Lt=!1}nt(Mt),et(Ct),e&&e(Array.from(Bt)),o&&o(`SUCCESS: Divisions scanned. Found ${Bt.size} players.`),b(`TERMIN (${Ct.activeDivs} ACTIVE)`)}catch(Lt){console.error(Lt),b("ERREUR SCAN"),o&&o("ERROR: Zone Scan failed "+Lt.message)}},ht=At=>{const Ct=tt[At];if(!Ct||Ct.details.length===0)return;let Mt={};Ct.details.forEach(Lt=>{Mt[Lt.owner]||(Mt[Lt.owner]={count:0,mint:0,assets:[]}),Mt[Lt.owner].count++,Mt[Lt.owner].mint+=Lt.reward,Lt.asset_ids&&Mt[Lt.owner].assets.push(...Lt.asset_ids)});let Bt=Object.keys(Mt).map(Lt=>({owner:Lt,...Mt[Lt]})).sort((Lt,jt)=>jt.count-Lt.count);at(Bt),ot(At)},vt=()=>{ot(null),at([])},Et=At=>{let Ct=At.toLowerCase();return Ct.includes("beach")?"type-beach":Ct.includes("forest")?"type-forest":Ct.includes("hill")?"type-hill":Ct.includes("plain")?"type-plain":Ct.includes("city")?"type-city":Ct.includes("bunker")||Ct.includes("hq")||Ct.includes("radar")?"type-mil":Ct.includes("camp")?"type-camp":Ct.includes("bridge")?"type-bridge":"type-default"};return reactExports.useEffect(()=>{mt()},[]),_e.totalDivs>0&&_e.activeDivs/_e.totalDivs*100,jsxRuntimeExports.jsxs("div",{id:"viewZones",className:"active-view",children:[jsxRuntimeExports.jsxs("div",{className:"dashboard-header",style:{borderLeft:"4px solid var(--blue)"},children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"page-h1",children:"CARTE DIVISIONS"}),jsxRuntimeExports.jsxs("div",{className:"page-meta",children:["UNITS: ",fmt(_e.totalDivs)," | ",_]})]}),jsxRuntimeExports.jsxs("div",{className:"total-cost",children:[jsxRuntimeExports.jsx("div",{className:"grp-lbl",children:"CONSOMMATION DU DOVX 24H00"}),jsxRuntimeExports.jsxs("div",{style:{fontFamily:"var(--font-num)",fontSize:"14px",fontWeight:800,marginTop:"4px"},children:[jsxRuntimeExports.jsxs("span",{className:"tc-f",children:["FUEL ",fmt(_e.bf)]})," | ",jsxRuntimeExports.jsxs("span",{className:"tc-h",children:["HEALTH ",fmt(_e.bh)]})," | ",jsxRuntimeExports.jsxs("span",{className:"tc-r",children:["REPAIR ",fmt(_e.br)]})," | ",jsxRuntimeExports.jsxs("span",{className:"tc-s",children:["SUPPLY ",fmt(_e.bs)]})]}),jsxRuntimeExports.jsxs("div",{style:{textAlign:"right",marginTop:"5px",fontSize:"11px",color:"var(--purple)",fontWeight:"bold"},children:["CITY DOVX BURN: ",fmt(_e.cityBurn)]})]})]}),jsxRuntimeExports.jsx("div",{className:"zones-map",children:Object.keys(tt).map(At=>{let Ct=SMART_ZONES_BIBLE[At],Mt=tt[At],Bt=[17,18,19,20].includes(parseInt(At)),Lt=Et(Ct.name),jt=Mt.count>0?"active":"";return jsxRuntimeExports.jsxs("div",{className:`zone-card ${jt} ${Lt}`,onClick:()=>ht(At),children:[jsxRuntimeExports.jsxs("div",{className:"zc-top",children:[jsxRuntimeExports.jsx("span",{style:{textShadow:"0 2px 4px #000"},children:Ct.name})," ",jsxRuntimeExports.jsxs("span",{style:{textShadow:"0 2px 4px #000",color:Mt.active>0?"var(--green)":"#aaa"},children:[Mt.active," FIGHT"]})," / ",jsxRuntimeExports.jsxs("span",{style:{textShadow:"0 2px 4px #000",color:"#fff"},children:[Mt.count," TOT"]})]}),jsxRuntimeExports.jsxs("div",{className:"zc-mid",children:[jsxRuntimeExports.jsxs("div",{style:{marginBottom:"4px",display:"flex",gap:"4px",flexWrap:"wrap",minHeight:"15px"},children:[jsxRuntimeExports.jsxs("span",{className:"badge-weight",children:[" ",fmtDec(Ct.minW),"-",fmtDec(Ct.maxW)]}),Ct.req&&Ct.req.map(Vt=>{let Nt=REQ_DICT[Vt],kt=lt[Vt];return Nt?kt?jsxRuntimeExports.jsx("div",{className:"badge-req",title:Nt.n,children:jsxRuntimeExports.jsx("img",{src:`https://atomichub-ipfs.com/ipfs/${kt}`,style:{border:`1px solid var(--${Nt.r.replace("r-","")})`}})},Vt):jsxRuntimeExports.jsx("div",{className:`badge-named ${Nt.r}`,children:Nt.n},Vt):null})]}),jsxRuntimeExports.jsxs("div",{className:"zs-item",style:{textShadow:"0 1px 2px #000"},children:[jsxRuntimeExports.jsx("span",{children:"MINT (DOVX)"})," ",jsxRuntimeExports.jsx("span",{style:{color:"var(--purple)",fontWeight:"bold"},children:fmt(Mt.prod)})]}),jsxRuntimeExports.jsx("div",{style:{height:"1px",background:"rgba(255,255,255,0.2)",margin:"2px 0"}}),Bt?jsxRuntimeExports.jsxs("div",{className:"zs-item",style:{fontSize:"10px",color:"var(--purple)",fontWeight:"bold",marginTop:"2px",textShadow:"0 1px 2px #000"},children:["ENTRY COST: ",Ct.cost," DOVX"]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"zs-item",style:{color:"#eee",fontSize:"9px",fontWeight:"bold",textShadow:"0 1px 2px #000"},children:"UTILITY COST"}),jsxRuntimeExports.jsxs("div",{className:"zs-item",style:{fontSize:"9px",fontWeight:"bold",textShadow:"0 1px 2px #000"},children:[jsxRuntimeExports.jsx("span",{className:"tc-f",children:fmt(Mt.bf)})," ",jsxRuntimeExports.jsx("span",{className:"tc-h",children:fmt(Mt.bh)})," ",jsxRuntimeExports.jsx("span",{className:"tc-r",children:fmt(Mt.br)})," ",jsxRuntimeExports.jsx("span",{className:"tc-s",children:fmt(Mt.bs)})]})]})]})]},At)})}),it&&jsxRuntimeExports.jsx("div",{className:"modal-overlay",style:{display:"flex"},onClick:At=>{At.target.className.includes("modal-overlay")&&vt()},children:jsxRuntimeExports.jsxs("div",{className:"modal-box",style:{width:"800px"},children:[jsxRuntimeExports.jsxs("h3",{style:{marginTop:0,color:"#fff",borderBottom:"1px solid #333",paddingBottom:"10px"},children:["ZONE DETAIL: ",SMART_ZONES_BIBLE[it].name]}),jsxRuntimeExports.jsxs("div",{style:{height:"400px",overflowY:"auto",marginTop:"15px"},children:[jsxRuntimeExports.jsxs("div",{className:"dt-grid dt-header",style:{gridTemplateColumns:"1fr 100px 100px 100px 50px"},children:[jsxRuntimeExports.jsx("div",{className:"cell",children:"WALLET (OWNER)"}),jsxRuntimeExports.jsx("div",{className:"cell c-right",children:"DIVISIONS"}),jsxRuntimeExports.jsx("div",{className:"cell c-right",children:"CARDS ID"}),jsxRuntimeExports.jsx("div",{className:"cell c-right",children:"MINT"}),jsxRuntimeExports.jsx("div",{className:"cell c-center",children:"ACT"})]}),st.map((At,Ct)=>jsxRuntimeExports.jsxs("div",{className:"dt-grid dt-row",style:{gridTemplateColumns:"1fr 100px 100px 100px 50px"},children:[jsxRuntimeExports.jsx("div",{className:"cell",style:{fontWeight:"bold",color:"#fff"},children:At.owner}),jsxRuntimeExports.jsxs("div",{className:"cell c-right",style:{color:"var(--blue)"},children:[At.count," DIVS"]}),jsxRuntimeExports.jsx("div",{className:"cell c-right",style:{color:"#888",fontSize:"9px"},title:At.assets.join(", "),children:At.assets.length>0?At.assets[0]+(At.assets.length>1?"...":""):"-"}),jsxRuntimeExports.jsx("div",{className:"cell c-right",style:{color:"var(--purple)"},children:fmt(At.mint)}),jsxRuntimeExports.jsx("div",{className:"cell c-center",children:jsxRuntimeExports.jsx("button",{className:"btn-ghost",style:{padding:"2px 5px",fontSize:"9px",color:"var(--orange)",borderColor:"var(--orange)"},onClick:()=>a(At.owner),children:"INSPECT"})})]},Ct))]}),jsxRuntimeExports.jsx("div",{style:{textAlign:"right",marginTop:"15px"},children:jsxRuntimeExports.jsx("button",{className:"btn-ghost",onClick:vt,children:"CLOSE"})})]})})]})},EcoView=()=>{const[o,e]=reactExports.useState("INITIALISATION..."),[a,_]=reactExports.useState({dailyIndustryWax:0,dailyMilitaryWax:0,totalDailyWax:0,totalDailyUsd:0}),b=et=>TEMPLATES.FUEL[et]?{...TEMPLATES.FUEL[et],type:"F"}:TEMPLATES.HEALTH[et]?{...TEMPLATES.HEALTH[et],type:"H"}:TEMPLATES.REPAIR[et]?{...TEMPLATES.REPAIR[et],type:"R"}:TEMPLATES.SUPPLY[et]?{...TEMPLATES.SUPPLY[et],type:"S"}:null,_e=async()=>{e("SCANNING BTIMENTS...");let et=0,tt=0,nt=0,it=0,ot="";try{for(;;){const mt=await fetchSmartCluster("/v1/chain/get_table_rows",{json:!0,code:"dovutilstake",scope:"dovutilstake",table:"buildings",limit:1e3,lower_bound:ot});if(!mt.rows)break;const ht=Date.now()/1e3;for(let vt of mt.rows){let Et=b(vt.template_id.toString());if(Et&&ht<parseFloat(vt.last_claim)+parseFloat(vt.delay)){let Ct=(vt.asset_ids?vt.asset_ids.length:1)*Et.prod;Et.type==="F"&&(et+=Ct),Et.type==="H"&&(tt+=Ct),Et.type==="R"&&(nt+=Ct),Et.type==="S"&&(it+=Ct)}}if(!mt.more)break;ot=mt.next_key}e("SCANNING DIVISIONS...");let st=0;for(ot="";;){const mt=await fetchSmartCluster("/v1/chain/get_table_rows",{json:!0,code:"dovpvecontrl",scope:"dovpvecontrl",table:"sdivisions",limit:1e3,lower_bound:ot});if(!mt.rows)break;for(let ht of mt.rows){let vt=ht.zone_id||ht.zoneID;parseFloat(ht.unlock_time||ht.end_time||0)>Date.now()/1e3&&SMART_ZONES_BIBLE[vt]&&(st+=SMART_ZONES_BIBLE[vt].win)}if(!mt.more)break;ot=mt.next_key}let at=et*24*CONFIG_PRIX.DOVF_WAX+tt*24*CONFIG_PRIX.DOVH_WAX+nt*24*CONFIG_PRIX.DOVR_WAX+it*24*CONFIG_PRIX.DOVS_WAX,lt=st*CONFIG_PRIX.DOVX_WAX,ut=at+lt,ft=ut*CONFIG_PRIX.WAX_USD;_({dailyIndustryWax:at,dailyMilitaryWax:lt,totalDailyWax:ut,totalDailyUsd:ft}),e("BUSINESS INTELLIGENCE READY")}catch(st){console.error(st),e("ERREUR SCAN: "+st.message)}};return reactExports.useEffect(()=>{_e()},[]),jsxRuntimeExports.jsxs("div",{id:"viewEco",className:"active-view",children:[jsxRuntimeExports.jsxs("div",{className:"dashboard-header",style:{borderLeft:"4px solid var(--orange)"},children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"page-h1",children:"INVESTOR DASHBOARD"}),jsxRuntimeExports.jsx("div",{className:"page-meta",id:"ecoStatus",children:o})]}),jsxRuntimeExports.jsx("div",{className:"sys-clock",children:jsxRuntimeExports.jsx("span",{className:"clock-copy"})})]}),jsxRuntimeExports.jsxs("div",{className:"market-ticker",id:"marketTicker",children:[jsxRuntimeExports.jsxs("div",{className:"ticker-item",children:[jsxRuntimeExports.jsx("div",{className:"t-sym",style:{color:"var(--orange)"},children:"WAX"}),jsxRuntimeExports.jsxs("div",{className:"t-price",children:["$",CONFIG_PRIX.WAX_USD]})]}),jsxRuntimeExports.jsxs("div",{className:"ticker-item",children:[jsxRuntimeExports.jsx("div",{className:"t-sym",children:"DOVX"}),jsxRuntimeExports.jsxs("div",{className:"t-price",children:[CONFIG_PRIX.DOVX_WAX," WAX"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"kpi-grid eco",style:{gridTemplateColumns:"repeat(3, 1fr)",gap:"15px",marginBottom:"25px"},children:[jsxRuntimeExports.jsxs("div",{className:"kpi-card",children:[jsxRuntimeExports.jsx("div",{className:"kc-title",children:"UNIQUE WALLETS (USERS)"}),jsxRuntimeExports.jsx("div",{className:"kc-val-huge",style:{color:"var(--blue)"},children:NFTHIVE_SNAPSHOT.users}),jsxRuntimeExports.jsx("div",{className:"kc-sub",children:"NFTHIVE SNAPSHOT"})]}),jsxRuntimeExports.jsxs("div",{className:"kpi-card",children:[jsxRuntimeExports.jsx("div",{className:"kc-title",children:"NFT MARKET CAP"}),jsxRuntimeExports.jsx("div",{className:"kc-val",style:{color:"#fff"},children:NFTHIVE_SNAPSHOT.marketCap}),jsxRuntimeExports.jsx("div",{className:"kc-sub",children:"$0.00"})]}),jsxRuntimeExports.jsxs("div",{className:"kpi-card",children:[jsxRuntimeExports.jsx("div",{className:"kc-title",children:"TOTAL ASSETS"}),jsxRuntimeExports.jsx("div",{className:"kc-val",children:NFTHIVE_SNAPSHOT.assets}),jsxRuntimeExports.jsx("div",{className:"kc-sub",children:"CIRCULATING SUPPLY"})]}),jsxRuntimeExports.jsxs("div",{className:"kpi-card",children:[jsxRuntimeExports.jsx("div",{className:"kc-title",children:"TOTAL SALES VOLUME"}),jsxRuntimeExports.jsx("div",{className:"kc-val",style:{color:"var(--yellow)"},children:NFTHIVE_SNAPSHOT.sales})]}),jsxRuntimeExports.jsxs("div",{className:"kpi-card",children:[jsxRuntimeExports.jsx("div",{className:"kc-title",children:"MARKET FEE"}),jsxRuntimeExports.jsx("div",{className:"kc-val",children:NFTHIVE_SNAPSHOT.fee})]}),jsxRuntimeExports.jsxs("div",{className:"kpi-card",children:[jsxRuntimeExports.jsx("div",{className:"kc-title",children:"DAILY GDP (VALUE)"}),jsxRuntimeExports.jsx("div",{className:"kc-val",style:{color:"var(--green)"},children:fmtUsd(a.totalDailyUsd)}),jsxRuntimeExports.jsxs("div",{className:"kc-sub",children:[fmtDec(a.totalDailyWax)," WAX"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"data-panel",style:{marginBottom:"25px"},children:[jsxRuntimeExports.jsx("div",{className:"dp-head",children:jsxRuntimeExports.jsx("span",{className:"dp-title",children:"FINANCIAL PROJECTIONS (REVENUE)"})}),jsxRuntimeExports.jsxs("div",{className:"dt-grid dt-header",style:{gridTemplateColumns:"200px 1fr 1fr"},children:[jsxRuntimeExports.jsx("div",{className:"cell",children:"PERIOD"}),jsxRuntimeExports.jsx("div",{className:"cell c-right",children:"REVENUE (WAX)"}),jsxRuntimeExports.jsx("div",{className:"cell c-right",children:"REVENUE (USD)"})]}),jsxRuntimeExports.jsxs("div",{className:"dt-grid dt-row",style:{gridTemplateColumns:"200px 1fr 1fr"},children:[jsxRuntimeExports.jsx("div",{className:"cell",children:jsxRuntimeExports.jsx("b",{children:"DAILY INDUSTRY"})}),jsxRuntimeExports.jsxs("div",{className:"cell c-right",style:{color:"var(--orange)"},children:[fmtDec(a.dailyIndustryWax)," W"]}),jsxRuntimeExports.jsx("div",{className:"cell c-right",style:{color:"var(--green)"},children:fmtUsd(a.dailyIndustryWax*CONFIG_PRIX.WAX_USD)})]}),jsxRuntimeExports.jsxs("div",{className:"dt-grid dt-row",style:{gridTemplateColumns:"200px 1fr 1fr"},children:[jsxRuntimeExports.jsx("div",{className:"cell",children:jsxRuntimeExports.jsx("b",{children:"DAILY MILITARY"})}),jsxRuntimeExports.jsxs("div",{className:"cell c-right",style:{color:"var(--orange)"},children:[fmtDec(a.dailyMilitaryWax)," W"]}),jsxRuntimeExports.jsx("div",{className:"cell c-right",style:{color:"var(--green)"},children:fmtUsd(a.dailyMilitaryWax*CONFIG_PRIX.WAX_USD)})]}),jsxRuntimeExports.jsx("div",{style:{height:"5px"}}),jsxRuntimeExports.jsxs("div",{className:"dt-grid dt-row",style:{gridTemplateColumns:"200px 1fr 1fr"},children:[jsxRuntimeExports.jsx("div",{className:"cell",style:{color:"var(--purple)"},children:jsxRuntimeExports.jsx("b",{children:"ANNUAL TOTAL"})}),jsxRuntimeExports.jsx("div",{className:"cell c-right",style:{color:"var(--purple)"},children:jsxRuntimeExports.jsxs("b",{children:[fmtDec(a.totalDailyWax*365)," W"]})}),jsxRuntimeExports.jsx("div",{className:"cell c-right",style:{color:"var(--purple)"},children:jsxRuntimeExports.jsx("b",{children:fmtUsd(a.totalDailyUsd*365)})})]})]})]})},SimView=()=>{const[o,e]=reactExports.useState("PRT  ANALYSER"),[a,_]=reactExports.useState(!1),[b,_e]=reactExports.useState(null),et=it=>TEMPLATES.FUEL[it]?{...TEMPLATES.FUEL[it],type:"F"}:TEMPLATES.HEALTH[it]?{...TEMPLATES.HEALTH[it],type:"H"}:TEMPLATES.REPAIR[it]?{...TEMPLATES.REPAIR[it],type:"R"}:TEMPLATES.SUPPLY[it]?{...TEMPLATES.SUPPLY[it],type:"S"}:null,tt=async()=>{_(!0),e("ACQUISITION DES DONNES CIBLES...");let it={F:0,H:0,R:0,S:0},ot={F:0,H:0,R:0,S:0},st={maintenance:0,cityBurn:0,mint:0};try{let at="";for(;;){const lt=await fetchSmartCluster("/v1/chain/get_table_rows",{json:!0,code:"dovutilstake",scope:"dovutilstake",table:"buildings",limit:1e3,lower_bound:at});if(!lt.rows)break;const ut=Date.now()/1e3;for(let ft of lt.rows){let mt=et(ft.template_id.toString());if(mt){let vt=(ft.asset_ids?ft.asset_ids.length:1)*mt.prod*24;it[mt.type]+=vt,st.maintenance+=vt*.085}}if(!lt.more)break;at=lt.next_key}for(e("ANALYSE DES VECTEURS D'ATTAQUE..."),at="";;){const lt=await fetchSmartCluster("/v1/chain/get_table_rows",{json:!0,code:"dovpvecontrl",scope:"dovpvecontrl",table:"sdivisions",limit:1e3,lower_bound:at});if(!lt.rows)break;for(let ut of lt.rows){let ft=ut.zone_id||ut.zoneID;if(parseFloat(ut.unlock_time||ut.end_time||0)>Date.now()/1e3&&SMART_ZONES_BIBLE[ft]){let vt=SMART_ZONES_BIBLE[ft];[17,18,19,20].includes(parseInt(ft))?st.cityBurn+=vt.cost:(ot.F+=vt.cost,ot.H+=vt.cost,ot.R+=vt.cost,ot.S+=vt.cost),st.mint+=vt.win}}if(!lt.more)break;at=lt.next_key}_e({prod:it,burn:ot,financial:st}),e("CALCUL GAP & PLANNING TERMIN")}catch(at){console.error(at),e("ERREUR SIMULATION")}_(!1)},nt=()=>{if(!b)return jsxRuntimeExports.jsx("div",{style:{padding:"20px",textAlign:"center",color:"#666"},children:"En attente de donnes..."});let{prod:it,burn:ot,financial:st}=b,at={F:it.F-ot.F,H:it.H-ot.H,R:it.R-ot.R,S:it.S-ot.S},lt={F:{n:"FUEL",p:CONFIG_PRIX.DOVF_WAX},H:{n:"HEALTH",p:CONFIG_PRIX.DOVH_WAX},R:{n:"REPAIR",p:CONFIG_PRIX.DOVR_WAX},S:{n:"SUPPLY",p:CONFIG_PRIX.DOVS_WAX}},ut=[],ft=[],mt=0,ht=5.4*24,vt=ht*.085;Object.keys(at).forEach(Bt=>{let Lt=at[Bt],jt=Lt<0;if(ut.push(jsxRuntimeExports.jsxs("div",{className:"gap-row",children:[jsxRuntimeExports.jsx("span",{children:lt[Bt].n}),jsxRuntimeExports.jsxs("span",{style:{color:"#888"},children:[fmt(it[Bt])," / ",fmt(ot[Bt])]}),jsxRuntimeExports.jsxs("span",{className:jt?"val-red":"val-green",children:[Lt>=0?"+":"",fmt(Lt)]})]},Bt)),jt){let Vt=Math.abs(Lt),Nt=Math.ceil(Vt/ht),kt=Nt*vt,_t=Vt*.085;mt+=kt,ft.push(jsxRuntimeExports.jsxs("div",{className:"gap-row",style:{borderColor:"var(--red)",display:"grid",gridTemplateColumns:"1fr 1fr 1fr",alignItems:"center"},children:[jsxRuntimeExports.jsxs("div",{style:{lineHeight:1.1},children:[jsxRuntimeExports.jsxs("span",{style:{color:"var(--red)",fontWeight:800,fontSize:"10px"},children:[lt[Bt].n," DEFICIT"]}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsxs("span",{style:{fontSize:"9px",color:"#666"},children:["GAP: -",fmt(Vt)]})]}),jsxRuntimeExports.jsxs("div",{style:{textAlign:"center"},children:[jsxRuntimeExports.jsxs("span",{style:{color:"#fff",fontWeight:"bold"},children:["BUILD ",Nt]}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("span",{style:{fontSize:"9px",color:"#444"},children:"COMMON UNITS"})]}),jsxRuntimeExports.jsxs("div",{style:{textAlign:"right",lineHeight:1.1},children:[jsxRuntimeExports.jsx("span",{style:{fontSize:"9px",color:"#666"},children:"COT PROD"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsxs("span",{style:{color:"var(--purple)",fontWeight:800,fontSize:"12px"},children:[fmt(_t)," DOVX"]})]})]},Bt))}else ft.push(jsxRuntimeExports.jsxs("div",{className:"gap-row",style:{borderColor:"var(--green)",opacity:.5},children:[jsxRuntimeExports.jsxs("span",{style:{color:"var(--green)"},children:[lt[Bt].n," SECURE"]}),jsxRuntimeExports.jsx("span",{children:"OK"}),jsxRuntimeExports.jsx("span",{children:"-"})]},Bt))});let Et=st.maintenance+st.cityBurn,At=Et+mt,Ct=st.mint-At,Mt=Ct>=0;return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"sim-grid",children:[jsxRuntimeExports.jsxs("div",{className:"data-panel",children:[jsxRuntimeExports.jsx("div",{className:"dp-head",children:jsxRuntimeExports.jsx("span",{className:"dp-title",style:{color:"var(--blue)"},children:"CURRENT SUPPLY / DEMAND"})}),jsxRuntimeExports.jsx("div",{style:{padding:"15px",fontFamily:"var(--font-num)"},children:ut})]}),jsxRuntimeExports.jsxs("div",{className:"data-panel",children:[jsxRuntimeExports.jsx("div",{className:"dp-head",children:jsxRuntimeExports.jsx("span",{className:"dp-title",style:{color:"var(--green)"},children:"CONSTRUCTION ORDERS"})}),jsxRuntimeExports.jsx("div",{style:{padding:"15px",fontFamily:"var(--font-num)"},children:ft})]})]}),jsxRuntimeExports.jsxs("div",{className:"sim-result",children:[jsxRuntimeExports.jsxs("h3",{style:{margin:"0 0 10px 0",color:"#fff",fontSize:"11px",textTransform:"uppercase",letterSpacing:"1px"},children:["COMPTE D'EXPLOITATION PRVISIONNEL ",jsxRuntimeExports.jsx("span",{style:{color:"#666"},children:"(DOVX / 24H)"})]}),jsxRuntimeExports.jsxs("div",{className:"dt-grid dt-header",style:{gridTemplateColumns:"1fr 1fr 1fr 1fr"},children:[jsxRuntimeExports.jsx("div",{className:"cell",children:"POSTE"}),jsxRuntimeExports.jsx("div",{className:"cell c-right",children:"CHARGES ACTUELLES"}),jsxRuntimeExports.jsx("div",{className:"cell c-right",children:"CHARGES ADD."}),jsxRuntimeExports.jsx("div",{className:"cell c-right",children:"RSULTAT NET"})]}),jsxRuntimeExports.jsxs("div",{className:"dt-grid dt-row",style:{gridTemplateColumns:"1fr 1fr 1fr 1fr"},children:[jsxRuntimeExports.jsx("div",{className:"cell",style:{color:"#fff",fontWeight:"bold"},children:"BALANCE OPRATIONNELLE"}),jsxRuntimeExports.jsxs("div",{className:"cell c-right",style:{color:"var(--purple)"},children:["-",fmt(Et)]}),jsxRuntimeExports.jsxs("div",{className:"cell c-right",style:{color:"var(--red)"},children:["-",fmt(mt)]}),jsxRuntimeExports.jsxs("div",{className:"cell c-right",style:{color:Mt?"var(--green)":"var(--red)",fontWeight:"bold"},children:[fmt(Ct)," ",jsxRuntimeExports.jsx("span",{style:{fontSize:"9px",color:"#666",fontWeight:"normal"},children:"DOVX"})]})]}),jsxRuntimeExports.jsx("div",{className:"rec-box",style:{marginTop:"15px",color:mt>0?"var(--red)":"var(--green)",borderColor:mt>0?"var(--red)":"var(--green)"},children:mt>0?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{style:{fontSize:"12px",marginBottom:"5px",textTransform:"uppercase"},children:" AVIS DE GESTION : DFICIT CAPACITAIRE IDENTIFI"}),jsxRuntimeExports.jsxs("div",{style:{color:"#ccc",fontWeight:"normal",fontSize:"10px",lineHeight:1.4},children:["L'QUILIBRE DU SPREAD NCESSITE UNE EXPANSION DU BFR (BESOIN EN FONDS DE ROULEMENT).",jsxRuntimeExports.jsx("br",{}),"IMPACT PRVISIONNEL SUR LA TRSORERIE : ",jsxRuntimeExports.jsxs("b",{style:{color:"#fff",fontSize:"11px"},children:["-",fmt(mt)," DOVX"]})," / JOUR."]})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{style:{fontSize:"12px",marginBottom:"5px",textTransform:"uppercase"},children:" AVIS DE GESTION : FLUX OPRATIONNELS STABILISS"}),jsxRuntimeExports.jsxs("div",{style:{color:"#ccc",fontWeight:"normal",fontSize:"10px",lineHeight:1.4},children:["CAPACIT DE PRODUCTION SUFFISANTE. AUCUN INVESTISSEMENT (CAPEX) REQUIS.",jsxRuntimeExports.jsx("br",{}),"LA MARGE D'AUTO-FINANCEMENT EST POSITIVE."]})]})})]})]})};return jsxRuntimeExports.jsxs("div",{id:"viewSim",className:"active-view",children:[jsxRuntimeExports.jsxs("div",{className:"dashboard-header",style:{borderLeft:"4px solid var(--yellow)"},children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"page-h1",style:{color:"var(--yellow)"},children:"WAR ROOM"}),jsxRuntimeExports.jsx("div",{className:"page-meta",children:"GAP & CAPACITY PLANNING"})]}),jsxRuntimeExports.jsx("div",{className:"sys-clock",children:jsxRuntimeExports.jsx("span",{className:"clock-copy"})})]}),jsxRuntimeExports.jsxs("div",{style:{marginBottom:"20px"},children:[jsxRuntimeExports.jsx("button",{className:"btn-yellow",style:{width:"250px",fontWeight:"bold"},onClick:tt,disabled:a,children:a?"CALCUL EN COURS...":"CALCULATE GAP & NEEDS"}),jsxRuntimeExports.jsx("span",{style:{fontSize:"10px",color:"#666",marginLeft:"10px"},children:o})]}),nt()]})},getLevenshtein=(o,e)=>{const a=[];for(let _=0;_<=e.length;_++)a[_]=[_];for(let _=0;_<=o.length;_++)a[0][_]=_;for(let _=1;_<=e.length;_++)for(let b=1;b<=o.length;b++)e.charAt(_-1)===o.charAt(b-1)?a[_][b]=a[_-1][b-1]:a[_][b]=Math.min(a[_-1][b-1]+1,Math.min(a[_][b-1]+1,a[_-1][b]+1));return a[e.length][o.length]},SybilView=({addLog:o,candidateList:e})=>{const[a,_]=reactExports.useState("PRT"),[b,_e]=reactExports.useState(50),[et,tt]=reactExports.useState(!1),[nt,it]=reactExports.useState(null),ot=async()=>{if(!e||e.length===0){alert("Aucun wallet  scanner. Lancez un scan Btiments ou Divisions d'abord !");return}if(tt(!0),_("INITIALISATION DU SCAN PROFOND..."),o&&o(`SYBIL: Starting deep scan on ${e.length} candidates...`),b>100&&!confirm("Scanner > 100 wallets peut prendre du temps. Continuer ?")){tt(!1);return}let at=e.slice(0,b),lt=[],ut=0;for(let ft of at){ut++,_(`ANALYSE WALLET ${ut} / ${at.length} : ${ft}`);let mt="Unknown",ht="None",vt=!1,Et=null;try{try{let At=await fetchHistoryCluster(`/v2/history/get_actions?account=${ft}&filter=eosio:newaccount&limit=1`);At&&At.actions.length>0&&(mt=At.actions[0].act.data.creator)}catch{mt="N/A"}try{let At=await fetchHistoryCluster(`/v2/history/get_actions?account=${ft}&filter=eosio.token:transfer&limit=20&sort=desc`);if(At&&At.actions){let Ct=At.actions.find(Mt=>Mt.act.data.from===ft);Ct&&(ht=Ct.act.data.to)}}catch{ht="Unknown"}vt=ht!=="None"&&!SYBIL_WHITELIST.includes(ht);for(let At of at)if(At!==ft&&Math.abs(ft.length-At.length)<3&&getLevenshtein(ft,At)<=2&&ft.length>5){Et=At;break}lt.push({target:ft,creator:mt,funnel:ht,isRiskFunnel:vt,similarTo:Et}),await new Promise(At=>setTimeout(At,600))}catch(At){console.log(At)}}st(lt),tt(!1),_("SCAN TERMIN."),o&&o("SYBIL: Scan complete.")},st=at=>{let lt={},ut=[],ft=[],mt=new Set;at.forEach(ht=>{if(ht.similarTo){let vt=ht.target.substring(0,5);lt[vt]||(lt[vt]=[]),lt[vt].push(ht),mt.add(ht.target)}}),at.forEach(ht=>{mt.has(ht.target)||(ht.isRiskFunnel?ut.push(ht):ft.push(ht))}),it({clusters:lt,risks:ut,safe:ft})};return jsxRuntimeExports.jsxs("div",{id:"viewSybil",className:"active-view",children:[jsxRuntimeExports.jsxs("div",{className:"dashboard-header",style:{borderLeft:"4px solid var(--red)"},children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"page-h1",style:{color:"var(--red)"},children:"SYBIL PRO"}),jsxRuntimeExports.jsx("div",{className:"page-meta",children:"THREAT INTELLIGENCE"})]}),jsxRuntimeExports.jsx("div",{className:"sys-clock",children:jsxRuntimeExports.jsx("span",{className:"clock-copy"})})]}),jsxRuntimeExports.jsxs("div",{className:"sybil-ctrl",children:[jsxRuntimeExports.jsx("div",{style:{color:"#fff",fontWeight:"bold",marginBottom:"5px"},children:"AUTOMATED SWEEP"}),jsxRuntimeExports.jsx("div",{style:{fontSize:"11px",color:"#ccc",marginBottom:"10px"},children:"Deep scan analysis based on detected wallets from Operations."}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[jsxRuntimeExports.jsxs("div",{style:{marginRight:"10px"},children:[jsxRuntimeExports.jsx("span",{className:"grp-lbl",style:{display:"block",marginBottom:"2px"},children:"LIMIT"}),jsxRuntimeExports.jsx("input",{type:"number",className:"scan-input",value:b,onChange:at=>_e(at.target.value),min:"5",max:"500"})]}),jsxRuntimeExports.jsx("button",{className:"btn-red",style:{height:"34px",marginTop:"12px"},onClick:ot,disabled:et,children:et?"SCANNING...":"LAUNCH SCAN"}),jsxRuntimeExports.jsx("div",{style:{color:"var(--orange)",fontFamily:"var(--font-num)",marginLeft:"15px",marginTop:"12px"},children:a})]}),(!e||e.length===0)&&jsxRuntimeExports.jsx("div",{style:{color:"var(--red)",marginTop:"10px",fontWeight:"bold",fontSize:"11px"},children:" ALERTE: Aucun wallet dans la base. Veuillez scanner les BTIMENTS ou DIVISIONS d'abord."})]}),jsxRuntimeExports.jsx("div",{id:"sybilResults",className:"sybil-res",children:nt&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[Object.keys(nt.clusters).length>0&&jsxRuntimeExports.jsxs("div",{className:"sybil-section",children:[jsxRuntimeExports.jsx("div",{className:"sybil-sec-title",children:" HIGH PRIORITY CLUSTERS"}),Object.keys(nt.clusters).map(at=>jsxRuntimeExports.jsxs("div",{className:"cluster-box",children:[jsxRuntimeExports.jsxs("div",{className:"cluster-head",children:[jsxRuntimeExports.jsxs("span",{children:["PATTERN: ",at.toUpperCase(),"..."]}),jsxRuntimeExports.jsxs("span",{children:[nt.clusters[at].length," WALLETS"]})]}),jsxRuntimeExports.jsx("div",{className:"cluster-body",children:nt.clusters[at].map((lt,ut)=>jsxRuntimeExports.jsxs("div",{className:"cluster-item",children:[jsxRuntimeExports.jsxs("div",{style:{width:"140px",fontWeight:"bold",color:"#fff"},children:[" ",lt.target]}),jsxRuntimeExports.jsxs("div",{style:{flex:1,textAlign:"right",color:"#888"},children:["To: ",jsxRuntimeExports.jsx("span",{style:{color:"var(--red)",fontWeight:"bold"},children:lt.funnel})]})]},ut))})]},at))]}),nt.risks.length>0&&jsxRuntimeExports.jsxs("div",{className:"sybil-section",children:[jsxRuntimeExports.jsx("div",{className:"sybil-sec-title",style:{color:"var(--orange)"},children:" SUSPICIOUS ACTIVITY"}),nt.risks.map((at,lt)=>jsxRuntimeExports.jsxs("div",{className:"risk-row",children:[jsxRuntimeExports.jsxs("span",{style:{width:"140px",fontWeight:"bold",color:"#fff"},children:[" ",at.target]}),jsxRuntimeExports.jsxs("span",{style:{color:"#666",fontSize:"9px"},children:["Creator: ",at.creator]}),jsxRuntimeExports.jsxs("span",{style:{color:"var(--red)"},children:["  ",at.funnel]})]},lt))]}),nt.safe.length>0&&jsxRuntimeExports.jsxs("div",{className:"sybil-section",children:[jsxRuntimeExports.jsxs("div",{className:"sybil-sec-title",style:{color:"var(--green)",borderColor:"#223322"},children:[" CLEARED (",nt.safe.length,")"]}),jsxRuntimeExports.jsx("div",{className:"safe-grid",children:nt.safe.map((at,lt)=>jsxRuntimeExports.jsx("div",{className:"safe-item",title:`Creator: ${at.creator}`,children:at.target},lt))})]})]})})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function round(o){return o+.5|0}const lim=(o,e,a)=>Math.max(Math.min(o,a),e);function p2b(o){return lim(round(o*2.55),0,255)}function n2b(o){return lim(round(o*255),0,255)}function b2n(o){return lim(round(o/2.55)/100,0,1)}function n2p(o){return lim(round(o*100),0,100)}const map$1={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},hex=[..."0123456789ABCDEF"],h1=o=>hex[o&15],h2=o=>hex[(o&240)>>4]+hex[o&15],eq=o=>(o&240)>>4===(o&15),isShort=o=>eq(o.r)&&eq(o.g)&&eq(o.b)&&eq(o.a);function hexParse(o){var e=o.length,a;return o[0]==="#"&&(e===4||e===5?a={r:255&map$1[o[1]]*17,g:255&map$1[o[2]]*17,b:255&map$1[o[3]]*17,a:e===5?map$1[o[4]]*17:255}:(e===7||e===9)&&(a={r:map$1[o[1]]<<4|map$1[o[2]],g:map$1[o[3]]<<4|map$1[o[4]],b:map$1[o[5]]<<4|map$1[o[6]],a:e===9?map$1[o[7]]<<4|map$1[o[8]]:255})),a}const alpha=(o,e)=>o<255?e(o):"";function hexString(o){var e=isShort(o)?h1:h2;return o?"#"+e(o.r)+e(o.g)+e(o.b)+alpha(o.a,e):void 0}const HUE_RE=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function hsl2rgbn(o,e,a){const _=e*Math.min(a,1-a),b=(_e,et=(_e+o/30)%12)=>a-_*Math.max(Math.min(et-3,9-et,1),-1);return[b(0),b(8),b(4)]}function hsv2rgbn(o,e,a){const _=(b,_e=(b+o/60)%6)=>a-a*e*Math.max(Math.min(_e,4-_e,1),0);return[_(5),_(3),_(1)]}function hwb2rgbn(o,e,a){const _=hsl2rgbn(o,1,.5);let b;for(e+a>1&&(b=1/(e+a),e*=b,a*=b),b=0;b<3;b++)_[b]*=1-e-a,_[b]+=e;return _}function hueValue(o,e,a,_,b){return o===b?(e-a)/_+(e<a?6:0):e===b?(a-o)/_+2:(o-e)/_+4}function rgb2hsl(o){const a=o.r/255,_=o.g/255,b=o.b/255,_e=Math.max(a,_,b),et=Math.min(a,_,b),tt=(_e+et)/2;let nt,it,ot;return _e!==et&&(ot=_e-et,it=tt>.5?ot/(2-_e-et):ot/(_e+et),nt=hueValue(a,_,b,ot,_e),nt=nt*60+.5),[nt|0,it||0,tt]}function calln(o,e,a,_){return(Array.isArray(e)?o(e[0],e[1],e[2]):o(e,a,_)).map(n2b)}function hsl2rgb(o,e,a){return calln(hsl2rgbn,o,e,a)}function hwb2rgb(o,e,a){return calln(hwb2rgbn,o,e,a)}function hsv2rgb(o,e,a){return calln(hsv2rgbn,o,e,a)}function hue(o){return(o%360+360)%360}function hueParse(o){const e=HUE_RE.exec(o);let a=255,_;if(!e)return;e[5]!==_&&(a=e[6]?p2b(+e[5]):n2b(+e[5]));const b=hue(+e[2]),_e=+e[3]/100,et=+e[4]/100;return e[1]==="hwb"?_=hwb2rgb(b,_e,et):e[1]==="hsv"?_=hsv2rgb(b,_e,et):_=hsl2rgb(b,_e,et),{r:_[0],g:_[1],b:_[2],a}}function rotate(o,e){var a=rgb2hsl(o);a[0]=hue(a[0]+e),a=hsl2rgb(a),o.r=a[0],o.g=a[1],o.b=a[2]}function hslString(o){if(!o)return;const e=rgb2hsl(o),a=e[0],_=n2p(e[1]),b=n2p(e[2]);return o.a<255?`hsla(${a}, ${_}%, ${b}%, ${b2n(o.a)})`:`hsl(${a}, ${_}%, ${b}%)`}const map={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},names$1={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function unpack(){const o={},e=Object.keys(names$1),a=Object.keys(map);let _,b,_e,et,tt;for(_=0;_<e.length;_++){for(et=tt=e[_],b=0;b<a.length;b++)_e=a[b],tt=tt.replace(_e,map[_e]);_e=parseInt(names$1[et],16),o[tt]=[_e>>16&255,_e>>8&255,_e&255]}return o}let names;function nameParse(o){names||(names=unpack(),names.transparent=[0,0,0,0]);const e=names[o.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const RGB_RE=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function rgbParse(o){const e=RGB_RE.exec(o);let a=255,_,b,_e;if(e){if(e[7]!==_){const et=+e[7];a=e[8]?p2b(et):lim(et*255,0,255)}return _=+e[1],b=+e[3],_e=+e[5],_=255&(e[2]?p2b(_):lim(_,0,255)),b=255&(e[4]?p2b(b):lim(b,0,255)),_e=255&(e[6]?p2b(_e):lim(_e,0,255)),{r:_,g:b,b:_e,a}}}function rgbString(o){return o&&(o.a<255?`rgba(${o.r}, ${o.g}, ${o.b}, ${b2n(o.a)})`:`rgb(${o.r}, ${o.g}, ${o.b})`)}const to=o=>o<=.0031308?o*12.92:Math.pow(o,1/2.4)*1.055-.055,from=o=>o<=.04045?o/12.92:Math.pow((o+.055)/1.055,2.4);function interpolate$1(o,e,a){const _=from(b2n(o.r)),b=from(b2n(o.g)),_e=from(b2n(o.b));return{r:n2b(to(_+a*(from(b2n(e.r))-_))),g:n2b(to(b+a*(from(b2n(e.g))-b))),b:n2b(to(_e+a*(from(b2n(e.b))-_e))),a:o.a+a*(e.a-o.a)}}function modHSL(o,e,a){if(o){let _=rgb2hsl(o);_[e]=Math.max(0,Math.min(_[e]+_[e]*a,e===0?360:1)),_=hsl2rgb(_),o.r=_[0],o.g=_[1],o.b=_[2]}}function clone$1(o,e){return o&&Object.assign(e||{},o)}function fromObject(o){var e={r:0,g:0,b:0,a:255};return Array.isArray(o)?o.length>=3&&(e={r:o[0],g:o[1],b:o[2],a:255},o.length>3&&(e.a=n2b(o[3]))):(e=clone$1(o,{r:0,g:0,b:0,a:1}),e.a=n2b(e.a)),e}function functionParse(o){return o.charAt(0)==="r"?rgbParse(o):hueParse(o)}class Color{constructor(e){if(e instanceof Color)return e;const a=typeof e;let _;a==="object"?_=fromObject(e):a==="string"&&(_=hexParse(e)||nameParse(e)||functionParse(e)),this._rgb=_,this._valid=!!_}get valid(){return this._valid}get rgb(){var e=clone$1(this._rgb);return e&&(e.a=b2n(e.a)),e}set rgb(e){this._rgb=fromObject(e)}rgbString(){return this._valid?rgbString(this._rgb):void 0}hexString(){return this._valid?hexString(this._rgb):void 0}hslString(){return this._valid?hslString(this._rgb):void 0}mix(e,a){if(e){const _=this.rgb,b=e.rgb;let _e;const et=a===_e?.5:a,tt=2*et-1,nt=_.a-b.a,it=((tt*nt===-1?tt:(tt+nt)/(1+tt*nt))+1)/2;_e=1-it,_.r=255&it*_.r+_e*b.r+.5,_.g=255&it*_.g+_e*b.g+.5,_.b=255&it*_.b+_e*b.b+.5,_.a=et*_.a+(1-et)*b.a,this.rgb=_}return this}interpolate(e,a){return e&&(this._rgb=interpolate$1(this._rgb,e._rgb,a)),this}clone(){return new Color(this.rgb)}alpha(e){return this._rgb.a=n2b(e),this}clearer(e){const a=this._rgb;return a.a*=1-e,this}greyscale(){const e=this._rgb,a=round(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=a,this}opaquer(e){const a=this._rgb;return a.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return modHSL(this._rgb,2,e),this}darken(e){return modHSL(this._rgb,2,-e),this}saturate(e){return modHSL(this._rgb,1,e),this}desaturate(e){return modHSL(this._rgb,1,-e),this}rotate(e){return rotate(this._rgb,e),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function noop(){}const uid=(()=>{let o=0;return()=>o++})();function isNullOrUndef(o){return o==null}function isArray(o){if(Array.isArray&&Array.isArray(o))return!0;const e=Object.prototype.toString.call(o);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function isObject(o){return o!==null&&Object.prototype.toString.call(o)==="[object Object]"}function isNumberFinite(o){return(typeof o=="number"||o instanceof Number)&&isFinite(+o)}function finiteOrDefault(o,e){return isNumberFinite(o)?o:e}function valueOrDefault(o,e){return typeof o>"u"?e:o}const toDimension=(o,e)=>typeof o=="string"&&o.endsWith("%")?parseFloat(o)/100*e:+o;function callback(o,e,a){if(o&&typeof o.call=="function")return o.apply(a,e)}function each(o,e,a,_){let b,_e,et;if(isArray(o))for(_e=o.length,b=0;b<_e;b++)e.call(a,o[b],b);else if(isObject(o))for(et=Object.keys(o),_e=et.length,b=0;b<_e;b++)e.call(a,o[et[b]],et[b])}function _elementsEqual(o,e){let a,_,b,_e;if(!o||!e||o.length!==e.length)return!1;for(a=0,_=o.length;a<_;++a)if(b=o[a],_e=e[a],b.datasetIndex!==_e.datasetIndex||b.index!==_e.index)return!1;return!0}function clone(o){if(isArray(o))return o.map(clone);if(isObject(o)){const e=Object.create(null),a=Object.keys(o),_=a.length;let b=0;for(;b<_;++b)e[a[b]]=clone(o[a[b]]);return e}return o}function isValidKey(o){return["__proto__","prototype","constructor"].indexOf(o)===-1}function _merger(o,e,a,_){if(!isValidKey(o))return;const b=e[o],_e=a[o];isObject(b)&&isObject(_e)?merge(b,_e,_):e[o]=clone(_e)}function merge(o,e,a){const _=isArray(e)?e:[e],b=_.length;if(!isObject(o))return o;a=a||{};const _e=a.merger||_merger;let et;for(let tt=0;tt<b;++tt){if(et=_[tt],!isObject(et))continue;const nt=Object.keys(et);for(let it=0,ot=nt.length;it<ot;++it)_e(nt[it],o,et,a)}return o}function mergeIf(o,e){return merge(o,e,{merger:_mergerIf})}function _mergerIf(o,e,a){if(!isValidKey(o))return;const _=e[o],b=a[o];isObject(_)&&isObject(b)?mergeIf(_,b):Object.prototype.hasOwnProperty.call(e,o)||(e[o]=clone(b))}const keyResolvers={"":o=>o,x:o=>o.x,y:o=>o.y};function _splitKey(o){const e=o.split("."),a=[];let _="";for(const b of e)_+=b,_.endsWith("\\")?_=_.slice(0,-1)+".":(a.push(_),_="");return a}function _getKeyResolver(o){const e=_splitKey(o);return a=>{for(const _ of e){if(_==="")break;a=a&&a[_]}return a}}function resolveObjectKey(o,e){return(keyResolvers[e]||(keyResolvers[e]=_getKeyResolver(e)))(o)}function _capitalize(o){return o.charAt(0).toUpperCase()+o.slice(1)}const defined=o=>typeof o<"u",isFunction=o=>typeof o=="function",setsEqual=(o,e)=>{if(o.size!==e.size)return!1;for(const a of o)if(!e.has(a))return!1;return!0};function _isClickEvent(o){return o.type==="mouseup"||o.type==="click"||o.type==="contextmenu"}const PI=Math.PI,TAU=2*PI,PITAU=TAU+PI,INFINITY=Number.POSITIVE_INFINITY,RAD_PER_DEG=PI/180,HALF_PI=PI/2,QUARTER_PI=PI/4,TWO_THIRDS_PI=PI*2/3,log10=Math.log10,sign=Math.sign;function almostEquals(o,e,a){return Math.abs(o-e)<a}function niceNum(o){const e=Math.round(o);o=almostEquals(o,e,o/1e3)?e:o;const a=Math.pow(10,Math.floor(log10(o))),_=o/a;return(_<=1?1:_<=2?2:_<=5?5:10)*a}function _factorize(o){const e=[],a=Math.sqrt(o);let _;for(_=1;_<a;_++)o%_===0&&(e.push(_),e.push(o/_));return a===(a|0)&&e.push(a),e.sort((b,_e)=>b-_e).pop(),e}function isNonPrimitive(o){return typeof o=="symbol"||typeof o=="object"&&o!==null&&!(Symbol.toPrimitive in o||"toString"in o||"valueOf"in o)}function isNumber(o){return!isNonPrimitive(o)&&!isNaN(parseFloat(o))&&isFinite(o)}function almostWhole(o,e){const a=Math.round(o);return a-e<=o&&a+e>=o}function _setMinAndMaxByKey(o,e,a){let _,b,_e;for(_=0,b=o.length;_<b;_++)_e=o[_][a],isNaN(_e)||(e.min=Math.min(e.min,_e),e.max=Math.max(e.max,_e))}function toRadians(o){return o*(PI/180)}function toDegrees(o){return o*(180/PI)}function _decimalPlaces(o){if(!isNumberFinite(o))return;let e=1,a=0;for(;Math.round(o*e)/e!==o;)e*=10,a++;return a}function getAngleFromPoint(o,e){const a=e.x-o.x,_=e.y-o.y,b=Math.sqrt(a*a+_*_);let _e=Math.atan2(_,a);return _e<-.5*PI&&(_e+=TAU),{angle:_e,distance:b}}function distanceBetweenPoints(o,e){return Math.sqrt(Math.pow(e.x-o.x,2)+Math.pow(e.y-o.y,2))}function _angleDiff(o,e){return(o-e+PITAU)%TAU-PI}function _normalizeAngle(o){return(o%TAU+TAU)%TAU}function _angleBetween(o,e,a,_){const b=_normalizeAngle(o),_e=_normalizeAngle(e),et=_normalizeAngle(a),tt=_normalizeAngle(_e-b),nt=_normalizeAngle(et-b),it=_normalizeAngle(b-_e),ot=_normalizeAngle(b-et);return b===_e||b===et||_&&_e===et||tt>nt&&it<ot}function _limitValue(o,e,a){return Math.max(e,Math.min(a,o))}function _int16Range(o){return _limitValue(o,-32768,32767)}function _isBetween(o,e,a,_=1e-6){return o>=Math.min(e,a)-_&&o<=Math.max(e,a)+_}function _lookup(o,e,a){a=a||(et=>o[et]<e);let _=o.length-1,b=0,_e;for(;_-b>1;)_e=b+_>>1,a(_e)?b=_e:_=_e;return{lo:b,hi:_}}const _lookupByKey=(o,e,a,_)=>_lookup(o,a,_?b=>{const _e=o[b][e];return _e<a||_e===a&&o[b+1][e]===a}:b=>o[b][e]<a),_rlookupByKey=(o,e,a)=>_lookup(o,a,_=>o[_][e]>=a);function _filterBetween(o,e,a){let _=0,b=o.length;for(;_<b&&o[_]<e;)_++;for(;b>_&&o[b-1]>a;)b--;return _>0||b<o.length?o.slice(_,b):o}const arrayEvents=["push","pop","shift","splice","unshift"];function listenArrayEvents(o,e){if(o._chartjs){o._chartjs.listeners.push(e);return}Object.defineProperty(o,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),arrayEvents.forEach(a=>{const _="_onData"+_capitalize(a),b=o[a];Object.defineProperty(o,a,{configurable:!0,enumerable:!1,value(..._e){const et=b.apply(this,_e);return o._chartjs.listeners.forEach(tt=>{typeof tt[_]=="function"&&tt[_](..._e)}),et}})})}function unlistenArrayEvents(o,e){const a=o._chartjs;if(!a)return;const _=a.listeners,b=_.indexOf(e);b!==-1&&_.splice(b,1),!(_.length>0)&&(arrayEvents.forEach(_e=>{delete o[_e]}),delete o._chartjs)}function _arrayUnique(o){const e=new Set(o);return e.size===o.length?o:Array.from(e)}const requestAnimFrame=function(){return typeof window>"u"?function(o){return o()}:window.requestAnimationFrame}();function throttled(o,e){let a=[],_=!1;return function(...b){a=b,_||(_=!0,requestAnimFrame.call(window,()=>{_=!1,o.apply(e,a)}))}}function debounce(o,e){let a;return function(..._){return e?(clearTimeout(a),a=setTimeout(o,e,_)):o.apply(this,_),e}}const _toLeftRightCenter=o=>o==="start"?"left":o==="end"?"right":"center",_alignStartEnd=(o,e,a)=>o==="start"?e:o==="end"?a:(e+a)/2,_textX=(o,e,a,_)=>o===(_?"left":"right")?a:o==="center"?(e+a)/2:e;function _getStartAndCountOfVisiblePoints(o,e,a){const _=e.length;let b=0,_e=_;if(o._sorted){const{iScale:et,vScale:tt,_parsed:nt}=o,it=o.dataset&&o.dataset.options?o.dataset.options.spanGaps:null,ot=et.axis,{min:st,max:at,minDefined:lt,maxDefined:ut}=et.getUserBounds();if(lt){if(b=Math.min(_lookupByKey(nt,ot,st).lo,a?_:_lookupByKey(e,ot,et.getPixelForValue(st)).lo),it){const ft=nt.slice(0,b+1).reverse().findIndex(mt=>!isNullOrUndef(mt[tt.axis]));b-=Math.max(0,ft)}b=_limitValue(b,0,_-1)}if(ut){let ft=Math.max(_lookupByKey(nt,et.axis,at,!0).hi+1,a?0:_lookupByKey(e,ot,et.getPixelForValue(at),!0).hi+1);if(it){const mt=nt.slice(ft-1).findIndex(ht=>!isNullOrUndef(ht[tt.axis]));ft+=Math.max(0,mt)}_e=_limitValue(ft,b,_)-b}else _e=_-b}return{start:b,count:_e}}function _scaleRangesChanged(o){const{xScale:e,yScale:a,_scaleRanges:_}=o,b={xmin:e.min,xmax:e.max,ymin:a.min,ymax:a.max};if(!_)return o._scaleRanges=b,!0;const _e=_.xmin!==e.min||_.xmax!==e.max||_.ymin!==a.min||_.ymax!==a.max;return Object.assign(_,b),_e}const atEdge=o=>o===0||o===1,elasticIn=(o,e,a)=>-(Math.pow(2,10*(o-=1))*Math.sin((o-e)*TAU/a)),elasticOut=(o,e,a)=>Math.pow(2,-10*o)*Math.sin((o-e)*TAU/a)+1,effects={linear:o=>o,easeInQuad:o=>o*o,easeOutQuad:o=>-o*(o-2),easeInOutQuad:o=>(o/=.5)<1?.5*o*o:-.5*(--o*(o-2)-1),easeInCubic:o=>o*o*o,easeOutCubic:o=>(o-=1)*o*o+1,easeInOutCubic:o=>(o/=.5)<1?.5*o*o*o:.5*((o-=2)*o*o+2),easeInQuart:o=>o*o*o*o,easeOutQuart:o=>-((o-=1)*o*o*o-1),easeInOutQuart:o=>(o/=.5)<1?.5*o*o*o*o:-.5*((o-=2)*o*o*o-2),easeInQuint:o=>o*o*o*o*o,easeOutQuint:o=>(o-=1)*o*o*o*o+1,easeInOutQuint:o=>(o/=.5)<1?.5*o*o*o*o*o:.5*((o-=2)*o*o*o*o+2),easeInSine:o=>-Math.cos(o*HALF_PI)+1,easeOutSine:o=>Math.sin(o*HALF_PI),easeInOutSine:o=>-.5*(Math.cos(PI*o)-1),easeInExpo:o=>o===0?0:Math.pow(2,10*(o-1)),easeOutExpo:o=>o===1?1:-Math.pow(2,-10*o)+1,easeInOutExpo:o=>atEdge(o)?o:o<.5?.5*Math.pow(2,10*(o*2-1)):.5*(-Math.pow(2,-10*(o*2-1))+2),easeInCirc:o=>o>=1?o:-(Math.sqrt(1-o*o)-1),easeOutCirc:o=>Math.sqrt(1-(o-=1)*o),easeInOutCirc:o=>(o/=.5)<1?-.5*(Math.sqrt(1-o*o)-1):.5*(Math.sqrt(1-(o-=2)*o)+1),easeInElastic:o=>atEdge(o)?o:elasticIn(o,.075,.3),easeOutElastic:o=>atEdge(o)?o:elasticOut(o,.075,.3),easeInOutElastic(o){return atEdge(o)?o:o<.5?.5*elasticIn(o*2,.1125,.45):.5+.5*elasticOut(o*2-1,.1125,.45)},easeInBack(o){return o*o*((1.70158+1)*o-1.70158)},easeOutBack(o){return(o-=1)*o*((1.70158+1)*o+1.70158)+1},easeInOutBack(o){let e=1.70158;return(o/=.5)<1?.5*(o*o*(((e*=1.525)+1)*o-e)):.5*((o-=2)*o*(((e*=1.525)+1)*o+e)+2)},easeInBounce:o=>1-effects.easeOutBounce(1-o),easeOutBounce(o){return o<1/2.75?7.5625*o*o:o<2/2.75?7.5625*(o-=1.5/2.75)*o+.75:o<2.5/2.75?7.5625*(o-=2.25/2.75)*o+.9375:7.5625*(o-=2.625/2.75)*o+.984375},easeInOutBounce:o=>o<.5?effects.easeInBounce(o*2)*.5:effects.easeOutBounce(o*2-1)*.5+.5};function isPatternOrGradient(o){if(o&&typeof o=="object"){const e=o.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function color(o){return isPatternOrGradient(o)?o:new Color(o)}function getHoverColor(o){return isPatternOrGradient(o)?o:new Color(o).saturate(.5).darken(.1).hexString()}const numbers=["x","y","borderWidth","radius","tension"],colors=["color","borderColor","backgroundColor"];function applyAnimationsDefaults(o){o.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),o.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),o.set("animations",{colors:{type:"color",properties:colors},numbers:{type:"number",properties:numbers}}),o.describe("animations",{_fallback:"animation"}),o.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function applyLayoutsDefaults(o){o.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const intlCache=new Map;function getNumberFormat(o,e){e=e||{};const a=o+JSON.stringify(e);let _=intlCache.get(a);return _||(_=new Intl.NumberFormat(o,e),intlCache.set(a,_)),_}function formatNumber(o,e,a){return getNumberFormat(e,a).format(o)}const formatters={values(o){return isArray(o)?o:""+o},numeric(o,e,a){if(o===0)return"0";const _=this.chart.options.locale;let b,_e=o;if(a.length>1){const it=Math.max(Math.abs(a[0].value),Math.abs(a[a.length-1].value));(it<1e-4||it>1e15)&&(b="scientific"),_e=calculateDelta(o,a)}const et=log10(Math.abs(_e)),tt=isNaN(et)?1:Math.max(Math.min(-1*Math.floor(et),20),0),nt={notation:b,minimumFractionDigits:tt,maximumFractionDigits:tt};return Object.assign(nt,this.options.ticks.format),formatNumber(o,_,nt)}};function calculateDelta(o,e){let a=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(a)>=1&&o!==Math.floor(o)&&(a=o-Math.floor(o)),a}var Ticks={formatters};function applyScaleDefaults(o){o.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,a)=>a.lineWidth,tickColor:(e,a)=>a.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Ticks.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),o.route("scale.ticks","color","","color"),o.route("scale.grid","color","","borderColor"),o.route("scale.border","color","","borderColor"),o.route("scale.title","color","","color"),o.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),o.describe("scales",{_fallback:"scale"}),o.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const overrides=Object.create(null),descriptors=Object.create(null);function getScope$1(o,e){if(!e)return o;const a=e.split(".");for(let _=0,b=a.length;_<b;++_){const _e=a[_];o=o[_e]||(o[_e]=Object.create(null))}return o}function set(o,e,a){return typeof e=="string"?merge(getScope$1(o,e),a):merge(getScope$1(o,""),e)}class Defaults{constructor(e,a){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=_=>_.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(_,b)=>getHoverColor(b.backgroundColor),this.hoverBorderColor=(_,b)=>getHoverColor(b.borderColor),this.hoverColor=(_,b)=>getHoverColor(b.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(a)}set(e,a){return set(this,e,a)}get(e){return getScope$1(this,e)}describe(e,a){return set(descriptors,e,a)}override(e,a){return set(overrides,e,a)}route(e,a,_,b){const _e=getScope$1(this,e),et=getScope$1(this,_),tt="_"+a;Object.defineProperties(_e,{[tt]:{value:_e[a],writable:!0},[a]:{enumerable:!0,get(){const nt=this[tt],it=et[b];return isObject(nt)?Object.assign({},it,nt):valueOrDefault(nt,it)},set(nt){this[tt]=nt}}})}apply(e){e.forEach(a=>a(this))}}var defaults=new Defaults({_scriptable:o=>!o.startsWith("on"),_indexable:o=>o!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[applyAnimationsDefaults,applyLayoutsDefaults,applyScaleDefaults]);function toFontString(o){return!o||isNullOrUndef(o.size)||isNullOrUndef(o.family)?null:(o.style?o.style+" ":"")+(o.weight?o.weight+" ":"")+o.size+"px "+o.family}function _measureText(o,e,a,_,b){let _e=e[b];return _e||(_e=e[b]=o.measureText(b).width,a.push(b)),_e>_&&(_=_e),_}function _alignPixel(o,e,a){const _=o.currentDevicePixelRatio,b=a!==0?Math.max(a/2,.5):0;return Math.round((e-b)*_)/_+b}function clearCanvas(o,e){!e&&!o||(e=e||o.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,o.width,o.height),e.restore())}function drawPoint(o,e,a,_){drawPointLegend(o,e,a,_,null)}function drawPointLegend(o,e,a,_,b){let _e,et,tt,nt,it,ot,st,at;const lt=e.pointStyle,ut=e.rotation,ft=e.radius;let mt=(ut||0)*RAD_PER_DEG;if(lt&&typeof lt=="object"&&(_e=lt.toString(),_e==="[object HTMLImageElement]"||_e==="[object HTMLCanvasElement]")){o.save(),o.translate(a,_),o.rotate(mt),o.drawImage(lt,-lt.width/2,-lt.height/2,lt.width,lt.height),o.restore();return}if(!(isNaN(ft)||ft<=0)){switch(o.beginPath(),lt){default:b?o.ellipse(a,_,b/2,ft,0,0,TAU):o.arc(a,_,ft,0,TAU),o.closePath();break;case"triangle":ot=b?b/2:ft,o.moveTo(a+Math.sin(mt)*ot,_-Math.cos(mt)*ft),mt+=TWO_THIRDS_PI,o.lineTo(a+Math.sin(mt)*ot,_-Math.cos(mt)*ft),mt+=TWO_THIRDS_PI,o.lineTo(a+Math.sin(mt)*ot,_-Math.cos(mt)*ft),o.closePath();break;case"rectRounded":it=ft*.516,nt=ft-it,et=Math.cos(mt+QUARTER_PI)*nt,st=Math.cos(mt+QUARTER_PI)*(b?b/2-it:nt),tt=Math.sin(mt+QUARTER_PI)*nt,at=Math.sin(mt+QUARTER_PI)*(b?b/2-it:nt),o.arc(a-st,_-tt,it,mt-PI,mt-HALF_PI),o.arc(a+at,_-et,it,mt-HALF_PI,mt),o.arc(a+st,_+tt,it,mt,mt+HALF_PI),o.arc(a-at,_+et,it,mt+HALF_PI,mt+PI),o.closePath();break;case"rect":if(!ut){nt=Math.SQRT1_2*ft,ot=b?b/2:nt,o.rect(a-ot,_-nt,2*ot,2*nt);break}mt+=QUARTER_PI;case"rectRot":st=Math.cos(mt)*(b?b/2:ft),et=Math.cos(mt)*ft,tt=Math.sin(mt)*ft,at=Math.sin(mt)*(b?b/2:ft),o.moveTo(a-st,_-tt),o.lineTo(a+at,_-et),o.lineTo(a+st,_+tt),o.lineTo(a-at,_+et),o.closePath();break;case"crossRot":mt+=QUARTER_PI;case"cross":st=Math.cos(mt)*(b?b/2:ft),et=Math.cos(mt)*ft,tt=Math.sin(mt)*ft,at=Math.sin(mt)*(b?b/2:ft),o.moveTo(a-st,_-tt),o.lineTo(a+st,_+tt),o.moveTo(a+at,_-et),o.lineTo(a-at,_+et);break;case"star":st=Math.cos(mt)*(b?b/2:ft),et=Math.cos(mt)*ft,tt=Math.sin(mt)*ft,at=Math.sin(mt)*(b?b/2:ft),o.moveTo(a-st,_-tt),o.lineTo(a+st,_+tt),o.moveTo(a+at,_-et),o.lineTo(a-at,_+et),mt+=QUARTER_PI,st=Math.cos(mt)*(b?b/2:ft),et=Math.cos(mt)*ft,tt=Math.sin(mt)*ft,at=Math.sin(mt)*(b?b/2:ft),o.moveTo(a-st,_-tt),o.lineTo(a+st,_+tt),o.moveTo(a+at,_-et),o.lineTo(a-at,_+et);break;case"line":et=b?b/2:Math.cos(mt)*ft,tt=Math.sin(mt)*ft,o.moveTo(a-et,_-tt),o.lineTo(a+et,_+tt);break;case"dash":o.moveTo(a,_),o.lineTo(a+Math.cos(mt)*(b?b/2:ft),_+Math.sin(mt)*ft);break;case!1:o.closePath();break}o.fill(),e.borderWidth>0&&o.stroke()}}function _isPointInArea(o,e,a){return a=a||.5,!e||o&&o.x>e.left-a&&o.x<e.right+a&&o.y>e.top-a&&o.y<e.bottom+a}function clipArea(o,e){o.save(),o.beginPath(),o.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),o.clip()}function unclipArea(o){o.restore()}function _steppedLineTo(o,e,a,_,b){if(!e)return o.lineTo(a.x,a.y);if(b==="middle"){const _e=(e.x+a.x)/2;o.lineTo(_e,e.y),o.lineTo(_e,a.y)}else b==="after"!=!!_?o.lineTo(e.x,a.y):o.lineTo(a.x,e.y);o.lineTo(a.x,a.y)}function _bezierCurveTo(o,e,a,_){if(!e)return o.lineTo(a.x,a.y);o.bezierCurveTo(_?e.cp1x:e.cp2x,_?e.cp1y:e.cp2y,_?a.cp2x:a.cp1x,_?a.cp2y:a.cp1y,a.x,a.y)}function setRenderOpts(o,e){e.translation&&o.translate(e.translation[0],e.translation[1]),isNullOrUndef(e.rotation)||o.rotate(e.rotation),e.color&&(o.fillStyle=e.color),e.textAlign&&(o.textAlign=e.textAlign),e.textBaseline&&(o.textBaseline=e.textBaseline)}function decorateText(o,e,a,_,b){if(b.strikethrough||b.underline){const _e=o.measureText(_),et=e-_e.actualBoundingBoxLeft,tt=e+_e.actualBoundingBoxRight,nt=a-_e.actualBoundingBoxAscent,it=a+_e.actualBoundingBoxDescent,ot=b.strikethrough?(nt+it)/2:it;o.strokeStyle=o.fillStyle,o.beginPath(),o.lineWidth=b.decorationWidth||2,o.moveTo(et,ot),o.lineTo(tt,ot),o.stroke()}}function drawBackdrop(o,e){const a=o.fillStyle;o.fillStyle=e.color,o.fillRect(e.left,e.top,e.width,e.height),o.fillStyle=a}function renderText(o,e,a,_,b,_e={}){const et=isArray(e)?e:[e],tt=_e.strokeWidth>0&&_e.strokeColor!=="";let nt,it;for(o.save(),o.font=b.string,setRenderOpts(o,_e),nt=0;nt<et.length;++nt)it=et[nt],_e.backdrop&&drawBackdrop(o,_e.backdrop),tt&&(_e.strokeColor&&(o.strokeStyle=_e.strokeColor),isNullOrUndef(_e.strokeWidth)||(o.lineWidth=_e.strokeWidth),o.strokeText(it,a,_,_e.maxWidth)),o.fillText(it,a,_,_e.maxWidth),decorateText(o,a,_,it,_e),_+=Number(b.lineHeight);o.restore()}function addRoundedRectPath(o,e){const{x:a,y:_,w:b,h:_e,radius:et}=e;o.arc(a+et.topLeft,_+et.topLeft,et.topLeft,1.5*PI,PI,!0),o.lineTo(a,_+_e-et.bottomLeft),o.arc(a+et.bottomLeft,_+_e-et.bottomLeft,et.bottomLeft,PI,HALF_PI,!0),o.lineTo(a+b-et.bottomRight,_+_e),o.arc(a+b-et.bottomRight,_+_e-et.bottomRight,et.bottomRight,HALF_PI,0,!0),o.lineTo(a+b,_+et.topRight),o.arc(a+b-et.topRight,_+et.topRight,et.topRight,0,-HALF_PI,!0),o.lineTo(a+et.topLeft,_)}const LINE_HEIGHT=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,FONT_STYLE=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function toLineHeight(o,e){const a=(""+o).match(LINE_HEIGHT);if(!a||a[1]==="normal")return e*1.2;switch(o=+a[2],a[3]){case"px":return o;case"%":o/=100;break}return e*o}const numberOrZero=o=>+o||0;function _readValueToProps(o,e){const a={},_=isObject(e),b=_?Object.keys(e):e,_e=isObject(o)?_?et=>valueOrDefault(o[et],o[e[et]]):et=>o[et]:()=>o;for(const et of b)a[et]=numberOrZero(_e(et));return a}function toTRBL(o){return _readValueToProps(o,{top:"y",right:"x",bottom:"y",left:"x"})}function toTRBLCorners(o){return _readValueToProps(o,["topLeft","topRight","bottomLeft","bottomRight"])}function toPadding(o){const e=toTRBL(o);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function toFont(o,e){o=o||{},e=e||defaults.font;let a=valueOrDefault(o.size,e.size);typeof a=="string"&&(a=parseInt(a,10));let _=valueOrDefault(o.style,e.style);_&&!(""+_).match(FONT_STYLE)&&(console.warn('Invalid font style specified: "'+_+'"'),_=void 0);const b={family:valueOrDefault(o.family,e.family),lineHeight:toLineHeight(valueOrDefault(o.lineHeight,e.lineHeight),a),size:a,style:_,weight:valueOrDefault(o.weight,e.weight),string:""};return b.string=toFontString(b),b}function resolve(o,e,a,_){let b,_e,et;for(b=0,_e=o.length;b<_e;++b)if(et=o[b],et!==void 0&&et!==void 0)return et}function _addGrace(o,e,a){const{min:_,max:b}=o,_e=toDimension(e,(b-_)/2),et=(tt,nt)=>a&&tt===0?0:tt+nt;return{min:et(_,-Math.abs(_e)),max:et(b,_e)}}function createContext(o,e){return Object.assign(Object.create(o),e)}function _createResolver(o,e=[""],a,_,b=()=>o[0]){const _e=a||o;typeof _>"u"&&(_=_resolve("_fallback",o));const et={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:o,_rootScopes:_e,_fallback:_,_getTarget:b,override:tt=>_createResolver([tt,...o],e,_e,_)};return new Proxy(et,{deleteProperty(tt,nt){return delete tt[nt],delete tt._keys,delete o[0][nt],!0},get(tt,nt){return _cached(tt,nt,()=>_resolveWithPrefixes(nt,e,o,tt))},getOwnPropertyDescriptor(tt,nt){return Reflect.getOwnPropertyDescriptor(tt._scopes[0],nt)},getPrototypeOf(){return Reflect.getPrototypeOf(o[0])},has(tt,nt){return getKeysFromAllScopes(tt).includes(nt)},ownKeys(tt){return getKeysFromAllScopes(tt)},set(tt,nt,it){const ot=tt._storage||(tt._storage=b());return tt[nt]=ot[nt]=it,delete tt._keys,!0}})}function _attachContext(o,e,a,_){const b={_cacheable:!1,_proxy:o,_context:e,_subProxy:a,_stack:new Set,_descriptors:_descriptors(o,_),setContext:_e=>_attachContext(o,_e,a,_),override:_e=>_attachContext(o.override(_e),e,a,_)};return new Proxy(b,{deleteProperty(_e,et){return delete _e[et],delete o[et],!0},get(_e,et,tt){return _cached(_e,et,()=>_resolveWithContext(_e,et,tt))},getOwnPropertyDescriptor(_e,et){return _e._descriptors.allKeys?Reflect.has(o,et)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(o,et)},getPrototypeOf(){return Reflect.getPrototypeOf(o)},has(_e,et){return Reflect.has(o,et)},ownKeys(){return Reflect.ownKeys(o)},set(_e,et,tt){return o[et]=tt,delete _e[et],!0}})}function _descriptors(o,e={scriptable:!0,indexable:!0}){const{_scriptable:a=e.scriptable,_indexable:_=e.indexable,_allKeys:b=e.allKeys}=o;return{allKeys:b,scriptable:a,indexable:_,isScriptable:isFunction(a)?a:()=>a,isIndexable:isFunction(_)?_:()=>_}}const readKey=(o,e)=>o?o+_capitalize(e):e,needsSubResolver=(o,e)=>isObject(e)&&o!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function _cached(o,e,a){if(Object.prototype.hasOwnProperty.call(o,e)||e==="constructor")return o[e];const _=a();return o[e]=_,_}function _resolveWithContext(o,e,a){const{_proxy:_,_context:b,_subProxy:_e,_descriptors:et}=o;let tt=_[e];return isFunction(tt)&&et.isScriptable(e)&&(tt=_resolveScriptable(e,tt,o,a)),isArray(tt)&&tt.length&&(tt=_resolveArray(e,tt,o,et.isIndexable)),needsSubResolver(e,tt)&&(tt=_attachContext(tt,b,_e&&_e[e],et)),tt}function _resolveScriptable(o,e,a,_){const{_proxy:b,_context:_e,_subProxy:et,_stack:tt}=a;if(tt.has(o))throw new Error("Recursion detected: "+Array.from(tt).join("->")+"->"+o);tt.add(o);let nt=e(_e,et||_);return tt.delete(o),needsSubResolver(o,nt)&&(nt=createSubResolver(b._scopes,b,o,nt)),nt}function _resolveArray(o,e,a,_){const{_proxy:b,_context:_e,_subProxy:et,_descriptors:tt}=a;if(typeof _e.index<"u"&&_(o))return e[_e.index%e.length];if(isObject(e[0])){const nt=e,it=b._scopes.filter(ot=>ot!==nt);e=[];for(const ot of nt){const st=createSubResolver(it,b,o,ot);e.push(_attachContext(st,_e,et&&et[o],tt))}}return e}function resolveFallback(o,e,a){return isFunction(o)?o(e,a):o}const getScope=(o,e)=>o===!0?e:typeof o=="string"?resolveObjectKey(e,o):void 0;function addScopes(o,e,a,_,b){for(const _e of e){const et=getScope(a,_e);if(et){o.add(et);const tt=resolveFallback(et._fallback,a,b);if(typeof tt<"u"&&tt!==a&&tt!==_)return tt}else if(et===!1&&typeof _<"u"&&a!==_)return null}return!1}function createSubResolver(o,e,a,_){const b=e._rootScopes,_e=resolveFallback(e._fallback,a,_),et=[...o,...b],tt=new Set;tt.add(_);let nt=addScopesFromKey(tt,et,a,_e||a,_);return nt===null||typeof _e<"u"&&_e!==a&&(nt=addScopesFromKey(tt,et,_e,nt,_),nt===null)?!1:_createResolver(Array.from(tt),[""],b,_e,()=>subGetTarget(e,a,_))}function addScopesFromKey(o,e,a,_,b){for(;a;)a=addScopes(o,e,a,_,b);return a}function subGetTarget(o,e,a){const _=o._getTarget();e in _||(_[e]={});const b=_[e];return isArray(b)&&isObject(a)?a:b||{}}function _resolveWithPrefixes(o,e,a,_){let b;for(const _e of e)if(b=_resolve(readKey(_e,o),a),typeof b<"u")return needsSubResolver(o,b)?createSubResolver(a,_,o,b):b}function _resolve(o,e){for(const a of e){if(!a)continue;const _=a[o];if(typeof _<"u")return _}}function getKeysFromAllScopes(o){let e=o._keys;return e||(e=o._keys=resolveKeysFromAllScopes(o._scopes)),e}function resolveKeysFromAllScopes(o){const e=new Set;for(const a of o)for(const _ of Object.keys(a).filter(b=>!b.startsWith("_")))e.add(_);return Array.from(e)}const EPSILON=Number.EPSILON||1e-14,getPoint=(o,e)=>e<o.length&&!o[e].skip&&o[e],getValueAxis=o=>o==="x"?"y":"x";function splineCurve(o,e,a,_){const b=o.skip?e:o,_e=e,et=a.skip?e:a,tt=distanceBetweenPoints(_e,b),nt=distanceBetweenPoints(et,_e);let it=tt/(tt+nt),ot=nt/(tt+nt);it=isNaN(it)?0:it,ot=isNaN(ot)?0:ot;const st=_*it,at=_*ot;return{previous:{x:_e.x-st*(et.x-b.x),y:_e.y-st*(et.y-b.y)},next:{x:_e.x+at*(et.x-b.x),y:_e.y+at*(et.y-b.y)}}}function monotoneAdjust(o,e,a){const _=o.length;let b,_e,et,tt,nt,it=getPoint(o,0);for(let ot=0;ot<_-1;++ot)if(nt=it,it=getPoint(o,ot+1),!(!nt||!it)){if(almostEquals(e[ot],0,EPSILON)){a[ot]=a[ot+1]=0;continue}b=a[ot]/e[ot],_e=a[ot+1]/e[ot],tt=Math.pow(b,2)+Math.pow(_e,2),!(tt<=9)&&(et=3/Math.sqrt(tt),a[ot]=b*et*e[ot],a[ot+1]=_e*et*e[ot])}}function monotoneCompute(o,e,a="x"){const _=getValueAxis(a),b=o.length;let _e,et,tt,nt=getPoint(o,0);for(let it=0;it<b;++it){if(et=tt,tt=nt,nt=getPoint(o,it+1),!tt)continue;const ot=tt[a],st=tt[_];et&&(_e=(ot-et[a])/3,tt[`cp1${a}`]=ot-_e,tt[`cp1${_}`]=st-_e*e[it]),nt&&(_e=(nt[a]-ot)/3,tt[`cp2${a}`]=ot+_e,tt[`cp2${_}`]=st+_e*e[it])}}function splineCurveMonotone(o,e="x"){const a=getValueAxis(e),_=o.length,b=Array(_).fill(0),_e=Array(_);let et,tt,nt,it=getPoint(o,0);for(et=0;et<_;++et)if(tt=nt,nt=it,it=getPoint(o,et+1),!!nt){if(it){const ot=it[e]-nt[e];b[et]=ot!==0?(it[a]-nt[a])/ot:0}_e[et]=tt?it?sign(b[et-1])!==sign(b[et])?0:(b[et-1]+b[et])/2:b[et-1]:b[et]}monotoneAdjust(o,b,_e),monotoneCompute(o,_e,e)}function capControlPoint(o,e,a){return Math.max(Math.min(o,a),e)}function capBezierPoints(o,e){let a,_,b,_e,et,tt=_isPointInArea(o[0],e);for(a=0,_=o.length;a<_;++a)et=_e,_e=tt,tt=a<_-1&&_isPointInArea(o[a+1],e),_e&&(b=o[a],et&&(b.cp1x=capControlPoint(b.cp1x,e.left,e.right),b.cp1y=capControlPoint(b.cp1y,e.top,e.bottom)),tt&&(b.cp2x=capControlPoint(b.cp2x,e.left,e.right),b.cp2y=capControlPoint(b.cp2y,e.top,e.bottom)))}function _updateBezierControlPoints(o,e,a,_,b){let _e,et,tt,nt;if(e.spanGaps&&(o=o.filter(it=>!it.skip)),e.cubicInterpolationMode==="monotone")splineCurveMonotone(o,b);else{let it=_?o[o.length-1]:o[0];for(_e=0,et=o.length;_e<et;++_e)tt=o[_e],nt=splineCurve(it,tt,o[Math.min(_e+1,et-(_?0:1))%et],e.tension),tt.cp1x=nt.previous.x,tt.cp1y=nt.previous.y,tt.cp2x=nt.next.x,tt.cp2y=nt.next.y,it=tt}e.capBezierPoints&&capBezierPoints(o,a)}function _isDomSupported(){return typeof window<"u"&&typeof document<"u"}function _getParentNode(o){let e=o.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function parseMaxStyle(o,e,a){let _;return typeof o=="string"?(_=parseInt(o,10),o.indexOf("%")!==-1&&(_=_/100*e.parentNode[a])):_=o,_}const getComputedStyle$1=o=>o.ownerDocument.defaultView.getComputedStyle(o,null);function getStyle(o,e){return getComputedStyle$1(o).getPropertyValue(e)}const positions=["top","right","bottom","left"];function getPositionedStyle(o,e,a){const _={};a=a?"-"+a:"";for(let b=0;b<4;b++){const _e=positions[b];_[_e]=parseFloat(o[e+"-"+_e+a])||0}return _.width=_.left+_.right,_.height=_.top+_.bottom,_}const useOffsetPos=(o,e,a)=>(o>0||e>0)&&(!a||!a.shadowRoot);function getCanvasPosition(o,e){const a=o.touches,_=a&&a.length?a[0]:o,{offsetX:b,offsetY:_e}=_;let et=!1,tt,nt;if(useOffsetPos(b,_e,o.target))tt=b,nt=_e;else{const it=e.getBoundingClientRect();tt=_.clientX-it.left,nt=_.clientY-it.top,et=!0}return{x:tt,y:nt,box:et}}function getRelativePosition(o,e){if("native"in o)return o;const{canvas:a,currentDevicePixelRatio:_}=e,b=getComputedStyle$1(a),_e=b.boxSizing==="border-box",et=getPositionedStyle(b,"padding"),tt=getPositionedStyle(b,"border","width"),{x:nt,y:it,box:ot}=getCanvasPosition(o,a),st=et.left+(ot&&tt.left),at=et.top+(ot&&tt.top);let{width:lt,height:ut}=e;return _e&&(lt-=et.width+tt.width,ut-=et.height+tt.height),{x:Math.round((nt-st)/lt*a.width/_),y:Math.round((it-at)/ut*a.height/_)}}function getContainerSize(o,e,a){let _,b;if(e===void 0||a===void 0){const _e=o&&_getParentNode(o);if(!_e)e=o.clientWidth,a=o.clientHeight;else{const et=_e.getBoundingClientRect(),tt=getComputedStyle$1(_e),nt=getPositionedStyle(tt,"border","width"),it=getPositionedStyle(tt,"padding");e=et.width-it.width-nt.width,a=et.height-it.height-nt.height,_=parseMaxStyle(tt.maxWidth,_e,"clientWidth"),b=parseMaxStyle(tt.maxHeight,_e,"clientHeight")}}return{width:e,height:a,maxWidth:_||INFINITY,maxHeight:b||INFINITY}}const round1=o=>Math.round(o*10)/10;function getMaximumSize(o,e,a,_){const b=getComputedStyle$1(o),_e=getPositionedStyle(b,"margin"),et=parseMaxStyle(b.maxWidth,o,"clientWidth")||INFINITY,tt=parseMaxStyle(b.maxHeight,o,"clientHeight")||INFINITY,nt=getContainerSize(o,e,a);let{width:it,height:ot}=nt;if(b.boxSizing==="content-box"){const at=getPositionedStyle(b,"border","width"),lt=getPositionedStyle(b,"padding");it-=lt.width+at.width,ot-=lt.height+at.height}return it=Math.max(0,it-_e.width),ot=Math.max(0,_?it/_:ot-_e.height),it=round1(Math.min(it,et,nt.maxWidth)),ot=round1(Math.min(ot,tt,nt.maxHeight)),it&&!ot&&(ot=round1(it/2)),(e!==void 0||a!==void 0)&&_&&nt.height&&ot>nt.height&&(ot=nt.height,it=round1(Math.floor(ot*_))),{width:it,height:ot}}function retinaScale(o,e,a){const _=e||1,b=round1(o.height*_),_e=round1(o.width*_);o.height=round1(o.height),o.width=round1(o.width);const et=o.canvas;return et.style&&(a||!et.style.height&&!et.style.width)&&(et.style.height=`${o.height}px`,et.style.width=`${o.width}px`),o.currentDevicePixelRatio!==_||et.height!==b||et.width!==_e?(o.currentDevicePixelRatio=_,et.height=b,et.width=_e,o.ctx.setTransform(_,0,0,_,0,0),!0):!1}const supportsEventListenerOptions=function(){let o=!1;try{const e={get passive(){return o=!0,!1}};_isDomSupported()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return o}();function readUsedSize(o,e){const a=getStyle(o,e),_=a&&a.match(/^(\d+)(\.\d+)?px$/);return _?+_[1]:void 0}function _pointInLine(o,e,a,_){return{x:o.x+a*(e.x-o.x),y:o.y+a*(e.y-o.y)}}function _steppedInterpolation(o,e,a,_){return{x:o.x+a*(e.x-o.x),y:_==="middle"?a<.5?o.y:e.y:_==="after"?a<1?o.y:e.y:a>0?e.y:o.y}}function _bezierInterpolation(o,e,a,_){const b={x:o.cp2x,y:o.cp2y},_e={x:e.cp1x,y:e.cp1y},et=_pointInLine(o,b,a),tt=_pointInLine(b,_e,a),nt=_pointInLine(_e,e,a),it=_pointInLine(et,tt,a),ot=_pointInLine(tt,nt,a);return _pointInLine(it,ot,a)}const getRightToLeftAdapter=function(o,e){return{x(a){return o+o+e-a},setWidth(a){e=a},textAlign(a){return a==="center"?a:a==="right"?"left":"right"},xPlus(a,_){return a-_},leftForLtr(a,_){return a-_}}},getLeftToRightAdapter=function(){return{x(o){return o},setWidth(o){},textAlign(o){return o},xPlus(o,e){return o+e},leftForLtr(o,e){return o}}};function getRtlAdapter(o,e,a){return o?getRightToLeftAdapter(e,a):getLeftToRightAdapter()}function overrideTextDirection(o,e){let a,_;(e==="ltr"||e==="rtl")&&(a=o.canvas.style,_=[a.getPropertyValue("direction"),a.getPropertyPriority("direction")],a.setProperty("direction",e,"important"),o.prevTextDirection=_)}function restoreTextDirection(o,e){e!==void 0&&(delete o.prevTextDirection,o.canvas.style.setProperty("direction",e[0],e[1]))}function propertyFn(o){return o==="angle"?{between:_angleBetween,compare:_angleDiff,normalize:_normalizeAngle}:{between:_isBetween,compare:(e,a)=>e-a,normalize:e=>e}}function normalizeSegment({start:o,end:e,count:a,loop:_,style:b}){return{start:o%a,end:e%a,loop:_&&(e-o+1)%a===0,style:b}}function getSegment(o,e,a){const{property:_,start:b,end:_e}=a,{between:et,normalize:tt}=propertyFn(_),nt=e.length;let{start:it,end:ot,loop:st}=o,at,lt;if(st){for(it+=nt,ot+=nt,at=0,lt=nt;at<lt&&et(tt(e[it%nt][_]),b,_e);++at)it--,ot--;it%=nt,ot%=nt}return ot<it&&(ot+=nt),{start:it,end:ot,loop:st,style:o.style}}function _boundSegment(o,e,a){if(!a)return[o];const{property:_,start:b,end:_e}=a,et=e.length,{compare:tt,between:nt,normalize:it}=propertyFn(_),{start:ot,end:st,loop:at,style:lt}=getSegment(o,e,a),ut=[];let ft=!1,mt=null,ht,vt,Et;const At=()=>nt(b,Et,ht)&&tt(b,Et)!==0,Ct=()=>tt(_e,ht)===0||nt(_e,Et,ht),Mt=()=>ft||At(),Bt=()=>!ft||Ct();for(let Lt=ot,jt=ot;Lt<=st;++Lt)vt=e[Lt%et],!vt.skip&&(ht=it(vt[_]),ht!==Et&&(ft=nt(ht,b,_e),mt===null&&Mt()&&(mt=tt(ht,b)===0?Lt:jt),mt!==null&&Bt()&&(ut.push(normalizeSegment({start:mt,end:Lt,loop:at,count:et,style:lt})),mt=null),jt=Lt,Et=ht));return mt!==null&&ut.push(normalizeSegment({start:mt,end:st,loop:at,count:et,style:lt})),ut}function _boundSegments(o,e){const a=[],_=o.segments;for(let b=0;b<_.length;b++){const _e=_boundSegment(_[b],o.points,e);_e.length&&a.push(..._e)}return a}function findStartAndEnd(o,e,a,_){let b=0,_e=e-1;if(a&&!_)for(;b<e&&!o[b].skip;)b++;for(;b<e&&o[b].skip;)b++;for(b%=e,a&&(_e+=b);_e>b&&o[_e%e].skip;)_e--;return _e%=e,{start:b,end:_e}}function solidSegments(o,e,a,_){const b=o.length,_e=[];let et=e,tt=o[e],nt;for(nt=e+1;nt<=a;++nt){const it=o[nt%b];it.skip||it.stop?tt.skip||(_=!1,_e.push({start:e%b,end:(nt-1)%b,loop:_}),e=et=it.stop?nt:null):(et=nt,tt.skip&&(e=nt)),tt=it}return et!==null&&_e.push({start:e%b,end:et%b,loop:_}),_e}function _computeSegments(o,e){const a=o.points,_=o.options.spanGaps,b=a.length;if(!b)return[];const _e=!!o._loop,{start:et,end:tt}=findStartAndEnd(a,b,_e,_);if(_===!0)return splitByStyles(o,[{start:et,end:tt,loop:_e}],a,e);const nt=tt<et?tt+b:tt,it=!!o._fullLoop&&et===0&&tt===b-1;return splitByStyles(o,solidSegments(a,et,nt,it),a,e)}function splitByStyles(o,e,a,_){return!_||!_.setContext||!a?e:doSplitByStyles(o,e,a,_)}function doSplitByStyles(o,e,a,_){const b=o._chart.getContext(),_e=readStyle(o.options),{_datasetIndex:et,options:{spanGaps:tt}}=o,nt=a.length,it=[];let ot=_e,st=e[0].start,at=st;function lt(ut,ft,mt,ht){const vt=tt?-1:1;if(ut!==ft){for(ut+=nt;a[ut%nt].skip;)ut-=vt;for(;a[ft%nt].skip;)ft+=vt;ut%nt!==ft%nt&&(it.push({start:ut%nt,end:ft%nt,loop:mt,style:ht}),ot=ht,st=ft%nt)}}for(const ut of e){st=tt?st:ut.start;let ft=a[st%nt],mt;for(at=st+1;at<=ut.end;at++){const ht=a[at%nt];mt=readStyle(_.setContext(createContext(b,{type:"segment",p0:ft,p1:ht,p0DataIndex:(at-1)%nt,p1DataIndex:at%nt,datasetIndex:et}))),styleChanged(mt,ot)&&lt(st,at-1,ut.loop,ot),ft=ht,ot=mt}st<at-1&&lt(st,at-1,ut.loop,ot)}return it}function readStyle(o){return{backgroundColor:o.backgroundColor,borderCapStyle:o.borderCapStyle,borderDash:o.borderDash,borderDashOffset:o.borderDashOffset,borderJoinStyle:o.borderJoinStyle,borderWidth:o.borderWidth,borderColor:o.borderColor}}function styleChanged(o,e){if(!e)return!1;const a=[],_=function(b,_e){return isPatternOrGradient(_e)?(a.includes(_e)||a.push(_e),a.indexOf(_e)):_e};return JSON.stringify(o,_)!==JSON.stringify(e,_)}function getSizeForArea(o,e,a){return o.options.clip?o[a]:e[a]}function getDatasetArea(o,e){const{xScale:a,yScale:_}=o;return a&&_?{left:getSizeForArea(a,e,"left"),right:getSizeForArea(a,e,"right"),top:getSizeForArea(_,e,"top"),bottom:getSizeForArea(_,e,"bottom")}:e}function getDatasetClipArea(o,e){const a=e._clip;if(a.disabled)return!1;const _=getDatasetArea(e,o.chartArea);return{left:a.left===!1?0:_.left-(a.left===!0?0:a.left),right:a.right===!1?o.width:_.right+(a.right===!0?0:a.right),top:a.top===!1?0:_.top-(a.top===!0?0:a.top),bottom:a.bottom===!1?o.height:_.bottom+(a.bottom===!0?0:a.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Animator{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,a,_,b){const _e=a.listeners[b],et=a.duration;_e.forEach(tt=>tt({chart:e,initial:a.initial,numSteps:et,currentStep:Math.min(_-a.start,et)}))}_refresh(){this._request||(this._running=!0,this._request=requestAnimFrame.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let a=0;this._charts.forEach((_,b)=>{if(!_.running||!_.items.length)return;const _e=_.items;let et=_e.length-1,tt=!1,nt;for(;et>=0;--et)nt=_e[et],nt._active?(nt._total>_.duration&&(_.duration=nt._total),nt.tick(e),tt=!0):(_e[et]=_e[_e.length-1],_e.pop());tt&&(b.draw(),this._notify(b,_,e,"progress")),_e.length||(_.running=!1,this._notify(b,_,e,"complete"),_.initial=!1),a+=_e.length}),this._lastDate=e,a===0&&(this._running=!1)}_getAnims(e){const a=this._charts;let _=a.get(e);return _||(_={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},a.set(e,_)),_}listen(e,a,_){this._getAnims(e).listeners[a].push(_)}add(e,a){!a||!a.length||this._getAnims(e).items.push(...a)}has(e){return this._getAnims(e).items.length>0}start(e){const a=this._charts.get(e);a&&(a.running=!0,a.start=Date.now(),a.duration=a.items.reduce((_,b)=>Math.max(_,b._duration),0),this._refresh())}running(e){if(!this._running)return!1;const a=this._charts.get(e);return!(!a||!a.running||!a.items.length)}stop(e){const a=this._charts.get(e);if(!a||!a.items.length)return;const _=a.items;let b=_.length-1;for(;b>=0;--b)_[b].cancel();a.items=[],this._notify(e,a,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var animator=new Animator;const transparent="transparent",interpolators={boolean(o,e,a){return a>.5?e:o},color(o,e,a){const _=color(o||transparent),b=_.valid&&color(e||transparent);return b&&b.valid?b.mix(_,a).hexString():e},number(o,e,a){return o+(e-o)*a}};class Animation{constructor(e,a,_,b){const _e=a[_];b=resolve([e.to,b,_e,e.from]);const et=resolve([e.from,_e,b]);this._active=!0,this._fn=e.fn||interpolators[e.type||typeof et],this._easing=effects[e.easing]||effects.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=a,this._prop=_,this._from=et,this._to=b,this._promises=void 0}active(){return this._active}update(e,a,_){if(this._active){this._notify(!1);const b=this._target[this._prop],_e=_-this._start,et=this._duration-_e;this._start=_,this._duration=Math.floor(Math.max(et,e.duration)),this._total+=_e,this._loop=!!e.loop,this._to=resolve([e.to,a,b,e.from]),this._from=resolve([e.from,b,a])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const a=e-this._start,_=this._duration,b=this._prop,_e=this._from,et=this._loop,tt=this._to;let nt;if(this._active=_e!==tt&&(et||a<_),!this._active){this._target[b]=tt,this._notify(!0);return}if(a<0){this._target[b]=_e;return}nt=a/_%2,nt=et&&nt>1?2-nt:nt,nt=this._easing(Math.min(1,Math.max(0,nt))),this._target[b]=this._fn(_e,tt,nt)}wait(){const e=this._promises||(this._promises=[]);return new Promise((a,_)=>{e.push({res:a,rej:_})})}_notify(e){const a=e?"res":"rej",_=this._promises||[];for(let b=0;b<_.length;b++)_[b][a]()}}class Animations{constructor(e,a){this._chart=e,this._properties=new Map,this.configure(a)}configure(e){if(!isObject(e))return;const a=Object.keys(defaults.animation),_=this._properties;Object.getOwnPropertyNames(e).forEach(b=>{const _e=e[b];if(!isObject(_e))return;const et={};for(const tt of a)et[tt]=_e[tt];(isArray(_e.properties)&&_e.properties||[b]).forEach(tt=>{(tt===b||!_.has(tt))&&_.set(tt,et)})})}_animateOptions(e,a){const _=a.options,b=resolveTargetOptions(e,_);if(!b)return[];const _e=this._createAnimations(b,_);return _.$shared&&awaitAll(e.options.$animations,_).then(()=>{e.options=_},()=>{}),_e}_createAnimations(e,a){const _=this._properties,b=[],_e=e.$animations||(e.$animations={}),et=Object.keys(a),tt=Date.now();let nt;for(nt=et.length-1;nt>=0;--nt){const it=et[nt];if(it.charAt(0)==="$")continue;if(it==="options"){b.push(...this._animateOptions(e,a));continue}const ot=a[it];let st=_e[it];const at=_.get(it);if(st)if(at&&st.active()){st.update(at,ot,tt);continue}else st.cancel();if(!at||!at.duration){e[it]=ot;continue}_e[it]=st=new Animation(at,e,it,ot),b.push(st)}return b}update(e,a){if(this._properties.size===0){Object.assign(e,a);return}const _=this._createAnimations(e,a);if(_.length)return animator.add(this._chart,_),!0}}function awaitAll(o,e){const a=[],_=Object.keys(e);for(let b=0;b<_.length;b++){const _e=o[_[b]];_e&&_e.active()&&a.push(_e.wait())}return Promise.all(a)}function resolveTargetOptions(o,e){if(!e)return;let a=o.options;if(!a){o.options=e;return}return a.$shared&&(o.options=a=Object.assign({},a,{$shared:!1,$animations:{}})),a}function scaleClip(o,e){const a=o&&o.options||{},_=a.reverse,b=a.min===void 0?e:0,_e=a.max===void 0?e:0;return{start:_?_e:b,end:_?b:_e}}function defaultClip(o,e,a){if(a===!1)return!1;const _=scaleClip(o,a),b=scaleClip(e,a);return{top:b.end,right:_.end,bottom:b.start,left:_.start}}function toClip(o){let e,a,_,b;return isObject(o)?(e=o.top,a=o.right,_=o.bottom,b=o.left):e=a=_=b=o,{top:e,right:a,bottom:_,left:b,disabled:o===!1}}function getSortedDatasetIndices(o,e){const a=[],_=o._getSortedDatasetMetas(e);let b,_e;for(b=0,_e=_.length;b<_e;++b)a.push(_[b].index);return a}function applyStack(o,e,a,_={}){const b=o.keys,_e=_.mode==="single";let et,tt,nt,it;if(e===null)return;let ot=!1;for(et=0,tt=b.length;et<tt;++et){if(nt=+b[et],nt===a){if(ot=!0,_.all)continue;break}it=o.values[nt],isNumberFinite(it)&&(_e||e===0||sign(e)===sign(it))&&(e+=it)}return!ot&&!_.all?0:e}function convertObjectDataToArray(o,e){const{iScale:a,vScale:_}=e,b=a.axis==="x"?"x":"y",_e=_.axis==="x"?"x":"y",et=Object.keys(o),tt=new Array(et.length);let nt,it,ot;for(nt=0,it=et.length;nt<it;++nt)ot=et[nt],tt[nt]={[b]:ot,[_e]:o[ot]};return tt}function isStacked(o,e){const a=o&&o.options.stacked;return a||a===void 0&&e.stack!==void 0}function getStackKey(o,e,a){return`${o.id}.${e.id}.${a.stack||a.type}`}function getUserBounds(o){const{min:e,max:a,minDefined:_,maxDefined:b}=o.getUserBounds();return{min:_?e:Number.NEGATIVE_INFINITY,max:b?a:Number.POSITIVE_INFINITY}}function getOrCreateStack(o,e,a){const _=o[e]||(o[e]={});return _[a]||(_[a]={})}function getLastIndexInStack(o,e,a,_){for(const b of e.getMatchingVisibleMetas(_).reverse()){const _e=o[b.index];if(a&&_e>0||!a&&_e<0)return b.index}return null}function updateStacks(o,e){const{chart:a,_cachedMeta:_}=o,b=a._stacks||(a._stacks={}),{iScale:_e,vScale:et,index:tt}=_,nt=_e.axis,it=et.axis,ot=getStackKey(_e,et,_),st=e.length;let at;for(let lt=0;lt<st;++lt){const ut=e[lt],{[nt]:ft,[it]:mt}=ut,ht=ut._stacks||(ut._stacks={});at=ht[it]=getOrCreateStack(b,ot,ft),at[tt]=mt,at._top=getLastIndexInStack(at,et,!0,_.type),at._bottom=getLastIndexInStack(at,et,!1,_.type);const vt=at._visualValues||(at._visualValues={});vt[tt]=mt}}function getFirstScaleId(o,e){const a=o.scales;return Object.keys(a).filter(_=>a[_].axis===e).shift()}function createDatasetContext(o,e){return createContext(o,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function createDataContext(o,e,a){return createContext(o,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:a,index:e,mode:"default",type:"data"})}function clearStacks(o,e){const a=o.controller.index,_=o.vScale&&o.vScale.axis;if(_){e=e||o._parsed;for(const b of e){const _e=b._stacks;if(!_e||_e[_]===void 0||_e[_][a]===void 0)return;delete _e[_][a],_e[_]._visualValues!==void 0&&_e[_]._visualValues[a]!==void 0&&delete _e[_]._visualValues[a]}}}const isDirectUpdateMode=o=>o==="reset"||o==="none",cloneIfNotShared=(o,e)=>e?o:Object.assign({},o),createStack=(o,e,a)=>o&&!e.hidden&&e._stacked&&{keys:getSortedDatasetIndices(a,!0),values:null};class DatasetController{constructor(e,a){this.chart=e,this._ctx=e.ctx,this.index=a,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=isStacked(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&clearStacks(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,a=this._cachedMeta,_=this.getDataset(),b=(st,at,lt,ut)=>st==="x"?at:st==="r"?ut:lt,_e=a.xAxisID=valueOrDefault(_.xAxisID,getFirstScaleId(e,"x")),et=a.yAxisID=valueOrDefault(_.yAxisID,getFirstScaleId(e,"y")),tt=a.rAxisID=valueOrDefault(_.rAxisID,getFirstScaleId(e,"r")),nt=a.indexAxis,it=a.iAxisID=b(nt,_e,et,tt),ot=a.vAxisID=b(nt,et,_e,tt);a.xScale=this.getScaleForId(_e),a.yScale=this.getScaleForId(et),a.rScale=this.getScaleForId(tt),a.iScale=this.getScaleForId(it),a.vScale=this.getScaleForId(ot)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const a=this._cachedMeta;return e===a.iScale?a.vScale:a.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&unlistenArrayEvents(this._data,this),e._stacked&&clearStacks(e)}_dataCheck(){const e=this.getDataset(),a=e.data||(e.data=[]),_=this._data;if(isObject(a)){const b=this._cachedMeta;this._data=convertObjectDataToArray(a,b)}else if(_!==a){if(_){unlistenArrayEvents(_,this);const b=this._cachedMeta;clearStacks(b),b._parsed=[]}a&&Object.isExtensible(a)&&listenArrayEvents(a,this),this._syncList=[],this._data=a}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const a=this._cachedMeta,_=this.getDataset();let b=!1;this._dataCheck();const _e=a._stacked;a._stacked=isStacked(a.vScale,a),a.stack!==_.stack&&(b=!0,clearStacks(a),a.stack=_.stack),this._resyncElements(e),(b||_e!==a._stacked)&&(updateStacks(this,a._parsed),a._stacked=isStacked(a.vScale,a))}configure(){const e=this.chart.config,a=e.datasetScopeKeys(this._type),_=e.getOptionScopes(this.getDataset(),a,!0);this.options=e.createResolver(_,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,a){const{_cachedMeta:_,_data:b}=this,{iScale:_e,_stacked:et}=_,tt=_e.axis;let nt=e===0&&a===b.length?!0:_._sorted,it=e>0&&_._parsed[e-1],ot,st,at;if(this._parsing===!1)_._parsed=b,_._sorted=!0,at=b;else{isArray(b[e])?at=this.parseArrayData(_,b,e,a):isObject(b[e])?at=this.parseObjectData(_,b,e,a):at=this.parsePrimitiveData(_,b,e,a);const lt=()=>st[tt]===null||it&&st[tt]<it[tt];for(ot=0;ot<a;++ot)_._parsed[ot+e]=st=at[ot],nt&&(lt()&&(nt=!1),it=st);_._sorted=nt}et&&updateStacks(this,at)}parsePrimitiveData(e,a,_,b){const{iScale:_e,vScale:et}=e,tt=_e.axis,nt=et.axis,it=_e.getLabels(),ot=_e===et,st=new Array(b);let at,lt,ut;for(at=0,lt=b;at<lt;++at)ut=at+_,st[at]={[tt]:ot||_e.parse(it[ut],ut),[nt]:et.parse(a[ut],ut)};return st}parseArrayData(e,a,_,b){const{xScale:_e,yScale:et}=e,tt=new Array(b);let nt,it,ot,st;for(nt=0,it=b;nt<it;++nt)ot=nt+_,st=a[ot],tt[nt]={x:_e.parse(st[0],ot),y:et.parse(st[1],ot)};return tt}parseObjectData(e,a,_,b){const{xScale:_e,yScale:et}=e,{xAxisKey:tt="x",yAxisKey:nt="y"}=this._parsing,it=new Array(b);let ot,st,at,lt;for(ot=0,st=b;ot<st;++ot)at=ot+_,lt=a[at],it[ot]={x:_e.parse(resolveObjectKey(lt,tt),at),y:et.parse(resolveObjectKey(lt,nt),at)};return it}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,a,_){const b=this.chart,_e=this._cachedMeta,et=a[e.axis],tt={keys:getSortedDatasetIndices(b,!0),values:a._stacks[e.axis]._visualValues};return applyStack(tt,et,_e.index,{mode:_})}updateRangeFromParsed(e,a,_,b){const _e=_[a.axis];let et=_e===null?NaN:_e;const tt=b&&_._stacks[a.axis];b&&tt&&(b.values=tt,et=applyStack(b,_e,this._cachedMeta.index)),e.min=Math.min(e.min,et),e.max=Math.max(e.max,et)}getMinMax(e,a){const _=this._cachedMeta,b=_._parsed,_e=_._sorted&&e===_.iScale,et=b.length,tt=this._getOtherScale(e),nt=createStack(a,_,this.chart),it={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:ot,max:st}=getUserBounds(tt);let at,lt;function ut(){lt=b[at];const ft=lt[tt.axis];return!isNumberFinite(lt[e.axis])||ot>ft||st<ft}for(at=0;at<et&&!(!ut()&&(this.updateRangeFromParsed(it,e,lt,nt),_e));++at);if(_e){for(at=et-1;at>=0;--at)if(!ut()){this.updateRangeFromParsed(it,e,lt,nt);break}}return it}getAllParsedValues(e){const a=this._cachedMeta._parsed,_=[];let b,_e,et;for(b=0,_e=a.length;b<_e;++b)et=a[b][e.axis],isNumberFinite(et)&&_.push(et);return _}getMaxOverflow(){return!1}getLabelAndValue(e){const a=this._cachedMeta,_=a.iScale,b=a.vScale,_e=this.getParsed(e);return{label:_?""+_.getLabelForValue(_e[_.axis]):"",value:b?""+b.getLabelForValue(_e[b.axis]):""}}_update(e){const a=this._cachedMeta;this.update(e||"default"),a._clip=toClip(valueOrDefault(this.options.clip,defaultClip(a.xScale,a.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,a=this.chart,_=this._cachedMeta,b=_.data||[],_e=a.chartArea,et=[],tt=this._drawStart||0,nt=this._drawCount||b.length-tt,it=this.options.drawActiveElementsOnTop;let ot;for(_.dataset&&_.dataset.draw(e,_e,tt,nt),ot=tt;ot<tt+nt;++ot){const st=b[ot];st.hidden||(st.active&&it?et.push(st):st.draw(e,_e))}for(ot=0;ot<et.length;++ot)et[ot].draw(e,_e)}getStyle(e,a){const _=a?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(_):this.resolveDataElementOptions(e||0,_)}getContext(e,a,_){const b=this.getDataset();let _e;if(e>=0&&e<this._cachedMeta.data.length){const et=this._cachedMeta.data[e];_e=et.$context||(et.$context=createDataContext(this.getContext(),e,et)),_e.parsed=this.getParsed(e),_e.raw=b.data[e],_e.index=_e.dataIndex=e}else _e=this.$context||(this.$context=createDatasetContext(this.chart.getContext(),this.index)),_e.dataset=b,_e.index=_e.datasetIndex=this.index;return _e.active=!!a,_e.mode=_,_e}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,a){return this._resolveElementOptions(this.dataElementType.id,a,e)}_resolveElementOptions(e,a="default",_){const b=a==="active",_e=this._cachedDataOpts,et=e+"-"+a,tt=_e[et],nt=this.enableOptionSharing&&defined(_);if(tt)return cloneIfNotShared(tt,nt);const it=this.chart.config,ot=it.datasetElementScopeKeys(this._type,e),st=b?[`${e}Hover`,"hover",e,""]:[e,""],at=it.getOptionScopes(this.getDataset(),ot),lt=Object.keys(defaults.elements[e]),ut=()=>this.getContext(_,b,a),ft=it.resolveNamedOptions(at,lt,ut,st);return ft.$shared&&(ft.$shared=nt,_e[et]=Object.freeze(cloneIfNotShared(ft,nt))),ft}_resolveAnimations(e,a,_){const b=this.chart,_e=this._cachedDataOpts,et=`animation-${a}`,tt=_e[et];if(tt)return tt;let nt;if(b.options.animation!==!1){const ot=this.chart.config,st=ot.datasetAnimationScopeKeys(this._type,a),at=ot.getOptionScopes(this.getDataset(),st);nt=ot.createResolver(at,this.getContext(e,_,a))}const it=new Animations(b,nt&&nt.animations);return nt&&nt._cacheable&&(_e[et]=Object.freeze(it)),it}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,a){return!a||isDirectUpdateMode(e)||this.chart._animationsDisabled}_getSharedOptions(e,a){const _=this.resolveDataElementOptions(e,a),b=this._sharedOptions,_e=this.getSharedOptions(_),et=this.includeOptions(a,_e)||_e!==b;return this.updateSharedOptions(_e,a,_),{sharedOptions:_e,includeOptions:et}}updateElement(e,a,_,b){isDirectUpdateMode(b)?Object.assign(e,_):this._resolveAnimations(a,b).update(e,_)}updateSharedOptions(e,a,_){e&&!isDirectUpdateMode(a)&&this._resolveAnimations(void 0,a).update(e,_)}_setStyle(e,a,_,b){e.active=b;const _e=this.getStyle(a,b);this._resolveAnimations(a,_,b).update(e,{options:!b&&this.getSharedOptions(_e)||_e})}removeHoverStyle(e,a,_){this._setStyle(e,_,"active",!1)}setHoverStyle(e,a,_){this._setStyle(e,_,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const a=this._data,_=this._cachedMeta.data;for(const[tt,nt,it]of this._syncList)this[tt](nt,it);this._syncList=[];const b=_.length,_e=a.length,et=Math.min(_e,b);et&&this.parse(0,et),_e>b?this._insertElements(b,_e-b,e):_e<b&&this._removeElements(_e,b-_e)}_insertElements(e,a,_=!0){const b=this._cachedMeta,_e=b.data,et=e+a;let tt;const nt=it=>{for(it.length+=a,tt=it.length-1;tt>=et;tt--)it[tt]=it[tt-a]};for(nt(_e),tt=e;tt<et;++tt)_e[tt]=new this.dataElementType;this._parsing&&nt(b._parsed),this.parse(e,a),_&&this.updateElements(_e,e,a,"reset")}updateElements(e,a,_,b){}_removeElements(e,a){const _=this._cachedMeta;if(this._parsing){const b=_._parsed.splice(e,a);_._stacked&&clearStacks(_,b)}_.data.splice(e,a)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[a,_,b]=e;this[a](_,b)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,a){a&&this._sync(["_removeElements",e,a]);const _=arguments.length-2;_&&this._sync(["_insertElements",e,_])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Br(DatasetController,"defaults",{}),Br(DatasetController,"datasetElementType",null),Br(DatasetController,"dataElementType",null);class LineController extends DatasetController{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const a=this._cachedMeta,{dataset:_,data:b=[],_dataset:_e}=a,et=this.chart._animationsDisabled;let{start:tt,count:nt}=_getStartAndCountOfVisiblePoints(a,b,et);this._drawStart=tt,this._drawCount=nt,_scaleRangesChanged(a)&&(tt=0,nt=b.length),_._chart=this.chart,_._datasetIndex=this.index,_._decimated=!!_e._decimated,_.points=b;const it=this.resolveDatasetElementOptions(e);this.options.showLine||(it.borderWidth=0),it.segment=this.options.segment,this.updateElement(_,void 0,{animated:!et,options:it},e),this.updateElements(b,tt,nt,e)}updateElements(e,a,_,b){const _e=b==="reset",{iScale:et,vScale:tt,_stacked:nt,_dataset:it}=this._cachedMeta,{sharedOptions:ot,includeOptions:st}=this._getSharedOptions(a,b),at=et.axis,lt=tt.axis,{spanGaps:ut,segment:ft}=this.options,mt=isNumber(ut)?ut:Number.POSITIVE_INFINITY,ht=this.chart._animationsDisabled||_e||b==="none",vt=a+_,Et=e.length;let At=a>0&&this.getParsed(a-1);for(let Ct=0;Ct<Et;++Ct){const Mt=e[Ct],Bt=ht?Mt:{};if(Ct<a||Ct>=vt){Bt.skip=!0;continue}const Lt=this.getParsed(Ct),jt=isNullOrUndef(Lt[lt]),Vt=Bt[at]=et.getPixelForValue(Lt[at],Ct),Nt=Bt[lt]=_e||jt?tt.getBasePixel():tt.getPixelForValue(nt?this.applyStack(tt,Lt,nt):Lt[lt],Ct);Bt.skip=isNaN(Vt)||isNaN(Nt)||jt,Bt.stop=Ct>0&&Math.abs(Lt[at]-At[at])>mt,ft&&(Bt.parsed=Lt,Bt.raw=it.data[Ct]),st&&(Bt.options=ot||this.resolveDataElementOptions(Ct,Mt.active?"active":b)),ht||this.updateElement(Mt,Ct,Bt,b),At=Lt}}getMaxOverflow(){const e=this._cachedMeta,a=e.dataset,_=a.options&&a.options.borderWidth||0,b=e.data||[];if(!b.length)return _;const _e=b[0].size(this.resolveDataElementOptions(0)),et=b[b.length-1].size(this.resolveDataElementOptions(b.length-1));return Math.max(_,_e,et)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}Br(LineController,"id","line"),Br(LineController,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Br(LineController,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function abstract(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class DateAdapterBase{constructor(e){Br(this,"options");this.options=e||{}}static override(e){Object.assign(DateAdapterBase.prototype,e)}init(){}formats(){return abstract()}parse(){return abstract()}format(){return abstract()}add(){return abstract()}diff(){return abstract()}startOf(){return abstract()}endOf(){return abstract()}}var adapters={_date:DateAdapterBase};function binarySearch(o,e,a,_){const{controller:b,data:_e,_sorted:et}=o,tt=b._cachedMeta.iScale,nt=o.dataset&&o.dataset.options?o.dataset.options.spanGaps:null;if(tt&&e===tt.axis&&e!=="r"&&et&&_e.length){const it=tt._reversePixels?_rlookupByKey:_lookupByKey;if(_){if(b._sharedOptions){const ot=_e[0],st=typeof ot.getRange=="function"&&ot.getRange(e);if(st){const at=it(_e,e,a-st),lt=it(_e,e,a+st);return{lo:at.lo,hi:lt.hi}}}}else{const ot=it(_e,e,a);if(nt){const{vScale:st}=b._cachedMeta,{_parsed:at}=o,lt=at.slice(0,ot.lo+1).reverse().findIndex(ft=>!isNullOrUndef(ft[st.axis]));ot.lo-=Math.max(0,lt);const ut=at.slice(ot.hi).findIndex(ft=>!isNullOrUndef(ft[st.axis]));ot.hi+=Math.max(0,ut)}return ot}}return{lo:0,hi:_e.length-1}}function evaluateInteractionItems(o,e,a,_,b){const _e=o.getSortedVisibleDatasetMetas(),et=a[e];for(let tt=0,nt=_e.length;tt<nt;++tt){const{index:it,data:ot}=_e[tt],{lo:st,hi:at}=binarySearch(_e[tt],e,et,b);for(let lt=st;lt<=at;++lt){const ut=ot[lt];ut.skip||_(ut,it,lt)}}}function getDistanceMetricForAxis(o){const e=o.indexOf("x")!==-1,a=o.indexOf("y")!==-1;return function(_,b){const _e=e?Math.abs(_.x-b.x):0,et=a?Math.abs(_.y-b.y):0;return Math.sqrt(Math.pow(_e,2)+Math.pow(et,2))}}function getIntersectItems(o,e,a,_,b){const _e=[];return!b&&!o.isPointInArea(e)||evaluateInteractionItems(o,a,e,function(tt,nt,it){!b&&!_isPointInArea(tt,o.chartArea,0)||tt.inRange(e.x,e.y,_)&&_e.push({element:tt,datasetIndex:nt,index:it})},!0),_e}function getNearestRadialItems(o,e,a,_){let b=[];function _e(et,tt,nt){const{startAngle:it,endAngle:ot}=et.getProps(["startAngle","endAngle"],_),{angle:st}=getAngleFromPoint(et,{x:e.x,y:e.y});_angleBetween(st,it,ot)&&b.push({element:et,datasetIndex:tt,index:nt})}return evaluateInteractionItems(o,a,e,_e),b}function getNearestCartesianItems(o,e,a,_,b,_e){let et=[];const tt=getDistanceMetricForAxis(a);let nt=Number.POSITIVE_INFINITY;function it(ot,st,at){const lt=ot.inRange(e.x,e.y,b);if(_&&!lt)return;const ut=ot.getCenterPoint(b);if(!(!!_e||o.isPointInArea(ut))&&!lt)return;const mt=tt(e,ut);mt<nt?(et=[{element:ot,datasetIndex:st,index:at}],nt=mt):mt===nt&&et.push({element:ot,datasetIndex:st,index:at})}return evaluateInteractionItems(o,a,e,it),et}function getNearestItems(o,e,a,_,b,_e){return!_e&&!o.isPointInArea(e)?[]:a==="r"&&!_?getNearestRadialItems(o,e,a,b):getNearestCartesianItems(o,e,a,_,b,_e)}function getAxisItems(o,e,a,_,b){const _e=[],et=a==="x"?"inXRange":"inYRange";let tt=!1;return evaluateInteractionItems(o,a,e,(nt,it,ot)=>{nt[et]&&nt[et](e[a],b)&&(_e.push({element:nt,datasetIndex:it,index:ot}),tt=tt||nt.inRange(e.x,e.y,b))}),_&&!tt?[]:_e}var Interaction={modes:{index(o,e,a,_){const b=getRelativePosition(e,o),_e=a.axis||"x",et=a.includeInvisible||!1,tt=a.intersect?getIntersectItems(o,b,_e,_,et):getNearestItems(o,b,_e,!1,_,et),nt=[];return tt.length?(o.getSortedVisibleDatasetMetas().forEach(it=>{const ot=tt[0].index,st=it.data[ot];st&&!st.skip&&nt.push({element:st,datasetIndex:it.index,index:ot})}),nt):[]},dataset(o,e,a,_){const b=getRelativePosition(e,o),_e=a.axis||"xy",et=a.includeInvisible||!1;let tt=a.intersect?getIntersectItems(o,b,_e,_,et):getNearestItems(o,b,_e,!1,_,et);if(tt.length>0){const nt=tt[0].datasetIndex,it=o.getDatasetMeta(nt).data;tt=[];for(let ot=0;ot<it.length;++ot)tt.push({element:it[ot],datasetIndex:nt,index:ot})}return tt},point(o,e,a,_){const b=getRelativePosition(e,o),_e=a.axis||"xy",et=a.includeInvisible||!1;return getIntersectItems(o,b,_e,_,et)},nearest(o,e,a,_){const b=getRelativePosition(e,o),_e=a.axis||"xy",et=a.includeInvisible||!1;return getNearestItems(o,b,_e,a.intersect,_,et)},x(o,e,a,_){const b=getRelativePosition(e,o);return getAxisItems(o,b,"x",a.intersect,_)},y(o,e,a,_){const b=getRelativePosition(e,o);return getAxisItems(o,b,"y",a.intersect,_)}}};const STATIC_POSITIONS=["left","top","right","bottom"];function filterByPosition(o,e){return o.filter(a=>a.pos===e)}function filterDynamicPositionByAxis(o,e){return o.filter(a=>STATIC_POSITIONS.indexOf(a.pos)===-1&&a.box.axis===e)}function sortByWeight(o,e){return o.sort((a,_)=>{const b=e?_:a,_e=e?a:_;return b.weight===_e.weight?b.index-_e.index:b.weight-_e.weight})}function wrapBoxes(o){const e=[];let a,_,b,_e,et,tt;for(a=0,_=(o||[]).length;a<_;++a)b=o[a],{position:_e,options:{stack:et,stackWeight:tt=1}}=b,e.push({index:a,box:b,pos:_e,horizontal:b.isHorizontal(),weight:b.weight,stack:et&&_e+et,stackWeight:tt});return e}function buildStacks(o){const e={};for(const a of o){const{stack:_,pos:b,stackWeight:_e}=a;if(!_||!STATIC_POSITIONS.includes(b))continue;const et=e[_]||(e[_]={count:0,placed:0,weight:0,size:0});et.count++,et.weight+=_e}return e}function setLayoutDims(o,e){const a=buildStacks(o),{vBoxMaxWidth:_,hBoxMaxHeight:b}=e;let _e,et,tt;for(_e=0,et=o.length;_e<et;++_e){tt=o[_e];const{fullSize:nt}=tt.box,it=a[tt.stack],ot=it&&tt.stackWeight/it.weight;tt.horizontal?(tt.width=ot?ot*_:nt&&e.availableWidth,tt.height=b):(tt.width=_,tt.height=ot?ot*b:nt&&e.availableHeight)}return a}function buildLayoutBoxes(o){const e=wrapBoxes(o),a=sortByWeight(e.filter(it=>it.box.fullSize),!0),_=sortByWeight(filterByPosition(e,"left"),!0),b=sortByWeight(filterByPosition(e,"right")),_e=sortByWeight(filterByPosition(e,"top"),!0),et=sortByWeight(filterByPosition(e,"bottom")),tt=filterDynamicPositionByAxis(e,"x"),nt=filterDynamicPositionByAxis(e,"y");return{fullSize:a,leftAndTop:_.concat(_e),rightAndBottom:b.concat(nt).concat(et).concat(tt),chartArea:filterByPosition(e,"chartArea"),vertical:_.concat(b).concat(nt),horizontal:_e.concat(et).concat(tt)}}function getCombinedMax(o,e,a,_){return Math.max(o[a],e[a])+Math.max(o[_],e[_])}function updateMaxPadding(o,e){o.top=Math.max(o.top,e.top),o.left=Math.max(o.left,e.left),o.bottom=Math.max(o.bottom,e.bottom),o.right=Math.max(o.right,e.right)}function updateDims(o,e,a,_){const{pos:b,box:_e}=a,et=o.maxPadding;if(!isObject(b)){a.size&&(o[b]-=a.size);const st=_[a.stack]||{size:0,count:1};st.size=Math.max(st.size,a.horizontal?_e.height:_e.width),a.size=st.size/st.count,o[b]+=a.size}_e.getPadding&&updateMaxPadding(et,_e.getPadding());const tt=Math.max(0,e.outerWidth-getCombinedMax(et,o,"left","right")),nt=Math.max(0,e.outerHeight-getCombinedMax(et,o,"top","bottom")),it=tt!==o.w,ot=nt!==o.h;return o.w=tt,o.h=nt,a.horizontal?{same:it,other:ot}:{same:ot,other:it}}function handleMaxPadding(o){const e=o.maxPadding;function a(_){const b=Math.max(e[_]-o[_],0);return o[_]+=b,b}o.y+=a("top"),o.x+=a("left"),a("right"),a("bottom")}function getMargins(o,e){const a=e.maxPadding;function _(b){const _e={left:0,top:0,right:0,bottom:0};return b.forEach(et=>{_e[et]=Math.max(e[et],a[et])}),_e}return _(o?["left","right"]:["top","bottom"])}function fitBoxes(o,e,a,_){const b=[];let _e,et,tt,nt,it,ot;for(_e=0,et=o.length,it=0;_e<et;++_e){tt=o[_e],nt=tt.box,nt.update(tt.width||e.w,tt.height||e.h,getMargins(tt.horizontal,e));const{same:st,other:at}=updateDims(e,a,tt,_);it|=st&&b.length,ot=ot||at,nt.fullSize||b.push(tt)}return it&&fitBoxes(b,e,a,_)||ot}function setBoxDims(o,e,a,_,b){o.top=a,o.left=e,o.right=e+_,o.bottom=a+b,o.width=_,o.height=b}function placeBoxes(o,e,a,_){const b=a.padding;let{x:_e,y:et}=e;for(const tt of o){const nt=tt.box,it=_[tt.stack]||{placed:0,weight:1},ot=tt.stackWeight/it.weight||1;if(tt.horizontal){const st=e.w*ot,at=it.size||nt.height;defined(it.start)&&(et=it.start),nt.fullSize?setBoxDims(nt,b.left,et,a.outerWidth-b.right-b.left,at):setBoxDims(nt,e.left+it.placed,et,st,at),it.start=et,it.placed+=st,et=nt.bottom}else{const st=e.h*ot,at=it.size||nt.width;defined(it.start)&&(_e=it.start),nt.fullSize?setBoxDims(nt,_e,b.top,at,a.outerHeight-b.bottom-b.top):setBoxDims(nt,_e,e.top+it.placed,at,st),it.start=_e,it.placed+=st,_e=nt.right}}e.x=_e,e.y=et}var layouts={addBox(o,e){o.boxes||(o.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(a){e.draw(a)}}]},o.boxes.push(e)},removeBox(o,e){const a=o.boxes?o.boxes.indexOf(e):-1;a!==-1&&o.boxes.splice(a,1)},configure(o,e,a){e.fullSize=a.fullSize,e.position=a.position,e.weight=a.weight},update(o,e,a,_){if(!o)return;const b=toPadding(o.options.layout.padding),_e=Math.max(e-b.width,0),et=Math.max(a-b.height,0),tt=buildLayoutBoxes(o.boxes),nt=tt.vertical,it=tt.horizontal;each(o.boxes,ft=>{typeof ft.beforeLayout=="function"&&ft.beforeLayout()});const ot=nt.reduce((ft,mt)=>mt.box.options&&mt.box.options.display===!1?ft:ft+1,0)||1,st=Object.freeze({outerWidth:e,outerHeight:a,padding:b,availableWidth:_e,availableHeight:et,vBoxMaxWidth:_e/2/ot,hBoxMaxHeight:et/2}),at=Object.assign({},b);updateMaxPadding(at,toPadding(_));const lt=Object.assign({maxPadding:at,w:_e,h:et,x:b.left,y:b.top},b),ut=setLayoutDims(nt.concat(it),st);fitBoxes(tt.fullSize,lt,st,ut),fitBoxes(nt,lt,st,ut),fitBoxes(it,lt,st,ut)&&fitBoxes(nt,lt,st,ut),handleMaxPadding(lt),placeBoxes(tt.leftAndTop,lt,st,ut),lt.x+=lt.w,lt.y+=lt.h,placeBoxes(tt.rightAndBottom,lt,st,ut),o.chartArea={left:lt.left,top:lt.top,right:lt.left+lt.w,bottom:lt.top+lt.h,height:lt.h,width:lt.w},each(tt.chartArea,ft=>{const mt=ft.box;Object.assign(mt,o.chartArea),mt.update(lt.w,lt.h,{left:0,top:0,right:0,bottom:0})})}};class BasePlatform{acquireContext(e,a){}releaseContext(e){return!1}addEventListener(e,a,_){}removeEventListener(e,a,_){}getDevicePixelRatio(){return 1}getMaximumSize(e,a,_,b){return a=Math.max(0,a||e.width),_=_||e.height,{width:a,height:Math.max(0,b?Math.floor(a/b):_)}}isAttached(e){return!0}updateConfig(e){}}class BasicPlatform extends BasePlatform{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const EXPANDO_KEY="$chartjs",EVENT_TYPES={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},isNullOrEmpty=o=>o===null||o==="";function initCanvas(o,e){const a=o.style,_=o.getAttribute("height"),b=o.getAttribute("width");if(o[EXPANDO_KEY]={initial:{height:_,width:b,style:{display:a.display,height:a.height,width:a.width}}},a.display=a.display||"block",a.boxSizing=a.boxSizing||"border-box",isNullOrEmpty(b)){const _e=readUsedSize(o,"width");_e!==void 0&&(o.width=_e)}if(isNullOrEmpty(_))if(o.style.height==="")o.height=o.width/(e||2);else{const _e=readUsedSize(o,"height");_e!==void 0&&(o.height=_e)}return o}const eventListenerOptions=supportsEventListenerOptions?{passive:!0}:!1;function addListener(o,e,a){o&&o.addEventListener(e,a,eventListenerOptions)}function removeListener(o,e,a){o&&o.canvas&&o.canvas.removeEventListener(e,a,eventListenerOptions)}function fromNativeEvent(o,e){const a=EVENT_TYPES[o.type]||o.type,{x:_,y:b}=getRelativePosition(o,e);return{type:a,chart:e,native:o,x:_!==void 0?_:null,y:b!==void 0?b:null}}function nodeListContains(o,e){for(const a of o)if(a===e||a.contains(e))return!0}function createAttachObserver(o,e,a){const _=o.canvas,b=new MutationObserver(_e=>{let et=!1;for(const tt of _e)et=et||nodeListContains(tt.addedNodes,_),et=et&&!nodeListContains(tt.removedNodes,_);et&&a()});return b.observe(document,{childList:!0,subtree:!0}),b}function createDetachObserver(o,e,a){const _=o.canvas,b=new MutationObserver(_e=>{let et=!1;for(const tt of _e)et=et||nodeListContains(tt.removedNodes,_),et=et&&!nodeListContains(tt.addedNodes,_);et&&a()});return b.observe(document,{childList:!0,subtree:!0}),b}const drpListeningCharts=new Map;let oldDevicePixelRatio=0;function onWindowResize(){const o=window.devicePixelRatio;o!==oldDevicePixelRatio&&(oldDevicePixelRatio=o,drpListeningCharts.forEach((e,a)=>{a.currentDevicePixelRatio!==o&&e()}))}function listenDevicePixelRatioChanges(o,e){drpListeningCharts.size||window.addEventListener("resize",onWindowResize),drpListeningCharts.set(o,e)}function unlistenDevicePixelRatioChanges(o){drpListeningCharts.delete(o),drpListeningCharts.size||window.removeEventListener("resize",onWindowResize)}function createResizeObserver(o,e,a){const _=o.canvas,b=_&&_getParentNode(_);if(!b)return;const _e=throttled((tt,nt)=>{const it=b.clientWidth;a(tt,nt),it<b.clientWidth&&a()},window),et=new ResizeObserver(tt=>{const nt=tt[0],it=nt.contentRect.width,ot=nt.contentRect.height;it===0&&ot===0||_e(it,ot)});return et.observe(b),listenDevicePixelRatioChanges(o,_e),et}function releaseObserver(o,e,a){a&&a.disconnect(),e==="resize"&&unlistenDevicePixelRatioChanges(o)}function createProxyAndListen(o,e,a){const _=o.canvas,b=throttled(_e=>{o.ctx!==null&&a(fromNativeEvent(_e,o))},o);return addListener(_,e,b),b}class DomPlatform extends BasePlatform{acquireContext(e,a){const _=e&&e.getContext&&e.getContext("2d");return _&&_.canvas===e?(initCanvas(e,a),_):null}releaseContext(e){const a=e.canvas;if(!a[EXPANDO_KEY])return!1;const _=a[EXPANDO_KEY].initial;["height","width"].forEach(_e=>{const et=_[_e];isNullOrUndef(et)?a.removeAttribute(_e):a.setAttribute(_e,et)});const b=_.style||{};return Object.keys(b).forEach(_e=>{a.style[_e]=b[_e]}),a.width=a.width,delete a[EXPANDO_KEY],!0}addEventListener(e,a,_){this.removeEventListener(e,a);const b=e.$proxies||(e.$proxies={}),et={attach:createAttachObserver,detach:createDetachObserver,resize:createResizeObserver}[a]||createProxyAndListen;b[a]=et(e,a,_)}removeEventListener(e,a){const _=e.$proxies||(e.$proxies={}),b=_[a];if(!b)return;({attach:releaseObserver,detach:releaseObserver,resize:releaseObserver}[a]||removeListener)(e,a,b),_[a]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,a,_,b){return getMaximumSize(e,a,_,b)}isAttached(e){const a=e&&_getParentNode(e);return!!(a&&a.isConnected)}}function _detectPlatform(o){return!_isDomSupported()||typeof OffscreenCanvas<"u"&&o instanceof OffscreenCanvas?BasicPlatform:DomPlatform}class Element{constructor(){Br(this,"x");Br(this,"y");Br(this,"active",!1);Br(this,"options");Br(this,"$animations")}tooltipPosition(e){const{x:a,y:_}=this.getProps(["x","y"],e);return{x:a,y:_}}hasValue(){return isNumber(this.x)&&isNumber(this.y)}getProps(e,a){const _=this.$animations;if(!a||!_)return this;const b={};return e.forEach(_e=>{b[_e]=_[_e]&&_[_e].active()?_[_e]._to:this[_e]}),b}}Br(Element,"defaults",{}),Br(Element,"defaultRoutes");function autoSkip(o,e){const a=o.options.ticks,_=determineMaxTicks(o),b=Math.min(a.maxTicksLimit||_,_),_e=a.major.enabled?getMajorIndices(e):[],et=_e.length,tt=_e[0],nt=_e[et-1],it=[];if(et>b)return skipMajors(e,it,_e,et/b),it;const ot=calculateSpacing(_e,e,b);if(et>0){let st,at;const lt=et>1?Math.round((nt-tt)/(et-1)):null;for(skip(e,it,ot,isNullOrUndef(lt)?0:tt-lt,tt),st=0,at=et-1;st<at;st++)skip(e,it,ot,_e[st],_e[st+1]);return skip(e,it,ot,nt,isNullOrUndef(lt)?e.length:nt+lt),it}return skip(e,it,ot),it}function determineMaxTicks(o){const e=o.options.offset,a=o._tickSize(),_=o._length/a+(e?0:1),b=o._maxLength/a;return Math.floor(Math.min(_,b))}function calculateSpacing(o,e,a){const _=getEvenSpacing(o),b=e.length/a;if(!_)return Math.max(b,1);const _e=_factorize(_);for(let et=0,tt=_e.length-1;et<tt;et++){const nt=_e[et];if(nt>b)return nt}return Math.max(b,1)}function getMajorIndices(o){const e=[];let a,_;for(a=0,_=o.length;a<_;a++)o[a].major&&e.push(a);return e}function skipMajors(o,e,a,_){let b=0,_e=a[0],et;for(_=Math.ceil(_),et=0;et<o.length;et++)et===_e&&(e.push(o[et]),b++,_e=a[b*_])}function skip(o,e,a,_,b){const _e=valueOrDefault(_,0),et=Math.min(valueOrDefault(b,o.length),o.length);let tt=0,nt,it,ot;for(a=Math.ceil(a),b&&(nt=b-_,a=nt/Math.floor(nt/a)),ot=_e;ot<0;)tt++,ot=Math.round(_e+tt*a);for(it=Math.max(_e,0);it<et;it++)it===ot&&(e.push(o[it]),tt++,ot=Math.round(_e+tt*a))}function getEvenSpacing(o){const e=o.length;let a,_;if(e<2)return!1;for(_=o[0],a=1;a<e;++a)if(o[a]-o[a-1]!==_)return!1;return _}const reverseAlign=o=>o==="left"?"right":o==="right"?"left":o,offsetFromEdge=(o,e,a)=>e==="top"||e==="left"?o[e]+a:o[e]-a,getTicksLimit=(o,e)=>Math.min(e||o,o);function sample(o,e){const a=[],_=o.length/e,b=o.length;let _e=0;for(;_e<b;_e+=_)a.push(o[Math.floor(_e)]);return a}function getPixelForGridLine(o,e,a){const _=o.ticks.length,b=Math.min(e,_-1),_e=o._startPixel,et=o._endPixel,tt=1e-6;let nt=o.getPixelForTick(b),it;if(!(a&&(_===1?it=Math.max(nt-_e,et-nt):e===0?it=(o.getPixelForTick(1)-nt)/2:it=(nt-o.getPixelForTick(b-1))/2,nt+=b<e?it:-it,nt<_e-tt||nt>et+tt)))return nt}function garbageCollect(o,e){each(o,a=>{const _=a.gc,b=_.length/2;let _e;if(b>e){for(_e=0;_e<b;++_e)delete a.data[_[_e]];_.splice(0,b)}})}function getTickMarkLength(o){return o.drawTicks?o.tickLength:0}function getTitleHeight(o,e){if(!o.display)return 0;const a=toFont(o.font,e),_=toPadding(o.padding);return(isArray(o.text)?o.text.length:1)*a.lineHeight+_.height}function createScaleContext(o,e){return createContext(o,{scale:e,type:"scale"})}function createTickContext(o,e,a){return createContext(o,{tick:a,index:e,type:"tick"})}function titleAlign(o,e,a){let _=_toLeftRightCenter(o);return(a&&e!=="right"||!a&&e==="right")&&(_=reverseAlign(_)),_}function titleArgs(o,e,a,_){const{top:b,left:_e,bottom:et,right:tt,chart:nt}=o,{chartArea:it,scales:ot}=nt;let st=0,at,lt,ut;const ft=et-b,mt=tt-_e;if(o.isHorizontal()){if(lt=_alignStartEnd(_,_e,tt),isObject(a)){const ht=Object.keys(a)[0],vt=a[ht];ut=ot[ht].getPixelForValue(vt)+ft-e}else a==="center"?ut=(it.bottom+it.top)/2+ft-e:ut=offsetFromEdge(o,a,e);at=tt-_e}else{if(isObject(a)){const ht=Object.keys(a)[0],vt=a[ht];lt=ot[ht].getPixelForValue(vt)-mt+e}else a==="center"?lt=(it.left+it.right)/2-mt+e:lt=offsetFromEdge(o,a,e);ut=_alignStartEnd(_,et,b),st=a==="left"?-HALF_PI:HALF_PI}return{titleX:lt,titleY:ut,maxWidth:at,rotation:st}}class Scale extends Element{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,a){return e}getUserBounds(){let{_userMin:e,_userMax:a,_suggestedMin:_,_suggestedMax:b}=this;return e=finiteOrDefault(e,Number.POSITIVE_INFINITY),a=finiteOrDefault(a,Number.NEGATIVE_INFINITY),_=finiteOrDefault(_,Number.POSITIVE_INFINITY),b=finiteOrDefault(b,Number.NEGATIVE_INFINITY),{min:finiteOrDefault(e,_),max:finiteOrDefault(a,b),minDefined:isNumberFinite(e),maxDefined:isNumberFinite(a)}}getMinMax(e){let{min:a,max:_,minDefined:b,maxDefined:_e}=this.getUserBounds(),et;if(b&&_e)return{min:a,max:_};const tt=this.getMatchingVisibleMetas();for(let nt=0,it=tt.length;nt<it;++nt)et=tt[nt].controller.getMinMax(this,e),b||(a=Math.min(a,et.min)),_e||(_=Math.max(_,et.max));return a=_e&&a>_?_:a,_=b&&a>_?a:_,{min:finiteOrDefault(a,finiteOrDefault(_,a)),max:finiteOrDefault(_,finiteOrDefault(a,_))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){callback(this.options.beforeUpdate,[this])}update(e,a,_){const{beginAtZero:b,grace:_e,ticks:et}=this.options,tt=et.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=a,this._margins=_=Object.assign({left:0,right:0,top:0,bottom:0},_),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+_.left+_.right:this.height+_.top+_.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=_addGrace(this,_e,b),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const nt=tt<this.ticks.length;this._convertTicksToLabels(nt?sample(this.ticks,tt):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),et.display&&(et.autoSkip||et.source==="auto")&&(this.ticks=autoSkip(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),nt&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,a,_;this.isHorizontal()?(a=this.left,_=this.right):(a=this.top,_=this.bottom,e=!e),this._startPixel=a,this._endPixel=_,this._reversePixels=e,this._length=_-a,this._alignToPixels=this.options.alignToPixels}afterUpdate(){callback(this.options.afterUpdate,[this])}beforeSetDimensions(){callback(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){callback(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),callback(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){callback(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const a=this.options.ticks;let _,b,_e;for(_=0,b=e.length;_<b;_++)_e=e[_],_e.label=callback(a.callback,[_e.value,_,e],this)}afterTickToLabelConversion(){callback(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){callback(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,a=e.ticks,_=getTicksLimit(this.ticks.length,e.ticks.maxTicksLimit),b=a.minRotation||0,_e=a.maxRotation;let et=b,tt,nt,it;if(!this._isVisible()||!a.display||b>=_e||_<=1||!this.isHorizontal()){this.labelRotation=b;return}const ot=this._getLabelSizes(),st=ot.widest.width,at=ot.highest.height,lt=_limitValue(this.chart.width-st,0,this.maxWidth);tt=e.offset?this.maxWidth/_:lt/(_-1),st+6>tt&&(tt=lt/(_-(e.offset?.5:1)),nt=this.maxHeight-getTickMarkLength(e.grid)-a.padding-getTitleHeight(e.title,this.chart.options.font),it=Math.sqrt(st*st+at*at),et=toDegrees(Math.min(Math.asin(_limitValue((ot.highest.height+6)/tt,-1,1)),Math.asin(_limitValue(nt/it,-1,1))-Math.asin(_limitValue(at/it,-1,1)))),et=Math.max(b,Math.min(_e,et))),this.labelRotation=et}afterCalculateLabelRotation(){callback(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){callback(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:a,options:{ticks:_,title:b,grid:_e}}=this,et=this._isVisible(),tt=this.isHorizontal();if(et){const nt=getTitleHeight(b,a.options.font);if(tt?(e.width=this.maxWidth,e.height=getTickMarkLength(_e)+nt):(e.height=this.maxHeight,e.width=getTickMarkLength(_e)+nt),_.display&&this.ticks.length){const{first:it,last:ot,widest:st,highest:at}=this._getLabelSizes(),lt=_.padding*2,ut=toRadians(this.labelRotation),ft=Math.cos(ut),mt=Math.sin(ut);if(tt){const ht=_.mirror?0:mt*st.width+ft*at.height;e.height=Math.min(this.maxHeight,e.height+ht+lt)}else{const ht=_.mirror?0:ft*st.width+mt*at.height;e.width=Math.min(this.maxWidth,e.width+ht+lt)}this._calculatePadding(it,ot,mt,ft)}}this._handleMargins(),tt?(this.width=this._length=a.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=a.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,a,_,b){const{ticks:{align:_e,padding:et},position:tt}=this.options,nt=this.labelRotation!==0,it=tt!=="top"&&this.axis==="x";if(this.isHorizontal()){const ot=this.getPixelForTick(0)-this.left,st=this.right-this.getPixelForTick(this.ticks.length-1);let at=0,lt=0;nt?it?(at=b*e.width,lt=_*a.height):(at=_*e.height,lt=b*a.width):_e==="start"?lt=a.width:_e==="end"?at=e.width:_e!=="inner"&&(at=e.width/2,lt=a.width/2),this.paddingLeft=Math.max((at-ot+et)*this.width/(this.width-ot),0),this.paddingRight=Math.max((lt-st+et)*this.width/(this.width-st),0)}else{let ot=a.height/2,st=e.height/2;_e==="start"?(ot=0,st=e.height):_e==="end"&&(ot=a.height,st=0),this.paddingTop=ot+et,this.paddingBottom=st+et}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){callback(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:a}=this.options;return a==="top"||a==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let a,_;for(a=0,_=e.length;a<_;a++)isNullOrUndef(e[a].label)&&(e.splice(a,1),_--,a--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const a=this.options.ticks.sampleSize;let _=this.ticks;a<_.length&&(_=sample(_,a)),this._labelSizes=e=this._computeLabelSizes(_,_.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,a,_){const{ctx:b,_longestTextCache:_e}=this,et=[],tt=[],nt=Math.floor(a/getTicksLimit(a,_));let it=0,ot=0,st,at,lt,ut,ft,mt,ht,vt,Et,At,Ct;for(st=0;st<a;st+=nt){if(ut=e[st].label,ft=this._resolveTickFontOptions(st),b.font=mt=ft.string,ht=_e[mt]=_e[mt]||{data:{},gc:[]},vt=ft.lineHeight,Et=At=0,!isNullOrUndef(ut)&&!isArray(ut))Et=_measureText(b,ht.data,ht.gc,Et,ut),At=vt;else if(isArray(ut))for(at=0,lt=ut.length;at<lt;++at)Ct=ut[at],!isNullOrUndef(Ct)&&!isArray(Ct)&&(Et=_measureText(b,ht.data,ht.gc,Et,Ct),At+=vt);et.push(Et),tt.push(At),it=Math.max(Et,it),ot=Math.max(At,ot)}garbageCollect(_e,a);const Mt=et.indexOf(it),Bt=tt.indexOf(ot),Lt=jt=>({width:et[jt]||0,height:tt[jt]||0});return{first:Lt(0),last:Lt(a-1),widest:Lt(Mt),highest:Lt(Bt),widths:et,heights:tt}}getLabelForValue(e){return e}getPixelForValue(e,a){return NaN}getValueForPixel(e){}getPixelForTick(e){const a=this.ticks;return e<0||e>a.length-1?null:this.getPixelForValue(a[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const a=this._startPixel+e*this._length;return _int16Range(this._alignToPixels?_alignPixel(this.chart,a,0):a)}getDecimalForPixel(e){const a=(e-this._startPixel)/this._length;return this._reversePixels?1-a:a}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:a}=this;return e<0&&a<0?a:e>0&&a>0?e:0}getContext(e){const a=this.ticks||[];if(e>=0&&e<a.length){const _=a[e];return _.$context||(_.$context=createTickContext(this.getContext(),e,_))}return this.$context||(this.$context=createScaleContext(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,a=toRadians(this.labelRotation),_=Math.abs(Math.cos(a)),b=Math.abs(Math.sin(a)),_e=this._getLabelSizes(),et=e.autoSkipPadding||0,tt=_e?_e.widest.width+et:0,nt=_e?_e.highest.height+et:0;return this.isHorizontal()?nt*_>tt*b?tt/_:nt/b:nt*b<tt*_?nt/_:tt/b}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const a=this.axis,_=this.chart,b=this.options,{grid:_e,position:et,border:tt}=b,nt=_e.offset,it=this.isHorizontal(),st=this.ticks.length+(nt?1:0),at=getTickMarkLength(_e),lt=[],ut=tt.setContext(this.getContext()),ft=ut.display?ut.width:0,mt=ft/2,ht=function(wt){return _alignPixel(_,wt,ft)};let vt,Et,At,Ct,Mt,Bt,Lt,jt,Vt,Nt,kt,_t;if(et==="top")vt=ht(this.bottom),Bt=this.bottom-at,jt=vt-mt,Nt=ht(e.top)+mt,_t=e.bottom;else if(et==="bottom")vt=ht(this.top),Nt=e.top,_t=ht(e.bottom)-mt,Bt=vt+mt,jt=this.top+at;else if(et==="left")vt=ht(this.right),Mt=this.right-at,Lt=vt-mt,Vt=ht(e.left)+mt,kt=e.right;else if(et==="right")vt=ht(this.left),Vt=e.left,kt=ht(e.right)-mt,Mt=vt+mt,Lt=this.left+at;else if(a==="x"){if(et==="center")vt=ht((e.top+e.bottom)/2+.5);else if(isObject(et)){const wt=Object.keys(et)[0],gt=et[wt];vt=ht(this.chart.scales[wt].getPixelForValue(gt))}Nt=e.top,_t=e.bottom,Bt=vt+mt,jt=Bt+at}else if(a==="y"){if(et==="center")vt=ht((e.left+e.right)/2);else if(isObject(et)){const wt=Object.keys(et)[0],gt=et[wt];vt=ht(this.chart.scales[wt].getPixelForValue(gt))}Mt=vt-mt,Lt=Mt-at,Vt=e.left,kt=e.right}const ct=valueOrDefault(b.ticks.maxTicksLimit,st),dt=Math.max(1,Math.ceil(st/ct));for(Et=0;Et<st;Et+=dt){const wt=this.getContext(Et),gt=_e.setContext(wt),bt=tt.setContext(wt),xt=gt.lineWidth,yt=gt.color,St=bt.dash||[],pt=bt.dashOffset,Tt=gt.tickWidth,Ht=gt.tickColor,Wt=gt.tickBorderDash||[],Ut=gt.tickBorderDashOffset;At=getPixelForGridLine(this,Et,nt),At!==void 0&&(Ct=_alignPixel(_,At,xt),it?Mt=Lt=Vt=kt=Ct:Bt=jt=Nt=_t=Ct,lt.push({tx1:Mt,ty1:Bt,tx2:Lt,ty2:jt,x1:Vt,y1:Nt,x2:kt,y2:_t,width:xt,color:yt,borderDash:St,borderDashOffset:pt,tickWidth:Tt,tickColor:Ht,tickBorderDash:Wt,tickBorderDashOffset:Ut}))}return this._ticksLength=st,this._borderValue=vt,lt}_computeLabelItems(e){const a=this.axis,_=this.options,{position:b,ticks:_e}=_,et=this.isHorizontal(),tt=this.ticks,{align:nt,crossAlign:it,padding:ot,mirror:st}=_e,at=getTickMarkLength(_.grid),lt=at+ot,ut=st?-ot:lt,ft=-toRadians(this.labelRotation),mt=[];let ht,vt,Et,At,Ct,Mt,Bt,Lt,jt,Vt,Nt,kt,_t="middle";if(b==="top")Mt=this.bottom-ut,Bt=this._getXAxisLabelAlignment();else if(b==="bottom")Mt=this.top+ut,Bt=this._getXAxisLabelAlignment();else if(b==="left"){const dt=this._getYAxisLabelAlignment(at);Bt=dt.textAlign,Ct=dt.x}else if(b==="right"){const dt=this._getYAxisLabelAlignment(at);Bt=dt.textAlign,Ct=dt.x}else if(a==="x"){if(b==="center")Mt=(e.top+e.bottom)/2+lt;else if(isObject(b)){const dt=Object.keys(b)[0],wt=b[dt];Mt=this.chart.scales[dt].getPixelForValue(wt)+lt}Bt=this._getXAxisLabelAlignment()}else if(a==="y"){if(b==="center")Ct=(e.left+e.right)/2-lt;else if(isObject(b)){const dt=Object.keys(b)[0],wt=b[dt];Ct=this.chart.scales[dt].getPixelForValue(wt)}Bt=this._getYAxisLabelAlignment(at).textAlign}a==="y"&&(nt==="start"?_t="top":nt==="end"&&(_t="bottom"));const ct=this._getLabelSizes();for(ht=0,vt=tt.length;ht<vt;++ht){Et=tt[ht],At=Et.label;const dt=_e.setContext(this.getContext(ht));Lt=this.getPixelForTick(ht)+_e.labelOffset,jt=this._resolveTickFontOptions(ht),Vt=jt.lineHeight,Nt=isArray(At)?At.length:1;const wt=Nt/2,gt=dt.color,bt=dt.textStrokeColor,xt=dt.textStrokeWidth;let yt=Bt;et?(Ct=Lt,Bt==="inner"&&(ht===vt-1?yt=this.options.reverse?"left":"right":ht===0?yt=this.options.reverse?"right":"left":yt="center"),b==="top"?it==="near"||ft!==0?kt=-Nt*Vt+Vt/2:it==="center"?kt=-ct.highest.height/2-wt*Vt+Vt:kt=-ct.highest.height+Vt/2:it==="near"||ft!==0?kt=Vt/2:it==="center"?kt=ct.highest.height/2-wt*Vt:kt=ct.highest.height-Nt*Vt,st&&(kt*=-1),ft!==0&&!dt.showLabelBackdrop&&(Ct+=Vt/2*Math.sin(ft))):(Mt=Lt,kt=(1-Nt)*Vt/2);let St;if(dt.showLabelBackdrop){const pt=toPadding(dt.backdropPadding),Tt=ct.heights[ht],Ht=ct.widths[ht];let Wt=kt-pt.top,Ut=0-pt.left;switch(_t){case"middle":Wt-=Tt/2;break;case"bottom":Wt-=Tt;break}switch(Bt){case"center":Ut-=Ht/2;break;case"right":Ut-=Ht;break;case"inner":ht===vt-1?Ut-=Ht:ht>0&&(Ut-=Ht/2);break}St={left:Ut,top:Wt,width:Ht+pt.width,height:Tt+pt.height,color:dt.backdropColor}}mt.push({label:At,font:jt,textOffset:kt,options:{rotation:ft,color:gt,strokeColor:bt,strokeWidth:xt,textAlign:yt,textBaseline:_t,translation:[Ct,Mt],backdrop:St}})}return mt}_getXAxisLabelAlignment(){const{position:e,ticks:a}=this.options;if(-toRadians(this.labelRotation))return e==="top"?"left":"right";let b="center";return a.align==="start"?b="left":a.align==="end"?b="right":a.align==="inner"&&(b="inner"),b}_getYAxisLabelAlignment(e){const{position:a,ticks:{crossAlign:_,mirror:b,padding:_e}}=this.options,et=this._getLabelSizes(),tt=e+_e,nt=et.widest.width;let it,ot;return a==="left"?b?(ot=this.right+_e,_==="near"?it="left":_==="center"?(it="center",ot+=nt/2):(it="right",ot+=nt)):(ot=this.right-tt,_==="near"?it="right":_==="center"?(it="center",ot-=nt/2):(it="left",ot=this.left)):a==="right"?b?(ot=this.left+_e,_==="near"?it="right":_==="center"?(it="center",ot-=nt/2):(it="left",ot-=nt)):(ot=this.left+tt,_==="near"?it="left":_==="center"?(it="center",ot+=nt/2):(it="right",ot=this.right)):it="right",{textAlign:it,x:ot}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,a=this.options.position;if(a==="left"||a==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(a==="top"||a==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:a},left:_,top:b,width:_e,height:et}=this;a&&(e.save(),e.fillStyle=a,e.fillRect(_,b,_e,et),e.restore())}getLineWidthForValue(e){const a=this.options.grid;if(!this._isVisible()||!a.display)return 0;const b=this.ticks.findIndex(_e=>_e.value===e);return b>=0?a.setContext(this.getContext(b)).lineWidth:0}drawGrid(e){const a=this.options.grid,_=this.ctx,b=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let _e,et;const tt=(nt,it,ot)=>{!ot.width||!ot.color||(_.save(),_.lineWidth=ot.width,_.strokeStyle=ot.color,_.setLineDash(ot.borderDash||[]),_.lineDashOffset=ot.borderDashOffset,_.beginPath(),_.moveTo(nt.x,nt.y),_.lineTo(it.x,it.y),_.stroke(),_.restore())};if(a.display)for(_e=0,et=b.length;_e<et;++_e){const nt=b[_e];a.drawOnChartArea&&tt({x:nt.x1,y:nt.y1},{x:nt.x2,y:nt.y2},nt),a.drawTicks&&tt({x:nt.tx1,y:nt.ty1},{x:nt.tx2,y:nt.ty2},{color:nt.tickColor,width:nt.tickWidth,borderDash:nt.tickBorderDash,borderDashOffset:nt.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:a,options:{border:_,grid:b}}=this,_e=_.setContext(this.getContext()),et=_.display?_e.width:0;if(!et)return;const tt=b.setContext(this.getContext(0)).lineWidth,nt=this._borderValue;let it,ot,st,at;this.isHorizontal()?(it=_alignPixel(e,this.left,et)-et/2,ot=_alignPixel(e,this.right,tt)+tt/2,st=at=nt):(st=_alignPixel(e,this.top,et)-et/2,at=_alignPixel(e,this.bottom,tt)+tt/2,it=ot=nt),a.save(),a.lineWidth=_e.width,a.strokeStyle=_e.color,a.beginPath(),a.moveTo(it,st),a.lineTo(ot,at),a.stroke(),a.restore()}drawLabels(e){if(!this.options.ticks.display)return;const _=this.ctx,b=this._computeLabelArea();b&&clipArea(_,b);const _e=this.getLabelItems(e);for(const et of _e){const tt=et.options,nt=et.font,it=et.label,ot=et.textOffset;renderText(_,it,0,ot,nt,tt)}b&&unclipArea(_)}drawTitle(){const{ctx:e,options:{position:a,title:_,reverse:b}}=this;if(!_.display)return;const _e=toFont(_.font),et=toPadding(_.padding),tt=_.align;let nt=_e.lineHeight/2;a==="bottom"||a==="center"||isObject(a)?(nt+=et.bottom,isArray(_.text)&&(nt+=_e.lineHeight*(_.text.length-1))):nt+=et.top;const{titleX:it,titleY:ot,maxWidth:st,rotation:at}=titleArgs(this,nt,a,tt);renderText(e,_.text,0,0,_e,{color:_.color,maxWidth:st,rotation:at,textAlign:titleAlign(tt,a,b),textBaseline:"middle",translation:[it,ot]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,a=e.ticks&&e.ticks.z||0,_=valueOrDefault(e.grid&&e.grid.z,-1),b=valueOrDefault(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Scale.prototype.draw?[{z:a,draw:_e=>{this.draw(_e)}}]:[{z:_,draw:_e=>{this.drawBackground(),this.drawGrid(_e),this.drawTitle()}},{z:b,draw:()=>{this.drawBorder()}},{z:a,draw:_e=>{this.drawLabels(_e)}}]}getMatchingVisibleMetas(e){const a=this.chart.getSortedVisibleDatasetMetas(),_=this.axis+"AxisID",b=[];let _e,et;for(_e=0,et=a.length;_e<et;++_e){const tt=a[_e];tt[_]===this.id&&(!e||tt.type===e)&&b.push(tt)}return b}_resolveTickFontOptions(e){const a=this.options.ticks.setContext(this.getContext(e));return toFont(a.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class TypedRegistry{constructor(e,a,_){this.type=e,this.scope=a,this.override=_,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const a=Object.getPrototypeOf(e);let _;isIChartComponent(a)&&(_=this.register(a));const b=this.items,_e=e.id,et=this.scope+"."+_e;if(!_e)throw new Error("class does not have id: "+e);return _e in b||(b[_e]=e,registerDefaults(e,et,_),this.override&&defaults.override(e.id,e.overrides)),et}get(e){return this.items[e]}unregister(e){const a=this.items,_=e.id,b=this.scope;_ in a&&delete a[_],b&&_ in defaults[b]&&(delete defaults[b][_],this.override&&delete overrides[_])}}function registerDefaults(o,e,a){const _=merge(Object.create(null),[a?defaults.get(a):{},defaults.get(e),o.defaults]);defaults.set(e,_),o.defaultRoutes&&routeDefaults(e,o.defaultRoutes),o.descriptors&&defaults.describe(e,o.descriptors)}function routeDefaults(o,e){Object.keys(e).forEach(a=>{const _=a.split("."),b=_.pop(),_e=[o].concat(_).join("."),et=e[a].split("."),tt=et.pop(),nt=et.join(".");defaults.route(_e,b,nt,tt)})}function isIChartComponent(o){return"id"in o&&"defaults"in o}class Registry{constructor(){this.controllers=new TypedRegistry(DatasetController,"datasets",!0),this.elements=new TypedRegistry(Element,"elements"),this.plugins=new TypedRegistry(Object,"plugins"),this.scales=new TypedRegistry(Scale,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,a,_){[...a].forEach(b=>{const _e=_||this._getRegistryForType(b);_||_e.isForType(b)||_e===this.plugins&&b.id?this._exec(e,_e,b):each(b,et=>{const tt=_||this._getRegistryForType(et);this._exec(e,tt,et)})})}_exec(e,a,_){const b=_capitalize(e);callback(_["before"+b],[],_),a[e](_),callback(_["after"+b],[],_)}_getRegistryForType(e){for(let a=0;a<this._typedRegistries.length;a++){const _=this._typedRegistries[a];if(_.isForType(e))return _}return this.plugins}_get(e,a,_){const b=a.get(e);if(b===void 0)throw new Error('"'+e+'" is not a registered '+_+".");return b}}var registry=new Registry;class PluginService{constructor(){this._init=void 0}notify(e,a,_,b){if(a==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const _e=b?this._descriptors(e).filter(b):this._descriptors(e),et=this._notify(_e,e,a,_);return a==="afterDestroy"&&(this._notify(_e,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),et}_notify(e,a,_,b){b=b||{};for(const _e of e){const et=_e.plugin,tt=et[_],nt=[a,b,_e.options];if(callback(tt,nt,et)===!1&&b.cancelable)return!1}return!0}invalidate(){isNullOrUndef(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const a=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),a}_createDescriptors(e,a){const _=e&&e.config,b=valueOrDefault(_.options&&_.options.plugins,{}),_e=allPlugins(_);return b===!1&&!a?[]:createDescriptors(e,_e,b,a)}_notifyStateChanges(e){const a=this._oldCache||[],_=this._cache,b=(_e,et)=>_e.filter(tt=>!et.some(nt=>tt.plugin.id===nt.plugin.id));this._notify(b(a,_),e,"stop"),this._notify(b(_,a),e,"start")}}function allPlugins(o){const e={},a=[],_=Object.keys(registry.plugins.items);for(let _e=0;_e<_.length;_e++)a.push(registry.getPlugin(_[_e]));const b=o.plugins||[];for(let _e=0;_e<b.length;_e++){const et=b[_e];a.indexOf(et)===-1&&(a.push(et),e[et.id]=!0)}return{plugins:a,localIds:e}}function getOpts(o,e){return!e&&o===!1?null:o===!0?{}:o}function createDescriptors(o,{plugins:e,localIds:a},_,b){const _e=[],et=o.getContext();for(const tt of e){const nt=tt.id,it=getOpts(_[nt],b);it!==null&&_e.push({plugin:tt,options:pluginOpts(o.config,{plugin:tt,local:a[nt]},it,et)})}return _e}function pluginOpts(o,{plugin:e,local:a},_,b){const _e=o.pluginScopeKeys(e),et=o.getOptionScopes(_,_e);return a&&e.defaults&&et.push(e.defaults),o.createResolver(et,b,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function getIndexAxis(o,e){const a=defaults.datasets[o]||{};return((e.datasets||{})[o]||{}).indexAxis||e.indexAxis||a.indexAxis||"x"}function getAxisFromDefaultScaleID(o,e){let a=o;return o==="_index_"?a=e:o==="_value_"&&(a=e==="x"?"y":"x"),a}function getDefaultScaleIDFromAxis(o,e){return o===e?"_index_":"_value_"}function idMatchesAxis(o){if(o==="x"||o==="y"||o==="r")return o}function axisFromPosition(o){if(o==="top"||o==="bottom")return"x";if(o==="left"||o==="right")return"y"}function determineAxis(o,...e){if(idMatchesAxis(o))return o;for(const a of e){const _=a.axis||axisFromPosition(a.position)||o.length>1&&idMatchesAxis(o[0].toLowerCase());if(_)return _}throw new Error(`Cannot determine type of '${o}' axis. Please provide 'axis' or 'position' option.`)}function getAxisFromDataset(o,e,a){if(a[e+"AxisID"]===o)return{axis:e}}function retrieveAxisFromDatasets(o,e){if(e.data&&e.data.datasets){const a=e.data.datasets.filter(_=>_.xAxisID===o||_.yAxisID===o);if(a.length)return getAxisFromDataset(o,"x",a[0])||getAxisFromDataset(o,"y",a[0])}return{}}function mergeScaleConfig(o,e){const a=overrides[o.type]||{scales:{}},_=e.scales||{},b=getIndexAxis(o.type,e),_e=Object.create(null);return Object.keys(_).forEach(et=>{const tt=_[et];if(!isObject(tt))return console.error(`Invalid scale configuration for scale: ${et}`);if(tt._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${et}`);const nt=determineAxis(et,tt,retrieveAxisFromDatasets(et,o),defaults.scales[tt.type]),it=getDefaultScaleIDFromAxis(nt,b),ot=a.scales||{};_e[et]=mergeIf(Object.create(null),[{axis:nt},tt,ot[nt],ot[it]])}),o.data.datasets.forEach(et=>{const tt=et.type||o.type,nt=et.indexAxis||getIndexAxis(tt,e),ot=(overrides[tt]||{}).scales||{};Object.keys(ot).forEach(st=>{const at=getAxisFromDefaultScaleID(st,nt),lt=et[at+"AxisID"]||at;_e[lt]=_e[lt]||Object.create(null),mergeIf(_e[lt],[{axis:at},_[lt],ot[st]])})}),Object.keys(_e).forEach(et=>{const tt=_e[et];mergeIf(tt,[defaults.scales[tt.type],defaults.scale])}),_e}function initOptions(o){const e=o.options||(o.options={});e.plugins=valueOrDefault(e.plugins,{}),e.scales=mergeScaleConfig(o,e)}function initData(o){return o=o||{},o.datasets=o.datasets||[],o.labels=o.labels||[],o}function initConfig(o){return o=o||{},o.data=initData(o.data),initOptions(o),o}const keyCache=new Map,keysCached=new Set;function cachedKeys(o,e){let a=keyCache.get(o);return a||(a=e(),keyCache.set(o,a),keysCached.add(a)),a}const addIfFound=(o,e,a)=>{const _=resolveObjectKey(e,a);_!==void 0&&o.add(_)};class Config{constructor(e){this._config=initConfig(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=initData(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),initOptions(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return cachedKeys(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,a){return cachedKeys(`${e}.transition.${a}`,()=>[[`datasets.${e}.transitions.${a}`,`transitions.${a}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,a){return cachedKeys(`${e}-${a}`,()=>[[`datasets.${e}.elements.${a}`,`datasets.${e}`,`elements.${a}`,""]])}pluginScopeKeys(e){const a=e.id,_=this.type;return cachedKeys(`${_}-plugin-${a}`,()=>[[`plugins.${a}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,a){const _=this._scopeCache;let b=_.get(e);return(!b||a)&&(b=new Map,_.set(e,b)),b}getOptionScopes(e,a,_){const{options:b,type:_e}=this,et=this._cachedScopes(e,_),tt=et.get(a);if(tt)return tt;const nt=new Set;a.forEach(ot=>{e&&(nt.add(e),ot.forEach(st=>addIfFound(nt,e,st))),ot.forEach(st=>addIfFound(nt,b,st)),ot.forEach(st=>addIfFound(nt,overrides[_e]||{},st)),ot.forEach(st=>addIfFound(nt,defaults,st)),ot.forEach(st=>addIfFound(nt,descriptors,st))});const it=Array.from(nt);return it.length===0&&it.push(Object.create(null)),keysCached.has(a)&&et.set(a,it),it}chartOptionScopes(){const{options:e,type:a}=this;return[e,overrides[a]||{},defaults.datasets[a]||{},{type:a},defaults,descriptors]}resolveNamedOptions(e,a,_,b=[""]){const _e={$shared:!0},{resolver:et,subPrefixes:tt}=getResolver(this._resolverCache,e,b);let nt=et;if(needContext(et,a)){_e.$shared=!1,_=isFunction(_)?_():_;const it=this.createResolver(e,_,tt);nt=_attachContext(et,_,it)}for(const it of a)_e[it]=nt[it];return _e}createResolver(e,a,_=[""],b){const{resolver:_e}=getResolver(this._resolverCache,e,_);return isObject(a)?_attachContext(_e,a,void 0,b):_e}}function getResolver(o,e,a){let _=o.get(e);_||(_=new Map,o.set(e,_));const b=a.join();let _e=_.get(b);return _e||(_e={resolver:_createResolver(e,a),subPrefixes:a.filter(tt=>!tt.toLowerCase().includes("hover"))},_.set(b,_e)),_e}const hasFunction=o=>isObject(o)&&Object.getOwnPropertyNames(o).some(e=>isFunction(o[e]));function needContext(o,e){const{isScriptable:a,isIndexable:_}=_descriptors(o);for(const b of e){const _e=a(b),et=_(b),tt=(et||_e)&&o[b];if(_e&&(isFunction(tt)||hasFunction(tt))||et&&isArray(tt))return!0}return!1}var version="4.5.1";const KNOWN_POSITIONS=["top","bottom","left","right","chartArea"];function positionIsHorizontal(o,e){return o==="top"||o==="bottom"||KNOWN_POSITIONS.indexOf(o)===-1&&e==="x"}function compare2Level(o,e){return function(a,_){return a[o]===_[o]?a[e]-_[e]:a[o]-_[o]}}function onAnimationsComplete(o){const e=o.chart,a=e.options.animation;e.notifyPlugins("afterRender"),callback(a&&a.onComplete,[o],e)}function onAnimationProgress(o){const e=o.chart,a=e.options.animation;callback(a&&a.onProgress,[o],e)}function getCanvas(o){return _isDomSupported()&&typeof o=="string"?o=document.getElementById(o):o&&o.length&&(o=o[0]),o&&o.canvas&&(o=o.canvas),o}const instances={},getChart=o=>{const e=getCanvas(o);return Object.values(instances).filter(a=>a.canvas===e).pop()};function moveNumericKeys(o,e,a){const _=Object.keys(o);for(const b of _){const _e=+b;if(_e>=e){const et=o[b];delete o[b],(a>0||_e>e)&&(o[_e+a]=et)}}}function determineLastEvent(o,e,a,_){return!a||o.type==="mouseout"?null:_?e:o}var fn;let Chart$1=(fn=class{static register(...e){registry.add(...e),invalidatePlugins()}static unregister(...e){registry.remove(...e),invalidatePlugins()}constructor(e,a){const _=this.config=new Config(a),b=getCanvas(e),_e=getChart(b);if(_e)throw new Error("Canvas is already in use. Chart with ID '"+_e.id+"' must be destroyed before the canvas with ID '"+_e.canvas.id+"' can be reused.");const et=_.createResolver(_.chartOptionScopes(),this.getContext());this.platform=new(_.platform||_detectPlatform(b)),this.platform.updateConfig(_);const tt=this.platform.acquireContext(b,et.aspectRatio),nt=tt&&tt.canvas,it=nt&&nt.height,ot=nt&&nt.width;if(this.id=uid(),this.ctx=tt,this.canvas=nt,this.width=ot,this.height=it,this._options=et,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new PluginService,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=debounce(st=>this.update(st),et.resizeDelay||0),this._dataChanges=[],instances[this.id]=this,!tt||!nt){console.error("Failed to create chart: can't acquire context from the given item");return}animator.listen(this,"complete",onAnimationsComplete),animator.listen(this,"progress",onAnimationProgress),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:a},width:_,height:b,_aspectRatio:_e}=this;return isNullOrUndef(e)?a&&_e?_e:b?_/b:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return registry}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():retinaScale(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return clearCanvas(this.canvas,this.ctx),this}stop(){return animator.stop(this),this}resize(e,a){animator.running(this)?this._resizeBeforeDraw={width:e,height:a}:this._resize(e,a)}_resize(e,a){const _=this.options,b=this.canvas,_e=_.maintainAspectRatio&&this.aspectRatio,et=this.platform.getMaximumSize(b,e,a,_e),tt=_.devicePixelRatio||this.platform.getDevicePixelRatio(),nt=this.width?"resize":"attach";this.width=et.width,this.height=et.height,this._aspectRatio=this.aspectRatio,retinaScale(this,tt,!0)&&(this.notifyPlugins("resize",{size:et}),callback(_.onResize,[this,et],this),this.attached&&this._doResize(nt)&&this.render())}ensureScalesHaveIDs(){const a=this.options.scales||{};each(a,(_,b)=>{_.id=b})}buildOrUpdateScales(){const e=this.options,a=e.scales,_=this.scales,b=Object.keys(_).reduce((et,tt)=>(et[tt]=!1,et),{});let _e=[];a&&(_e=_e.concat(Object.keys(a).map(et=>{const tt=a[et],nt=determineAxis(et,tt),it=nt==="r",ot=nt==="x";return{options:tt,dposition:it?"chartArea":ot?"bottom":"left",dtype:it?"radialLinear":ot?"category":"linear"}}))),each(_e,et=>{const tt=et.options,nt=tt.id,it=determineAxis(nt,tt),ot=valueOrDefault(tt.type,et.dtype);(tt.position===void 0||positionIsHorizontal(tt.position,it)!==positionIsHorizontal(et.dposition))&&(tt.position=et.dposition),b[nt]=!0;let st=null;if(nt in _&&_[nt].type===ot)st=_[nt];else{const at=registry.getScale(ot);st=new at({id:nt,type:ot,ctx:this.ctx,chart:this}),_[st.id]=st}st.init(tt,e)}),each(b,(et,tt)=>{et||delete _[tt]}),each(_,et=>{layouts.configure(this,et,et.options),layouts.addBox(this,et)})}_updateMetasets(){const e=this._metasets,a=this.data.datasets.length,_=e.length;if(e.sort((b,_e)=>b.index-_e.index),_>a){for(let b=a;b<_;++b)this._destroyDatasetMeta(b);e.splice(a,_-a)}this._sortedMetasets=e.slice(0).sort(compare2Level("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:a}}=this;e.length>a.length&&delete this._stacks,e.forEach((_,b)=>{a.filter(_e=>_e===_._dataset).length===0&&this._destroyDatasetMeta(b)})}buildOrUpdateControllers(){const e=[],a=this.data.datasets;let _,b;for(this._removeUnreferencedMetasets(),_=0,b=a.length;_<b;_++){const _e=a[_];let et=this.getDatasetMeta(_);const tt=_e.type||this.config.type;if(et.type&&et.type!==tt&&(this._destroyDatasetMeta(_),et=this.getDatasetMeta(_)),et.type=tt,et.indexAxis=_e.indexAxis||getIndexAxis(tt,this.options),et.order=_e.order||0,et.index=_,et.label=""+_e.label,et.visible=this.isDatasetVisible(_),et.controller)et.controller.updateIndex(_),et.controller.linkScales();else{const nt=registry.getController(tt),{datasetElementType:it,dataElementType:ot}=defaults.datasets[tt];Object.assign(nt,{dataElementType:registry.getElement(ot),datasetElementType:it&&registry.getElement(it)}),et.controller=new nt(this,_),e.push(et.controller)}}return this._updateMetasets(),e}_resetElements(){each(this.data.datasets,(e,a)=>{this.getDatasetMeta(a).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const a=this.config;a.update();const _=this._options=a.createResolver(a.chartOptionScopes(),this.getContext()),b=this._animationsDisabled=!_.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const _e=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let et=0;for(let it=0,ot=this.data.datasets.length;it<ot;it++){const{controller:st}=this.getDatasetMeta(it),at=!b&&_e.indexOf(st)===-1;st.buildOrUpdateElements(at),et=Math.max(+st.getMaxOverflow(),et)}et=this._minPadding=_.layout.autoPadding?et:0,this._updateLayout(et),b||each(_e,it=>{it.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(compare2Level("z","_idx"));const{_active:tt,_lastEvent:nt}=this;nt?this._eventHandler(nt,!0):tt.length&&this._updateHoverStyles(tt,tt,!0),this.render()}_updateScales(){each(this.scales,e=>{layouts.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,a=new Set(Object.keys(this._listeners)),_=new Set(e.events);(!setsEqual(a,_)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,a=this._getUniformDataChanges()||[];for(const{method:_,start:b,count:_e}of a){const et=_==="_removeElements"?-_e:_e;moveNumericKeys(e,b,et)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const a=this.data.datasets.length,_=_e=>new Set(e.filter(et=>et[0]===_e).map((et,tt)=>tt+","+et.splice(1).join(","))),b=_(0);for(let _e=1;_e<a;_e++)if(!setsEqual(b,_(_e)))return;return Array.from(b).map(_e=>_e.split(",")).map(_e=>({method:_e[1],start:+_e[2],count:+_e[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;layouts.update(this,this.width,this.height,e);const a=this.chartArea,_=a.width<=0||a.height<=0;this._layers=[],each(this.boxes,b=>{_&&b.position==="chartArea"||(b.configure&&b.configure(),this._layers.push(...b._layers()))},this),this._layers.forEach((b,_e)=>{b._idx=_e}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let a=0,_=this.data.datasets.length;a<_;++a)this.getDatasetMeta(a).controller.configure();for(let a=0,_=this.data.datasets.length;a<_;++a)this._updateDataset(a,isFunction(e)?e({datasetIndex:a}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,a){const _=this.getDatasetMeta(e),b={meta:_,index:e,mode:a,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",b)!==!1&&(_.controller._update(a),b.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",b))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(animator.has(this)?this.attached&&!animator.running(this)&&animator.start(this):(this.draw(),onAnimationsComplete({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:_,height:b}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(_,b)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const a=this._layers;for(e=0;e<a.length&&a[e].z<=0;++e)a[e].draw(this.chartArea);for(this._drawDatasets();e<a.length;++e)a[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const a=this._sortedMetasets,_=[];let b,_e;for(b=0,_e=a.length;b<_e;++b){const et=a[b];(!e||et.visible)&&_.push(et)}return _}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let a=e.length-1;a>=0;--a)this._drawDataset(e[a]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const a=this.ctx,_={meta:e,index:e.index,cancelable:!0},b=getDatasetClipArea(this,e);this.notifyPlugins("beforeDatasetDraw",_)!==!1&&(b&&clipArea(a,b),e.controller.draw(),b&&unclipArea(a),_.cancelable=!1,this.notifyPlugins("afterDatasetDraw",_))}isPointInArea(e){return _isPointInArea(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,a,_,b){const _e=Interaction.modes[a];return typeof _e=="function"?_e(this,e,_,b):[]}getDatasetMeta(e){const a=this.data.datasets[e],_=this._metasets;let b=_.filter(_e=>_e&&_e._dataset===a).pop();return b||(b={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:a&&a.order||0,index:e,_dataset:a,_parsed:[],_sorted:!1},_.push(b)),b}getContext(){return this.$context||(this.$context=createContext(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const a=this.data.datasets[e];if(!a)return!1;const _=this.getDatasetMeta(e);return typeof _.hidden=="boolean"?!_.hidden:!a.hidden}setDatasetVisibility(e,a){const _=this.getDatasetMeta(e);_.hidden=!a}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,a,_){const b=_?"show":"hide",_e=this.getDatasetMeta(e),et=_e.controller._resolveAnimations(void 0,b);defined(a)?(_e.data[a].hidden=!_,this.update()):(this.setDatasetVisibility(e,_),et.update(_e,{visible:_}),this.update(tt=>tt.datasetIndex===e?b:void 0))}hide(e,a){this._updateVisibility(e,a,!1)}show(e,a){this._updateVisibility(e,a,!0)}_destroyDatasetMeta(e){const a=this._metasets[e];a&&a.controller&&a.controller._destroy(),delete this._metasets[e]}_stop(){let e,a;for(this.stop(),animator.remove(this),e=0,a=this.data.datasets.length;e<a;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:a}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),clearCanvas(e,a),this.platform.releaseContext(a),this.canvas=null,this.ctx=null),delete instances[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,a=this.platform,_=(_e,et)=>{a.addEventListener(this,_e,et),e[_e]=et},b=(_e,et,tt)=>{_e.offsetX=et,_e.offsetY=tt,this._eventHandler(_e)};each(this.options.events,_e=>_(_e,b))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,a=this.platform,_=(nt,it)=>{a.addEventListener(this,nt,it),e[nt]=it},b=(nt,it)=>{e[nt]&&(a.removeEventListener(this,nt,it),delete e[nt])},_e=(nt,it)=>{this.canvas&&this.resize(nt,it)};let et;const tt=()=>{b("attach",tt),this.attached=!0,this.resize(),_("resize",_e),_("detach",et)};et=()=>{this.attached=!1,b("resize",_e),this._stop(),this._resize(0,0),_("attach",tt)},a.isAttached(this.canvas)?tt():et()}unbindEvents(){each(this._listeners,(e,a)=>{this.platform.removeEventListener(this,a,e)}),this._listeners={},each(this._responsiveListeners,(e,a)=>{this.platform.removeEventListener(this,a,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,a,_){const b=_?"set":"remove";let _e,et,tt,nt;for(a==="dataset"&&(_e=this.getDatasetMeta(e[0].datasetIndex),_e.controller["_"+b+"DatasetHoverStyle"]()),tt=0,nt=e.length;tt<nt;++tt){et=e[tt];const it=et&&this.getDatasetMeta(et.datasetIndex).controller;it&&it[b+"HoverStyle"](et.element,et.datasetIndex,et.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const a=this._active||[],_=e.map(({datasetIndex:_e,index:et})=>{const tt=this.getDatasetMeta(_e);if(!tt)throw new Error("No dataset found at index "+_e);return{datasetIndex:_e,element:tt.data[et],index:et}});!_elementsEqual(_,a)&&(this._active=_,this._lastEvent=null,this._updateHoverStyles(_,a))}notifyPlugins(e,a,_){return this._plugins.notify(this,e,a,_)}isPluginEnabled(e){return this._plugins._cache.filter(a=>a.plugin.id===e).length===1}_updateHoverStyles(e,a,_){const b=this.options.hover,_e=(nt,it)=>nt.filter(ot=>!it.some(st=>ot.datasetIndex===st.datasetIndex&&ot.index===st.index)),et=_e(a,e),tt=_?e:_e(e,a);et.length&&this.updateHoverStyle(et,b.mode,!1),tt.length&&b.mode&&this.updateHoverStyle(tt,b.mode,!0)}_eventHandler(e,a){const _={event:e,replay:a,cancelable:!0,inChartArea:this.isPointInArea(e)},b=et=>(et.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",_,b)===!1)return;const _e=this._handleEvent(e,a,_.inChartArea);return _.cancelable=!1,this.notifyPlugins("afterEvent",_,b),(_e||_.changed)&&this.render(),this}_handleEvent(e,a,_){const{_active:b=[],options:_e}=this,et=a,tt=this._getActiveElements(e,b,_,et),nt=_isClickEvent(e),it=determineLastEvent(e,this._lastEvent,_,nt);_&&(this._lastEvent=null,callback(_e.onHover,[e,tt,this],this),nt&&callback(_e.onClick,[e,tt,this],this));const ot=!_elementsEqual(tt,b);return(ot||a)&&(this._active=tt,this._updateHoverStyles(tt,b,a)),this._lastEvent=it,ot}_getActiveElements(e,a,_,b){if(e.type==="mouseout")return[];if(!_)return a;const _e=this.options.hover;return this.getElementsAtEventForMode(e,_e.mode,_e,b)}},Br(fn,"defaults",defaults),Br(fn,"instances",instances),Br(fn,"overrides",overrides),Br(fn,"registry",registry),Br(fn,"version",version),Br(fn,"getChart",getChart),fn);function invalidatePlugins(){return each(Chart$1.instances,o=>o._plugins.invalidate())}function setStyle(o,e,a=e){o.lineCap=valueOrDefault(a.borderCapStyle,e.borderCapStyle),o.setLineDash(valueOrDefault(a.borderDash,e.borderDash)),o.lineDashOffset=valueOrDefault(a.borderDashOffset,e.borderDashOffset),o.lineJoin=valueOrDefault(a.borderJoinStyle,e.borderJoinStyle),o.lineWidth=valueOrDefault(a.borderWidth,e.borderWidth),o.strokeStyle=valueOrDefault(a.borderColor,e.borderColor)}function lineTo(o,e,a){o.lineTo(a.x,a.y)}function getLineMethod(o){return o.stepped?_steppedLineTo:o.tension||o.cubicInterpolationMode==="monotone"?_bezierCurveTo:lineTo}function pathVars(o,e,a={}){const _=o.length,{start:b=0,end:_e=_-1}=a,{start:et,end:tt}=e,nt=Math.max(b,et),it=Math.min(_e,tt),ot=b<et&&_e<et||b>tt&&_e>tt;return{count:_,start:nt,loop:e.loop,ilen:it<nt&&!ot?_+it-nt:it-nt}}function pathSegment(o,e,a,_){const{points:b,options:_e}=e,{count:et,start:tt,loop:nt,ilen:it}=pathVars(b,a,_),ot=getLineMethod(_e);let{move:st=!0,reverse:at}=_||{},lt,ut,ft;for(lt=0;lt<=it;++lt)ut=b[(tt+(at?it-lt:lt))%et],!ut.skip&&(st?(o.moveTo(ut.x,ut.y),st=!1):ot(o,ft,ut,at,_e.stepped),ft=ut);return nt&&(ut=b[(tt+(at?it:0))%et],ot(o,ft,ut,at,_e.stepped)),!!nt}function fastPathSegment(o,e,a,_){const b=e.points,{count:_e,start:et,ilen:tt}=pathVars(b,a,_),{move:nt=!0,reverse:it}=_||{};let ot=0,st=0,at,lt,ut,ft,mt,ht;const vt=At=>(et+(it?tt-At:At))%_e,Et=()=>{ft!==mt&&(o.lineTo(ot,mt),o.lineTo(ot,ft),o.lineTo(ot,ht))};for(nt&&(lt=b[vt(0)],o.moveTo(lt.x,lt.y)),at=0;at<=tt;++at){if(lt=b[vt(at)],lt.skip)continue;const At=lt.x,Ct=lt.y,Mt=At|0;Mt===ut?(Ct<ft?ft=Ct:Ct>mt&&(mt=Ct),ot=(st*ot+At)/++st):(Et(),o.lineTo(At,Ct),ut=Mt,st=0,ft=mt=Ct),ht=Ct}Et()}function _getSegmentMethod(o){const e=o.options,a=e.borderDash&&e.borderDash.length;return!o._decimated&&!o._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!a?fastPathSegment:pathSegment}function _getInterpolationMethod(o){return o.stepped?_steppedInterpolation:o.tension||o.cubicInterpolationMode==="monotone"?_bezierInterpolation:_pointInLine}function strokePathWithCache(o,e,a,_){let b=e._path;b||(b=e._path=new Path2D,e.path(b,a,_)&&b.closePath()),setStyle(o,e.options),o.stroke(b)}function strokePathDirect(o,e,a,_){const{segments:b,options:_e}=e,et=_getSegmentMethod(e);for(const tt of b)setStyle(o,_e,tt.style),o.beginPath(),et(o,e,tt,{start:a,end:a+_-1})&&o.closePath(),o.stroke()}const usePath2D=typeof Path2D=="function";function draw(o,e,a,_){usePath2D&&!e.options.segment?strokePathWithCache(o,e,a,_):strokePathDirect(o,e,a,_)}class LineElement extends Element{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,a){const _=this.options;if((_.tension||_.cubicInterpolationMode==="monotone")&&!_.stepped&&!this._pointsUpdated){const b=_.spanGaps?this._loop:this._fullLoop;_updateBezierControlPoints(this._points,_,e,b,a),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=_computeSegments(this,this.options.segment))}first(){const e=this.segments,a=this.points;return e.length&&a[e[0].start]}last(){const e=this.segments,a=this.points,_=e.length;return _&&a[e[_-1].end]}interpolate(e,a){const _=this.options,b=e[a],_e=this.points,et=_boundSegments(this,{property:a,start:b,end:b});if(!et.length)return;const tt=[],nt=_getInterpolationMethod(_);let it,ot;for(it=0,ot=et.length;it<ot;++it){const{start:st,end:at}=et[it],lt=_e[st],ut=_e[at];if(lt===ut){tt.push(lt);continue}const ft=Math.abs((b-lt[a])/(ut[a]-lt[a])),mt=nt(lt,ut,ft,_.stepped);mt[a]=e[a],tt.push(mt)}return tt.length===1?tt[0]:tt}pathSegment(e,a,_){return _getSegmentMethod(this)(e,this,a,_)}path(e,a,_){const b=this.segments,_e=_getSegmentMethod(this);let et=this._loop;a=a||0,_=_||this.points.length-a;for(const tt of b)et&=_e(e,this,tt,{start:a,end:a+_-1});return!!et}draw(e,a,_,b){const _e=this.options||{};(this.points||[]).length&&_e.borderWidth&&(e.save(),draw(e,this,_,b),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Br(LineElement,"id","line"),Br(LineElement,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Br(LineElement,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Br(LineElement,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function inRange$1(o,e,a,_){const b=o.options,{[a]:_e}=o.getProps([a],_);return Math.abs(e-_e)<b.radius+b.hitRadius}class PointElement extends Element{constructor(a){super();Br(this,"parsed");Br(this,"skip");Br(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,a&&Object.assign(this,a)}inRange(a,_,b){const _e=this.options,{x:et,y:tt}=this.getProps(["x","y"],b);return Math.pow(a-et,2)+Math.pow(_-tt,2)<Math.pow(_e.hitRadius+_e.radius,2)}inXRange(a,_){return inRange$1(this,a,"x",_)}inYRange(a,_){return inRange$1(this,a,"y",_)}getCenterPoint(a){const{x:_,y:b}=this.getProps(["x","y"],a);return{x:_,y:b}}size(a){a=a||this.options||{};let _=a.radius||0;_=Math.max(_,_&&a.hoverRadius||0);const b=_&&a.borderWidth||0;return(_+b)*2}draw(a,_){const b=this.options;this.skip||b.radius<.1||!_isPointInArea(this,_,this.size(b)/2)||(a.strokeStyle=b.borderColor,a.lineWidth=b.borderWidth,a.fillStyle=b.backgroundColor,drawPoint(a,b,this.x,this.y))}getRange(){const a=this.options||{};return a.radius+a.hitRadius}}Br(PointElement,"id","point"),Br(PointElement,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Br(PointElement,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function _segments(o,e,a){const _=o.segments,b=o.points,_e=e.points,et=[];for(const tt of _){let{start:nt,end:it}=tt;it=_findSegmentEnd(nt,it,b);const ot=_getBounds(a,b[nt],b[it],tt.loop);if(!e.segments){et.push({source:tt,target:ot,start:b[nt],end:b[it]});continue}const st=_boundSegments(e,ot);for(const at of st){const lt=_getBounds(a,_e[at.start],_e[at.end],at.loop),ut=_boundSegment(tt,b,lt);for(const ft of ut)et.push({source:ft,target:at,start:{[a]:_getEdge(ot,lt,"start",Math.max)},end:{[a]:_getEdge(ot,lt,"end",Math.min)}})}}return et}function _getBounds(o,e,a,_){if(_)return;let b=e[o],_e=a[o];return o==="angle"&&(b=_normalizeAngle(b),_e=_normalizeAngle(_e)),{property:o,start:b,end:_e}}function _pointsFromSegments(o,e){const{x:a=null,y:_=null}=o||{},b=e.points,_e=[];return e.segments.forEach(({start:et,end:tt})=>{tt=_findSegmentEnd(et,tt,b);const nt=b[et],it=b[tt];_!==null?(_e.push({x:nt.x,y:_}),_e.push({x:it.x,y:_})):a!==null&&(_e.push({x:a,y:nt.y}),_e.push({x:a,y:it.y}))}),_e}function _findSegmentEnd(o,e,a){for(;e>o;e--){const _=a[e];if(!isNaN(_.x)&&!isNaN(_.y))break}return e}function _getEdge(o,e,a,_){return o&&e?_(o[a],e[a]):o?o[a]:e?e[a]:0}function _createBoundaryLine(o,e){let a=[],_=!1;return isArray(o)?(_=!0,a=o):a=_pointsFromSegments(o,e),a.length?new LineElement({points:a,options:{tension:0},_loop:_,_fullLoop:_}):null}function _shouldApplyFill(o){return o&&o.fill!==!1}function _resolveTarget(o,e,a){let b=o[e].fill;const _e=[e];let et;if(!a)return b;for(;b!==!1&&_e.indexOf(b)===-1;){if(!isNumberFinite(b))return b;if(et=o[b],!et)return!1;if(et.visible)return b;_e.push(b),b=et.fill}return!1}function _decodeFill(o,e,a){const _=parseFillOption(o);if(isObject(_))return isNaN(_.value)?!1:_;let b=parseFloat(_);return isNumberFinite(b)&&Math.floor(b)===b?decodeTargetIndex(_[0],e,b,a):["origin","start","end","stack","shape"].indexOf(_)>=0&&_}function decodeTargetIndex(o,e,a,_){return(o==="-"||o==="+")&&(a=e+a),a===e||a<0||a>=_?!1:a}function _getTargetPixel(o,e){let a=null;return o==="start"?a=e.bottom:o==="end"?a=e.top:isObject(o)?a=e.getPixelForValue(o.value):e.getBasePixel&&(a=e.getBasePixel()),a}function _getTargetValue(o,e,a){let _;return o==="start"?_=a:o==="end"?_=e.options.reverse?e.min:e.max:isObject(o)?_=o.value:_=e.getBaseValue(),_}function parseFillOption(o){const e=o.options,a=e.fill;let _=valueOrDefault(a&&a.target,a);return _===void 0&&(_=!!e.backgroundColor),_===!1||_===null?!1:_===!0?"origin":_}function _buildStackLine(o){const{scale:e,index:a,line:_}=o,b=[],_e=_.segments,et=_.points,tt=getLinesBelow(e,a);tt.push(_createBoundaryLine({x:null,y:e.bottom},_));for(let nt=0;nt<_e.length;nt++){const it=_e[nt];for(let ot=it.start;ot<=it.end;ot++)addPointsBelow(b,et[ot],tt)}return new LineElement({points:b,options:{}})}function getLinesBelow(o,e){const a=[],_=o.getMatchingVisibleMetas("line");for(let b=0;b<_.length;b++){const _e=_[b];if(_e.index===e)break;_e.hidden||a.unshift(_e.dataset)}return a}function addPointsBelow(o,e,a){const _=[];for(let b=0;b<a.length;b++){const _e=a[b],{first:et,last:tt,point:nt}=findPoint(_e,e,"x");if(!(!nt||et&&tt)){if(et)_.unshift(nt);else if(o.push(nt),!tt)break}}o.push(..._)}function findPoint(o,e,a){const _=o.interpolate(e,a);if(!_)return{};const b=_[a],_e=o.segments,et=o.points;let tt=!1,nt=!1;for(let it=0;it<_e.length;it++){const ot=_e[it],st=et[ot.start][a],at=et[ot.end][a];if(_isBetween(b,st,at)){tt=b===st,nt=b===at;break}}return{first:tt,last:nt,point:_}}class simpleArc{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,a,_){const{x:b,y:_e,radius:et}=this;return a=a||{start:0,end:TAU},e.arc(b,_e,et,a.end,a.start,!0),!_.bounds}interpolate(e){const{x:a,y:_,radius:b}=this,_e=e.angle;return{x:a+Math.cos(_e)*b,y:_+Math.sin(_e)*b,angle:_e}}}function _getTarget(o){const{chart:e,fill:a,line:_}=o;if(isNumberFinite(a))return getLineByIndex(e,a);if(a==="stack")return _buildStackLine(o);if(a==="shape")return!0;const b=computeBoundary(o);return b instanceof simpleArc?b:_createBoundaryLine(b,_)}function getLineByIndex(o,e){const a=o.getDatasetMeta(e);return a&&o.isDatasetVisible(e)?a.dataset:null}function computeBoundary(o){return(o.scale||{}).getPointPositionForValue?computeCircularBoundary(o):computeLinearBoundary(o)}function computeLinearBoundary(o){const{scale:e={},fill:a}=o,_=_getTargetPixel(a,e);if(isNumberFinite(_)){const b=e.isHorizontal();return{x:b?_:null,y:b?null:_}}return null}function computeCircularBoundary(o){const{scale:e,fill:a}=o,_=e.options,b=e.getLabels().length,_e=_.reverse?e.max:e.min,et=_getTargetValue(a,e,_e),tt=[];if(_.grid.circular){const nt=e.getPointPositionForValue(0,_e);return new simpleArc({x:nt.x,y:nt.y,radius:e.getDistanceFromCenterForValue(et)})}for(let nt=0;nt<b;++nt)tt.push(e.getPointPositionForValue(nt,et));return tt}function _drawfill(o,e,a){const _=_getTarget(e),{chart:b,index:_e,line:et,scale:tt,axis:nt}=e,it=et.options,ot=it.fill,st=it.backgroundColor,{above:at=st,below:lt=st}=ot||{},ut=b.getDatasetMeta(_e),ft=getDatasetClipArea(b,ut);_&&et.points.length&&(clipArea(o,a),doFill(o,{line:et,target:_,above:at,below:lt,area:a,scale:tt,axis:nt,clip:ft}),unclipArea(o))}function doFill(o,e){const{line:a,target:_,above:b,below:_e,area:et,scale:tt,clip:nt}=e,it=a._loop?"angle":e.axis;o.save();let ot=_e;_e!==b&&(it==="x"?(clipVertical(o,_,et.top),fill(o,{line:a,target:_,color:b,scale:tt,property:it,clip:nt}),o.restore(),o.save(),clipVertical(o,_,et.bottom)):it==="y"&&(clipHorizontal(o,_,et.left),fill(o,{line:a,target:_,color:_e,scale:tt,property:it,clip:nt}),o.restore(),o.save(),clipHorizontal(o,_,et.right),ot=b)),fill(o,{line:a,target:_,color:ot,scale:tt,property:it,clip:nt}),o.restore()}function clipVertical(o,e,a){const{segments:_,points:b}=e;let _e=!0,et=!1;o.beginPath();for(const tt of _){const{start:nt,end:it}=tt,ot=b[nt],st=b[_findSegmentEnd(nt,it,b)];_e?(o.moveTo(ot.x,ot.y),_e=!1):(o.lineTo(ot.x,a),o.lineTo(ot.x,ot.y)),et=!!e.pathSegment(o,tt,{move:et}),et?o.closePath():o.lineTo(st.x,a)}o.lineTo(e.first().x,a),o.closePath(),o.clip()}function clipHorizontal(o,e,a){const{segments:_,points:b}=e;let _e=!0,et=!1;o.beginPath();for(const tt of _){const{start:nt,end:it}=tt,ot=b[nt],st=b[_findSegmentEnd(nt,it,b)];_e?(o.moveTo(ot.x,ot.y),_e=!1):(o.lineTo(a,ot.y),o.lineTo(ot.x,ot.y)),et=!!e.pathSegment(o,tt,{move:et}),et?o.closePath():o.lineTo(a,st.y)}o.lineTo(a,e.first().y),o.closePath(),o.clip()}function fill(o,e){const{line:a,target:_,property:b,color:_e,scale:et,clip:tt}=e,nt=_segments(a,_,b);for(const{source:it,target:ot,start:st,end:at}of nt){const{style:{backgroundColor:lt=_e}={}}=it,ut=_!==!0;o.save(),o.fillStyle=lt,clipBounds(o,et,tt,ut&&_getBounds(b,st,at)),o.beginPath();const ft=!!a.pathSegment(o,it);let mt;if(ut){ft?o.closePath():interpolatedLineTo(o,_,at,b);const ht=!!_.pathSegment(o,ot,{move:ft,reverse:!0});mt=ft&&ht,mt||interpolatedLineTo(o,_,st,b)}o.closePath(),o.fill(mt?"evenodd":"nonzero"),o.restore()}}function clipBounds(o,e,a,_){const b=e.chart.chartArea,{property:_e,start:et,end:tt}=_||{};if(_e==="x"||_e==="y"){let nt,it,ot,st;_e==="x"?(nt=et,it=b.top,ot=tt,st=b.bottom):(nt=b.left,it=et,ot=b.right,st=tt),o.beginPath(),a&&(nt=Math.max(nt,a.left),ot=Math.min(ot,a.right),it=Math.max(it,a.top),st=Math.min(st,a.bottom)),o.rect(nt,it,ot-nt,st-it),o.clip()}}function interpolatedLineTo(o,e,a,_){const b=e.interpolate(a,_);b&&o.lineTo(b.x,b.y)}var index={id:"filler",afterDatasetsUpdate(o,e,a){const _=(o.data.datasets||[]).length,b=[];let _e,et,tt,nt;for(et=0;et<_;++et)_e=o.getDatasetMeta(et),tt=_e.dataset,nt=null,tt&&tt.options&&tt instanceof LineElement&&(nt={visible:o.isDatasetVisible(et),index:et,fill:_decodeFill(tt,et,_),chart:o,axis:_e.controller.options.indexAxis,scale:_e.vScale,line:tt}),_e.$filler=nt,b.push(nt);for(et=0;et<_;++et)nt=b[et],!(!nt||nt.fill===!1)&&(nt.fill=_resolveTarget(b,et,a.propagate))},beforeDraw(o,e,a){const _=a.drawTime==="beforeDraw",b=o.getSortedVisibleDatasetMetas(),_e=o.chartArea;for(let et=b.length-1;et>=0;--et){const tt=b[et].$filler;tt&&(tt.line.updateControlPoints(_e,tt.axis),_&&tt.fill&&_drawfill(o.ctx,tt,_e))}},beforeDatasetsDraw(o,e,a){if(a.drawTime!=="beforeDatasetsDraw")return;const _=o.getSortedVisibleDatasetMetas();for(let b=_.length-1;b>=0;--b){const _e=_[b].$filler;_shouldApplyFill(_e)&&_drawfill(o.ctx,_e,o.chartArea)}},beforeDatasetDraw(o,e,a){const _=e.meta.$filler;!_shouldApplyFill(_)||a.drawTime!=="beforeDatasetDraw"||_drawfill(o.ctx,_,o.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const getBoxSize=(o,e)=>{let{boxHeight:a=e,boxWidth:_=e}=o;return o.usePointStyle&&(a=Math.min(a,e),_=o.pointStyleWidth||Math.min(_,e)),{boxWidth:_,boxHeight:a,itemHeight:Math.max(e,a)}},itemsEqual=(o,e)=>o!==null&&e!==null&&o.datasetIndex===e.datasetIndex&&o.index===e.index;class Legend extends Element{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,a,_){this.maxWidth=e,this.maxHeight=a,this._margins=_,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let a=callback(e.generateLabels,[this.chart],this)||[];e.filter&&(a=a.filter(_=>e.filter(_,this.chart.data))),e.sort&&(a=a.sort((_,b)=>e.sort(_,b,this.chart.data))),this.options.reverse&&a.reverse(),this.legendItems=a}fit(){const{options:e,ctx:a}=this;if(!e.display){this.width=this.height=0;return}const _=e.labels,b=toFont(_.font),_e=b.size,et=this._computeTitleHeight(),{boxWidth:tt,itemHeight:nt}=getBoxSize(_,_e);let it,ot;a.font=b.string,this.isHorizontal()?(it=this.maxWidth,ot=this._fitRows(et,_e,tt,nt)+10):(ot=this.maxHeight,it=this._fitCols(et,b,tt,nt)+10),this.width=Math.min(it,e.maxWidth||this.maxWidth),this.height=Math.min(ot,e.maxHeight||this.maxHeight)}_fitRows(e,a,_,b){const{ctx:_e,maxWidth:et,options:{labels:{padding:tt}}}=this,nt=this.legendHitBoxes=[],it=this.lineWidths=[0],ot=b+tt;let st=e;_e.textAlign="left",_e.textBaseline="middle";let at=-1,lt=-ot;return this.legendItems.forEach((ut,ft)=>{const mt=_+a/2+_e.measureText(ut.text).width;(ft===0||it[it.length-1]+mt+2*tt>et)&&(st+=ot,it[it.length-(ft>0?0:1)]=0,lt+=ot,at++),nt[ft]={left:0,top:lt,row:at,width:mt,height:b},it[it.length-1]+=mt+tt}),st}_fitCols(e,a,_,b){const{ctx:_e,maxHeight:et,options:{labels:{padding:tt}}}=this,nt=this.legendHitBoxes=[],it=this.columnSizes=[],ot=et-e;let st=tt,at=0,lt=0,ut=0,ft=0;return this.legendItems.forEach((mt,ht)=>{const{itemWidth:vt,itemHeight:Et}=calculateItemSize(_,a,_e,mt,b);ht>0&&lt+Et+2*tt>ot&&(st+=at+tt,it.push({width:at,height:lt}),ut+=at+tt,ft++,at=lt=0),nt[ht]={left:ut,top:lt,col:ft,width:vt,height:Et},at=Math.max(at,vt),lt+=Et+tt}),st+=at,it.push({width:at,height:lt}),st}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:a,options:{align:_,labels:{padding:b},rtl:_e}}=this,et=getRtlAdapter(_e,this.left,this.width);if(this.isHorizontal()){let tt=0,nt=_alignStartEnd(_,this.left+b,this.right-this.lineWidths[tt]);for(const it of a)tt!==it.row&&(tt=it.row,nt=_alignStartEnd(_,this.left+b,this.right-this.lineWidths[tt])),it.top+=this.top+e+b,it.left=et.leftForLtr(et.x(nt),it.width),nt+=it.width+b}else{let tt=0,nt=_alignStartEnd(_,this.top+e+b,this.bottom-this.columnSizes[tt].height);for(const it of a)it.col!==tt&&(tt=it.col,nt=_alignStartEnd(_,this.top+e+b,this.bottom-this.columnSizes[tt].height)),it.top=nt,it.left+=this.left+b,it.left=et.leftForLtr(et.x(it.left),it.width),nt+=it.height+b}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;clipArea(e,this),this._draw(),unclipArea(e)}}_draw(){const{options:e,columnSizes:a,lineWidths:_,ctx:b}=this,{align:_e,labels:et}=e,tt=defaults.color,nt=getRtlAdapter(e.rtl,this.left,this.width),it=toFont(et.font),{padding:ot}=et,st=it.size,at=st/2;let lt;this.drawTitle(),b.textAlign=nt.textAlign("left"),b.textBaseline="middle",b.lineWidth=.5,b.font=it.string;const{boxWidth:ut,boxHeight:ft,itemHeight:mt}=getBoxSize(et,st),ht=function(Mt,Bt,Lt){if(isNaN(ut)||ut<=0||isNaN(ft)||ft<0)return;b.save();const jt=valueOrDefault(Lt.lineWidth,1);if(b.fillStyle=valueOrDefault(Lt.fillStyle,tt),b.lineCap=valueOrDefault(Lt.lineCap,"butt"),b.lineDashOffset=valueOrDefault(Lt.lineDashOffset,0),b.lineJoin=valueOrDefault(Lt.lineJoin,"miter"),b.lineWidth=jt,b.strokeStyle=valueOrDefault(Lt.strokeStyle,tt),b.setLineDash(valueOrDefault(Lt.lineDash,[])),et.usePointStyle){const Vt={radius:ft*Math.SQRT2/2,pointStyle:Lt.pointStyle,rotation:Lt.rotation,borderWidth:jt},Nt=nt.xPlus(Mt,ut/2),kt=Bt+at;drawPointLegend(b,Vt,Nt,kt,et.pointStyleWidth&&ut)}else{const Vt=Bt+Math.max((st-ft)/2,0),Nt=nt.leftForLtr(Mt,ut),kt=toTRBLCorners(Lt.borderRadius);b.beginPath(),Object.values(kt).some(_t=>_t!==0)?addRoundedRectPath(b,{x:Nt,y:Vt,w:ut,h:ft,radius:kt}):b.rect(Nt,Vt,ut,ft),b.fill(),jt!==0&&b.stroke()}b.restore()},vt=function(Mt,Bt,Lt){renderText(b,Lt.text,Mt,Bt+mt/2,it,{strikethrough:Lt.hidden,textAlign:nt.textAlign(Lt.textAlign)})},Et=this.isHorizontal(),At=this._computeTitleHeight();Et?lt={x:_alignStartEnd(_e,this.left+ot,this.right-_[0]),y:this.top+ot+At,line:0}:lt={x:this.left+ot,y:_alignStartEnd(_e,this.top+At+ot,this.bottom-a[0].height),line:0},overrideTextDirection(this.ctx,e.textDirection);const Ct=mt+ot;this.legendItems.forEach((Mt,Bt)=>{b.strokeStyle=Mt.fontColor,b.fillStyle=Mt.fontColor;const Lt=b.measureText(Mt.text).width,jt=nt.textAlign(Mt.textAlign||(Mt.textAlign=et.textAlign)),Vt=ut+at+Lt;let Nt=lt.x,kt=lt.y;nt.setWidth(this.width),Et?Bt>0&&Nt+Vt+ot>this.right&&(kt=lt.y+=Ct,lt.line++,Nt=lt.x=_alignStartEnd(_e,this.left+ot,this.right-_[lt.line])):Bt>0&&kt+Ct>this.bottom&&(Nt=lt.x=Nt+a[lt.line].width+ot,lt.line++,kt=lt.y=_alignStartEnd(_e,this.top+At+ot,this.bottom-a[lt.line].height));const _t=nt.x(Nt);if(ht(_t,kt,Mt),Nt=_textX(jt,Nt+ut+at,Et?Nt+Vt:this.right,e.rtl),vt(nt.x(Nt),kt,Mt),Et)lt.x+=Vt+ot;else if(typeof Mt.text!="string"){const ct=it.lineHeight;lt.y+=calculateLegendItemHeight(Mt,ct)+ot}else lt.y+=Ct}),restoreTextDirection(this.ctx,e.textDirection)}drawTitle(){const e=this.options,a=e.title,_=toFont(a.font),b=toPadding(a.padding);if(!a.display)return;const _e=getRtlAdapter(e.rtl,this.left,this.width),et=this.ctx,tt=a.position,nt=_.size/2,it=b.top+nt;let ot,st=this.left,at=this.width;if(this.isHorizontal())at=Math.max(...this.lineWidths),ot=this.top+it,st=_alignStartEnd(e.align,st,this.right-at);else{const ut=this.columnSizes.reduce((ft,mt)=>Math.max(ft,mt.height),0);ot=it+_alignStartEnd(e.align,this.top,this.bottom-ut-e.labels.padding-this._computeTitleHeight())}const lt=_alignStartEnd(tt,st,st+at);et.textAlign=_e.textAlign(_toLeftRightCenter(tt)),et.textBaseline="middle",et.strokeStyle=a.color,et.fillStyle=a.color,et.font=_.string,renderText(et,a.text,lt,ot,_)}_computeTitleHeight(){const e=this.options.title,a=toFont(e.font),_=toPadding(e.padding);return e.display?a.lineHeight+_.height:0}_getLegendItemAt(e,a){let _,b,_e;if(_isBetween(e,this.left,this.right)&&_isBetween(a,this.top,this.bottom)){for(_e=this.legendHitBoxes,_=0;_<_e.length;++_)if(b=_e[_],_isBetween(e,b.left,b.left+b.width)&&_isBetween(a,b.top,b.top+b.height))return this.legendItems[_]}return null}handleEvent(e){const a=this.options;if(!isListened(e.type,a))return;const _=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const b=this._hoveredItem,_e=itemsEqual(b,_);b&&!_e&&callback(a.onLeave,[e,b,this],this),this._hoveredItem=_,_&&!_e&&callback(a.onHover,[e,_,this],this)}else _&&callback(a.onClick,[e,_,this],this)}}function calculateItemSize(o,e,a,_,b){const _e=calculateItemWidth(_,o,e,a),et=calculateItemHeight(b,_,e.lineHeight);return{itemWidth:_e,itemHeight:et}}function calculateItemWidth(o,e,a,_){let b=o.text;return b&&typeof b!="string"&&(b=b.reduce((_e,et)=>_e.length>et.length?_e:et)),e+a.size/2+_.measureText(b).width}function calculateItemHeight(o,e,a){let _=o;return typeof e.text!="string"&&(_=calculateLegendItemHeight(e,a)),_}function calculateLegendItemHeight(o,e){const a=o.text?o.text.length:0;return e*a}function isListened(o,e){return!!((o==="mousemove"||o==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(o==="click"||o==="mouseup"))}var plugin_legend={id:"legend",_element:Legend,start(o,e,a){const _=o.legend=new Legend({ctx:o.ctx,options:a,chart:o});layouts.configure(o,_,a),layouts.addBox(o,_)},stop(o){layouts.removeBox(o,o.legend),delete o.legend},beforeUpdate(o,e,a){const _=o.legend;layouts.configure(o,_,a),_.options=a},afterUpdate(o){const e=o.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(o,e){e.replay||o.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(o,e,a){const _=e.datasetIndex,b=a.chart;b.isDatasetVisible(_)?(b.hide(_),e.hidden=!0):(b.show(_),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:o=>o.chart.options.color,boxWidth:40,padding:10,generateLabels(o){const e=o.data.datasets,{labels:{usePointStyle:a,pointStyle:_,textAlign:b,color:_e,useBorderRadius:et,borderRadius:tt}}=o.legend.options;return o._getSortedDatasetMetas().map(nt=>{const it=nt.controller.getStyle(a?0:void 0),ot=toPadding(it.borderWidth);return{text:e[nt.index].label,fillStyle:it.backgroundColor,fontColor:_e,hidden:!nt.visible,lineCap:it.borderCapStyle,lineDash:it.borderDash,lineDashOffset:it.borderDashOffset,lineJoin:it.borderJoinStyle,lineWidth:(ot.width+ot.height)/4,strokeStyle:it.borderColor,pointStyle:_||it.pointStyle,rotation:it.rotation,textAlign:b||it.textAlign,borderRadius:et&&(tt||it.borderRadius),datasetIndex:nt.index}},this)}},title:{color:o=>o.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:o=>!o.startsWith("on"),labels:{_scriptable:o=>!["generateLabels","filter","sort"].includes(o)}}};class Title extends Element{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,a){const _=this.options;if(this.left=0,this.top=0,!_.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=a;const b=isArray(_.text)?_.text.length:1;this._padding=toPadding(_.padding);const _e=b*toFont(_.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=_e:this.width=_e}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:a,left:_,bottom:b,right:_e,options:et}=this,tt=et.align;let nt=0,it,ot,st;return this.isHorizontal()?(ot=_alignStartEnd(tt,_,_e),st=a+e,it=_e-_):(et.position==="left"?(ot=_+e,st=_alignStartEnd(tt,b,a),nt=PI*-.5):(ot=_e-e,st=_alignStartEnd(tt,a,b),nt=PI*.5),it=b-a),{titleX:ot,titleY:st,maxWidth:it,rotation:nt}}draw(){const e=this.ctx,a=this.options;if(!a.display)return;const _=toFont(a.font),_e=_.lineHeight/2+this._padding.top,{titleX:et,titleY:tt,maxWidth:nt,rotation:it}=this._drawArgs(_e);renderText(e,a.text,0,0,_,{color:a.color,maxWidth:nt,rotation:it,textAlign:_toLeftRightCenter(a.align),textBaseline:"middle",translation:[et,tt]})}}function createTitle(o,e){const a=new Title({ctx:o.ctx,options:e,chart:o});layouts.configure(o,a,e),layouts.addBox(o,a),o.titleBlock=a}var plugin_title={id:"title",_element:Title,start(o,e,a){createTitle(o,a)},stop(o){const e=o.titleBlock;layouts.removeBox(o,e),delete o.titleBlock},beforeUpdate(o,e,a){const _=o.titleBlock;layouts.configure(o,_,a),_.options=a},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const positioners={average(o){if(!o.length)return!1;let e,a,_=new Set,b=0,_e=0;for(e=0,a=o.length;e<a;++e){const tt=o[e].element;if(tt&&tt.hasValue()){const nt=tt.tooltipPosition();_.add(nt.x),b+=nt.y,++_e}}return _e===0||_.size===0?!1:{x:[..._].reduce((tt,nt)=>tt+nt)/_.size,y:b/_e}},nearest(o,e){if(!o.length)return!1;let a=e.x,_=e.y,b=Number.POSITIVE_INFINITY,_e,et,tt;for(_e=0,et=o.length;_e<et;++_e){const nt=o[_e].element;if(nt&&nt.hasValue()){const it=nt.getCenterPoint(),ot=distanceBetweenPoints(e,it);ot<b&&(b=ot,tt=nt)}}if(tt){const nt=tt.tooltipPosition();a=nt.x,_=nt.y}return{x:a,y:_}}};function pushOrConcat(o,e){return e&&(isArray(e)?Array.prototype.push.apply(o,e):o.push(e)),o}function splitNewlines(o){return(typeof o=="string"||o instanceof String)&&o.indexOf(`
`)>-1?o.split(`
`):o}function createTooltipItem(o,e){const{element:a,datasetIndex:_,index:b}=e,_e=o.getDatasetMeta(_).controller,{label:et,value:tt}=_e.getLabelAndValue(b);return{chart:o,label:et,parsed:_e.getParsed(b),raw:o.data.datasets[_].data[b],formattedValue:tt,dataset:_e.getDataset(),dataIndex:b,datasetIndex:_,element:a}}function getTooltipSize(o,e){const a=o.chart.ctx,{body:_,footer:b,title:_e}=o,{boxWidth:et,boxHeight:tt}=e,nt=toFont(e.bodyFont),it=toFont(e.titleFont),ot=toFont(e.footerFont),st=_e.length,at=b.length,lt=_.length,ut=toPadding(e.padding);let ft=ut.height,mt=0,ht=_.reduce((At,Ct)=>At+Ct.before.length+Ct.lines.length+Ct.after.length,0);if(ht+=o.beforeBody.length+o.afterBody.length,st&&(ft+=st*it.lineHeight+(st-1)*e.titleSpacing+e.titleMarginBottom),ht){const At=e.displayColors?Math.max(tt,nt.lineHeight):nt.lineHeight;ft+=lt*At+(ht-lt)*nt.lineHeight+(ht-1)*e.bodySpacing}at&&(ft+=e.footerMarginTop+at*ot.lineHeight+(at-1)*e.footerSpacing);let vt=0;const Et=function(At){mt=Math.max(mt,a.measureText(At).width+vt)};return a.save(),a.font=it.string,each(o.title,Et),a.font=nt.string,each(o.beforeBody.concat(o.afterBody),Et),vt=e.displayColors?et+2+e.boxPadding:0,each(_,At=>{each(At.before,Et),each(At.lines,Et),each(At.after,Et)}),vt=0,a.font=ot.string,each(o.footer,Et),a.restore(),mt+=ut.width,{width:mt,height:ft}}function determineYAlign(o,e){const{y:a,height:_}=e;return a<_/2?"top":a>o.height-_/2?"bottom":"center"}function doesNotFitWithAlign(o,e,a,_){const{x:b,width:_e}=_,et=a.caretSize+a.caretPadding;if(o==="left"&&b+_e+et>e.width||o==="right"&&b-_e-et<0)return!0}function determineXAlign(o,e,a,_){const{x:b,width:_e}=a,{width:et,chartArea:{left:tt,right:nt}}=o;let it="center";return _==="center"?it=b<=(tt+nt)/2?"left":"right":b<=_e/2?it="left":b>=et-_e/2&&(it="right"),doesNotFitWithAlign(it,o,e,a)&&(it="center"),it}function determineAlignment(o,e,a){const _=a.yAlign||e.yAlign||determineYAlign(o,a);return{xAlign:a.xAlign||e.xAlign||determineXAlign(o,e,a,_),yAlign:_}}function alignX(o,e){let{x:a,width:_}=o;return e==="right"?a-=_:e==="center"&&(a-=_/2),a}function alignY(o,e,a){let{y:_,height:b}=o;return e==="top"?_+=a:e==="bottom"?_-=b+a:_-=b/2,_}function getBackgroundPoint(o,e,a,_){const{caretSize:b,caretPadding:_e,cornerRadius:et}=o,{xAlign:tt,yAlign:nt}=a,it=b+_e,{topLeft:ot,topRight:st,bottomLeft:at,bottomRight:lt}=toTRBLCorners(et);let ut=alignX(e,tt);const ft=alignY(e,nt,it);return nt==="center"?tt==="left"?ut+=it:tt==="right"&&(ut-=it):tt==="left"?ut-=Math.max(ot,at)+b:tt==="right"&&(ut+=Math.max(st,lt)+b),{x:_limitValue(ut,0,_.width-e.width),y:_limitValue(ft,0,_.height-e.height)}}function getAlignedX(o,e,a){const _=toPadding(a.padding);return e==="center"?o.x+o.width/2:e==="right"?o.x+o.width-_.right:o.x+_.left}function getBeforeAfterBodyLines(o){return pushOrConcat([],splitNewlines(o))}function createTooltipContext(o,e,a){return createContext(o,{tooltip:e,tooltipItems:a,type:"tooltip"})}function overrideCallbacks(o,e){const a=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return a?o.override(a):o}const defaultCallbacks={beforeTitle:noop,title(o){if(o.length>0){const e=o[0],a=e.chart.data.labels,_=a?a.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(_>0&&e.dataIndex<_)return a[e.dataIndex]}return""},afterTitle:noop,beforeBody:noop,beforeLabel:noop,label(o){if(this&&this.options&&this.options.mode==="dataset")return o.label+": "+o.formattedValue||o.formattedValue;let e=o.dataset.label||"";e&&(e+=": ");const a=o.formattedValue;return isNullOrUndef(a)||(e+=a),e},labelColor(o){const a=o.chart.getDatasetMeta(o.datasetIndex).controller.getStyle(o.dataIndex);return{borderColor:a.borderColor,backgroundColor:a.backgroundColor,borderWidth:a.borderWidth,borderDash:a.borderDash,borderDashOffset:a.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(o){const a=o.chart.getDatasetMeta(o.datasetIndex).controller.getStyle(o.dataIndex);return{pointStyle:a.pointStyle,rotation:a.rotation}},afterLabel:noop,afterBody:noop,beforeFooter:noop,footer:noop,afterFooter:noop};function invokeCallbackWithFallback(o,e,a,_){const b=o[e].call(a,_);return typeof b>"u"?defaultCallbacks[e].call(a,_):b}class Tooltip extends Element{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const a=this.chart,_=this.options.setContext(this.getContext()),b=_.enabled&&a.options.animation&&_.animations,_e=new Animations(this.chart,b);return b._cacheable&&(this._cachedAnimations=Object.freeze(_e)),_e}getContext(){return this.$context||(this.$context=createTooltipContext(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,a){const{callbacks:_}=a,b=invokeCallbackWithFallback(_,"beforeTitle",this,e),_e=invokeCallbackWithFallback(_,"title",this,e),et=invokeCallbackWithFallback(_,"afterTitle",this,e);let tt=[];return tt=pushOrConcat(tt,splitNewlines(b)),tt=pushOrConcat(tt,splitNewlines(_e)),tt=pushOrConcat(tt,splitNewlines(et)),tt}getBeforeBody(e,a){return getBeforeAfterBodyLines(invokeCallbackWithFallback(a.callbacks,"beforeBody",this,e))}getBody(e,a){const{callbacks:_}=a,b=[];return each(e,_e=>{const et={before:[],lines:[],after:[]},tt=overrideCallbacks(_,_e);pushOrConcat(et.before,splitNewlines(invokeCallbackWithFallback(tt,"beforeLabel",this,_e))),pushOrConcat(et.lines,invokeCallbackWithFallback(tt,"label",this,_e)),pushOrConcat(et.after,splitNewlines(invokeCallbackWithFallback(tt,"afterLabel",this,_e))),b.push(et)}),b}getAfterBody(e,a){return getBeforeAfterBodyLines(invokeCallbackWithFallback(a.callbacks,"afterBody",this,e))}getFooter(e,a){const{callbacks:_}=a,b=invokeCallbackWithFallback(_,"beforeFooter",this,e),_e=invokeCallbackWithFallback(_,"footer",this,e),et=invokeCallbackWithFallback(_,"afterFooter",this,e);let tt=[];return tt=pushOrConcat(tt,splitNewlines(b)),tt=pushOrConcat(tt,splitNewlines(_e)),tt=pushOrConcat(tt,splitNewlines(et)),tt}_createItems(e){const a=this._active,_=this.chart.data,b=[],_e=[],et=[];let tt=[],nt,it;for(nt=0,it=a.length;nt<it;++nt)tt.push(createTooltipItem(this.chart,a[nt]));return e.filter&&(tt=tt.filter((ot,st,at)=>e.filter(ot,st,at,_))),e.itemSort&&(tt=tt.sort((ot,st)=>e.itemSort(ot,st,_))),each(tt,ot=>{const st=overrideCallbacks(e.callbacks,ot);b.push(invokeCallbackWithFallback(st,"labelColor",this,ot)),_e.push(invokeCallbackWithFallback(st,"labelPointStyle",this,ot)),et.push(invokeCallbackWithFallback(st,"labelTextColor",this,ot))}),this.labelColors=b,this.labelPointStyles=_e,this.labelTextColors=et,this.dataPoints=tt,tt}update(e,a){const _=this.options.setContext(this.getContext()),b=this._active;let _e,et=[];if(!b.length)this.opacity!==0&&(_e={opacity:0});else{const tt=positioners[_.position].call(this,b,this._eventPosition);et=this._createItems(_),this.title=this.getTitle(et,_),this.beforeBody=this.getBeforeBody(et,_),this.body=this.getBody(et,_),this.afterBody=this.getAfterBody(et,_),this.footer=this.getFooter(et,_);const nt=this._size=getTooltipSize(this,_),it=Object.assign({},tt,nt),ot=determineAlignment(this.chart,_,it),st=getBackgroundPoint(_,it,ot,this.chart);this.xAlign=ot.xAlign,this.yAlign=ot.yAlign,_e={opacity:1,x:st.x,y:st.y,width:nt.width,height:nt.height,caretX:tt.x,caretY:tt.y}}this._tooltipItems=et,this.$context=void 0,_e&&this._resolveAnimations().update(this,_e),e&&_.external&&_.external.call(this,{chart:this.chart,tooltip:this,replay:a})}drawCaret(e,a,_,b){const _e=this.getCaretPosition(e,_,b);a.lineTo(_e.x1,_e.y1),a.lineTo(_e.x2,_e.y2),a.lineTo(_e.x3,_e.y3)}getCaretPosition(e,a,_){const{xAlign:b,yAlign:_e}=this,{caretSize:et,cornerRadius:tt}=_,{topLeft:nt,topRight:it,bottomLeft:ot,bottomRight:st}=toTRBLCorners(tt),{x:at,y:lt}=e,{width:ut,height:ft}=a;let mt,ht,vt,Et,At,Ct;return _e==="center"?(At=lt+ft/2,b==="left"?(mt=at,ht=mt-et,Et=At+et,Ct=At-et):(mt=at+ut,ht=mt+et,Et=At-et,Ct=At+et),vt=mt):(b==="left"?ht=at+Math.max(nt,ot)+et:b==="right"?ht=at+ut-Math.max(it,st)-et:ht=this.caretX,_e==="top"?(Et=lt,At=Et-et,mt=ht-et,vt=ht+et):(Et=lt+ft,At=Et+et,mt=ht+et,vt=ht-et),Ct=Et),{x1:mt,x2:ht,x3:vt,y1:Et,y2:At,y3:Ct}}drawTitle(e,a,_){const b=this.title,_e=b.length;let et,tt,nt;if(_e){const it=getRtlAdapter(_.rtl,this.x,this.width);for(e.x=getAlignedX(this,_.titleAlign,_),a.textAlign=it.textAlign(_.titleAlign),a.textBaseline="middle",et=toFont(_.titleFont),tt=_.titleSpacing,a.fillStyle=_.titleColor,a.font=et.string,nt=0;nt<_e;++nt)a.fillText(b[nt],it.x(e.x),e.y+et.lineHeight/2),e.y+=et.lineHeight+tt,nt+1===_e&&(e.y+=_.titleMarginBottom-tt)}}_drawColorBox(e,a,_,b,_e){const et=this.labelColors[_],tt=this.labelPointStyles[_],{boxHeight:nt,boxWidth:it}=_e,ot=toFont(_e.bodyFont),st=getAlignedX(this,"left",_e),at=b.x(st),lt=nt<ot.lineHeight?(ot.lineHeight-nt)/2:0,ut=a.y+lt;if(_e.usePointStyle){const ft={radius:Math.min(it,nt)/2,pointStyle:tt.pointStyle,rotation:tt.rotation,borderWidth:1},mt=b.leftForLtr(at,it)+it/2,ht=ut+nt/2;e.strokeStyle=_e.multiKeyBackground,e.fillStyle=_e.multiKeyBackground,drawPoint(e,ft,mt,ht),e.strokeStyle=et.borderColor,e.fillStyle=et.backgroundColor,drawPoint(e,ft,mt,ht)}else{e.lineWidth=isObject(et.borderWidth)?Math.max(...Object.values(et.borderWidth)):et.borderWidth||1,e.strokeStyle=et.borderColor,e.setLineDash(et.borderDash||[]),e.lineDashOffset=et.borderDashOffset||0;const ft=b.leftForLtr(at,it),mt=b.leftForLtr(b.xPlus(at,1),it-2),ht=toTRBLCorners(et.borderRadius);Object.values(ht).some(vt=>vt!==0)?(e.beginPath(),e.fillStyle=_e.multiKeyBackground,addRoundedRectPath(e,{x:ft,y:ut,w:it,h:nt,radius:ht}),e.fill(),e.stroke(),e.fillStyle=et.backgroundColor,e.beginPath(),addRoundedRectPath(e,{x:mt,y:ut+1,w:it-2,h:nt-2,radius:ht}),e.fill()):(e.fillStyle=_e.multiKeyBackground,e.fillRect(ft,ut,it,nt),e.strokeRect(ft,ut,it,nt),e.fillStyle=et.backgroundColor,e.fillRect(mt,ut+1,it-2,nt-2))}e.fillStyle=this.labelTextColors[_]}drawBody(e,a,_){const{body:b}=this,{bodySpacing:_e,bodyAlign:et,displayColors:tt,boxHeight:nt,boxWidth:it,boxPadding:ot}=_,st=toFont(_.bodyFont);let at=st.lineHeight,lt=0;const ut=getRtlAdapter(_.rtl,this.x,this.width),ft=function(Lt){a.fillText(Lt,ut.x(e.x+lt),e.y+at/2),e.y+=at+_e},mt=ut.textAlign(et);let ht,vt,Et,At,Ct,Mt,Bt;for(a.textAlign=et,a.textBaseline="middle",a.font=st.string,e.x=getAlignedX(this,mt,_),a.fillStyle=_.bodyColor,each(this.beforeBody,ft),lt=tt&&mt!=="right"?et==="center"?it/2+ot:it+2+ot:0,At=0,Mt=b.length;At<Mt;++At){for(ht=b[At],vt=this.labelTextColors[At],a.fillStyle=vt,each(ht.before,ft),Et=ht.lines,tt&&Et.length&&(this._drawColorBox(a,e,At,ut,_),at=Math.max(st.lineHeight,nt)),Ct=0,Bt=Et.length;Ct<Bt;++Ct)ft(Et[Ct]),at=st.lineHeight;each(ht.after,ft)}lt=0,at=st.lineHeight,each(this.afterBody,ft),e.y-=_e}drawFooter(e,a,_){const b=this.footer,_e=b.length;let et,tt;if(_e){const nt=getRtlAdapter(_.rtl,this.x,this.width);for(e.x=getAlignedX(this,_.footerAlign,_),e.y+=_.footerMarginTop,a.textAlign=nt.textAlign(_.footerAlign),a.textBaseline="middle",et=toFont(_.footerFont),a.fillStyle=_.footerColor,a.font=et.string,tt=0;tt<_e;++tt)a.fillText(b[tt],nt.x(e.x),e.y+et.lineHeight/2),e.y+=et.lineHeight+_.footerSpacing}}drawBackground(e,a,_,b){const{xAlign:_e,yAlign:et}=this,{x:tt,y:nt}=e,{width:it,height:ot}=_,{topLeft:st,topRight:at,bottomLeft:lt,bottomRight:ut}=toTRBLCorners(b.cornerRadius);a.fillStyle=b.backgroundColor,a.strokeStyle=b.borderColor,a.lineWidth=b.borderWidth,a.beginPath(),a.moveTo(tt+st,nt),et==="top"&&this.drawCaret(e,a,_,b),a.lineTo(tt+it-at,nt),a.quadraticCurveTo(tt+it,nt,tt+it,nt+at),et==="center"&&_e==="right"&&this.drawCaret(e,a,_,b),a.lineTo(tt+it,nt+ot-ut),a.quadraticCurveTo(tt+it,nt+ot,tt+it-ut,nt+ot),et==="bottom"&&this.drawCaret(e,a,_,b),a.lineTo(tt+lt,nt+ot),a.quadraticCurveTo(tt,nt+ot,tt,nt+ot-lt),et==="center"&&_e==="left"&&this.drawCaret(e,a,_,b),a.lineTo(tt,nt+st),a.quadraticCurveTo(tt,nt,tt+st,nt),a.closePath(),a.fill(),b.borderWidth>0&&a.stroke()}_updateAnimationTarget(e){const a=this.chart,_=this.$animations,b=_&&_.x,_e=_&&_.y;if(b||_e){const et=positioners[e.position].call(this,this._active,this._eventPosition);if(!et)return;const tt=this._size=getTooltipSize(this,e),nt=Object.assign({},et,this._size),it=determineAlignment(a,e,nt),ot=getBackgroundPoint(e,nt,it,a);(b._to!==ot.x||_e._to!==ot.y)&&(this.xAlign=it.xAlign,this.yAlign=it.yAlign,this.width=tt.width,this.height=tt.height,this.caretX=et.x,this.caretY=et.y,this._resolveAnimations().update(this,ot))}}_willRender(){return!!this.opacity}draw(e){const a=this.options.setContext(this.getContext());let _=this.opacity;if(!_)return;this._updateAnimationTarget(a);const b={width:this.width,height:this.height},_e={x:this.x,y:this.y};_=Math.abs(_)<.001?0:_;const et=toPadding(a.padding),tt=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;a.enabled&&tt&&(e.save(),e.globalAlpha=_,this.drawBackground(_e,e,b,a),overrideTextDirection(e,a.textDirection),_e.y+=et.top,this.drawTitle(_e,e,a),this.drawBody(_e,e,a),this.drawFooter(_e,e,a),restoreTextDirection(e,a.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,a){const _=this._active,b=e.map(({datasetIndex:tt,index:nt})=>{const it=this.chart.getDatasetMeta(tt);if(!it)throw new Error("Cannot find a dataset at index "+tt);return{datasetIndex:tt,element:it.data[nt],index:nt}}),_e=!_elementsEqual(_,b),et=this._positionChanged(b,a);(_e||et)&&(this._active=b,this._eventPosition=a,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,a,_=!0){if(a&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const b=this.options,_e=this._active||[],et=this._getActiveElements(e,_e,a,_),tt=this._positionChanged(et,e),nt=a||!_elementsEqual(et,_e)||tt;return nt&&(this._active=et,(b.enabled||b.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,a))),nt}_getActiveElements(e,a,_,b){const _e=this.options;if(e.type==="mouseout")return[];if(!b)return a.filter(tt=>this.chart.data.datasets[tt.datasetIndex]&&this.chart.getDatasetMeta(tt.datasetIndex).controller.getParsed(tt.index)!==void 0);const et=this.chart.getElementsAtEventForMode(e,_e.mode,_e,_);return _e.reverse&&et.reverse(),et}_positionChanged(e,a){const{caretX:_,caretY:b,options:_e}=this,et=positioners[_e.position].call(this,e,a);return et!==!1&&(_!==et.x||b!==et.y)}}Br(Tooltip,"positioners",positioners);var plugin_tooltip={id:"tooltip",_element:Tooltip,positioners,afterInit(o,e,a){a&&(o.tooltip=new Tooltip({chart:o,options:a}))},beforeUpdate(o,e,a){o.tooltip&&o.tooltip.initialize(a)},reset(o,e,a){o.tooltip&&o.tooltip.initialize(a)},afterDraw(o){const e=o.tooltip;if(e&&e._willRender()){const a={tooltip:e};if(o.notifyPlugins("beforeTooltipDraw",{...a,cancelable:!0})===!1)return;e.draw(o.ctx),o.notifyPlugins("afterTooltipDraw",a)}},afterEvent(o,e){if(o.tooltip){const a=e.replay;o.tooltip.handleEvent(e.event,a,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(o,e)=>e.bodyFont.size,boxWidth:(o,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:defaultCallbacks},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:o=>o!=="filter"&&o!=="itemSort"&&o!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const addIfString=(o,e,a,_)=>(typeof e=="string"?(a=o.push(e)-1,_.unshift({index:a,label:e})):isNaN(e)&&(a=null),a);function findOrAddLabel(o,e,a,_){const b=o.indexOf(e);if(b===-1)return addIfString(o,e,a,_);const _e=o.lastIndexOf(e);return b!==_e?a:b}const validIndex=(o,e)=>o===null?null:_limitValue(Math.round(o),0,e);function _getLabelForValue(o){const e=this.getLabels();return o>=0&&o<e.length?e[o]:o}class CategoryScale extends Scale{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const a=this._addedLabels;if(a.length){const _=this.getLabels();for(const{index:b,label:_e}of a)_[b]===_e&&_.splice(b,1);this._addedLabels=[]}super.init(e)}parse(e,a){if(isNullOrUndef(e))return null;const _=this.getLabels();return a=isFinite(a)&&_[a]===e?a:findOrAddLabel(_,e,valueOrDefault(a,e),this._addedLabels),validIndex(a,_.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:a}=this.getUserBounds();let{min:_,max:b}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(_=0),a||(b=this.getLabels().length-1)),this.min=_,this.max=b}buildTicks(){const e=this.min,a=this.max,_=this.options.offset,b=[];let _e=this.getLabels();_e=e===0&&a===_e.length-1?_e:_e.slice(e,a+1),this._valueRange=Math.max(_e.length-(_?0:1),1),this._startValue=this.min-(_?.5:0);for(let et=e;et<=a;et++)b.push({value:et});return b}getLabelForValue(e){return _getLabelForValue.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const a=this.ticks;return e<0||e>a.length-1?null:this.getPixelForValue(a[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}Br(CategoryScale,"id","category"),Br(CategoryScale,"defaults",{ticks:{callback:_getLabelForValue}});function generateTicks$1(o,e){const a=[],{bounds:b,step:_e,min:et,max:tt,precision:nt,count:it,maxTicks:ot,maxDigits:st,includeBounds:at}=o,lt=_e||1,ut=ot-1,{min:ft,max:mt}=e,ht=!isNullOrUndef(et),vt=!isNullOrUndef(tt),Et=!isNullOrUndef(it),At=(mt-ft)/(st+1);let Ct=niceNum((mt-ft)/ut/lt)*lt,Mt,Bt,Lt,jt;if(Ct<1e-14&&!ht&&!vt)return[{value:ft},{value:mt}];jt=Math.ceil(mt/Ct)-Math.floor(ft/Ct),jt>ut&&(Ct=niceNum(jt*Ct/ut/lt)*lt),isNullOrUndef(nt)||(Mt=Math.pow(10,nt),Ct=Math.ceil(Ct*Mt)/Mt),b==="ticks"?(Bt=Math.floor(ft/Ct)*Ct,Lt=Math.ceil(mt/Ct)*Ct):(Bt=ft,Lt=mt),ht&&vt&&_e&&almostWhole((tt-et)/_e,Ct/1e3)?(jt=Math.round(Math.min((tt-et)/Ct,ot)),Ct=(tt-et)/jt,Bt=et,Lt=tt):Et?(Bt=ht?et:Bt,Lt=vt?tt:Lt,jt=it-1,Ct=(Lt-Bt)/jt):(jt=(Lt-Bt)/Ct,almostEquals(jt,Math.round(jt),Ct/1e3)?jt=Math.round(jt):jt=Math.ceil(jt));const Vt=Math.max(_decimalPlaces(Ct),_decimalPlaces(Bt));Mt=Math.pow(10,isNullOrUndef(nt)?Vt:nt),Bt=Math.round(Bt*Mt)/Mt,Lt=Math.round(Lt*Mt)/Mt;let Nt=0;for(ht&&(at&&Bt!==et?(a.push({value:et}),Bt<et&&Nt++,almostEquals(Math.round((Bt+Nt*Ct)*Mt)/Mt,et,relativeLabelSize(et,At,o))&&Nt++):Bt<et&&Nt++);Nt<jt;++Nt){const kt=Math.round((Bt+Nt*Ct)*Mt)/Mt;if(vt&&kt>tt)break;a.push({value:kt})}return vt&&at&&Lt!==tt?a.length&&almostEquals(a[a.length-1].value,tt,relativeLabelSize(tt,At,o))?a[a.length-1].value=tt:a.push({value:tt}):(!vt||Lt===tt)&&a.push({value:Lt}),a}function relativeLabelSize(o,e,{horizontal:a,minRotation:_}){const b=toRadians(_),_e=(a?Math.sin(b):Math.cos(b))||.001,et=.75*e*(""+o).length;return Math.min(e/_e,et)}class LinearScaleBase extends Scale{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,a){return isNullOrUndef(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:a,maxDefined:_}=this.getUserBounds();let{min:b,max:_e}=this;const et=nt=>b=a?b:nt,tt=nt=>_e=_?_e:nt;if(e){const nt=sign(b),it=sign(_e);nt<0&&it<0?tt(0):nt>0&&it>0&&et(0)}if(b===_e){let nt=_e===0?1:Math.abs(_e*.05);tt(_e+nt),e||et(b-nt)}this.min=b,this.max=_e}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:a,stepSize:_}=e,b;return _?(b=Math.ceil(this.max/_)-Math.floor(this.min/_)+1,b>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${_} would result generating up to ${b} ticks. Limiting to 1000.`),b=1e3)):(b=this.computeTickLimit(),a=a||11),a&&(b=Math.min(a,b)),b}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,a=e.ticks;let _=this.getTickLimit();_=Math.max(2,_);const b={maxTicks:_,bounds:e.bounds,min:e.min,max:e.max,precision:a.precision,step:a.stepSize,count:a.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:a.minRotation||0,includeBounds:a.includeBounds!==!1},_e=this._range||this,et=generateTicks$1(b,_e);return e.bounds==="ticks"&&_setMinAndMaxByKey(et,this,"value"),e.reverse?(et.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),et}configure(){const e=this.ticks;let a=this.min,_=this.max;if(super.configure(),this.options.offset&&e.length){const b=(_-a)/Math.max(e.length-1,1)/2;a-=b,_+=b}this._startValue=a,this._endValue=_,this._valueRange=_-a}getLabelForValue(e){return formatNumber(e,this.chart.options.locale,this.options.ticks.format)}}class LinearScale extends LinearScaleBase{determineDataLimits(){const{min:e,max:a}=this.getMinMax(!0);this.min=isNumberFinite(e)?e:0,this.max=isNumberFinite(a)?a:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),a=e?this.width:this.height,_=toRadians(this.options.ticks.minRotation),b=(e?Math.sin(_):Math.cos(_))||.001,_e=this._resolveTickFontOptions(0);return Math.ceil(a/Math.min(40,_e.lineHeight/b))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Br(LinearScale,"id","linear"),Br(LinearScale,"defaults",{ticks:{callback:Ticks.formatters.numeric}});const INTERVALS={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},UNITS=Object.keys(INTERVALS);function sorter(o,e){return o-e}function parse(o,e){if(isNullOrUndef(e))return null;const a=o._adapter,{parser:_,round:b,isoWeekday:_e}=o._parseOpts;let et=e;return typeof _=="function"&&(et=_(et)),isNumberFinite(et)||(et=typeof _=="string"?a.parse(et,_):a.parse(et)),et===null?null:(b&&(et=b==="week"&&(isNumber(_e)||_e===!0)?a.startOf(et,"isoWeek",_e):a.startOf(et,b)),+et)}function determineUnitForAutoTicks(o,e,a,_){const b=UNITS.length;for(let _e=UNITS.indexOf(o);_e<b-1;++_e){const et=INTERVALS[UNITS[_e]],tt=et.steps?et.steps:Number.MAX_SAFE_INTEGER;if(et.common&&Math.ceil((a-e)/(tt*et.size))<=_)return UNITS[_e]}return UNITS[b-1]}function determineUnitForFormatting(o,e,a,_,b){for(let _e=UNITS.length-1;_e>=UNITS.indexOf(a);_e--){const et=UNITS[_e];if(INTERVALS[et].common&&o._adapter.diff(b,_,et)>=e-1)return et}return UNITS[a?UNITS.indexOf(a):0]}function determineMajorUnit(o){for(let e=UNITS.indexOf(o)+1,a=UNITS.length;e<a;++e)if(INTERVALS[UNITS[e]].common)return UNITS[e]}function addTick(o,e,a){if(!a)o[e]=!0;else if(a.length){const{lo:_,hi:b}=_lookup(a,e),_e=a[_]>=e?a[_]:a[b];o[_e]=!0}}function setMajorTicks(o,e,a,_){const b=o._adapter,_e=+b.startOf(e[0].value,_),et=e[e.length-1].value;let tt,nt;for(tt=_e;tt<=et;tt=+b.add(tt,1,_))nt=a[tt],nt>=0&&(e[nt].major=!0);return e}function ticksFromTimestamps(o,e,a){const _=[],b={},_e=e.length;let et,tt;for(et=0;et<_e;++et)tt=e[et],b[tt]=et,_.push({value:tt,major:!1});return _e===0||!a?_:setMajorTicks(o,_,b,a)}class TimeScale extends Scale{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,a={}){const _=e.time||(e.time={}),b=this._adapter=new adapters._date(e.adapters.date);b.init(a),mergeIf(_.displayFormats,b.formats()),this._parseOpts={parser:_.parser,round:_.round,isoWeekday:_.isoWeekday},super.init(e),this._normalized=a.normalized}parse(e,a){return e===void 0?null:parse(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,a=this._adapter,_=e.time.unit||"day";let{min:b,max:_e,minDefined:et,maxDefined:tt}=this.getUserBounds();function nt(it){!et&&!isNaN(it.min)&&(b=Math.min(b,it.min)),!tt&&!isNaN(it.max)&&(_e=Math.max(_e,it.max))}(!et||!tt)&&(nt(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&nt(this.getMinMax(!1))),b=isNumberFinite(b)&&!isNaN(b)?b:+a.startOf(Date.now(),_),_e=isNumberFinite(_e)&&!isNaN(_e)?_e:+a.endOf(Date.now(),_)+1,this.min=Math.min(b,_e-1),this.max=Math.max(b+1,_e)}_getLabelBounds(){const e=this.getLabelTimestamps();let a=Number.POSITIVE_INFINITY,_=Number.NEGATIVE_INFINITY;return e.length&&(a=e[0],_=e[e.length-1]),{min:a,max:_}}buildTicks(){const e=this.options,a=e.time,_=e.ticks,b=_.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&b.length&&(this.min=this._userMin||b[0],this.max=this._userMax||b[b.length-1]);const _e=this.min,et=this.max,tt=_filterBetween(b,_e,et);return this._unit=a.unit||(_.autoSkip?determineUnitForAutoTicks(a.minUnit,this.min,this.max,this._getLabelCapacity(_e)):determineUnitForFormatting(this,tt.length,a.minUnit,this.min,this.max)),this._majorUnit=!_.major.enabled||this._unit==="year"?void 0:determineMajorUnit(this._unit),this.initOffsets(b),e.reverse&&tt.reverse(),ticksFromTimestamps(this,tt,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let a=0,_=0,b,_e;this.options.offset&&e.length&&(b=this.getDecimalForValue(e[0]),e.length===1?a=1-b:a=(this.getDecimalForValue(e[1])-b)/2,_e=this.getDecimalForValue(e[e.length-1]),e.length===1?_=_e:_=(_e-this.getDecimalForValue(e[e.length-2]))/2);const et=e.length<3?.5:.25;a=_limitValue(a,0,et),_=_limitValue(_,0,et),this._offsets={start:a,end:_,factor:1/(a+1+_)}}_generate(){const e=this._adapter,a=this.min,_=this.max,b=this.options,_e=b.time,et=_e.unit||determineUnitForAutoTicks(_e.minUnit,a,_,this._getLabelCapacity(a)),tt=valueOrDefault(b.ticks.stepSize,1),nt=et==="week"?_e.isoWeekday:!1,it=isNumber(nt)||nt===!0,ot={};let st=a,at,lt;if(it&&(st=+e.startOf(st,"isoWeek",nt)),st=+e.startOf(st,it?"day":et),e.diff(_,a,et)>1e5*tt)throw new Error(a+" and "+_+" are too far apart with stepSize of "+tt+" "+et);const ut=b.ticks.source==="data"&&this.getDataTimestamps();for(at=st,lt=0;at<_;at=+e.add(at,tt,et),lt++)addTick(ot,at,ut);return(at===_||b.bounds==="ticks"||lt===1)&&addTick(ot,at,ut),Object.keys(ot).sort(sorter).map(ft=>+ft)}getLabelForValue(e){const a=this._adapter,_=this.options.time;return _.tooltipFormat?a.format(e,_.tooltipFormat):a.format(e,_.displayFormats.datetime)}format(e,a){const b=this.options.time.displayFormats,_e=this._unit,et=a||b[_e];return this._adapter.format(e,et)}_tickFormatFunction(e,a,_,b){const _e=this.options,et=_e.ticks.callback;if(et)return callback(et,[e,a,_],this);const tt=_e.time.displayFormats,nt=this._unit,it=this._majorUnit,ot=nt&&tt[nt],st=it&&tt[it],at=_[a],lt=it&&st&&at&&at.major;return this._adapter.format(e,b||(lt?st:ot))}generateTickLabels(e){let a,_,b;for(a=0,_=e.length;a<_;++a)b=e[a],b.label=this._tickFormatFunction(b.value,a,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const a=this._offsets,_=this.getDecimalForValue(e);return this.getPixelForDecimal((a.start+_)*a.factor)}getValueForPixel(e){const a=this._offsets,_=this.getDecimalForPixel(e)/a.factor-a.end;return this.min+_*(this.max-this.min)}_getLabelSize(e){const a=this.options.ticks,_=this.ctx.measureText(e).width,b=toRadians(this.isHorizontal()?a.maxRotation:a.minRotation),_e=Math.cos(b),et=Math.sin(b),tt=this._resolveTickFontOptions(0).size;return{w:_*_e+tt*et,h:_*et+tt*_e}}_getLabelCapacity(e){const a=this.options.time,_=a.displayFormats,b=_[a.unit]||_.millisecond,_e=this._tickFormatFunction(e,0,ticksFromTimestamps(this,[e],this._majorUnit),b),et=this._getLabelSize(_e),tt=Math.floor(this.isHorizontal()?this.width/et.w:this.height/et.h)-1;return tt>0?tt:1}getDataTimestamps(){let e=this._cache.data||[],a,_;if(e.length)return e;const b=this.getMatchingVisibleMetas();if(this._normalized&&b.length)return this._cache.data=b[0].controller.getAllParsedValues(this);for(a=0,_=b.length;a<_;++a)e=e.concat(b[a].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let a,_;if(e.length)return e;const b=this.getLabels();for(a=0,_=b.length;a<_;++a)e.push(parse(this,b[a]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return _arrayUnique(e.sort(sorter))}}Br(TimeScale,"id","time"),Br(TimeScale,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function interpolate(o,e,a){let _=0,b=o.length-1,_e,et,tt,nt;a?(e>=o[_].pos&&e<=o[b].pos&&({lo:_,hi:b}=_lookupByKey(o,"pos",e)),{pos:_e,time:tt}=o[_],{pos:et,time:nt}=o[b]):(e>=o[_].time&&e<=o[b].time&&({lo:_,hi:b}=_lookupByKey(o,"time",e)),{time:_e,pos:tt}=o[_],{time:et,pos:nt}=o[b]);const it=et-_e;return it?tt+(nt-tt)*(e-_e)/it:tt}class TimeSeriesScale extends TimeScale{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),a=this._table=this.buildLookupTable(e);this._minPos=interpolate(a,this.min),this._tableRange=interpolate(a,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:a,max:_}=this,b=[],_e=[];let et,tt,nt,it,ot;for(et=0,tt=e.length;et<tt;++et)it=e[et],it>=a&&it<=_&&b.push(it);if(b.length<2)return[{time:a,pos:0},{time:_,pos:1}];for(et=0,tt=b.length;et<tt;++et)ot=b[et+1],nt=b[et-1],it=b[et],Math.round((ot+nt)/2)!==it&&_e.push({time:it,pos:et/(tt-1)});return _e}_generate(){const e=this.min,a=this.max;let _=super.getDataTimestamps();return(!_.includes(e)||!_.length)&&_.splice(0,0,e),(!_.includes(a)||_.length===1)&&_.push(a),_.sort((b,_e)=>b-_e)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const a=this.getDataTimestamps(),_=this.getLabelTimestamps();return a.length&&_.length?e=this.normalize(a.concat(_)):e=a.length?a:_,e=this._cache.all=e,e}getDecimalForValue(e){return(interpolate(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const a=this._offsets,_=this.getDecimalForPixel(e)/a.factor-a.end;return interpolate(this._table,_*this._tableRange+this._minPos,!0)}}Br(TimeSeriesScale,"id","timeseries"),Br(TimeSeriesScale,"defaults",TimeScale.defaults);const defaultDatasetIdKey="label";function reforwardRef(o,e){typeof o=="function"?o(e):o&&(o.current=e)}function setOptions(o,e){const a=o.options;a&&e&&Object.assign(a,e)}function setLabels(o,e){o.labels=e}function setDatasets(o,e,a=defaultDatasetIdKey){const _=[];o.datasets=e.map(b=>{const _e=o.datasets.find(et=>et[a]===b[a]);return!_e||!b.data||_.includes(_e)?{...b}:(_.push(_e),Object.assign(_e,b),_e)})}function cloneData(o,e=defaultDatasetIdKey){const a={labels:[],datasets:[]};return setLabels(a,o.labels),setDatasets(a,o.datasets,e),a}function ChartComponent(o,e){const{height:a=150,width:_=300,redraw:b=!1,datasetIdKey:_e,type:et,data:tt,options:nt,plugins:it=[],fallbackContent:ot,updateMode:st,...at}=o,lt=reactExports.useRef(null),ut=reactExports.useRef(null),ft=()=>{lt.current&&(ut.current=new Chart$1(lt.current,{type:et,data:cloneData(tt,_e),options:nt&&{...nt},plugins:it}),reforwardRef(e,ut.current))},mt=()=>{reforwardRef(e,null),ut.current&&(ut.current.destroy(),ut.current=null)};return reactExports.useEffect(()=>{!b&&ut.current&&nt&&setOptions(ut.current,nt)},[b,nt]),reactExports.useEffect(()=>{!b&&ut.current&&setLabels(ut.current.config.data,tt.labels)},[b,tt.labels]),reactExports.useEffect(()=>{!b&&ut.current&&tt.datasets&&setDatasets(ut.current.config.data,tt.datasets,_e)},[b,tt.datasets]),reactExports.useEffect(()=>{ut.current&&(b?(mt(),setTimeout(ft)):ut.current.update(st))},[b,nt,tt.labels,tt.datasets,st]),reactExports.useEffect(()=>{ut.current&&(mt(),setTimeout(ft))},[et]),reactExports.useEffect(()=>(ft(),()=>mt()),[]),jsxRuntimeExports.jsx("canvas",{ref:lt,role:"img",height:a,width:_,...at,children:ot})}const Chart=reactExports.forwardRef(ChartComponent);function createTypedChart(o,e){return Chart$1.register(e),reactExports.forwardRef((a,_)=>jsxRuntimeExports.jsx(Chart,{...a,ref:_,type:o}))}const Line=createTypedChart("line",LineController);Chart$1.register(CategoryScale,LinearScale,PointElement,LineElement,plugin_title,plugin_tooltip,plugin_legend,index);const StatsView=()=>{const e={labels:["J-6","J-5","J-4","J-3","J-2","Hier","Auj"],datasets:[{label:"DOVX Price (WAX)",data:[.0048,.0049,.0051,.005,.0052,.0052,CONFIG_PRIX.DOVX_WAX],borderColor:"rgb(213, 0, 249)",backgroundColor:"rgba(213, 0, 249, 0.1)",tension:.4,fill:!0},{label:"WAX Price (USD)",data:[.068,.07,.072,.071,.073,.074,CONFIG_PRIX.WAX_USD*10],borderColor:"rgb(255, 145, 0)",backgroundColor:"rgba(255, 145, 0, 0)",borderDash:[5,5],tension:.4}]},a={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{color:"#fff",font:{family:"Inter"}}},title:{display:!1}},scales:{y:{grid:{color:"#333"},ticks:{color:"#888"}},x:{grid:{display:!1},ticks:{color:"#888"}}}};return jsxRuntimeExports.jsxs("div",{id:"viewStats",className:"active-view",children:[jsxRuntimeExports.jsxs("div",{className:"dashboard-header",style:{borderLeft:"4px solid var(--purple)"},children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"page-h1",style:{color:"var(--purple)"},children:"FINANCIAL STATISTICS"}),jsxRuntimeExports.jsx("div",{className:"page-meta",children:"MARKET TRENDS & LIQUIDITY"})]}),jsxRuntimeExports.jsx("div",{className:"sys-clock",children:jsxRuntimeExports.jsx("span",{className:"clock-copy"})})]}),jsxRuntimeExports.jsxs("div",{className:"kpi-grid",style:{gridTemplateColumns:"repeat(4, 1fr)",marginBottom:"20px"},children:[jsxRuntimeExports.jsxs("div",{className:"kpi-card",children:[jsxRuntimeExports.jsx("div",{className:"kc-title",children:"DOVX PRICE"}),jsxRuntimeExports.jsx("div",{className:"kc-val-huge",style:{color:"var(--purple)"},children:CONFIG_PRIX.DOVX_WAX}),jsxRuntimeExports.jsx("div",{className:"kc-sub",children:"WAX PAIR"})]}),jsxRuntimeExports.jsxs("div",{className:"kpi-card",children:[jsxRuntimeExports.jsx("div",{className:"kc-title",children:"WAX PRICE"}),jsxRuntimeExports.jsx("div",{className:"kc-val",style:{color:"var(--orange)"},children:fmtUsd(CONFIG_PRIX.WAX_USD)}),jsxRuntimeExports.jsx("div",{className:"kc-sub",children:"ORACLE FEED"})]}),jsxRuntimeExports.jsxs("div",{className:"kpi-card",children:[jsxRuntimeExports.jsx("div",{className:"kc-title",children:"NFT FLOOR PRICE"}),jsxRuntimeExports.jsx("div",{className:"kc-val",children:fmtUsd(CONFIG_PRIX.PRIX_MOYEN_NFT_USD)}),jsxRuntimeExports.jsx("div",{className:"kc-sub",children:"AVERAGE ESTIMATE"})]}),jsxRuntimeExports.jsxs("div",{className:"kpi-card",children:[jsxRuntimeExports.jsx("div",{className:"kc-title",children:"MARKET CAP"}),jsxRuntimeExports.jsx("div",{className:"kc-val",style:{color:"var(--blue)"},children:NFTHIVE_SNAPSHOT.marketCap})]})]}),jsxRuntimeExports.jsxs("div",{className:"data-panel",style:{marginBottom:"20px"},children:[jsxRuntimeExports.jsx("div",{className:"dp-head",children:jsxRuntimeExports.jsx("span",{className:"dp-title",children:"TOKEN PERFORMANCE (7 DAYS)"})}),jsxRuntimeExports.jsx("div",{style:{height:"300px",padding:"15px",background:"var(--bg-panel)"},children:jsxRuntimeExports.jsx(Line,{options:a,data:e})})]}),jsxRuntimeExports.jsxs("div",{className:"data-panel",children:[jsxRuntimeExports.jsx("div",{className:"dp-head",children:jsxRuntimeExports.jsx("span",{className:"dp-title",children:"LIQUIDITY POOL ANALYSIS"})}),jsxRuntimeExports.jsxs("div",{className:"dt-grid dt-header",style:{gridTemplateColumns:"1fr 1fr 1fr"},children:[jsxRuntimeExports.jsx("div",{className:"cell",children:"PAIR"}),jsxRuntimeExports.jsx("div",{className:"cell c-right",children:"LIQUIDITY (WAX)"}),jsxRuntimeExports.jsx("div",{className:"cell c-right",children:"VOL (24H)"})]}),jsxRuntimeExports.jsxs("div",{className:"dt-grid dt-row",style:{gridTemplateColumns:"1fr 1fr 1fr"},children:[jsxRuntimeExports.jsx("div",{className:"cell",style:{color:"var(--purple)",fontWeight:"bold"},children:"DOVX / WAX"}),jsxRuntimeExports.jsx("div",{className:"cell c-right",children:"458,920.00 W"}),jsxRuntimeExports.jsx("div",{className:"cell c-right",children:"12,500.00 W"})]}),jsxRuntimeExports.jsxs("div",{className:"dt-grid dt-row",style:{gridTemplateColumns:"1fr 1fr 1fr"},children:[jsxRuntimeExports.jsx("div",{className:"cell",style:{color:"#fff",fontWeight:"bold"},children:"DOVF / WAX"}),jsxRuntimeExports.jsx("div",{className:"cell c-right",children:"85,100.00 W"}),jsxRuntimeExports.jsx("div",{className:"cell c-right",children:"2,300.00 W"})]})]})]})},XrayView=()=>{const[o,e]=reactExports.useState("dawnfvictory"),[a,_]=reactExports.useState("dawnfvictory"),[b,_e]=reactExports.useState(""),[et,tt]=reactExports.useState([]),[nt,it]=reactExports.useState(100),[ot,st]=reactExports.useState(!1),[at,lt]=reactExports.useState(null),[ut,ft]=reactExports.useState("PRT"),mt=async()=>{st(!0),ft(`CHARGEMENT ABI ${o}...`),tt([]);try{const Et=await fetchSmartCluster("/v1/chain/get_abi",{account_name:o});Et.abi&&Et.abi.tables?(tt(Et.abi.tables),Et.abi.tables.length>0&&_e(Et.abi.tables[0].name),ft(`${Et.abi.tables.length} TABLES TROUVES.`)):ft("AUCUNE TABLE OU ACCS REFUS.")}catch(Et){ft("ERREUR ABI: "+Et.message)}st(!1)},ht=async()=>{if(!b){ft("VEUILLEZ CHARGER LES TABLES D'ABORD.");return}st(!0),ft(`SCANNING ${o} -> ${b}...`),lt(null);try{const Et=await fetchSmartCluster("/v1/chain/get_table_rows",{json:!0,code:o,scope:a,table:b,limit:parseInt(nt),reverse:!0});Et.rows?(lt(Et.rows),ft(`${Et.rows.length} LIGNES RCUPRES.`)):ft("AUCUNE DONNE.")}catch(Et){ft("ERREUR QUERY: "+Et.message)}st(!1)},vt=Et=>{e(Et),Et.includes("atomic")||Et.includes("nefty")?_("dawnfvictory"):_(Et)};return jsxRuntimeExports.jsxs("div",{id:"viewXray",className:"active-view",children:[jsxRuntimeExports.jsxs("div",{className:"dashboard-header",style:{borderLeft:"4px solid var(--purple)"},children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"page-h1",children:"X-RAY SCANNER"}),jsxRuntimeExports.jsx("div",{className:"page-meta",children:"SMART CONTRACT INSPECTOR"})]}),jsxRuntimeExports.jsx("div",{className:"sys-clock",children:jsxRuntimeExports.jsx("span",{className:"clock-copy"})})]}),jsxRuntimeExports.jsxs("div",{className:"xray-ctrl",style:{display:"flex",gap:"10px",marginBottom:"15px",background:"#111",padding:"10px",border:"1px solid #333",borderRadius:"4px"},children:[jsxRuntimeExports.jsxs("div",{style:{flex:1},children:[jsxRuntimeExports.jsx("span",{className:"grp-lbl",style:{display:"block",marginBottom:"5px"},children:"CONTRACT"}),jsxRuntimeExports.jsxs("select",{className:"scan-input",style:{width:"100%",textAlign:"left"},value:o,onChange:Et=>vt(Et.target.value),children:[PROJECT_DATA.contracts.map(Et=>jsxRuntimeExports.jsx("option",{value:Et,children:Et},Et)),jsxRuntimeExports.jsx("option",{value:"eosio.token",children:"eosio.token"}),jsxRuntimeExports.jsx("option",{value:"atomicassets",children:"atomicassets"})]})]}),jsxRuntimeExports.jsxs("div",{style:{width:"150px"},children:[jsxRuntimeExports.jsx("span",{className:"grp-lbl",style:{display:"block",marginBottom:"5px"},children:"ACTION"}),jsxRuntimeExports.jsx("button",{className:"btn-blue",onClick:mt,disabled:ot,children:ot?"...":"1. LOAD TABLES"})]})]}),jsxRuntimeExports.jsxs("div",{className:"xray-ctrl",style:{display:"flex",gap:"10px",marginBottom:"15px",background:"#111",padding:"10px",border:"1px solid #333",borderRadius:"4px"},children:[jsxRuntimeExports.jsxs("div",{style:{flex:1},children:[jsxRuntimeExports.jsx("span",{className:"grp-lbl",style:{display:"block",marginBottom:"5px"},children:"TARGET TABLE"}),jsxRuntimeExports.jsxs("select",{className:"scan-input",style:{width:"100%",textAlign:"left"},value:b,onChange:Et=>_e(Et.target.value),children:[et.length===0&&jsxRuntimeExports.jsx("option",{children:"Load ABI first..."}),et.map(Et=>jsxRuntimeExports.jsx("option",{value:Et.name,children:Et.name},Et.name))]})]}),jsxRuntimeExports.jsxs("div",{style:{flex:1},children:[jsxRuntimeExports.jsx("span",{className:"grp-lbl",style:{display:"block",marginBottom:"5px"},children:"SCOPE"}),jsxRuntimeExports.jsx("input",{type:"text",className:"scan-input",style:{width:"100%",textAlign:"left"},value:a,onChange:Et=>_(Et.target.value)})]}),jsxRuntimeExports.jsxs("div",{style:{width:"150px"},children:[jsxRuntimeExports.jsx("span",{className:"grp-lbl",style:{display:"block",marginBottom:"5px"},children:"EXECUTE"}),jsxRuntimeExports.jsx("button",{className:"btn-purple",onClick:ht,disabled:ot,children:"2. SCAN DATA"})]})]}),jsxRuntimeExports.jsxs("div",{style:{color:"var(--orange)",fontFamily:"var(--font-num)",fontSize:"11px",marginBottom:"10px",textAlign:"right"},children:["STATUS: ",ut]}),jsxRuntimeExports.jsxs("div",{className:"xray-res",style:{background:"#000",border:"1px solid #333",padding:"15px",borderRadius:"4px",minHeight:"300px",overflowX:"auto"},children:[!at&&jsxRuntimeExports.jsx("div",{style:{color:"#444",fontStyle:"italic",textAlign:"center",marginTop:"50px"},children:"Awaiting Scan..."}),at&&jsxRuntimeExports.jsxs("table",{className:"xray-table",style:{width:"100%",borderCollapse:"collapse",fontFamily:"var(--font-num)"},children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsx("tr",{children:Object.keys(at[0]||{}).map(Et=>jsxRuntimeExports.jsx("th",{style:{textAlign:"left",color:"#888",fontSize:"9px",borderBottom:"1px solid #333",padding:"5px"},children:Et.toUpperCase()},Et))})}),jsxRuntimeExports.jsx("tbody",{children:at.map((Et,At)=>jsxRuntimeExports.jsx("tr",{children:Object.values(Et).map((Ct,Mt)=>jsxRuntimeExports.jsx("td",{style:{color:"#ccc",fontSize:"10px",borderBottom:"1px solid #222",padding:"5px"},children:typeof Ct=="object"?JSON.stringify(Ct):Ct},Mt))},At))})]})]})]})},DataRoomModal=({isOpen:o,onClose:e})=>o?jsxRuntimeExports.jsx("div",{className:"modal-overlay",style:{display:"flex",position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.85)",zIndex:999,justifyContent:"center",alignItems:"center"},children:jsxRuntimeExports.jsxs("div",{className:"modal-box",style:{width:"700px",background:"var(--bg-panel)",border:"1px solid var(--border)",padding:"20px",borderRadius:"6px",boxShadow:"0 20px 50px #000",maxHeight:"90vh",overflowY:"auto"},children:[jsxRuntimeExports.jsx("img",{src:"https://ipfs.io/ipfs/QmcR7QTbt2tYHxMZ8rsH45FxYU8fuHPCy7UeAguZW3QupE",style:{width:"100px",height:"100px",borderRadius:"50%",border:"2px solid #333",margin:"0 auto 20px auto",display:"block",objectFit:"cover"},alt:"DOV Logo"}),jsxRuntimeExports.jsx("h3",{style:{textAlign:"center",color:"#fff",marginTop:0},children:"DAWN OF VICTORY - INVESTOR DATA ROOM"}),jsxRuntimeExports.jsxs("div",{style:{marginBottom:"20px",borderBottom:"1px solid #222",paddingBottom:"20px"},children:[jsxRuntimeExports.jsx("div",{style:{color:"var(--blue)",fontSize:"12px",fontWeight:"bold",marginBottom:"10px",textTransform:"uppercase"},children:"OFFICIAL RESOURCES"}),jsxRuntimeExports.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px"},children:PROJECT_DATA.links.map((a,_)=>jsxRuntimeExports.jsxs("div",{style:{background:"#000",padding:"10px",border:"1px solid #333",borderRadius:"4px",fontSize:"11px",display:"flex",justifyContent:"space-between"},children:[jsxRuntimeExports.jsx("span",{children:a.name}),jsxRuntimeExports.jsx("a",{href:a.url,target:"_blank",rel:"noreferrer",style:{color:"#fff",textDecoration:"none"},children:"OPEN "})]},_))})]}),jsxRuntimeExports.jsxs("div",{style:{marginBottom:"20px",borderBottom:"1px solid #222",paddingBottom:"20px"},children:[jsxRuntimeExports.jsx("div",{style:{color:"var(--blue)",fontSize:"12px",fontWeight:"bold",marginBottom:"10px",textTransform:"uppercase"},children:"LIQUIDITY (ALCOR)"}),jsxRuntimeExports.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px"},children:PROJECT_DATA.markets.map((a,_)=>jsxRuntimeExports.jsxs("div",{style:{background:"#000",padding:"10px",border:"1px solid #333",borderRadius:"4px",fontSize:"11px",display:"flex",justifyContent:"space-between"},children:[jsxRuntimeExports.jsx("span",{children:a.name}),jsxRuntimeExports.jsx("a",{href:a.url,target:"_blank",rel:"noreferrer",style:{color:"var(--orange)",textDecoration:"none"},children:"TRADE"})]},_))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{style:{color:"var(--blue)",fontSize:"12px",fontWeight:"bold",marginBottom:"10px",textTransform:"uppercase"},children:"AUTHORIZED CONTRACTS"}),jsxRuntimeExports.jsx("div",{style:{fontFamily:"var(--font-num)",color:"#666",fontSize:"10px",display:"flex",flexWrap:"wrap",gap:"5px"},children:PROJECT_DATA.contracts.map(a=>jsxRuntimeExports.jsx("span",{style:{padding:"2px 5px",background:"#111",borderRadius:"3px"},children:a},a))})]}),jsxRuntimeExports.jsx("div",{style:{textAlign:"right",marginTop:"15px"},children:jsxRuntimeExports.jsx("button",{className:"btn-ghost",onClick:e,style:{width:"auto",padding:"5px 15px"},children:"CLOSE"})})]})}):null,AuditModal=({isOpen:o,onClose:e,data:a})=>{const[_,b]=reactExports.useState(30);if(!o)return null;const _e=[...a].sort((nt,it)=>parseFloat(it.daysInactive)-parseFloat(nt.daysInactive)),et=()=>{const nt=_e.filter(lt=>parseFloat(lt.daysInactive)>=_);if(nt.length===0){alert("Aucun actif ne correspond  ce critre.");return}let it=`OWNER,TEMPLATE,DAYS_INACTIVE,STOP_DATE,IDS_JSON
`;nt.forEach(lt=>{let ut=JSON.stringify(lt.ids||[]).replace(/"/g,'""');it+=`${lt.owner},${lt.name},${lt.daysInactive},${lt.stopDate},"${ut}"
`});const ot=new Blob([it],{type:"text/csv"}),st=window.URL.createObjectURL(ot),at=document.createElement("a");at.href=st,at.download=`AUDIT_INACTIFS_PLUS_${_}J.csv`,at.click()},tt=nt=>{try{const it=nt.join(",");navigator.clipboard.writeText(it).then(()=>alert("IDs copis !"))}catch{alert("Erreur copie")}};return jsxRuntimeExports.jsx("div",{className:"modal-overlay",style:{display:"flex",position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.85)",zIndex:999,justifyContent:"center",alignItems:"center"},children:jsxRuntimeExports.jsxs("div",{className:"modal-box",style:{width:"800px",background:"var(--bg-panel)",border:"1px solid var(--border)",padding:"20px",borderRadius:"6px",boxShadow:"0 20px 50px #000",maxHeight:"90vh",display:"flex",flexDirection:"column"},children:[jsxRuntimeExports.jsx("h3",{style:{marginTop:0,color:"var(--red)",borderBottom:"1px solid #333",paddingBottom:"10px"},children:"AUDIT RAPPORT: ACTIFS INACTIFS"}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px",background:"#111",padding:"10px",borderRadius:"4px",border:"1px solid #333"},children:[jsxRuntimeExports.jsx("div",{style:{fontSize:"10px",color:"#888"},children:"FILTRE D'EXPORTATION"}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[jsxRuntimeExports.jsx("span",{style:{fontSize:"10px",color:"#ccc"},children:"MINIMUM JOURS:"}),jsxRuntimeExports.jsx("input",{type:"number",value:_,onChange:nt=>b(nt.target.value),style:{width:"60px",padding:"4px",textAlign:"center",background:"#000",border:"1px solid #444",color:"#fff"}}),jsxRuntimeExports.jsx("button",{className:"btn-blue",style:{width:"auto",padding:"4px 15px"},onClick:et,children:"EXPORTER LA CIBLE (.CSV)"})]})]}),jsxRuntimeExports.jsxs("div",{style:{flex:1,overflowY:"auto",minHeight:"300px"},children:[jsxRuntimeExports.jsxs("div",{className:"dt-grid dt-header",style:{gridTemplateColumns:"1fr 1fr 1fr 100px 100px"},children:[jsxRuntimeExports.jsx("div",{className:"cell",children:"WALLET (OWNER)"}),jsxRuntimeExports.jsx("div",{className:"cell",children:"TEMPLATE"}),jsxRuntimeExports.jsx("div",{className:"cell",children:"ARRT LE"}),jsxRuntimeExports.jsx("div",{className:"cell",children:"INACTIF"}),jsxRuntimeExports.jsx("div",{className:"cell c-center",children:"ACTION"})]}),_e.length===0&&jsxRuntimeExports.jsx("div",{style:{padding:"20px",textAlign:"center",color:"#666"},children:"Aucun inactif dtect (ou scan non effectu)."}),_e.map((nt,it)=>jsxRuntimeExports.jsxs("div",{className:"dt-grid dt-row",style:{gridTemplateColumns:"1fr 1fr 1fr 100px 100px"},children:[jsxRuntimeExports.jsx("div",{className:"cell",style:{color:"#fff",fontWeight:"bold"},children:nt.owner}),jsxRuntimeExports.jsx("div",{className:"cell",style:{color:nt.name.startsWith("R_")?"var(--blue)":"#ccc"},children:nt.name}),jsxRuntimeExports.jsx("div",{className:"cell",style:{color:"#888"},children:nt.stopDate}),jsxRuntimeExports.jsxs("div",{className:"cell",style:{color:"var(--red)",fontWeight:"bold"},children:[nt.daysInactive," JOURS"]}),jsxRuntimeExports.jsx("div",{className:"cell c-center",children:jsxRuntimeExports.jsx("button",{className:"btn-ghost",style:{padding:"2px 5px",fontSize:"9px"},onClick:()=>tt(nt.ids),children:"COPIER IDs"})})]},it))]}),jsxRuntimeExports.jsx("div",{style:{textAlign:"right",marginTop:"15px"},children:jsxRuntimeExports.jsx("button",{className:"btn-ghost",onClick:e,style:{width:"auto",padding:"5px 15px"},children:"CLOSE"})})]})})},TargetModal=({isOpen:o,onClose:e,targetWallet:a})=>{const[_,b]=reactExports.useState(!1),[_e,et]=reactExports.useState("assets"),[tt,nt]=reactExports.useState({buildings:[],divisions:[],tokens:[],ingame:[]});reactExports.useEffect(()=>{o&&a&&it()},[o,a]);const it=async()=>{b(!0);try{const lt=await fetchSmartCluster("/v1/chain/get_table_rows",{json:!0,code:"dovutilstake",scope:"dovutilstake",table:"buildings",index_position:2,key_type:"i64",lower_bound:a,upper_bound:a,limit:100}),ut=await fetchSmartCluster("/v1/chain/get_table_rows",{json:!0,code:"dovpvecontrl",scope:"dovpvecontrl",table:"sdivisions",index_position:2,key_type:"i64",lower_bound:a,upper_bound:a,limit:100}),ft=await fetchSmartCluster("/v1/chain/get_currency_balance",{code:"eosio.token",account:a,symbol:"WAX"}),mt=await fetchSmartCluster("/v1/chain/get_currency_balance",{code:"dovvaultfort",account:a});let ht={rows:[]};try{ht=await fetchSmartCluster("/v1/chain/get_table_rows",{json:!0,code:"dawnfvictory",scope:a,table:"balances",limit:100})}catch{}nt({buildings:lt.rows||[],divisions:ut.rows||[],tokens:[...ft||[],...mt||[]],ingame:ht.rows||[]})}catch(lt){console.error("Target Scan Error",lt)}b(!1)};if(!o)return null;const ot=lt=>{for(let ut in TEMPLATES)if(TEMPLATES[ut][lt])return TEMPLATES[ut][lt].name;return`TPL #${lt}`},st=(lt,ut)=>{const ft=Date.now()/1e3;if(ut==="build"){let mt=parseFloat(lt.last_claim)+parseFloat(lt.delay);return ft<mt?jsxRuntimeExports.jsx("span",{style:{color:"var(--green)"},children:"ACTIVE"}):jsxRuntimeExports.jsx("span",{style:{color:"var(--red)"},children:"INACTIVE"})}if(ut==="div")return parseFloat(lt.unlock_time||lt.end_time||0)>ft?jsxRuntimeExports.jsx("span",{style:{color:"var(--green)"},children:"FIGHTING"}):jsxRuntimeExports.jsx("span",{style:{color:"#666"},children:"IDLE"})},at=lt=>{let ut=parseInt(lt.zone_id||lt.zoneID);return SMART_ZONES_BIBLE[ut]?SMART_ZONES_BIBLE[ut].name:`Unknown Zone (${ut})`};return jsxRuntimeExports.jsx("div",{className:"modal-overlay",style:{display:"flex",alignItems:"center",justifyContent:"center"},onClick:lt=>{lt.target.className.includes("modal-overlay")&&e()},children:jsxRuntimeExports.jsxs("div",{className:"modal-box",style:{width:"900px",height:"80vh",display:"flex",flexDirection:"column"},children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid #333",paddingBottom:"15px",marginBottom:"15px"},children:[jsxRuntimeExports.jsxs("h2",{style:{margin:0,color:"#fff"},children:["TARGET INSPECTOR: ",jsxRuntimeExports.jsx("span",{style:{color:"var(--blue)"},children:a})]}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:"10px"},children:[jsxRuntimeExports.jsx("button",{className:`chart-btn ${_e==="assets"?"active":""}`,onClick:()=>et("assets"),children:"ASSETS (STAKED)"}),jsxRuntimeExports.jsx("button",{className:`chart-btn ${_e==="tokens"?"active":""}`,onClick:()=>et("tokens"),children:"WALLET & TOKENS"})]})]}),jsxRuntimeExports.jsx("div",{style:{flex:1,overflowY:"auto"},children:_?jsxRuntimeExports.jsx("div",{style:{textAlign:"center",padding:"50px",color:"#fff"},children:"SCANNING TARGET ON-CHAIN..."}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[_e==="assets"&&jsxRuntimeExports.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[jsxRuntimeExports.jsxs("div",{className:"data-panel",children:[jsxRuntimeExports.jsx("div",{className:"dp-head",children:jsxRuntimeExports.jsxs("span",{className:"dp-title",style:{color:"var(--blue)"},children:["DIVISIONS STAKED (",tt.divisions.length,")"]})}),jsxRuntimeExports.jsxs("div",{className:"dt-grid dt-header",style:{gridTemplateColumns:"1fr 80px 100px"},children:[jsxRuntimeExports.jsx("div",{className:"cell",children:"ZONE"}),jsxRuntimeExports.jsx("div",{className:"cell",children:"ASSETS"}),jsxRuntimeExports.jsx("div",{className:"cell c-right",children:"STATUS"})]}),tt.divisions.map((lt,ut)=>jsxRuntimeExports.jsxs("div",{className:"dt-grid dt-row",style:{gridTemplateColumns:"1fr 80px 100px"},children:[jsxRuntimeExports.jsx("div",{className:"cell",style:{color:"#fff"},children:at(lt)}),jsxRuntimeExports.jsxs("div",{className:"cell",children:[lt.asset_ids?lt.asset_ids.length:0," Cards"]}),jsxRuntimeExports.jsx("div",{className:"cell c-right",children:st(lt,"div")})]},ut)),tt.divisions.length===0&&jsxRuntimeExports.jsx("div",{style:{padding:"10px",color:"#666"},children:"No divisions staked."})]}),jsxRuntimeExports.jsxs("div",{className:"data-panel",children:[jsxRuntimeExports.jsx("div",{className:"dp-head",children:jsxRuntimeExports.jsxs("span",{className:"dp-title",style:{color:"var(--green)"},children:["BUILDINGS STAKED (",tt.buildings.length,")"]})}),jsxRuntimeExports.jsxs("div",{className:"dt-grid dt-header",style:{gridTemplateColumns:"1fr 80px 100px"},children:[jsxRuntimeExports.jsx("div",{className:"cell",children:"TEMPLATE"}),jsxRuntimeExports.jsx("div",{className:"cell",children:"STACK"}),jsxRuntimeExports.jsx("div",{className:"cell c-right",children:"STATUS"})]}),tt.buildings.map((lt,ut)=>jsxRuntimeExports.jsxs("div",{className:"dt-grid dt-row",style:{gridTemplateColumns:"1fr 80px 100px"},children:[jsxRuntimeExports.jsx("div",{className:"cell",style:{color:"#ccc"},children:ot(lt.template_id)}),jsxRuntimeExports.jsxs("div",{className:"cell",children:[lt.asset_ids?lt.asset_ids.length:1," Units"]}),jsxRuntimeExports.jsx("div",{className:"cell c-right",children:st(lt,"build")})]},ut)),tt.buildings.length===0&&jsxRuntimeExports.jsx("div",{style:{padding:"10px",color:"#666"},children:"No buildings staked."})]})]}),_e==="tokens"&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"data-panel",style:{marginBottom:"20px"},children:[jsxRuntimeExports.jsx("div",{className:"dp-head",children:jsxRuntimeExports.jsx("span",{className:"dp-title",style:{color:"var(--orange)"},children:"WALLET HOLDINGS (LIQUID)"})}),jsxRuntimeExports.jsx("div",{style:{padding:"15px",display:"flex",flexWrap:"wrap",gap:"10px"},children:tt.tokens.length>0?tt.tokens.map((lt,ut)=>jsxRuntimeExports.jsx("div",{style:{background:"#000",padding:"10px",border:"1px solid #333",borderRadius:"4px",minWidth:"120px",textAlign:"center"},children:jsxRuntimeExports.jsx("div",{style:{color:"#fff",fontWeight:"bold",fontSize:"14px"},children:lt})},ut)):jsxRuntimeExports.jsx("div",{style:{color:"#666"},children:"No tokens found."})})]}),jsxRuntimeExports.jsxs("div",{className:"data-panel",children:[jsxRuntimeExports.jsx("div",{className:"dp-head",children:jsxRuntimeExports.jsx("span",{className:"dp-title",style:{color:"var(--purple)"},children:"INGAME BALANCES (INTERNAL)"})}),jsxRuntimeExports.jsx("div",{style:{padding:"15px"},children:tt.ingame.length>0?jsxRuntimeExports.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"10px"},children:tt.ingame.map((lt,ut)=>jsxRuntimeExports.jsx("div",{style:{background:"#111",padding:"5px 10px",borderRadius:"4px",border:"1px solid #333",color:"#ccc"},children:JSON.stringify(lt).replace(/["{}]/g,"").replace(/:/g,": ")},ut))}):jsxRuntimeExports.jsx("div",{style:{color:"#666"},children:"No internal game balance found."})})]})]})]})}),jsxRuntimeExports.jsx("div",{style:{textAlign:"right",marginTop:"15px",paddingTop:"15px",borderTop:"1px solid #333"},children:jsxRuntimeExports.jsx("button",{className:"btn-ghost",onClick:e,style:{width:"auto",padding:"5px 20px"},children:"CLOSE INSPECTOR"})})]})})};function App(){const[o,e]=reactExports.useState("global"),[a,_]=reactExports.useState(0),[b,_e]=reactExports.useState([]),[et,tt]=reactExports.useState(new Set),[nt,it]=reactExports.useState([]),[ot,st]=reactExports.useState(null),[at,lt]=reactExports.useState(!1),[ut,ft]=reactExports.useState(!1),[mt,ht]=reactExports.useState(!1),[vt,Et]=reactExports.useState(null),At=jt=>{const Vt=new Date().toLocaleTimeString();_e(Nt=>[`[${Vt}] ${jt}`,...Nt].slice(0,50))},Ct=jt=>{tt(Vt=>{const Nt=new Set(Vt);return jt.forEach(kt=>Nt.add(kt)),Nt})},Mt=jt=>{o===jt?_(Vt=>Vt+1):(e(jt),_(0))},Bt=jt=>{Et(jt),ht(!0)},Lt=()=>{const jt=o+a,Vt={addLog:At,registerWallets:Ct};switch(o){case"global":return jsxRuntimeExports.jsx(GlobalView,{...Vt,setInactiveAssets:it},jt);case"zones":return jsxRuntimeExports.jsx(ZonesView,{...Vt,onInspect:Bt},jt);case"eco":return jsxRuntimeExports.jsx(EcoView,{...Vt},jt);case"sim":return jsxRuntimeExports.jsx(SimView,{...Vt},jt);case"sybil":return jsxRuntimeExports.jsx(SybilView,{...Vt,candidateList:Array.from(et)},jt);case"stats":return jsxRuntimeExports.jsx(StatsView,{...Vt},jt);case"xray":return jsxRuntimeExports.jsx(XrayView,{...Vt},jt);default:return jsxRuntimeExports.jsx(GlobalView,{...Vt},jt)}};return jsxRuntimeExports.jsxs("div",{className:"layout",children:[jsxRuntimeExports.jsx(Sidebar,{currentView:o,setView:e,onScan:Mt,onOpenDataRoom:()=>lt(!0),onOpenAudit:()=>ft(!0),onInspect:jt=>Bt(jt),systemLogs:b,dbSize:et.size,currentUser:ot,onLoginCheck:st}),jsxRuntimeExports.jsx("main",{className:"main-content",children:Lt()}),jsxRuntimeExports.jsx(DataRoomModal,{isOpen:at,onClose:()=>lt(!1)}),jsxRuntimeExports.jsx(AuditModal,{isOpen:ut,onClose:()=>ft(!1),data:nt}),jsxRuntimeExports.jsx(TargetModal,{isOpen:mt,onClose:()=>ht(!1),targetWallet:vt})]})}client.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(React.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));
